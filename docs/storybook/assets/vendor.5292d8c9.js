var pe=Object.defineProperty,me=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var xe=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var fe=(st,at,Y)=>at in st?pe(st,at,{enumerable:!0,configurable:!0,writable:!0,value:Y}):st[at]=Y,ce=(st,at)=>{for(var Y in at||(at={}))xe.call(at,Y)&&fe(st,Y,at[Y]);if(ue)for(var Y of ue(at))Te.call(at,Y)&&fe(st,Y,at[Y]);return st},de=(st,at)=>me(st,ye(at));var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(st){return st&&st.__esModule&&Object.prototype.hasOwnProperty.call(st,"default")?st.default:st}function getAugmentedNamespace(st){if(st.__esModule)return st;var at=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(st).forEach(function(Y){var tt=Object.getOwnPropertyDescriptor(st,Y);Object.defineProperty(at,Y,tt.get?tt:{enumerable:!0,get:function(){return st[Y]}})}),at}function commonjsRequire(st){throw new Error('Could not dynamically require "'+st+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var win;typeof window!="undefined"?win=window:typeof commonjsGlobal!="undefined"?win=commonjsGlobal:typeof self!="undefined"?win=self:win={};var window_1=win,cjs={},browser=deprecate;function deprecate(st,at){if(config("noDeprecation"))return st;var Y=!1;function tt(){if(!Y){if(config("throwDeprecation"))throw new Error(at);config("traceDeprecation")?console.trace(at):console.warn(at),Y=!0}return st.apply(this,arguments)}return tt}function config(st){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var at=commonjsGlobal.localStorage[st];return at==null?!1:String(at).toLowerCase()==="true"}function dedent(st){for(var at=[],Y=1;Y<arguments.length;Y++)at[Y-1]=arguments[Y];var tt=Array.from(typeof st=="string"?[st]:st);tt[tt.length-1]=tt[tt.length-1].replace(/\r?\n([\t ]*)$/,"");var y=tt.reduce(function(O,G){var D=G.match(/\n([\t ]+|(?!\s).)/g);return D?O.concat(D.map(function(F){var B,W;return(W=(B=F.match(/[\t ]/g))===null||B===void 0?void 0:B.length)!==null&&W!==void 0?W:0})):O},[]);if(y.length){var R=new RegExp(`
[	 ]{`+Math.min.apply(Math,y)+"}","g");tt=tt.map(function(O){return O.replace(R,`
`)})}tt[0]=tt[0].replace(/^\r?\n/,"");var j=tt[0];return at.forEach(function(O,G){var D=j.match(/(?:^|\n)( *)$/),F=D?D[1]:"",B=O;typeof O=="string"&&O.includes(`
`)&&(B=String(O).split(`
`).map(function(W,U){return U===0?W:""+F+W}).join(`
`)),j+=B+tt[G+1]}),j}var LOGLEVEL=window_1.LOGLEVEL,console$1=window_1.console,levels={trace:1,debug:2,info:3,warn:4,error:5,silent:10},currentLogLevelString=LOGLEVEL,currentLogLevelNumber=levels[currentLogLevelString]||levels.info,logger={trace:function(at){for(var Y=arguments.length,tt=new Array(Y>1?Y-1:0),y=1;y<Y;y++)tt[y-1]=arguments[y];return currentLogLevelNumber<=levels.trace&&console$1.trace.apply(console$1,[at].concat(tt))},debug:function(at){for(var Y=arguments.length,tt=new Array(Y>1?Y-1:0),y=1;y<Y;y++)tt[y-1]=arguments[y];return currentLogLevelNumber<=levels.debug&&console$1.debug.apply(console$1,[at].concat(tt))},info:function(at){for(var Y=arguments.length,tt=new Array(Y>1?Y-1:0),y=1;y<Y;y++)tt[y-1]=arguments[y];return currentLogLevelNumber<=levels.info&&console$1.info.apply(console$1,[at].concat(tt))},warn:function(at){for(var Y=arguments.length,tt=new Array(Y>1?Y-1:0),y=1;y<Y;y++)tt[y-1]=arguments[y];return currentLogLevelNumber<=levels.warn&&console$1.warn.apply(console$1,[at].concat(tt))},error:function(at){for(var Y=arguments.length,tt=new Array(Y>1?Y-1:0),y=1;y<Y;y++)tt[y-1]=arguments[y];return currentLogLevelNumber<=levels.error&&console$1.error.apply(console$1,[at].concat(tt))},log:function(at){for(var Y=arguments.length,tt=new Array(Y>1?Y-1:0),y=1;y<Y;y++)tt[y-1]=arguments[y];return currentLogLevelNumber<levels.silent&&console$1.log.apply(console$1,[at].concat(tt))}},logged=new Set,once=function(at){return function(Y){if(!logged.has(Y)){logged.add(Y);for(var tt=arguments.length,y=new Array(tt>1?tt-1:0),R=1;R<tt;R++)y[R-1]=arguments[R];return logger[at].apply(logger,[Y].concat(y))}}};once.clear=function(){return logged.clear()};once.trace=once("trace");once.debug=once("debug");once.info=once("info");once.warn=once("warn");once.error=once("error");once.log=once("log");var pretty=function(at){return function(){for(var Y=[],tt=arguments.length,y=new Array(tt),R=0;R<tt;R++)y[R]=arguments[R];if(y.length){var j=/<span\s+style=(['"])([^'"]*)\1\s*>/gi,O=/<\/span>/gi,G;for(Y.push(y[0].replace(j,"%c").replace(O,"%c"));G=j.exec(y[0]);)Y.push(G[2]),Y.push("");for(var D=1;D<y.length;D++)Y.push(y[D])}logger[at].apply(logger,Y)}};pretty.trace=pretty("trace");pretty.debug=pretty("debug");pretty.info=pretty("info");pretty.warn=pretty("warn");pretty.error=pretty("error");var dist={};function arrayReduce$1(st,at,Y,tt){var y=-1,R=st==null?0:st.length;for(tt&&R&&(Y=st[++y]);++y<R;)Y=at(Y,st[y],y,st);return Y}var _arrayReduce=arrayReduce$1;function basePropertyOf$1(st){return function(at){return st==null?void 0:st[at]}}var _basePropertyOf=basePropertyOf$1,basePropertyOf=_basePropertyOf,deburredLetters={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},deburrLetter$1=basePropertyOf(deburredLetters),_deburrLetter=deburrLetter$1,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$8=freeGlobal||freeSelf||Function("return this")(),_root=root$8,root$7=_root,Symbol$6=root$7.Symbol,_Symbol=Symbol$6;function arrayMap$2(st,at){for(var Y=-1,tt=st==null?0:st.length,y=Array(tt);++Y<tt;)y[Y]=at(st[Y],Y,st);return y}var _arrayMap=arrayMap$2,isArray$d=Array.isArray,isArray_1=isArray$d,Symbol$5=_Symbol,objectProto$e=Object.prototype,hasOwnProperty$b=objectProto$e.hasOwnProperty,nativeObjectToString$1=objectProto$e.toString,symToStringTag$1=Symbol$5?Symbol$5.toStringTag:void 0;function getRawTag$1(st){var at=hasOwnProperty$b.call(st,symToStringTag$1),Y=st[symToStringTag$1];try{st[symToStringTag$1]=void 0;var tt=!0}catch{}var y=nativeObjectToString$1.call(st);return tt&&(at?st[symToStringTag$1]=Y:delete st[symToStringTag$1]),y}var _getRawTag=getRawTag$1,objectProto$d=Object.prototype,nativeObjectToString=objectProto$d.toString;function objectToString$2(st){return nativeObjectToString.call(st)}var _objectToString=objectToString$2,Symbol$4=_Symbol,getRawTag=_getRawTag,objectToString$1=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$4?Symbol$4.toStringTag:void 0;function baseGetTag$6(st){return st==null?st===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(st)?getRawTag(st):objectToString$1(st)}var _baseGetTag=baseGetTag$6;function isObjectLike$6(st){return st!=null&&typeof st=="object"}var isObjectLike_1=isObjectLike$6,baseGetTag$5=_baseGetTag,isObjectLike$5=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(st){return typeof st=="symbol"||isObjectLike$5(st)&&baseGetTag$5(st)==symbolTag$1}var isSymbol_1=isSymbol$6,Symbol$3=_Symbol,arrayMap$1=_arrayMap,isArray$c=isArray_1,isSymbol$5=isSymbol_1,INFINITY$1=1/0,symbolProto$1=Symbol$3?Symbol$3.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(st){if(typeof st=="string")return st;if(isArray$c(st))return arrayMap$1(st,baseToString$1)+"";if(isSymbol$5(st))return symbolToString?symbolToString.call(st):"";var at=st+"";return at=="0"&&1/st==-INFINITY$1?"-0":at}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$5(st){return st==null?"":baseToString(st)}var toString_1=toString$5,deburrLetter=_deburrLetter,toString$4=toString_1,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsCombo$2="["+rsComboRange$3+"]",reComboMark=RegExp(rsCombo$2,"g");function deburr$1(st){return st=toString$4(st),st&&st.replace(reLatin,deburrLetter).replace(reComboMark,"")}var deburr_1=deburr$1,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords$1(st){return st.match(reAsciiWord)||[]}var _asciiWords=asciiWords$1,reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord$1(st){return reHasUnicodeWord.test(st)}var _hasUnicodeWord=hasUnicodeWord$1,rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange$2="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1="['\u2019]",rsBreak="["+rsBreakRange+"]",rsCombo$1="["+rsComboRange$2+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange$2+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$1+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$2+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ$2="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos$1+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos$1+"(?:D|LL|M|RE|S|T|VE))?",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$2+"]?",rsOptJoin$1="(?:"+rsZWJ$2+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsEmoji="(?:"+[rsDingbat,rsRegional$1,rsSurrPair$1].join("|")+")"+rsSeq$1,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords$1(st){return st.match(reUnicodeWord)||[]}var _unicodeWords=unicodeWords$1,asciiWords=_asciiWords,hasUnicodeWord=_hasUnicodeWord,toString$3=toString_1,unicodeWords=_unicodeWords;function words$1(st,at,Y){return st=toString$3(st),at=Y?void 0:at,at===void 0?hasUnicodeWord(st)?unicodeWords(st):asciiWords(st):st.match(at)||[]}var words_1=words$1,arrayReduce=_arrayReduce,deburr=deburr_1,words=words_1,rsApos="['\u2019]",reApos=RegExp(rsApos,"g");function createCompounder$1(st){return function(at){return arrayReduce(words(deburr(at).replace(reApos,"")),st,"")}}var _createCompounder=createCompounder$1;function baseSlice$1(st,at,Y){var tt=-1,y=st.length;at<0&&(at=-at>y?0:y+at),Y=Y>y?y:Y,Y<0&&(Y+=y),y=at>Y?0:Y-at>>>0,at>>>=0;for(var R=Array(y);++tt<y;)R[tt]=st[tt+at];return R}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(st,at,Y){var tt=st.length;return Y=Y===void 0?tt:Y,!at&&Y>=tt?st:baseSlice(st,at,Y)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(st){return reHasUnicode.test(st)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(st){return st.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(st){return st.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(st){return hasUnicode$1(st)?unicodeToArray(st):asciiToArray(st)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$2=toString_1;function createCaseFirst$1(st){return function(at){at=toString$2(at);var Y=hasUnicode(at)?stringToArray(at):void 0,tt=Y?Y[0]:at.charAt(0),y=Y?castSlice(Y,1).join(""):at.slice(1);return tt[st]()+y}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst$1=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst$1,createCompounder=_createCompounder,upperFirst=upperFirst_1,startCase=createCompounder(function(st,at,Y){return st+(Y?" ":"")+upperFirst(at)}),startCase_1=startCase,story={},SBType=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"}),require$$0$4=getAugmentedNamespace(SBType);(function(st){Object.defineProperty(st,"__esModule",{value:!0});var at=require$$0$4;Object.keys(at).forEach(function(Y){Y==="default"||Y==="__esModule"||Object.defineProperty(st,Y,{enumerable:!0,get:function(){return at[Y]}})})})(story);(function(st){Object.defineProperty(st,"__esModule",{value:!0});var at={sanitize:!0,toId:!0,storyNameFromExport:!0,isExportStory:!0,parseKind:!0};st.isExportStory=J,st.parseKind=st.storyNameFromExport=st.toId=st.sanitize=void 0;var Y=y(startCase_1),tt=story;Object.keys(tt).forEach(function(Q){Q==="default"||Q==="__esModule"||Object.prototype.hasOwnProperty.call(at,Q)||Object.defineProperty(st,Q,{enumerable:!0,get:function(){return tt[Q]}})});function y(Q){return Q&&Q.__esModule?Q:{default:Q}}function R(Q,q){return F(Q)||D(Q,q)||O(Q,q)||j()}function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(Q,q){if(!!Q){if(typeof Q=="string")return G(Q,q);var et=Object.prototype.toString.call(Q).slice(8,-1);if(et==="Object"&&Q.constructor&&(et=Q.constructor.name),et==="Map"||et==="Set")return Array.from(et);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return G(Q,q)}}function G(Q,q){(q==null||q>Q.length)&&(q=Q.length);for(var et=0,rt=new Array(q);et<q;et++)rt[et]=Q[et];return rt}function D(Q,q){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(Q)))){var et=[],rt=!0,nt=!1,ot=void 0;try{for(var ht=Q[Symbol.iterator](),ut;!(rt=(ut=ht.next()).done)&&(et.push(ut.value),!(q&&et.length===q));rt=!0);}catch(ct){nt=!0,ot=ct}finally{try{!rt&&ht.return!=null&&ht.return()}finally{if(nt)throw ot}}return et}}function F(Q){if(Array.isArray(Q))return Q}var B=function(q){return q.toLowerCase().replace(/[ ’–—―′¿'`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")};st.sanitize=B;var W=function(q,et){var rt=B(q);if(rt==="")throw new Error("Invalid ".concat(et," '").concat(q,"', must include alphanumeric characters"));return rt},U=function(q,et){return"".concat(W(q,"kind")).concat(et?"--".concat(W(et,"name")):"")};st.toId=U;var X=function(q){return(0,Y.default)(q)};st.storyNameFromExport=X;function K(Q,q){return Array.isArray(q)?q.includes(Q):Q.match(q)}function J(Q,q){var et=q.includeStories,rt=q.excludeStories;return Q!=="__esModule"&&(!et||K(Q,et))&&(!rt||!K(Q,rt))}var Z=function(q,et){var rt=et.rootSeparator,nt=et.groupSeparator,ot=q.split(rt,2),ht=R(ot,2),ut=ht[0],ct=ht[1],ft=(ct||q).split(nt).filter(function(dt){return!!dt});return{root:ct?ut:null,groups:ft}};st.parseKind=Z})(dist);var runtime={exports:{}};(function(st){var at=function(Y){var tt=Object.prototype,y=tt.hasOwnProperty,R,j=typeof Symbol=="function"?Symbol:{},O=j.iterator||"@@iterator",G=j.asyncIterator||"@@asyncIterator",D=j.toStringTag||"@@toStringTag";function F(Pt,Rt,mt){return Object.defineProperty(Pt,Rt,{value:mt,enumerable:!0,configurable:!0,writable:!0}),Pt[Rt]}try{F({},"")}catch{F=function(Rt,mt,vt){return Rt[mt]=vt}}function B(Pt,Rt,mt,vt){var xt=Rt&&Rt.prototype instanceof Q?Rt:Q,Tt=Object.create(xt.prototype),Et=new St(vt||[]);return Tt._invoke=ft(Pt,mt,Et),Tt}Y.wrap=B;function W(Pt,Rt,mt){try{return{type:"normal",arg:Pt.call(Rt,mt)}}catch(vt){return{type:"throw",arg:vt}}}var U="suspendedStart",X="suspendedYield",K="executing",J="completed",Z={};function Q(){}function q(){}function et(){}var rt={};F(rt,O,function(){return this});var nt=Object.getPrototypeOf,ot=nt&&nt(nt(At([])));ot&&ot!==tt&&y.call(ot,O)&&(rt=ot);var ht=et.prototype=Q.prototype=Object.create(rt);q.prototype=et,F(ht,"constructor",et),F(et,"constructor",q),q.displayName=F(et,D,"GeneratorFunction");function ut(Pt){["next","throw","return"].forEach(function(Rt){F(Pt,Rt,function(mt){return this._invoke(Rt,mt)})})}Y.isGeneratorFunction=function(Pt){var Rt=typeof Pt=="function"&&Pt.constructor;return Rt?Rt===q||(Rt.displayName||Rt.name)==="GeneratorFunction":!1},Y.mark=function(Pt){return Object.setPrototypeOf?Object.setPrototypeOf(Pt,et):(Pt.__proto__=et,F(Pt,D,"GeneratorFunction")),Pt.prototype=Object.create(ht),Pt},Y.awrap=function(Pt){return{__await:Pt}};function ct(Pt,Rt){function mt(Tt,Et,Ot,Mt){var Ft=W(Pt[Tt],Pt,Et);if(Ft.type==="throw")Mt(Ft.arg);else{var It=Ft.arg,Dt=It.value;return Dt&&typeof Dt=="object"&&y.call(Dt,"__await")?Rt.resolve(Dt.__await).then(function(bt){mt("next",bt,Ot,Mt)},function(bt){mt("throw",bt,Ot,Mt)}):Rt.resolve(Dt).then(function(bt){It.value=bt,Ot(It)},function(bt){return mt("throw",bt,Ot,Mt)})}}var vt;function xt(Tt,Et){function Ot(){return new Rt(function(Mt,Ft){mt(Tt,Et,Mt,Ft)})}return vt=vt?vt.then(Ot,Ot):Ot()}this._invoke=xt}ut(ct.prototype),F(ct.prototype,G,function(){return this}),Y.AsyncIterator=ct,Y.async=function(Pt,Rt,mt,vt,xt){xt===void 0&&(xt=Promise);var Tt=new ct(B(Pt,Rt,mt,vt),xt);return Y.isGeneratorFunction(Rt)?Tt:Tt.next().then(function(Et){return Et.done?Et.value:Tt.next()})};function ft(Pt,Rt,mt){var vt=U;return function(Tt,Et){if(vt===K)throw new Error("Generator is already running");if(vt===J){if(Tt==="throw")throw Et;return Ct()}for(mt.method=Tt,mt.arg=Et;;){var Ot=mt.delegate;if(Ot){var Mt=dt(Ot,mt);if(Mt){if(Mt===Z)continue;return Mt}}if(mt.method==="next")mt.sent=mt._sent=mt.arg;else if(mt.method==="throw"){if(vt===U)throw vt=J,mt.arg;mt.dispatchException(mt.arg)}else mt.method==="return"&&mt.abrupt("return",mt.arg);vt=K;var Ft=W(Pt,Rt,mt);if(Ft.type==="normal"){if(vt=mt.done?J:X,Ft.arg===Z)continue;return{value:Ft.arg,done:mt.done}}else Ft.type==="throw"&&(vt=J,mt.method="throw",mt.arg=Ft.arg)}}}function dt(Pt,Rt){var mt=Pt.iterator[Rt.method];if(mt===R){if(Rt.delegate=null,Rt.method==="throw"){if(Pt.iterator.return&&(Rt.method="return",Rt.arg=R,dt(Pt,Rt),Rt.method==="throw"))return Z;Rt.method="throw",Rt.arg=new TypeError("The iterator does not provide a 'throw' method")}return Z}var vt=W(mt,Pt.iterator,Rt.arg);if(vt.type==="throw")return Rt.method="throw",Rt.arg=vt.arg,Rt.delegate=null,Z;var xt=vt.arg;if(!xt)return Rt.method="throw",Rt.arg=new TypeError("iterator result is not an object"),Rt.delegate=null,Z;if(xt.done)Rt[Pt.resultName]=xt.value,Rt.next=Pt.nextLoc,Rt.method!=="return"&&(Rt.method="next",Rt.arg=R);else return xt;return Rt.delegate=null,Z}ut(ht),F(ht,D,"Generator"),F(ht,O,function(){return this}),F(ht,"toString",function(){return"[object Generator]"});function pt(Pt){var Rt={tryLoc:Pt[0]};1 in Pt&&(Rt.catchLoc=Pt[1]),2 in Pt&&(Rt.finallyLoc=Pt[2],Rt.afterLoc=Pt[3]),this.tryEntries.push(Rt)}function yt(Pt){var Rt=Pt.completion||{};Rt.type="normal",delete Rt.arg,Pt.completion=Rt}function St(Pt){this.tryEntries=[{tryLoc:"root"}],Pt.forEach(pt,this),this.reset(!0)}Y.keys=function(Pt){var Rt=[];for(var mt in Pt)Rt.push(mt);return Rt.reverse(),function vt(){for(;Rt.length;){var xt=Rt.pop();if(xt in Pt)return vt.value=xt,vt.done=!1,vt}return vt.done=!0,vt}};function At(Pt){if(Pt){var Rt=Pt[O];if(Rt)return Rt.call(Pt);if(typeof Pt.next=="function")return Pt;if(!isNaN(Pt.length)){var mt=-1,vt=function xt(){for(;++mt<Pt.length;)if(y.call(Pt,mt))return xt.value=Pt[mt],xt.done=!1,xt;return xt.value=R,xt.done=!0,xt};return vt.next=vt}}return{next:Ct}}Y.values=At;function Ct(){return{value:R,done:!0}}return St.prototype={constructor:St,reset:function(Pt){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(yt),!Pt)for(var Rt in this)Rt.charAt(0)==="t"&&y.call(this,Rt)&&!isNaN(+Rt.slice(1))&&(this[Rt]=R)},stop:function(){this.done=!0;var Pt=this.tryEntries[0],Rt=Pt.completion;if(Rt.type==="throw")throw Rt.arg;return this.rval},dispatchException:function(Pt){if(this.done)throw Pt;var Rt=this;function mt(Mt,Ft){return Tt.type="throw",Tt.arg=Pt,Rt.next=Mt,Ft&&(Rt.method="next",Rt.arg=R),!!Ft}for(var vt=this.tryEntries.length-1;vt>=0;--vt){var xt=this.tryEntries[vt],Tt=xt.completion;if(xt.tryLoc==="root")return mt("end");if(xt.tryLoc<=this.prev){var Et=y.call(xt,"catchLoc"),Ot=y.call(xt,"finallyLoc");if(Et&&Ot){if(this.prev<xt.catchLoc)return mt(xt.catchLoc,!0);if(this.prev<xt.finallyLoc)return mt(xt.finallyLoc)}else if(Et){if(this.prev<xt.catchLoc)return mt(xt.catchLoc,!0)}else if(Ot){if(this.prev<xt.finallyLoc)return mt(xt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Pt,Rt){for(var mt=this.tryEntries.length-1;mt>=0;--mt){var vt=this.tryEntries[mt];if(vt.tryLoc<=this.prev&&y.call(vt,"finallyLoc")&&this.prev<vt.finallyLoc){var xt=vt;break}}xt&&(Pt==="break"||Pt==="continue")&&xt.tryLoc<=Rt&&Rt<=xt.finallyLoc&&(xt=null);var Tt=xt?xt.completion:{};return Tt.type=Pt,Tt.arg=Rt,xt?(this.method="next",this.next=xt.finallyLoc,Z):this.complete(Tt)},complete:function(Pt,Rt){if(Pt.type==="throw")throw Pt.arg;return Pt.type==="break"||Pt.type==="continue"?this.next=Pt.arg:Pt.type==="return"?(this.rval=this.arg=Pt.arg,this.method="return",this.next="end"):Pt.type==="normal"&&Rt&&(this.next=Rt),Z},finish:function(Pt){for(var Rt=this.tryEntries.length-1;Rt>=0;--Rt){var mt=this.tryEntries[Rt];if(mt.finallyLoc===Pt)return this.complete(mt.completion,mt.afterLoc),yt(mt),Z}},catch:function(Pt){for(var Rt=this.tryEntries.length-1;Rt>=0;--Rt){var mt=this.tryEntries[Rt];if(mt.tryLoc===Pt){var vt=mt.completion;if(vt.type==="throw"){var xt=vt.arg;yt(mt)}return xt}}throw new Error("illegal catch attempt")},delegateYield:function(Pt,Rt,mt){return this.delegate={iterator:At(Pt),resultName:Rt,nextLoc:mt},this.method==="next"&&(this.arg=R),Z}},Y}(st.exports);try{regeneratorRuntime=at}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=at:Function("r","regeneratorRuntime = r")(at)}})(runtime);var memoizerific={exports:{}};(function(st,at){(function(Y){st.exports=Y()})(function(){return function Y(tt,y,R){function j(D,F){if(!y[D]){if(!tt[D]){var B=typeof commonjsRequire=="function"&&commonjsRequire;if(!F&&B)return B(D,!0);if(O)return O(D,!0);var W=new Error("Cannot find module '"+D+"'");throw W.code="MODULE_NOT_FOUND",W}var U=y[D]={exports:{}};tt[D][0].call(U.exports,function(X){var K=tt[D][1][X];return j(K||X)},U,U.exports,Y,tt,y,R)}return y[D].exports}for(var O=typeof commonjsRequire=="function"&&commonjsRequire,G=0;G<R.length;G++)j(R[G]);return j}({1:[function(Y,tt,y){tt.exports=function(R){if(typeof Map!="function"||R){var j=Y("./similar");return new j}else return new Map}},{"./similar":2}],2:[function(Y,tt,y){function R(){return this.list=[],this.lastItem=void 0,this.size=0,this}R.prototype.get=function(j){var O;if(this.lastItem&&this.isEqual(this.lastItem.key,j))return this.lastItem.val;if(O=this.indexOf(j),O>=0)return this.lastItem=this.list[O],this.list[O].val},R.prototype.set=function(j,O){var G;return this.lastItem&&this.isEqual(this.lastItem.key,j)?(this.lastItem.val=O,this):(G=this.indexOf(j),G>=0?(this.lastItem=this.list[G],this.list[G].val=O,this):(this.lastItem={key:j,val:O},this.list.push(this.lastItem),this.size++,this))},R.prototype.delete=function(j){var O;if(this.lastItem&&this.isEqual(this.lastItem.key,j)&&(this.lastItem=void 0),O=this.indexOf(j),O>=0)return this.size--,this.list.splice(O,1)[0]},R.prototype.has=function(j){var O;return this.lastItem&&this.isEqual(this.lastItem.key,j)?!0:(O=this.indexOf(j),O>=0?(this.lastItem=this.list[O],!0):!1)},R.prototype.forEach=function(j,O){var G;for(G=0;G<this.size;G++)j.call(O||this,this.list[G].val,this.list[G].key,this)},R.prototype.indexOf=function(j){var O;for(O=0;O<this.size;O++)if(this.isEqual(this.list[O].key,j))return O;return-1},R.prototype.isEqual=function(j,O){return j===O||j!==j&&O!==O},tt.exports=R},{}],3:[function(Y,tt,y){var R=Y("map-or-similar");tt.exports=function(D){var F=new R(void 0==="true"),B=[];return function(W){var U=function(){var X=F,K,J,Z=arguments.length-1,Q=Array(Z+1),q=!0,et;if((U.numArgs||U.numArgs===0)&&U.numArgs!==Z+1)throw new Error("Memoizerific functions should always be called with the same number of arguments");for(et=0;et<Z;et++){if(Q[et]={cacheItem:X,arg:arguments[et]},X.has(arguments[et])){X=X.get(arguments[et]);continue}q=!1,K=new R(void 0==="true"),X.set(arguments[et],K),X=K}return q&&(X.has(arguments[Z])?J=X.get(arguments[Z]):q=!1),q||(J=W.apply(null,arguments),X.set(arguments[Z],J)),D>0&&(Q[Z]={cacheItem:X,arg:arguments[Z]},q?j(B,Q):B.push(Q),B.length>D&&O(B.shift())),U.wasMemoized=q,U.numArgs=Z+1,J};return U.limit=D,U.wasMemoized=!1,U.cache=F,U.lru=B,U}};function j(D,F){var B=D.length,W=F.length,U,X,K;for(X=0;X<B;X++){for(U=!0,K=0;K<W;K++)if(!G(D[X][K].arg,F[K].arg)){U=!1;break}if(U)break}D.push(D.splice(X,1)[0])}function O(D){var F=D.length,B=D[F-1],W,U;for(B.cacheItem.delete(B.arg),U=F-2;U>=0&&(B=D[U],W=B.cacheItem.get(B.arg),!W||!W.size);U--)B.cacheItem.delete(B.arg)}function G(D,F){return D===F||D!==D&&F!==F}},{"map-or-similar":1}]},{},[3])(3)})})(memoizerific);var memoize$2=memoizerific.exports;function isObject$8(st){var at=typeof st;return st!=null&&(at=="object"||at=="function")}var isObject_1=isObject$8,baseGetTag$4=_baseGetTag,isObject$7=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(st){if(!isObject$7(st))return!1;var at=baseGetTag$4(st);return at==funcTag$1||at==genTag||at==asyncTag||at==proxyTag}var isFunction_1$1=isFunction$3,root$6=_root,coreJsData$1=root$6["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var st=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return st?"Symbol(src)_1."+st:""}();function isMasked$1(st){return!!maskSrcKey&&maskSrcKey in st}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(st){if(st!=null){try{return funcToString$2.call(st)}catch{}try{return st+""}catch{}}return""}var _toSource=toSource$2,isFunction$2=isFunction_1$1,isMasked=_isMasked,isObject$6=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$c=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$a=objectProto$c.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$a).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(st){if(!isObject$6(st)||isMasked(st))return!1;var at=isFunction$2(st)?reIsNative:reIsHostCtor;return at.test(toSource$1(st))}var _baseIsNative=baseIsNative$1;function getValue$1(st,at){return st==null?void 0:st[at]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(st,at){var Y=getValue(st,at);return baseIsNative(Y)?Y:void 0}var _getNative=getNative$7,getNative$6=_getNative,defineProperty$2=function(){try{var st=getNative$6(Object,"defineProperty");return st({},"",{}),st}catch{}}(),_defineProperty$5=defineProperty$2,defineProperty$1=_defineProperty$5;function baseAssignValue$2(st,at,Y){at=="__proto__"&&defineProperty$1?defineProperty$1(st,at,{configurable:!0,enumerable:!0,value:Y,writable:!0}):st[at]=Y}var _baseAssignValue=baseAssignValue$2;function createBaseFor$1(st){return function(at,Y,tt){for(var y=-1,R=Object(at),j=tt(at),O=j.length;O--;){var G=j[st?O:++y];if(Y(R[G],G,R)===!1)break}return at}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1;function baseTimes$1(st,at){for(var Y=-1,tt=Array(st);++Y<st;)tt[Y]=at(Y);return tt}var _baseTimes=baseTimes$1,baseGetTag$3=_baseGetTag,isObjectLike$4=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(st){return isObjectLike$4(st)&&baseGetTag$3(st)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$3=isObjectLike_1,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty,propertyIsEnumerable$1=objectProto$b.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(st){return isObjectLike$3(st)&&hasOwnProperty$9.call(st,"callee")&&!propertyIsEnumerable$1.call(st,"callee")},isArguments_1=isArguments$3,isBuffer$3={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;(function(st,at){var Y=_root,tt=stubFalse_1,y=at&&!at.nodeType&&at,R=y&&!0&&st&&!st.nodeType&&st,j=R&&R.exports===y,O=j?Y.Buffer:void 0,G=O?O.isBuffer:void 0,D=G||tt;st.exports=D})(isBuffer$3,isBuffer$3.exports);var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(st,at){var Y=typeof st;return at=at==null?MAX_SAFE_INTEGER$1:at,!!at&&(Y=="number"||Y!="symbol"&&reIsUint.test(st))&&st>-1&&st%1==0&&st<at}var _isIndex=isIndex$3,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(st){return typeof st=="number"&&st>-1&&st%1==0&&st<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$2=_baseGetTag,isLength$2=isLength_1,isObjectLike$2=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$3="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(st){return isObjectLike$2(st)&&isLength$2(st.length)&&!!typedArrayTags[baseGetTag$2(st)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(st){return function(at){return st(at)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};(function(st,at){var Y=_freeGlobal,tt=at&&!at.nodeType&&at,y=tt&&!0&&st&&!st.nodeType&&st,R=y&&y.exports===tt,j=R&&Y.process,O=function(){try{var G=y&&y.require&&y.require("util").types;return G||j&&j.binding&&j.binding("util")}catch{}}();st.exports=O})(_nodeUtil,_nodeUtil.exports);var baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtil.exports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$b=isArray_1,isBuffer$2=isBuffer$3.exports,isIndex$2=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty;function arrayLikeKeys$2(st,at){var Y=isArray$b(st),tt=!Y&&isArguments$2(st),y=!Y&&!tt&&isBuffer$2(st),R=!Y&&!tt&&!y&&isTypedArray$1(st),j=Y||tt||y||R,O=j?baseTimes(st.length,String):[],G=O.length;for(var D in st)(at||hasOwnProperty$8.call(st,D))&&!(j&&(D=="length"||y&&(D=="offset"||D=="parent")||R&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||isIndex$2(D,G)))&&O.push(D);return O}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$9=Object.prototype;function isPrototype$2(st){var at=st&&st.constructor,Y=typeof at=="function"&&at.prototype||objectProto$9;return st===Y}var _isPrototype=isPrototype$2;function overArg$2(st,at){return function(Y){return st(at(Y))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$1=_isPrototype,nativeKeys=_nativeKeys,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeys$1(st){if(!isPrototype$1(st))return nativeKeys(st);var at=[];for(var Y in Object(st))hasOwnProperty$7.call(st,Y)&&Y!="constructor"&&at.push(Y);return at}var _baseKeys=baseKeys$1,isFunction$1=isFunction_1$1,isLength$1=isLength_1;function isArrayLike$2(st){return st!=null&&isLength$1(st.length)&&!isFunction$1(st)}var isArrayLike_1=isArrayLike$2,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$1=isArrayLike_1;function keys$3(st){return isArrayLike$1(st)?arrayLikeKeys$1(st):baseKeys(st)}var keys_1=keys$3,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$1(st,at){return st&&baseFor(st,at,keys$2)}var _baseForOwn=baseForOwn$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(st,at){return st===at||st!==st&&at!==at}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(st,at){for(var Y=st.length;Y--;)if(eq$2(st[Y][0],at))return Y;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(st){var at=this.__data__,Y=assocIndexOf$3(at,st);if(Y<0)return!1;var tt=at.length-1;return Y==tt?at.pop():splice.call(at,Y,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(st){var at=this.__data__,Y=assocIndexOf$2(at,st);return Y<0?void 0:at[Y][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(st){return assocIndexOf$1(this.__data__,st)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(st,at){var Y=this.__data__,tt=assocIndexOf(Y,st);return tt<0?(++this.size,Y.push([st,at])):Y[tt][1]=at,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(st){var at=-1,Y=st==null?0:st.length;for(this.clear();++at<Y;){var tt=st[at];this.set(tt[0],tt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(st){var at=this.__data__,Y=at.delete(st);return this.size=at.size,Y}var _stackDelete=stackDelete$1;function stackGet$1(st){return this.__data__.get(st)}var _stackGet=stackGet$1;function stackHas$1(st){return this.__data__.has(st)}var _stackHas=stackHas$1,getNative$5=_getNative,root$5=_root,Map$4=getNative$5(root$5,"Map"),_Map=Map$4,getNative$4=_getNative,nativeCreate$4=getNative$4(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(st){var at=this.has(st)&&delete this.__data__[st];return this.size-=at?1:0,at}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function hashGet$1(st){var at=this.__data__;if(nativeCreate$2){var Y=at[st];return Y===HASH_UNDEFINED$2?void 0:Y}return hasOwnProperty$6.call(at,st)?at[st]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function hashHas$1(st){var at=this.__data__;return nativeCreate$1?at[st]!==void 0:hasOwnProperty$5.call(at,st)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(st,at){var Y=this.__data__;return this.size+=this.has(st)?0:1,Y[st]=nativeCreate&&at===void 0?HASH_UNDEFINED$1:at,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(st){var at=-1,Y=st==null?0:st.length;for(this.clear();++at<Y;){var tt=st[at];this.set(tt[0],tt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(st){var at=typeof st;return at=="string"||at=="number"||at=="symbol"||at=="boolean"?st!=="__proto__":st===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(st,at){var Y=st.__data__;return isKeyable(at)?Y[typeof at=="string"?"string":"hash"]:Y.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(st){var at=getMapData$3(this,st).delete(st);return this.size-=at?1:0,at}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(st){return getMapData$2(this,st).get(st)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(st){return getMapData$1(this,st).has(st)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(st,at){var Y=getMapData(this,st),tt=Y.size;return Y.set(st,at),this.size+=Y.size==tt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(st){var at=-1,Y=st==null?0:st.length;for(this.clear();++at<Y;){var tt=st[at];this.set(tt[0],tt[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,ListCache$1=_ListCache,Map$2=_Map,MapCache$2=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(st,at){var Y=this.__data__;if(Y instanceof ListCache$1){var tt=Y.__data__;if(!Map$2||tt.length<LARGE_ARRAY_SIZE-1)return tt.push([st,at]),this.size=++Y.size,this;Y=this.__data__=new MapCache$2(tt)}return Y.set(st,at),this.size=Y.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(st){var at=this.__data__=new ListCache(st);this.size=at.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(st){return this.__data__.set(st,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(st){return this.__data__.has(st)}var _setCacheHas=setCacheHas$1,MapCache$1=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(st){var at=-1,Y=st==null?0:st.length;for(this.__data__=new MapCache$1;++at<Y;)this.add(st[at])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(st,at){for(var Y=-1,tt=st==null?0:st.length;++Y<tt;)if(at(st[Y],Y,st))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(st,at){return st.has(at)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(st,at,Y,tt,y,R){var j=Y&COMPARE_PARTIAL_FLAG$5,O=st.length,G=at.length;if(O!=G&&!(j&&G>O))return!1;var D=R.get(st),F=R.get(at);if(D&&F)return D==at&&F==st;var B=-1,W=!0,U=Y&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(R.set(st,at),R.set(at,st);++B<O;){var X=st[B],K=at[B];if(tt)var J=j?tt(K,X,B,at,st,R):tt(X,K,B,st,at,R);if(J!==void 0){if(J)continue;W=!1;break}if(U){if(!arraySome(at,function(Z,Q){if(!cacheHas(U,Q)&&(X===Z||y(X,Z,Y,tt,R)))return U.push(Q)})){W=!1;break}}else if(!(X===K||y(X,K,Y,tt,R))){W=!1;break}}return R.delete(st),R.delete(at),W}var _equalArrays=equalArrays$2,root$4=_root,Uint8Array$2=root$4.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(st){var at=-1,Y=Array(st.size);return st.forEach(function(tt,y){Y[++at]=[y,tt]}),Y}var _mapToArray=mapToArray$1;function setToArray$1(st){var at=-1,Y=Array(st.size);return st.forEach(function(tt){Y[++at]=tt}),Y}var _setToArray=setToArray$1,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(st,at,Y,tt,y,R,j){switch(Y){case dataViewTag$1:if(st.byteLength!=at.byteLength||st.byteOffset!=at.byteOffset)return!1;st=st.buffer,at=at.buffer;case arrayBufferTag:return!(st.byteLength!=at.byteLength||!R(new Uint8Array$1(st),new Uint8Array$1(at)));case boolTag:case dateTag:case numberTag:return eq$1(+st,+at);case errorTag:return st.name==at.name&&st.message==at.message;case regexpTag:case stringTag:return st==at+"";case mapTag$1:var O=mapToArray;case setTag$1:var G=tt&COMPARE_PARTIAL_FLAG$4;if(O||(O=setToArray),st.size!=at.size&&!G)return!1;var D=j.get(st);if(D)return D==at;tt|=COMPARE_UNORDERED_FLAG$2,j.set(st,at);var F=equalArrays$1(O(st),O(at),tt,y,R,j);return j.delete(st),F;case symbolTag:if(symbolValueOf)return symbolValueOf.call(st)==symbolValueOf.call(at)}return!1}var _equalByTag=equalByTag$1;function arrayPush$3(st,at){for(var Y=-1,tt=at.length,y=st.length;++Y<tt;)st[y+Y]=at[Y];return st}var _arrayPush=arrayPush$3,arrayPush$2=_arrayPush,isArray$a=isArray_1;function baseGetAllKeys$2(st,at,Y){var tt=at(st);return isArray$a(st)?tt:arrayPush$2(tt,Y(st))}var _baseGetAllKeys=baseGetAllKeys$2;function arrayFilter$1(st,at){for(var Y=-1,tt=st==null?0:st.length,y=0,R=[];++Y<tt;){var j=st[Y];at(j,Y,st)&&(R[y++]=j)}return R}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$5=Object.prototype,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$2=nativeGetSymbols$1?function(st){return st==null?[]:(st=Object(st),arrayFilter(nativeGetSymbols$1(st),function(at){return propertyIsEnumerable.call(st,at)}))}:stubArray$1,_getSymbols=getSymbols$2,baseGetAllKeys$1=_baseGetAllKeys,getSymbols$1=_getSymbols,keys$1=keys_1;function getAllKeys$1(st){return baseGetAllKeys$1(st,keys$1,getSymbols$1)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function equalObjects$1(st,at,Y,tt,y,R){var j=Y&COMPARE_PARTIAL_FLAG$3,O=getAllKeys(st),G=O.length,D=getAllKeys(at),F=D.length;if(G!=F&&!j)return!1;for(var B=G;B--;){var W=O[B];if(!(j?W in at:hasOwnProperty$4.call(at,W)))return!1}var U=R.get(st),X=R.get(at);if(U&&X)return U==at&&X==st;var K=!0;R.set(st,at),R.set(at,st);for(var J=j;++B<G;){W=O[B];var Z=st[W],Q=at[W];if(tt)var q=j?tt(Q,Z,W,at,st,R):tt(Z,Q,W,st,at,R);if(!(q===void 0?Z===Q||y(Z,Q,Y,tt,R):q)){K=!1;break}J||(J=W=="constructor")}if(K&&!J){var et=st.constructor,rt=at.constructor;et!=rt&&"constructor"in st&&"constructor"in at&&!(typeof et=="function"&&et instanceof et&&typeof rt=="function"&&rt instanceof rt)&&(K=!1)}return R.delete(st),R.delete(at),K}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$3=_root,DataView$2=getNative$3(root$3,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$2=_root,Promise$2=getNative$2(root$2,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$1=_root,Set$2=getNative$1(root$1,"Set"),_Set=Set$2,getNative=_getNative,root=_root,WeakMap$2=getNative(root,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag$1=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag$1;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(st){var at=baseGetTag$1(st),Y=at==objectTag$2?st.constructor:void 0,tt=Y?toSource(Y):"";if(tt)switch(tt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return at});var _getTag=getTag$1,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$9=isArray_1,isBuffer$1=isBuffer$3.exports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseIsEqualDeep$1(st,at,Y,tt,y,R){var j=isArray$9(st),O=isArray$9(at),G=j?arrayTag:getTag(st),D=O?arrayTag:getTag(at);G=G==argsTag?objectTag$1:G,D=D==argsTag?objectTag$1:D;var F=G==objectTag$1,B=D==objectTag$1,W=G==D;if(W&&isBuffer$1(st)){if(!isBuffer$1(at))return!1;j=!0,F=!1}if(W&&!F)return R||(R=new Stack$1),j||isTypedArray(st)?equalArrays(st,at,Y,tt,y,R):equalByTag(st,at,G,Y,tt,y,R);if(!(Y&COMPARE_PARTIAL_FLAG$2)){var U=F&&hasOwnProperty$3.call(st,"__wrapped__"),X=B&&hasOwnProperty$3.call(at,"__wrapped__");if(U||X){var K=U?st.value():st,J=X?at.value():at;return R||(R=new Stack$1),y(K,J,Y,tt,R)}}return W?(R||(R=new Stack$1),equalObjects(st,at,Y,tt,y,R)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$1=isObjectLike_1;function baseIsEqual$2(st,at,Y,tt,y){return st===at?!0:st==null||at==null||!isObjectLike$1(st)&&!isObjectLike$1(at)?st!==st&&at!==at:baseIsEqualDeep(st,at,Y,tt,baseIsEqual$2,y)}var _baseIsEqual=baseIsEqual$2,Stack=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(st,at,Y,tt){var y=Y.length,R=y,j=!tt;if(st==null)return!R;for(st=Object(st);y--;){var O=Y[y];if(j&&O[2]?O[1]!==st[O[0]]:!(O[0]in st))return!1}for(;++y<R;){O=Y[y];var G=O[0],D=st[G],F=O[1];if(j&&O[2]){if(D===void 0&&!(G in st))return!1}else{var B=new Stack;if(tt)var W=tt(D,F,G,st,at,B);if(!(W===void 0?baseIsEqual$1(F,D,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,tt,B):W))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$5=isObject_1;function isStrictComparable$2(st){return st===st&&!isObject$5(st)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys=keys_1;function getMatchData$1(st){for(var at=keys(st),Y=at.length;Y--;){var tt=at[Y],y=st[tt];at[Y]=[tt,y,isStrictComparable$1(y)]}return at}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(st,at){return function(Y){return Y==null?!1:Y[st]===at&&(at!==void 0||st in Object(Y))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(st){var at=getMatchData(st);return at.length==1&&at[0][2]?matchesStrictComparable$1(at[0][0],at[0][1]):function(Y){return Y===st||baseIsMatch(Y,st,at)}}var _baseMatches=baseMatches$1,isArray$8=isArray_1,isSymbol$4=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(st,at){if(isArray$8(st))return!1;var Y=typeof st;return Y=="number"||Y=="symbol"||Y=="boolean"||st==null||isSymbol$4(st)?!0:reIsPlainProp.test(st)||!reIsDeepProp.test(st)||at!=null&&st in Object(at)}var _isKey=isKey$3,MapCache=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$1(st,at){if(typeof st!="function"||at!=null&&typeof at!="function")throw new TypeError(FUNC_ERROR_TEXT);var Y=function(){var tt=arguments,y=at?at.apply(this,tt):tt[0],R=Y.cache;if(R.has(y))return R.get(y);var j=st.apply(this,tt);return Y.cache=R.set(y,j)||R,j};return Y.cache=new(memoize$1.Cache||MapCache),Y}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(st){var at=memoize(st,function(tt){return Y.size===MAX_MEMOIZE_SIZE&&Y.clear(),tt}),Y=at.cache;return at}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName$1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$2=memoizeCapped(function(st){var at=[];return st.charCodeAt(0)===46&&at.push(""),st.replace(rePropName$1,function(Y,tt,y,R){at.push(y?R.replace(reEscapeChar$1,"$1"):tt||Y)}),at}),_stringToPath=stringToPath$2,isArray$7=isArray_1,isKey$2=_isKey,stringToPath$1=_stringToPath,toString$1=toString_1;function castPath$4(st,at){return isArray$7(st)?st:isKey$2(st,at)?[st]:stringToPath$1(toString$1(st))}var _castPath=castPath$4,isSymbol$3=isSymbol_1,INFINITY=1/0;function toKey$5(st){if(typeof st=="string"||isSymbol$3(st))return st;var at=st+"";return at=="0"&&1/st==-INFINITY?"-0":at}var _toKey=toKey$5,castPath$3=_castPath,toKey$4=_toKey;function baseGet$3(st,at){at=castPath$3(at,st);for(var Y=0,tt=at.length;st!=null&&Y<tt;)st=st[toKey$4(at[Y++])];return Y&&Y==tt?st:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1(st,at,Y){var tt=st==null?void 0:baseGet$2(st,at);return tt===void 0?Y:tt}var get_1=get$1;function baseHasIn$1(st,at){return st!=null&&at in Object(st)}var _baseHasIn=baseHasIn$1,castPath$2=_castPath,isArguments$1=isArguments_1,isArray$6=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$3=_toKey;function hasPath$1(st,at,Y){at=castPath$2(at,st);for(var tt=-1,y=at.length,R=!1;++tt<y;){var j=toKey$3(at[tt]);if(!(R=st!=null&&Y(st,j)))break;st=st[j]}return R||++tt!=y?R:(y=st==null?0:st.length,!!y&&isLength(y)&&isIndex$1(j,y)&&(isArray$6(st)||isArguments$1(st)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$2(st,at){return st!=null&&hasPath(st,at,baseHasIn)}var hasIn_1=hasIn$2,baseIsEqual=_baseIsEqual,get=get_1,hasIn$1=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$2=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(st,at){return isKey$1(st)&&isStrictComparable(at)?matchesStrictComparable(toKey$2(st),at):function(Y){var tt=get(Y,st);return tt===void 0&&tt===at?hasIn$1(Y,st):baseIsEqual(at,tt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$2(st){return st}var identity_1=identity$2;function baseProperty$1(st){return function(at){return at==null?void 0:at[st]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(st){return function(at){return baseGet$1(at,st)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey$1=_toKey;function property$1(st){return isKey(st)?baseProperty(toKey$1(st)):basePropertyDeep(st)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$1=identity_1,isArray$5=isArray_1,property=property_1;function baseIteratee$2(st){return typeof st=="function"?st:st==null?identity$1:typeof st=="object"?isArray$5(st)?baseMatchesProperty(st[0],st[1]):baseMatches(st):property(st)}var _baseIteratee=baseIteratee$2,baseAssignValue$1=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$1=_baseIteratee;function mapValues(st,at){var Y={};return at=baseIteratee$1(at),baseForOwn(st,function(tt,y,R){baseAssignValue$1(Y,y,at(tt,y,R))}),Y}var mapValues_1=mapValues,baseAssignValue=_baseAssignValue,eq=eq_1,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function assignValue$1(st,at,Y){var tt=st[at];(!(hasOwnProperty$2.call(st,at)&&eq(tt,Y))||Y===void 0&&!(at in st))&&baseAssignValue(st,at,Y)}var _assignValue=assignValue$1,assignValue=_assignValue,castPath$1=_castPath,isIndex=_isIndex,isObject$4=isObject_1,toKey=_toKey;function baseSet$1(st,at,Y,tt){if(!isObject$4(st))return st;at=castPath$1(at,st);for(var y=-1,R=at.length,j=R-1,O=st;O!=null&&++y<R;){var G=toKey(at[y]),D=Y;if(G==="__proto__"||G==="constructor"||G==="prototype")return st;if(y!=j){var F=O[G];D=tt?tt(F,G,O):void 0,D===void 0&&(D=isObject$4(F)?F:isIndex(at[y+1])?[]:{})}assignValue(O,G,D),O=O[G]}return st}var _baseSet=baseSet$1,baseGet=_baseGet,baseSet=_baseSet,castPath=_castPath;function basePickBy$2(st,at,Y){for(var tt=-1,y=at.length,R={};++tt<y;){var j=at[tt],O=baseGet(st,j);Y(O,j)&&baseSet(R,castPath(j,st),O)}return R}var _basePickBy=basePickBy$2,basePickBy$1=_basePickBy,hasIn=hasIn_1;function basePick$1(st,at){return basePickBy$1(st,at,function(Y,tt){return hasIn(st,tt)})}var _basePick=basePick$1,Symbol$1=_Symbol,isArguments=isArguments_1,isArray$4=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(st){return isArray$4(st)||isArguments(st)||!!(spreadableSymbol&&st&&st[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$1=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$1(st,at,Y,tt,y){var R=-1,j=st.length;for(Y||(Y=isFlattenable),y||(y=[]);++R<j;){var O=st[R];at>0&&Y(O)?at>1?baseFlatten$1(O,at-1,Y,tt,y):arrayPush$1(y,O):tt||(y[y.length]=O)}return y}var _baseFlatten=baseFlatten$1,baseFlatten=_baseFlatten;function flatten$1(st){var at=st==null?0:st.length;return at?baseFlatten(st,1):[]}var flatten_1=flatten$1;function apply$1(st,at,Y){switch(Y.length){case 0:return st.call(at);case 1:return st.call(at,Y[0]);case 2:return st.call(at,Y[0],Y[1]);case 3:return st.call(at,Y[0],Y[1],Y[2])}return st.apply(at,Y)}var _apply=apply$1,apply=_apply,nativeMax=Math.max;function overRest$1(st,at,Y){return at=nativeMax(at===void 0?st.length-1:at,0),function(){for(var tt=arguments,y=-1,R=nativeMax(tt.length-at,0),j=Array(R);++y<R;)j[y]=tt[at+y];y=-1;for(var O=Array(at+1);++y<at;)O[y]=tt[y];return O[at]=Y(j),apply(st,this,O)}}var _overRest=overRest$1;function constant$1(st){return function(){return st}}var constant_1=constant$1,constant=constant_1,defineProperty=_defineProperty$5,identity=identity_1,baseSetToString$1=defineProperty?function(st,at){return defineProperty(st,"toString",{configurable:!0,enumerable:!1,value:constant(at),writable:!0})}:identity,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(st){var at=0,Y=0;return function(){var tt=nativeNow(),y=HOT_SPAN-(tt-Y);if(Y=tt,y>0){if(++at>=HOT_COUNT)return arguments[0]}else at=0;return st.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,flatten=flatten_1,overRest=_overRest,setToString=_setToString;function flatRest$1(st){return setToString(overRest(st,void 0,flatten),st+"")}var _flatRest=flatRest$1,basePick=_basePick,flatRest=_flatRest,pick=flatRest(function(st,at){return st==null?{}:basePick(st,at)}),pick_1=pick;function makeArrayFrom(st){return Array.prototype.slice.apply(st)}var PENDING="pending",RESOLVED="resolved",REJECTED="rejected";function SynchronousPromise(st){this.status=PENDING,this._continuations=[],this._parent=null,this._paused=!1,st&&st.call(this,this._continueWith.bind(this),this._failWith.bind(this))}function looksLikeAPromise(st){return st&&typeof st.then=="function"}function passThrough(st){return st}SynchronousPromise.prototype={then:function(st,at){var Y=SynchronousPromise.unresolved()._setParent(this);if(this._isRejected()){if(this._paused)return this._continuations.push({promise:Y,nextFn:st,catchFn:at}),Y;if(at)try{var tt=at(this._error);return looksLikeAPromise(tt)?(this._chainPromiseData(tt,Y),Y):SynchronousPromise.resolve(tt)._setParent(this)}catch(y){return SynchronousPromise.reject(y)._setParent(this)}return SynchronousPromise.reject(this._error)._setParent(this)}return this._continuations.push({promise:Y,nextFn:st,catchFn:at}),this._runResolutions(),Y},catch:function(st){if(this._isResolved())return SynchronousPromise.resolve(this._data)._setParent(this);var at=SynchronousPromise.unresolved()._setParent(this);return this._continuations.push({promise:at,catchFn:st}),this._runRejections(),at},finally:function(st){var at=!1;function Y(tt,y){if(!at){at=!0,st||(st=passThrough);var R=st(tt);return looksLikeAPromise(R)?R.then(function(){if(y)throw y;return tt}):tt}}return this.then(function(tt){return Y(tt)}).catch(function(tt){return Y(null,tt)})},pause:function(){return this._paused=!0,this},resume:function(){var st=this._findFirstPaused();return st&&(st._paused=!1,st._runResolutions(),st._runRejections()),this},_findAncestry:function(){return this._continuations.reduce(function(st,at){if(at.promise){var Y={promise:at.promise,children:at.promise._findAncestry()};st.push(Y)}return st},[])},_setParent:function(st){if(this._parent)throw new Error("parent already set");return this._parent=st,this},_continueWith:function(st){var at=this._findFirstPending();at&&(at._data=st,at._setResolved())},_findFirstPending:function(){return this._findFirstAncestor(function(st){return st._isPending&&st._isPending()})},_findFirstPaused:function(){return this._findFirstAncestor(function(st){return st._paused})},_findFirstAncestor:function(st){for(var at=this,Y;at;)st(at)&&(Y=at),at=at._parent;return Y},_failWith:function(st){var at=this._findFirstPending();at&&(at._error=st,at._setRejected())},_takeContinuations:function(){return this._continuations.splice(0,this._continuations.length)},_runRejections:function(){if(!(this._paused||!this._isRejected())){var st=this._error,at=this._takeContinuations(),Y=this;at.forEach(function(tt){if(tt.catchFn)try{var y=tt.catchFn(st);Y._handleUserFunctionResult(y,tt.promise)}catch(R){tt.promise.reject(R)}else tt.promise.reject(st)})}},_runResolutions:function(){if(!(this._paused||!this._isResolved()||this._isPending())){var st=this._takeContinuations();if(looksLikeAPromise(this._data))return this._handleWhenResolvedDataIsPromise(this._data);var at=this._data,Y=this;st.forEach(function(tt){if(tt.nextFn)try{var y=tt.nextFn(at);Y._handleUserFunctionResult(y,tt.promise)}catch(R){Y._handleResolutionError(R,tt)}else tt.promise&&tt.promise.resolve(at)})}},_handleResolutionError:function(st,at){if(this._setRejected(),at.catchFn)try{at.catchFn(st);return}catch(Y){st=Y}at.promise&&at.promise.reject(st)},_handleWhenResolvedDataIsPromise:function(st){var at=this;return st.then(function(Y){at._data=Y,at._runResolutions()}).catch(function(Y){at._error=Y,at._setRejected(),at._runRejections()})},_handleUserFunctionResult:function(st,at){looksLikeAPromise(st)?this._chainPromiseData(st,at):at.resolve(st)},_chainPromiseData:function(st,at){st.then(function(Y){at.resolve(Y)}).catch(function(Y){at.reject(Y)})},_setResolved:function(){this.status=RESOLVED,this._paused||this._runResolutions()},_setRejected:function(){this.status=REJECTED,this._paused||this._runRejections()},_isPending:function(){return this.status===PENDING},_isResolved:function(){return this.status===RESOLVED},_isRejected:function(){return this.status===REJECTED}};SynchronousPromise.resolve=function(st){return new SynchronousPromise(function(at,Y){looksLikeAPromise(st)?st.then(function(tt){at(tt)}).catch(function(tt){Y(tt)}):at(st)})};SynchronousPromise.reject=function(st){return new SynchronousPromise(function(at,Y){Y(st)})};SynchronousPromise.unresolved=function(){return new SynchronousPromise(function(st,at){this.resolve=st,this.reject=at})};SynchronousPromise.all=function(){var st=makeArrayFrom(arguments);return Array.isArray(st[0])&&(st=st[0]),st.length?new SynchronousPromise(function(at,Y){var tt=[],y=0,R=function(){y===st.length&&at(tt)},j=!1,O=function(G){j||(j=!0,Y(G))};st.forEach(function(G,D){SynchronousPromise.resolve(G).then(function(F){tt[D]=F,y+=1,R()}).catch(function(F){O(F)})})}):SynchronousPromise.resolve([])};function createAggregateErrorFrom(st){return typeof window!="undefined"&&"AggregateError"in window?new window.AggregateError(st):{errors:st}}SynchronousPromise.any=function(){var st=makeArrayFrom(arguments);return Array.isArray(st[0])&&(st=st[0]),st.length?new SynchronousPromise(function(at,Y){var tt=[],y=0,R=function(){y===st.length&&Y(createAggregateErrorFrom(tt))},j=!1,O=function(G){j||(j=!0,at(G))};st.forEach(function(G,D){SynchronousPromise.resolve(G).then(function(F){O(F)}).catch(function(F){tt[D]=F,y+=1,R()})})}):SynchronousPromise.reject(createAggregateErrorFrom([]))};SynchronousPromise.allSettled=function(){var st=makeArrayFrom(arguments);return Array.isArray(st[0])&&(st=st[0]),st.length?new SynchronousPromise(function(at){var Y=[],tt=0,y=function(){tt+=1,tt===st.length&&at(Y)};st.forEach(function(R,j){SynchronousPromise.resolve(R).then(function(O){Y[j]={status:"fulfilled",value:O},y()}).catch(function(O){Y[j]={status:"rejected",reason:O},y()})})}):SynchronousPromise.resolve([])};if(Promise===SynchronousPromise)throw new Error("Please use SynchronousPromise.installGlobally() to install globally");var RealPromise=Promise;SynchronousPromise.installGlobally=function(st){if(Promise===SynchronousPromise)return st;var at=patchAwaiterIfRequired(st);return Promise=SynchronousPromise,at};SynchronousPromise.uninstallGlobally=function(){Promise===SynchronousPromise&&(Promise=RealPromise)};function patchAwaiterIfRequired(st){if(typeof st=="undefined"||st.__patched)return st;var at=st;return st=function(){at.apply(this,makeArrayFrom(arguments))},st.__patched=!0,st}var synchronousPromise={SynchronousPromise},_templateObject$c;function _taggedTemplateLiteral$c(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}function _slicedToArray$d(st,at){return _arrayWithHoles$e(st)||_iterableToArrayLimit$d(st,at)||_unsupportedIterableToArray$h(st,at)||_nonIterableRest$e()}function _nonIterableRest$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$h(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$h(st,at)}}function _arrayLikeToArray$h(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArrayLimit$d(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$e(st){if(Array.isArray(st))return st}function _classCallCheck$d(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$c(st,at,Y){return at&&_defineProperties$c(st.prototype,at),Y&&_defineProperties$c(st,Y),st}var StoryIndexStore=function(){function st(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{v:3,stories:{}},Y=at.stories;_classCallCheck$d(this,st),this.channel=void 0,this.stories=void 0,this.stories=Y}return _createClass$c(st,[{key:"storyIdFromSpecifier",value:function(Y){var tt=Object.keys(this.stories);if(Y==="*")return tt[0];if(typeof Y=="string")return tt.indexOf(Y)>=0?Y:tt.find(function(O){return O.startsWith(Y)});var y=Y.name,R=Y.title,j=Object.entries(this.stories).find(function(O){var G=_slicedToArray$d(O,2);G[0];var D=G[1];return D.name===y&&D.title===R});return j&&j[0]}},{key:"storyIdToEntry",value:function(Y){var tt=this.stories[Y];if(!tt)throw new Error(dedent(_templateObject$c||(_templateObject$c=_taggedTemplateLiteral$c(["Couldn't find story matching '",`' after HMR.
      - Did you remove it from your CSF file?
      - Are you sure a story with that id exists?
      - Please check your stories field of your main.js config.
      - Also check the browser console and terminal for error messages.`])),Y));return tt}}]),st}(),fastDeepEqual=function st(at,Y){if(at===Y)return!0;if(at&&Y&&typeof at=="object"&&typeof Y=="object"){if(at.constructor!==Y.constructor)return!1;var tt,y,R;if(Array.isArray(at)){if(tt=at.length,tt!=Y.length)return!1;for(y=tt;y--!=0;)if(!st(at[y],Y[y]))return!1;return!0}if(at.constructor===RegExp)return at.source===Y.source&&at.flags===Y.flags;if(at.valueOf!==Object.prototype.valueOf)return at.valueOf()===Y.valueOf();if(at.toString!==Object.prototype.toString)return at.toString()===Y.toString();if(R=Object.keys(at),tt=R.length,tt!==Object.keys(Y).length)return!1;for(y=tt;y--!=0;)if(!Object.prototype.hasOwnProperty.call(Y,R[y]))return!1;for(y=tt;y--!=0;){var j=R[y];if(!st(at[j],Y[j]))return!1}return!0}return at!==at&&Y!==Y},overArg=_overArg,getPrototype$2=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$2,baseGetTag=_baseGetTag,getPrototype$1=_getPrototype,isObjectLike=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto$1=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$1=objectProto$1.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(st){if(!isObjectLike(st)||baseGetTag(st)!=objectTag)return!1;var at=getPrototype$1(st);if(at===null)return!0;var Y=hasOwnProperty$1.call(at,"constructor")&&at.constructor;return typeof Y=="function"&&Y instanceof Y&&funcToString.call(Y)==objectCtorString}var isPlainObject_1=isPlainObject,_templateObject$b,_templateObject2$2;function _taggedTemplateLiteral$b(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}function _toConsumableArray$7(st){return _arrayWithoutHoles$7(st)||_iterableToArray$8(st)||_unsupportedIterableToArray$g(st)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$8(st){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(st))return Array.from(st)}function _arrayWithoutHoles$7(st){if(Array.isArray(st))return _arrayLikeToArray$g(st)}function _defineProperty$4(st,at,Y){return at in st?Object.defineProperty(st,at,{value:Y,enumerable:!0,configurable:!0,writable:!0}):st[at]=Y,st}function _slicedToArray$c(st,at){return _arrayWithHoles$d(st)||_iterableToArrayLimit$c(st,at)||_unsupportedIterableToArray$g(st,at)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$g(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$g(st,at)}}function _arrayLikeToArray$g(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArrayLimit$c(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$d(st){if(Array.isArray(st))return st}function _typeof$3(st){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(Y){return typeof Y}:_typeof$3=function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},_typeof$3(st)}var INCOMPATIBLE=Symbol("incompatible"),map$1=function st(at,Y){if(at==null||!Y)return at;switch(Y.name){case"string":return String(at);case"enum":return at;case"number":return Number(at);case"boolean":return at==="true";case"array":return!Y.value||!Array.isArray(at)?INCOMPATIBLE:at.reduce(function(tt,y,R){var j=st(y,Y.value);return j!==INCOMPATIBLE&&(tt[R]=j),tt},new Array(at.length));case"object":return typeof at=="string"||typeof at=="number"?at:!Y.value||_typeof$3(at)!=="object"?INCOMPATIBLE:Object.entries(at).reduce(function(tt,y){var R=_slicedToArray$c(y,2),j=R[0],O=R[1],G=st(O,Y.value[j]);return G===INCOMPATIBLE?tt:Object.assign(tt,_defineProperty$4({},j,G))},{});default:return INCOMPATIBLE}},mapArgsToTypes=function(at,Y){return Object.entries(at).reduce(function(tt,y){var R=_slicedToArray$c(y,2),j=R[0],O=R[1];if(!Y[j])return tt;var G=map$1(O,Y[j].type);return G===INCOMPATIBLE?tt:Object.assign(tt,_defineProperty$4({},j,G))},{})},combineArgs=function st(at,Y){return Array.isArray(at)&&Array.isArray(Y)?Y.reduce(function(tt,y,R){return tt[R]=st(at[R],Y[R]),tt},_toConsumableArray$7(at)).filter(function(tt){return tt!==void 0}):!isPlainObject_1(at)||!isPlainObject_1(Y)?Y:Object.keys(Object.assign({},at,Y)).reduce(function(tt,y){if(y in Y){var R=st(at[y],Y[y]);R!==void 0&&(tt[y]=R)}else tt[y]=at[y];return tt},{})},validateOptions=function(at,Y){return Object.entries(Y).reduce(function(tt,y){var R=_slicedToArray$c(y,2),j=R[0],O=R[1].options;if(!O)return j in at&&(tt[j]=at[j]),tt;if(!Array.isArray(O))return once.error(dedent(_templateObject$b||(_templateObject$b=_taggedTemplateLiteral$b([`
        Invalid argType: '`,`.options' should be an array.

        More info: https://storybook.js.org/docs/react/api/argtypes
      `])),j)),tt[j]=at[j],tt;if(O.some(function(U){return U&&["object","function"].includes(_typeof$3(U))}))return once.error(dedent(_templateObject2$2||(_templateObject2$2=_taggedTemplateLiteral$b([`
        Invalid argType: '`,`.options' should only contain primitives. Use a 'mapping' for complex values.

        More info: https://storybook.js.org/docs/react/writing-stories/args#mapping-to-complex-arg-values
      `])),j)),tt[j]=at[j],tt;var G=Array.isArray(at[j]),D=G&&at[j].findIndex(function(U){return!O.includes(U)}),F=G&&D===-1;if(at[j]===void 0||O.includes(at[j])||F)return tt[j]=at[j],tt;var B=G?"".concat(j,"[").concat(D,"]"):j,W=O.map(function(U){return typeof U=="string"?"'".concat(U,"'"):String(U)}).join(", ");return once.warn("Received illegal value for '".concat(B,"'. Supported options: ").concat(W)),tt},{})},DEEPLY_EQUAL=Symbol("Deeply equal"),deepDiff=function st(at,Y){if(_typeof$3(at)!==_typeof$3(Y))return Y;if(fastDeepEqual(at,Y))return DEEPLY_EQUAL;if(Array.isArray(at)&&Array.isArray(Y)){var tt=Y.reduce(function(y,R,j){var O=st(at[j],R);return O!==DEEPLY_EQUAL&&(y[j]=O),y},new Array(Y.length));return Y.length>=at.length?tt:tt.concat(new Array(at.length-Y.length).fill(void 0))}return isPlainObject_1(at)&&isPlainObject_1(Y)?Object.keys(Object.assign({},at,Y)).reduce(function(y,R){var j=st(at==null?void 0:at[R],Y==null?void 0:Y[R]);return j===DEEPLY_EQUAL?y:Object.assign(y,_defineProperty$4({},R,j))},{}):Y},NO_TARGET_NAME="";function groupArgsByTarget(st){var at=st.args,Y=st.argTypes,tt={};return Object.entries(at).forEach(function(y){var R=_slicedToArray$c(y,2),j=R[0],O=R[1],G=Y[j]||{},D=G.target,F=D===void 0?NO_TARGET_NAME:D;tt[F]=tt[F]||{},tt[F][j]=O}),tt}function _classCallCheck$c(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$b(st,at,Y){return at&&_defineProperties$b(st.prototype,at),Y&&_defineProperties$b(st,Y),st}function deleteUndefined(st){return Object.keys(st).forEach(function(at){return st[at]===void 0&&delete st[at]}),st}var ArgsStore=function(){function st(){_classCallCheck$c(this,st),this.initialArgsByStoryId={},this.argsByStoryId={}}return _createClass$b(st,[{key:"get",value:function(Y){if(!(Y in this.argsByStoryId))throw new Error("No args known for ".concat(Y," -- has it been rendered yet?"));return this.argsByStoryId[Y]}},{key:"setInitial",value:function(Y){if(!this.initialArgsByStoryId[Y.id])this.initialArgsByStoryId[Y.id]=Y.initialArgs,this.argsByStoryId[Y.id]=Y.initialArgs;else if(this.initialArgsByStoryId[Y.id]!==Y.initialArgs){var tt=deepDiff(this.initialArgsByStoryId[Y.id],this.argsByStoryId[Y.id]);this.initialArgsByStoryId[Y.id]=Y.initialArgs,this.argsByStoryId[Y.id]=Y.initialArgs,tt!==DEEPLY_EQUAL&&this.updateFromDelta(Y,tt)}}},{key:"updateFromDelta",value:function(Y,tt){var y=validateOptions(tt,Y.argTypes);this.argsByStoryId[Y.id]=combineArgs(this.argsByStoryId[Y.id],y)}},{key:"updateFromPersisted",value:function(Y,tt){var y=mapArgsToTypes(tt,Y.argTypes);return this.updateFromDelta(Y,y)}},{key:"update",value:function(Y,tt){if(!(Y in this.argsByStoryId))throw new Error("No args known for ".concat(Y," -- has it been rendered yet?"));this.argsByStoryId[Y]=deleteUndefined(Object.assign({},this.argsByStoryId[Y],tt))}}]),st}(),_templateObject$a;function _slicedToArray$b(st,at){return _arrayWithHoles$c(st)||_iterableToArrayLimit$b(st,at)||_unsupportedIterableToArray$f(st,at)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$b(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$c(st){if(Array.isArray(st))return st}function _toConsumableArray$6(st){return _arrayWithoutHoles$6(st)||_iterableToArray$7(st)||_unsupportedIterableToArray$f(st)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$f(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$f(st,at)}}function _iterableToArray$7(st){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(st))return Array.from(st)}function _arrayWithoutHoles$6(st){if(Array.isArray(st))return _arrayLikeToArray$f(st)}function _arrayLikeToArray$f(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _classCallCheck$b(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$a(st,at,Y){return at&&_defineProperties$a(st.prototype,at),Y&&_defineProperties$a(st,Y),st}function _taggedTemplateLiteral$a(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}var setUndeclaredWarning=browser(function(){},dedent(_templateObject$a||(_templateObject$a=_taggedTemplateLiteral$a([`
    Setting a global value that is undeclared (i.e. not in the user's initial set of globals
    or globalTypes) is deprecated and will have no effect in 7.0.
  `])))),GlobalsStore=function(){function st(){_classCallCheck$b(this,st),this.allowedGlobalNames=void 0,this.initialGlobals=void 0,this.globals={}}return _createClass$a(st,[{key:"set",value:function(Y){var tt=Y.globals,y=tt===void 0?{}:tt,R=Y.globalTypes,j=R===void 0?{}:R,O=this.initialGlobals&&deepDiff(this.initialGlobals,this.globals);this.allowedGlobalNames=new Set([].concat(_toConsumableArray$6(Object.keys(y)),_toConsumableArray$6(Object.keys(j))));var G=Object.entries(j).reduce(function(D,F){var B=_slicedToArray$b(F,2),W=B[0],U=B[1].defaultValue;return U&&(D[W]=U),D},{});this.initialGlobals=Object.assign({},G,y),this.globals=this.initialGlobals,O&&O!==DEEPLY_EQUAL&&this.updateFromPersisted(O)}},{key:"filterAllowedGlobals",value:function(Y){var tt=this;return Object.entries(Y).reduce(function(y,R){var j=_slicedToArray$b(R,2),O=j[0],G=j[1];return tt.allowedGlobalNames.has(O)&&(y[O]=G),y},{})}},{key:"updateFromPersisted",value:function(Y){var tt=this.filterAllowedGlobals(Y);this.globals=Object.assign({},this.globals,tt)}},{key:"get",value:function(){return this.globals}},{key:"update",value:function(Y){var tt=this;Object.keys(Y).forEach(function(y){tt.allowedGlobalNames.has(y)||setUndeclaredWarning()}),this.globals=Object.assign({},this.globals,Y)}}]),st}();function _objectWithoutProperties$6(st,at){if(st==null)return{};var Y=_objectWithoutPropertiesLoose$6(st,at),tt,y;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(st);for(y=0;y<R.length;y++)tt=R[y],!(at.indexOf(tt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(st,tt)||(Y[tt]=st[tt]))}return Y}function _objectWithoutPropertiesLoose$6(st,at){if(st==null)return{};var Y={},tt=Object.keys(st),y,R;for(R=0;R<tt.length;R++)y=tt[R],!(at.indexOf(y)>=0)&&(Y[y]=st[y]);return Y}var normalizeType=function(at){return typeof at=="string"?{name:at}:at},normalizeControl=function(at){return typeof at=="string"?{type:at}:at},normalizeInputType=function(at,Y){var tt=at.type,y=at.control,R=_objectWithoutProperties$6(at,["type","control"]),j=Object.assign({name:Y},R);return tt&&(j.type=normalizeType(tt)),y?j.control=normalizeControl(y):y===!1&&(j.control={disable:!0}),j},normalizeInputTypes=function(at){return mapValues_1(at,normalizeInputType)},_templateObject$9;function _toConsumableArray$5(st){return _arrayWithoutHoles$5(st)||_iterableToArray$6(st)||_unsupportedIterableToArray$e(st)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$e(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$e(st,at)}}function _iterableToArray$6(st){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(st))return Array.from(st)}function _arrayWithoutHoles$5(st){if(Array.isArray(st))return _arrayLikeToArray$e(st)}function _arrayLikeToArray$e(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _taggedTemplateLiteral$9(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}var deprecatedStoryAnnotation=dedent(_templateObject$9||(_templateObject$9=_taggedTemplateLiteral$9([`
CSF .story annotations deprecated; annotate story functions directly:
- StoryFn.story.name => StoryFn.storyName
- StoryFn.story.(parameters|decorators) => StoryFn.(parameters|decorators)
See https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#hoisted-csf-annotations for details and codemod.
`]))),deprecatedStoryAnnotationWarning=browser(function(){},deprecatedStoryAnnotation);function normalizeStory(st,at,Y){var tt,y;typeof at=="function"&&(tt=at),y=at;var R=y,j=R.story;j&&(logger.debug("deprecated story",j),deprecatedStoryAnnotationWarning());var O=dist.storyNameFromExport(st),G=typeof y!="function"&&y.name||y.storyName||(j==null?void 0:j.name)||O,D=[].concat(_toConsumableArray$5(y.decorators||[]),_toConsumableArray$5((j==null?void 0:j.decorators)||[])),F=Object.assign({},j==null?void 0:j.parameters,y.parameters),B=Object.assign({},j==null?void 0:j.args,y.args),W=Object.assign({},j==null?void 0:j.argTypes,y.argTypes),U=[].concat(_toConsumableArray$5(y.loaders||[]),_toConsumableArray$5((j==null?void 0:j.loaders)||[])),X=y,K=X.render,J=X.play,Z=F.__id||dist.toId(Y.id||Y.title,O);return Object.assign({id:Z,name:G,decorators:D,parameters:F,args:B,argTypes:normalizeInputTypes(W),loaders:U},K&&{render:K},tt&&{userStoryFn:tt},J&&{play:J})}function _objectWithoutProperties$5(st,at){if(st==null)return{};var Y=_objectWithoutPropertiesLoose$5(st,at),tt,y;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(st);for(y=0;y<R.length;y++)tt=R[y],!(at.indexOf(tt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(st,tt)||(Y[tt]=st[tt]))}return Y}function _objectWithoutPropertiesLoose$5(st,at){if(st==null)return{};var Y={},tt=Object.keys(st),y,R;for(R=0;R<tt.length;R++)y=tt[R],!(at.indexOf(y)>=0)&&(Y[y]=st[y]);return Y}var checkGlobals=function(at){var Y=at.globals,tt=at.globalTypes;(Y||tt)&&logger.error("Global args/argTypes can only be set globally",JSON.stringify({globals:Y,globalTypes:tt}))},checkStorySort=function(at){var Y=at.options;Y!=null&&Y.storySort&&logger.error("The storySort option parameter can only be set globally")},checkDisallowedParameters=function(at){!at||(checkGlobals(at),checkStorySort(at))};function processCSFFile(st,at,Y){var tt=st.default;st.__namedExportsOrder;var y=_objectWithoutProperties$5(st,["default","__namedExportsOrder"]),R=tt.id,j=tt.argTypes,O=Object.assign({id:dist.sanitize(R||Y)},tt,{title:Y},j&&{argTypes:normalizeInputTypes(j)},{parameters:Object.assign({fileName:at},tt.parameters)});checkDisallowedParameters(O.parameters);var G={meta:O,stories:{}};return Object.keys(y).forEach(function(D){if(dist.isExportStory(D,O)){var F=normalizeStory(D,y[D],O);checkDisallowedParameters(F.parameters),G.stories[F.id]=F}}),G}function _toConsumableArray$4(st){return _arrayWithoutHoles$4(st)||_iterableToArray$5(st)||_unsupportedIterableToArray$d(st)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$5(st){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(st))return Array.from(st)}function _arrayWithoutHoles$4(st){if(Array.isArray(st))return _arrayLikeToArray$d(st)}function _slicedToArray$a(st,at){return _arrayWithHoles$b(st)||_iterableToArrayLimit$a(st,at)||_unsupportedIterableToArray$d(st,at)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$d(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$d(st,at)}}function _arrayLikeToArray$d(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArrayLimit$a(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$b(st){if(Array.isArray(st))return st}var combineParameters=function st(){for(var at=arguments.length,Y=new Array(at),tt=0;tt<at;tt++)Y[tt]=arguments[tt];var y={},R=Y.filter(Boolean).reduce(function(j,O){return Object.entries(O).forEach(function(G){var D=_slicedToArray$a(G,2),F=D[0],B=D[1],W=j[F];Array.isArray(B)||typeof W=="undefined"?j[F]=B:isPlainObject_1(B)&&isPlainObject_1(W)?y[F]=!0:typeof B!="undefined"&&(j[F]=B)}),j},{});return Object.keys(y).forEach(function(j){var O=Y.filter(Boolean).map(function(G){return G[j]}).filter(function(G){return typeof G!="undefined"});O.every(function(G){return isPlainObject_1(G)})?R[j]=st.apply(void 0,_toConsumableArray$4(O)):R[j]=O[O.length-1]}),R},events;(function(st){st.CHANNEL_CREATED="channelCreated",st.CONFIG_ERROR="configError",st.STORY_INDEX_INVALIDATED="storyIndexInvalidated",st.STORY_SPECIFIED="storySpecified",st.SET_STORIES="setStories",st.SET_CURRENT_STORY="setCurrentStory",st.CURRENT_STORY_WAS_SET="currentStoryWasSet",st.FORCE_RE_RENDER="forceReRender",st.FORCE_REMOUNT="forceRemount",st.STORY_PREPARED="storyPrepared",st.STORY_CHANGED="storyChanged",st.STORY_UNCHANGED="storyUnchanged",st.STORY_RENDERED="storyRendered",st.STORY_MISSING="storyMissing",st.STORY_ERRORED="storyErrored",st.STORY_THREW_EXCEPTION="storyThrewException",st.STORY_RENDER_PHASE_CHANGED="storyRenderPhaseChanged",st.UPDATE_STORY_ARGS="updateStoryArgs",st.STORY_ARGS_UPDATED="storyArgsUpdated",st.RESET_STORY_ARGS="resetStoryArgs",st.SET_GLOBALS="setGlobals",st.UPDATE_GLOBALS="updateGlobals",st.GLOBALS_UPDATED="globalsUpdated",st.REGISTER_SUBSCRIPTION="registerSubscription",st.PREVIEW_KEYDOWN="previewKeydown",st.SELECT_STORY="selectStory",st.STORIES_COLLAPSE_ALL="storiesCollapseAll",st.STORIES_EXPAND_ALL="storiesExpandAll",st.DOCS_RENDERED="docsRendered",st.SHARED_STATE_CHANGED="sharedStateChanged",st.SHARED_STATE_SET="sharedStateSet",st.NAVIGATE_URL="navigateUrl",st.UPDATE_QUERY_PARAMS="updateQueryParams"})(events||(events={}));var Events=events,CHANNEL_CREATED=events.CHANNEL_CREATED,CONFIG_ERROR=events.CONFIG_ERROR,STORY_INDEX_INVALIDATED=events.STORY_INDEX_INVALIDATED,STORY_SPECIFIED=events.STORY_SPECIFIED,SET_STORIES=events.SET_STORIES,SET_CURRENT_STORY=events.SET_CURRENT_STORY,CURRENT_STORY_WAS_SET=events.CURRENT_STORY_WAS_SET,FORCE_RE_RENDER=events.FORCE_RE_RENDER,FORCE_REMOUNT=events.FORCE_REMOUNT,STORY_PREPARED=events.STORY_PREPARED,STORY_CHANGED=events.STORY_CHANGED,STORY_UNCHANGED=events.STORY_UNCHANGED,STORY_RENDERED=events.STORY_RENDERED,STORY_MISSING=events.STORY_MISSING,STORY_ERRORED=events.STORY_ERRORED,STORY_THREW_EXCEPTION=events.STORY_THREW_EXCEPTION,STORY_RENDER_PHASE_CHANGED=events.STORY_RENDER_PHASE_CHANGED,UPDATE_STORY_ARGS=events.UPDATE_STORY_ARGS,STORY_ARGS_UPDATED=events.STORY_ARGS_UPDATED,RESET_STORY_ARGS=events.RESET_STORY_ARGS,SET_GLOBALS=events.SET_GLOBALS,UPDATE_GLOBALS=events.UPDATE_GLOBALS,GLOBALS_UPDATED=events.GLOBALS_UPDATED,REGISTER_SUBSCRIPTION=events.REGISTER_SUBSCRIPTION,PREVIEW_KEYDOWN=events.PREVIEW_KEYDOWN,SELECT_STORY=events.SELECT_STORY,STORIES_COLLAPSE_ALL=events.STORIES_COLLAPSE_ALL,STORIES_EXPAND_ALL=events.STORIES_EXPAND_ALL,DOCS_RENDERED=events.DOCS_RENDERED,SHARED_STATE_CHANGED=events.SHARED_STATE_CHANGED,SHARED_STATE_SET=events.SHARED_STATE_SET,NAVIGATE_URL=events.NAVIGATE_URL,UPDATE_QUERY_PARAMS=events.UPDATE_QUERY_PARAMS,IGNORED_EXCEPTION=new Error("ignoredException"),EVENTS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Events,CHANNEL_CREATED,CONFIG_ERROR,STORY_INDEX_INVALIDATED,STORY_SPECIFIED,SET_STORIES,SET_CURRENT_STORY,CURRENT_STORY_WAS_SET,FORCE_RE_RENDER,FORCE_REMOUNT,STORY_PREPARED,STORY_CHANGED,STORY_UNCHANGED,STORY_RENDERED,STORY_MISSING,STORY_ERRORED,STORY_THREW_EXCEPTION,STORY_RENDER_PHASE_CHANGED,UPDATE_STORY_ARGS,STORY_ARGS_UPDATED,RESET_STORY_ARGS,SET_GLOBALS,UPDATE_GLOBALS,GLOBALS_UPDATED,REGISTER_SUBSCRIPTION,PREVIEW_KEYDOWN,SELECT_STORY,STORIES_COLLAPSE_ALL,STORIES_EXPAND_ALL,DOCS_RENDERED,SHARED_STATE_CHANGED,SHARED_STATE_SET,NAVIGATE_URL,UPDATE_QUERY_PARAMS,IGNORED_EXCEPTION}),_templateObject$8;function _taggedTemplateLiteral$8(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}function _classCallCheck$a(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$9(st,at,Y){return at&&_defineProperties$9(st.prototype,at),Y&&_defineProperties$9(st,Y),st}var generateRandomId=function(){return Math.random().toString(16).slice(2)},Channel=function(){function st(){var at=this,Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=Y.transport,y=Y.async,R=y===void 0?!1:y;_classCallCheck$a(this,st),this.isAsync=void 0,this.sender=generateRandomId(),this.events={},this.data={},this.transport=void 0,this.addPeerListener=browser(function(j,O){at.addListener(j,O)},dedent(_templateObject$8||(_templateObject$8=_taggedTemplateLiteral$8([`
      channel.addPeerListener is deprecated
    `])))),this.isAsync=R,tt&&(this.transport=tt,this.transport.setHandler(function(j){return at.handleEvent(j)}))}return _createClass$9(st,[{key:"hasTransport",get:function(){return!!this.transport}},{key:"addListener",value:function(Y,tt){this.events[Y]=this.events[Y]||[],this.events[Y].push(tt)}},{key:"emit",value:function(Y){for(var tt=this,y=arguments.length,R=new Array(y>1?y-1:0),j=1;j<y;j++)R[j-1]=arguments[j];var O={type:Y,args:R,from:this.sender},G={};R.length>=1&&R[0]&&R[0].options&&(G=R[0].options);var D=function(){tt.transport&&tt.transport.send(O,G),tt.handleEvent(O)};this.isAsync?setImmediate(D):D()}},{key:"last",value:function(Y){return this.data[Y]}},{key:"eventNames",value:function(){return Object.keys(this.events)}},{key:"listenerCount",value:function(Y){var tt=this.listeners(Y);return tt?tt.length:0}},{key:"listeners",value:function(Y){var tt=this.events[Y];return tt||void 0}},{key:"once",value:function(Y,tt){var y=this.onceListener(Y,tt);this.addListener(Y,y)}},{key:"removeAllListeners",value:function(Y){Y?this.events[Y]&&delete this.events[Y]:this.events={}}},{key:"removeListener",value:function(Y,tt){var y=this.listeners(Y);y&&(this.events[Y]=y.filter(function(R){return R!==tt}))}},{key:"on",value:function(Y,tt){this.addListener(Y,tt)}},{key:"off",value:function(Y,tt){this.removeListener(Y,tt)}},{key:"handleEvent",value:function(Y){var tt=this.listeners(Y.type);tt&&tt.length&&tt.forEach(function(y){y.apply(Y,Y.args)}),this.data[Y.type]=Y.args}},{key:"onceListener",value:function(Y,tt){var y=this,R=function j(){return y.removeListener(Y,j),tt.apply(void 0,arguments)};return R}}]),st}(),Channel$1=Channel,types;(function(st){st.TAB="tab",st.PANEL="panel",st.TOOL="tool",st.TOOLEXTRA="toolextra",st.PREVIEW="preview",st.NOTES_ELEMENT="notes-element"})(types||(types={}));function _classCallCheck$9(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}var AddonStore=function st(){var at=this;_classCallCheck$9(this,st),this.loaders={},this.elements={},this.config={},this.channel=void 0,this.serverChannel=void 0,this.promise=void 0,this.resolve=void 0,this.getChannel=function(){if(!at.channel)throw new Error("Accessing non-existent addons channel, see https://storybook.js.org/basics/faq/#why-is-there-no-addons-channel");return at.channel},this.getServerChannel=function(){if(!at.serverChannel)throw new Error("Accessing non-existent serverChannel");return at.serverChannel},this.ready=function(){return at.promise},this.hasChannel=function(){return!!at.channel},this.hasServerChannel=function(){return!!at.serverChannel},this.setChannel=function(Y){at.channel=Y,at.resolve()},this.setServerChannel=function(Y){at.serverChannel=Y},this.getElements=function(Y){return at.elements[Y]||(at.elements[Y]={}),at.elements[Y]},this.addPanel=function(Y,tt){at.add(Y,Object.assign({type:types.PANEL},tt))},this.add=function(Y,tt){var y=tt.type,R=at.getElements(y);R[Y]=Object.assign({id:Y},tt)},this.setConfig=function(Y){Object.assign(at.config,Y)},this.getConfig=function(){return at.config},this.register=function(Y,tt){at.loaders[Y]&&logger.warn("".concat(Y," was loaded twice, this could have bad side-effects")),at.loaders[Y]=tt},this.loadAddons=function(Y){Object.values(at.loaders).forEach(function(tt){return tt(Y)})},this.promise=new Promise(function(Y){at.resolve=function(){return Y(at.getChannel())}})},KEY$1="__STORYBOOK_ADDONS";function getAddonsStore(){return window_1[KEY$1]||(window_1[KEY$1]=new AddonStore),window_1[KEY$1]}var addons=getAddonsStore();function _toConsumableArray$3(st){return _arrayWithoutHoles$3(st)||_iterableToArray$4(st)||_unsupportedIterableToArray$c(st)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$c(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$c(st,at)}}function _iterableToArray$4(st){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(st))return Array.from(st)}function _arrayWithoutHoles$3(st){if(Array.isArray(st))return _arrayLikeToArray$c(st)}function _arrayLikeToArray$c(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _classCallCheck$8(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$8(st,at,Y){return at&&_defineProperties$8(st.prototype,at),Y&&_defineProperties$8(st,Y),st}var globalWindow$4=window_1.window,HooksContext=function(){function st(){var at=this;_classCallCheck$8(this,st),this.hookListsMap=void 0,this.mountedDecorators=void 0,this.prevMountedDecorators=void 0,this.currentHooks=void 0,this.nextHookIndex=void 0,this.currentPhase=void 0,this.currentEffects=void 0,this.prevEffects=void 0,this.currentDecoratorName=void 0,this.hasUpdates=void 0,this.currentContext=void 0,this.renderListener=function(Y){Y===at.currentContext.id&&(at.triggerEffects(),at.currentContext=null,at.removeRenderListeners())},this.init()}return _createClass$8(st,[{key:"init",value:function(){this.hookListsMap=new WeakMap,this.mountedDecorators=new Set,this.prevMountedDecorators=this.mountedDecorators,this.currentHooks=[],this.nextHookIndex=0,this.currentPhase="NONE",this.currentEffects=[],this.prevEffects=[],this.currentDecoratorName=null,this.hasUpdates=!1,this.currentContext=null}},{key:"clean",value:function(){this.prevEffects.forEach(function(Y){Y.destroy&&Y.destroy()}),this.init(),this.removeRenderListeners()}},{key:"getNextHook",value:function(){var Y=this.currentHooks[this.nextHookIndex];return this.nextHookIndex+=1,Y}},{key:"triggerEffects",value:function(){var Y=this;this.prevEffects.forEach(function(tt){!Y.currentEffects.includes(tt)&&tt.destroy&&tt.destroy()}),this.currentEffects.forEach(function(tt){Y.prevEffects.includes(tt)||(tt.destroy=tt.create())}),this.prevEffects=this.currentEffects,this.currentEffects=[]}},{key:"addRenderListeners",value:function(){this.removeRenderListeners();var Y=addons.getChannel();Y.on(STORY_RENDERED,this.renderListener)}},{key:"removeRenderListeners",value:function(){var Y=addons.getChannel();Y.removeListener(STORY_RENDERED,this.renderListener)}}]),st}();function hookify(st){return function(){var at=typeof(arguments.length<=0?void 0:arguments[0])=="function"?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0],Y=at.hooks,tt=Y.currentPhase,y=Y.currentHooks,R=Y.nextHookIndex,j=Y.currentDecoratorName;Y.currentDecoratorName=st.name,Y.prevMountedDecorators.has(st)?(Y.currentPhase="UPDATE",Y.currentHooks=Y.hookListsMap.get(st)||[]):(Y.currentPhase="MOUNT",Y.currentHooks=[],Y.hookListsMap.set(st,Y.currentHooks),Y.prevMountedDecorators.add(st)),Y.nextHookIndex=0;var O=globalWindow$4.STORYBOOK_HOOKS_CONTEXT;globalWindow$4.STORYBOOK_HOOKS_CONTEXT=Y;var G=st.apply(void 0,arguments);if(globalWindow$4.STORYBOOK_HOOKS_CONTEXT=O,Y.currentPhase==="UPDATE"&&Y.getNextHook()!=null)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return Y.currentPhase=tt,Y.currentHooks=y,Y.nextHookIndex=R,Y.currentDecoratorName=j,G}}var numberOfRenders=0,RENDER_LIMIT=25,applyHooks=function(at){return function(Y,tt){var y=at(hookify(Y),tt.map(function(R){return hookify(R)}));return function(R){var j=R,O=j.hooks;O.prevMountedDecorators=O.mountedDecorators,O.mountedDecorators=new Set([Y].concat(_toConsumableArray$3(tt))),O.currentContext=R,O.hasUpdates=!1;var G=y(R);for(numberOfRenders=1;O.hasUpdates;)if(O.hasUpdates=!1,O.currentEffects=[],G=y(R),numberOfRenders+=1,numberOfRenders>RENDER_LIMIT)throw new Error("Too many re-renders. Storybook limits the number of renders to prevent an infinite loop.");return O.addRenderListeners(),G}}};function _objectWithoutProperties$4(st,at){if(st==null)return{};var Y=_objectWithoutPropertiesLoose$4(st,at),tt,y;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(st);for(y=0;y<R.length;y++)tt=R[y],!(at.indexOf(tt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(st,tt)||(Y[tt]=st[tt]))}return Y}function _objectWithoutPropertiesLoose$4(st,at){if(st==null)return{};var Y={},tt=Object.keys(st),y,R;for(R=0;R<tt.length;R++)y=tt[R],!(at.indexOf(y)>=0)&&(Y[y]=st[y]);return Y}function decorateStory(st,at,Y){var tt=Y(st);return function(y){return at(tt,y)}}function sanitizeStoryContextUpdate(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};st.componentId,st.title,st.kind,st.id,st.name,st.story,st.parameters,st.initialArgs,st.argTypes;var at=_objectWithoutProperties$4(st,["componentId","title","kind","id","name","story","parameters","initialArgs","argTypes"]);return at}function defaultDecorateStory(st,at){var Y={},tt=function(j){return function(O){return Y.value=Object.assign({},Y.value,sanitizeStoryContextUpdate(O)),j(Y.value)}},y=at.reduce(function(R,j){return decorateStory(R,j,tt)},st);return function(R){return Y.value=R,y(R)}}var _templateObject$7;function asyncGeneratorStep$2(st,at,Y,tt,y,R,j){try{var O=st[R](j),G=O.value}catch(D){Y(D);return}O.done?at(G):Promise.resolve(G).then(tt,y)}function _asyncToGenerator$2(st){return function(){var at=this,Y=arguments;return new Promise(function(tt,y){var R=st.apply(at,Y);function j(G){asyncGeneratorStep$2(R,tt,y,j,O,"next",G)}function O(G){asyncGeneratorStep$2(R,tt,y,j,O,"throw",G)}j(void 0)})}}function _slicedToArray$9(st,at){return _arrayWithHoles$a(st)||_iterableToArrayLimit$9(st,at)||_unsupportedIterableToArray$b(st,at)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$9(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$a(st){if(Array.isArray(st))return st}function _toConsumableArray$2(st){return _arrayWithoutHoles$2(st)||_iterableToArray$3(st)||_unsupportedIterableToArray$b(st)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$b(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$b(st,at)}}function _iterableToArray$3(st){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(st))return Array.from(st)}function _arrayWithoutHoles$2(st){if(Array.isArray(st))return _arrayLikeToArray$b(st)}function _arrayLikeToArray$b(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _taggedTemplateLiteral$7(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}var argTypeDefaultValueWarning=browser(function(){},dedent(_templateObject$7||(_templateObject$7=_taggedTemplateLiteral$7([`
  \`argType.defaultValue\` is deprecated and will be removed in Storybook 7.0.

  https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#no-longer-inferring-default-values-of-args`],[`
  \\\`argType.defaultValue\\\` is deprecated and will be removed in Storybook 7.0.

  https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#no-longer-inferring-default-values-of-args`]))));function prepareStory(st,at,Y){var tt,y=st.id,R=st.name,j=at.title,O=combineParameters(Y.parameters,at.parameters,st.parameters),G=[].concat(_toConsumableArray$2(st.decorators||[]),_toConsumableArray$2(at.decorators||[]),_toConsumableArray$2(Y.decorators||[])),D=Y.applyDecorators,F=D===void 0?defaultDecorateStory:D,B=Y.argTypesEnhancers,W=B===void 0?[]:B,U=Y.argsEnhancers,X=U===void 0?[]:U,K=[].concat(_toConsumableArray$2(Y.loaders||[]),_toConsumableArray$2(at.loaders||[]),_toConsumableArray$2(st.loaders||[])),J=st.userStoryFn||st.render||at.render||Y.render,Z=combineParameters(Y.argTypes,at.argTypes,st.argTypes),Q=O.passArgsFirst,q=Q===void 0?!0:Q;O.__isArgsStory=q&&J.length>0;var et=Object.assign({},Y.args,at.args,st.args),rt={componentId:at.id,title:j,kind:j,id:y,name:R,story:R,component:at.component,subcomponents:at.subcomponents,parameters:O,initialArgs:et,argTypes:Z};rt.argTypes=W.reduce(function(pt,yt){return yt(Object.assign({},rt,{argTypes:pt}))},rt.argTypes);var nt=Object.entries(rt.argTypes).reduce(function(pt,yt){var St=_slicedToArray$9(yt,2),At=St[0],Ct=St[1].defaultValue;return typeof Ct!="undefined"&&(pt[At]=Ct),pt},{});Object.keys(nt).length>0&&argTypeDefaultValueWarning();var ot=Object.assign({},nt,et);rt.initialArgs=X.reduce(function(pt,yt){return Object.assign({},pt,yt(Object.assign({},rt,{initialArgs:pt})))},ot),(tt=window_1.FEATURES)!==null&&tt!==void 0&&tt.breakingChangesV7||(rt.parameters=Object.assign({},rt.parameters,{__id:y,globals:Y.globals,globalTypes:Y.globalTypes,args:rt.initialArgs,argTypes:rt.argTypes}));var ht=function(){var pt=_asyncToGenerator$2(regeneratorRuntime.mark(function yt(St){var At,Ct;return regeneratorRuntime.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return Rt.next=2,Promise.all(K.map(function(mt){return mt(St)}));case 2:return At=Rt.sent,Ct=Object.assign.apply(Object,[{}].concat(_toConsumableArray$2(At))),Rt.abrupt("return",Object.assign({},St,{loaded:Ct}));case 5:case"end":return Rt.stop()}},yt)}));return function(St){return pt.apply(this,arguments)}}(),ut=function(yt){var St=Object.entries(yt.args).reduce(function(Rt,mt){var vt,xt=_slicedToArray$9(mt,2),Tt=xt[0],Et=xt[1],Ot=(vt=yt.argTypes[Tt])===null||vt===void 0?void 0:vt.mapping;return Rt[Tt]=Ot&&Et in Ot?Ot[Et]:Et,Rt},{}),At=Object.assign({},yt,{args:St}),Ct=yt.parameters.passArgsFirst,Pt=Ct===void 0?!0:Ct;return Pt?J(At.args,At):J(At)},ct=applyHooks(F)(ut,G),ft=function(yt){var St,At=yt;if((St=window_1.FEATURES)!==null&&St!==void 0&&St.argTypeTargetsV7){var Ct=groupArgsByTarget(Object.assign({args:yt.args},yt));At=Object.assign({},yt,{allArgs:yt.args,argsByTarget:Ct,args:Ct[NO_TARGET_NAME]||{}})}return ct(At)},dt=st.play;return Object.freeze(Object.assign({},rt,{originalStoryFn:J,undecoratedStoryFn:ut,unboundStoryFn:ft,applyLoaders:ht,playFunction:dt}))}var _templateObject$6;function _taggedTemplateLiteral$6(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}function _typeof$2(st){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(Y){return typeof Y}:_typeof$2=function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},_typeof$2(st)}var inferType=function st(at,Y,tt){var y=_typeof$2(at);switch(y){case"boolean":case"string":case"number":case"function":case"symbol":return{name:y}}if(at){if(tt.has(at))return logger.warn(dedent(_templateObject$6||(_templateObject$6=_taggedTemplateLiteral$6([`
        We've detected a cycle in arg '`,`'. Args should be JSON-serializable.

        Consider using the mapping feature or fully custom args:
        - Mapping: https://storybook.js.org/docs/react/writing-stories/args#mapping-to-complex-arg-values
        - Custom args: https://storybook.js.org/docs/react/essentials/controls#fully-custom-args
      `])),Y)),{name:"other",value:"cyclic object"};if(tt.add(at),Array.isArray(at)){var R=at.length>0?st(at[0],Y,new Set(tt)):{name:"other",value:"unknown"};return{name:"array",value:R}}var j=mapValues_1(at,function(O){return st(O,Y,new Set(tt))});return{name:"object",value:j}}return{name:"object",value:{}}},inferArgTypes=function(at){var Y=at.id,tt=at.argTypes,y=tt===void 0?{}:tt,R=at.initialArgs,j=R===void 0?{}:R,O=mapValues_1(j,function(D,F){return{name:F,type:inferType(D,"".concat(Y,".").concat(F),new Set)}}),G=mapValues_1(y,function(D,F){return{name:F}});return combineParameters(O,G,y)};inferArgTypes.secondPass=!0;var arrayPush=_arrayPush,getPrototype=_getPrototype,getSymbols=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$1=nativeGetSymbols?function(st){for(var at=[];st;)arrayPush(at,getSymbols(st)),st=getPrototype(st);return at}:stubArray,_getSymbolsIn=getSymbolsIn$1;function nativeKeysIn$1(st){var at=[];if(st!=null)for(var Y in Object(st))at.push(Y);return at}var _nativeKeysIn=nativeKeysIn$1,isObject$3=isObject_1,isPrototype=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseKeysIn$1(st){if(!isObject$3(st))return nativeKeysIn(st);var at=isPrototype(st),Y=[];for(var tt in st)tt=="constructor"&&(at||!hasOwnProperty.call(st,tt))||Y.push(tt);return Y}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike=isArrayLike_1;function keysIn$1(st){return isArrayLike(st)?arrayLikeKeys(st,!0):baseKeysIn(st)}var keysIn_1=keysIn$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn=keysIn_1;function getAllKeysIn$1(st){return baseGetAllKeys(st,keysIn,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,arrayMap=_arrayMap,baseIteratee=_baseIteratee,basePickBy=_basePickBy,getAllKeysIn=_getAllKeysIn;function pickBy(st,at){if(st==null)return{};var Y=arrayMap(getAllKeysIn(st),function(tt){return[tt]});return at=baseIteratee(at),basePickBy(st,Y,function(tt,y){return at(tt,y[0])})}var pickBy_1=pickBy,matches=function(at,Y){return Array.isArray(Y)?Y.includes(at):at.match(Y)},filterArgTypes=function(at,Y,tt){return!Y&&!tt?at:at&&pickBy_1(at,function(y,R){var j=y.name||R;return(!Y||matches(j,Y))&&(!tt||!matches(j,tt))})},inferControl=function(at,Y,tt){var y=at.type,R=at.options;if(!(!y&&!R)){if(tt.color&&tt.color.test(Y)){var j=at.type.name;if(j==="string")return{control:{type:"color"}};logger.warn('Addon controls: Control of type color only supports string, received "'.concat(j,'" instead'))}if(tt.date&&tt.date.test(Y))return{control:{type:"date"}};switch(y.name){case"array":return{control:{type:"object"}};case"boolean":return{control:{type:"boolean"}};case"string":return{control:{type:"text"}};case"number":return{control:{type:"number"}};case"enum":{var O=y,G=O.value;return{control:{type:(G==null?void 0:G.length)<=5?"radio":"select"},options:G}}case"function":case"symbol":return null;default:return{control:{type:R?"select":"object"}}}}},inferControls=function(at){var Y=at.argTypes,tt=at.parameters,y=tt.__isArgsStory,R=tt.controls;R=R===void 0?{}:R;var j=R.include,O=j===void 0?null:j,G=R.exclude,D=G===void 0?null:G,F=R.matchers,B=F===void 0?{}:F;if(!y)return Y;var W=filterArgTypes(Y,O,D),U=mapValues_1(W,function(X,K){return(X==null?void 0:X.type)&&inferControl(X,K,B)});return combineParameters(U,W)};inferControls.secondPass=!0;function _defineProperty$3(st,at,Y){return at in st?Object.defineProperty(st,at,{value:Y,enumerable:!0,configurable:!0,writable:!0}):st[at]=Y,st}function _slicedToArray$8(st,at){return _arrayWithHoles$9(st)||_iterableToArrayLimit$8(st,at)||_unsupportedIterableToArray$a(st,at)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$8(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$9(st){if(Array.isArray(st))return st}function asyncGeneratorStep$1(st,at,Y,tt,y,R,j){try{var O=st[R](j),G=O.value}catch(D){Y(D);return}O.done?at(G):Promise.resolve(G).then(tt,y)}function _asyncToGenerator$1(st){return function(){var at=this,Y=arguments;return new Promise(function(tt,y){var R=st.apply(at,Y);function j(G){asyncGeneratorStep$1(R,tt,y,j,O,"next",G)}function O(G){asyncGeneratorStep$1(R,tt,y,j,O,"throw",G)}j(void 0)})}}function _classCallCheck$7(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$7(st,at,Y){return at&&_defineProperties$7(st.prototype,at),Y&&_defineProperties$7(st,Y),st}function _toConsumableArray$1(st){return _arrayWithoutHoles$1(st)||_iterableToArray$2(st)||_unsupportedIterableToArray$a(st)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$a(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$a(st,at)}}function _iterableToArray$2(st){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(st))return Array.from(st)}function _arrayWithoutHoles$1(st){if(Array.isArray(st))return _arrayLikeToArray$a(st)}function _arrayLikeToArray$a(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _objectWithoutProperties$3(st,at){if(st==null)return{};var Y=_objectWithoutPropertiesLoose$3(st,at),tt,y;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(st);for(y=0;y<R.length;y++)tt=R[y],!(at.indexOf(tt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(st,tt)||(Y[tt]=st[tt]))}return Y}function _objectWithoutPropertiesLoose$3(st,at){if(st==null)return{};var Y={},tt=Object.keys(st),y,R;for(R=0;R<tt.length;R++)y=tt[R],!(at.indexOf(y)>=0)&&(Y[y]=st[y]);return Y}var CSF_CACHE_SIZE=1e3,STORY_CACHE_SIZE=1e4;function normalizeProjectAnnotations(st){var at=st.argTypes,Y=st.globalTypes,tt=st.argTypesEnhancers,y=_objectWithoutProperties$3(st,["argTypes","globalTypes","argTypesEnhancers"]);return Object.assign({},at&&{argTypes:normalizeInputTypes(at)},Y&&{globalTypes:normalizeInputTypes(Y)},{argTypesEnhancers:[].concat(_toConsumableArray$1(tt||[]),[inferArgTypes,inferControls])},y)}var StoryStore=function(){function st(){var at=this;_classCallCheck$7(this,st),this.storyIndex=void 0,this.importFn=void 0,this.projectAnnotations=void 0,this.globals=void 0,this.args=void 0,this.hooks=void 0,this.cachedCSFFiles=void 0,this.processCSFFileWithCache=void 0,this.prepareStoryWithCache=void 0,this.initializationPromise=void 0,this.resolveInitializationPromise=void 0,this.getStoriesJsonData=function(){var Y=at.getSetStoriesPayload(),tt=["fileName","docsOnly","framework","__id","__isArgsStory"],y=mapValues_1(Y.stories,function(R){var j;return Object.assign({},pick_1(R,["id","name","title"]),{importPath:at.storyIndex.stories[R.id].importPath},!((j=window_1.FEATURES)!==null&&j!==void 0&&j.breakingChangesV7)&&{kind:R.title,story:R.name,parameters:Object.assign({},pick_1(R.parameters,tt),{fileName:at.storyIndex.stories[R.id].importPath})})});return{v:3,stories:y}},this.globals=new GlobalsStore,this.args=new ArgsStore,this.hooks={},this.processCSFFileWithCache=memoize$2(CSF_CACHE_SIZE)(processCSFFile),this.prepareStoryWithCache=memoize$2(STORY_CACHE_SIZE)(prepareStory),this.initializationPromise=new synchronousPromise.SynchronousPromise(function(Y){at.resolveInitializationPromise=Y})}return _createClass$7(st,[{key:"setProjectAnnotations",value:function(Y){this.projectAnnotations=normalizeProjectAnnotations(Y);var tt=Y.globals,y=Y.globalTypes;this.globals.set({globals:tt,globalTypes:y})}},{key:"initialize",value:function(Y){var tt=Y.storyIndex,y=Y.importFn,R=Y.cache,j=R===void 0?!1:R;return this.storyIndex=new StoryIndexStore(tt),this.importFn=y,this.resolveInitializationPromise(),j?this.cacheAllCSFFiles():synchronousPromise.SynchronousPromise.resolve()}},{key:"onStoriesChanged",value:function(){var at=_asyncToGenerator$1(regeneratorRuntime.mark(function tt(y){var R,j;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(R=y.importFn,j=y.storyIndex,R&&(this.importFn=R),j&&(this.storyIndex.stories=j.stories),!this.cachedCSFFiles){G.next=6;break}return G.next=6,this.cacheAllCSFFiles();case 6:case"end":return G.stop()}},tt,this)}));function Y(tt){return at.apply(this,arguments)}return Y}()},{key:"loadCSFFileByStoryId",value:function(Y){var tt=this,y=this.storyIndex.storyIdToEntry(Y),R=y.importPath,j=y.title;return this.importFn(R).then(function(O){return tt.processCSFFileWithCache(O,R,j)})}},{key:"loadAllCSFFiles",value:function(){var Y=this,tt={};Object.entries(this.storyIndex.stories).forEach(function(R){var j=_slicedToArray$8(R,2),O=j[0],G=j[1].importPath;tt[G]=O});var y=Object.entries(tt).map(function(R){var j=_slicedToArray$8(R,2),O=j[0],G=j[1];return Y.loadCSFFileByStoryId(G).then(function(D){return{importPath:O,csfFile:D}})});return synchronousPromise.SynchronousPromise.all(y).then(function(R){return R.reduce(function(j,O){var G=O.importPath,D=O.csfFile;return j[G]=D,j},{})})}},{key:"cacheAllCSFFiles",value:function(){var Y=this;return this.initializationPromise.then(function(){return Y.loadAllCSFFiles().then(function(tt){Y.cachedCSFFiles=tt})})}},{key:"loadStory",value:function(){var at=_asyncToGenerator$1(regeneratorRuntime.mark(function tt(y){var R,j;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return R=y.storyId,G.next=3,this.initializationPromise;case 3:return G.next=5,this.loadCSFFileByStoryId(R);case 5:return j=G.sent,G.abrupt("return",this.storyFromCSFFile({storyId:R,csfFile:j}));case 7:case"end":return G.stop()}},tt,this)}));function Y(tt){return at.apply(this,arguments)}return Y}()},{key:"storyFromCSFFile",value:function(Y){var tt=Y.storyId,y=Y.csfFile,R=y.stories[tt];if(!R)throw new Error("Didn't find '".concat(tt,"' in CSF file, this is unexpected"));var j=y.meta,O=this.prepareStoryWithCache(R,j,this.projectAnnotations);return this.args.setInitial(O),this.hooks[O.id]=this.hooks[O.id]||new HooksContext,O}},{key:"componentStoriesFromCSFFile",value:function(Y){var tt=this,y=Y.csfFile;return Object.keys(y.stories).map(function(R){return tt.storyFromCSFFile({storyId:R,csfFile:y})})}},{key:"getStoryContext",value:function(Y){return Object.assign({},Y,{args:this.args.get(Y.id),globals:this.globals.get(),hooks:this.hooks[Y.id]})}},{key:"cleanupStory",value:function(Y){this.hooks[Y.id].clean()}},{key:"extract",value:function(){var Y=this,tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeDocsOnly:!1};if(!this.cachedCSFFiles)throw new Error("Cannot call extract() unless you call cacheAllCSFFiles() first.");return Object.entries(this.storyIndex.stories).reduce(function(y,R){var j=_slicedToArray$8(R,2),O=j[0],G=j[1].importPath,D=Y.cachedCSFFiles[G],F=Y.storyFromCSFFile({storyId:O,csfFile:D});return!tt.includeDocsOnly&&F.parameters.docsOnly||(y[O]=Object.entries(F).reduce(function(B,W){var U=_slicedToArray$8(W,2),X=U[0],K=U[1];return typeof K=="function"?B:Array.isArray(K)?Object.assign(B,_defineProperty$3({},X,K.slice().sort())):Object.assign(B,_defineProperty$3({},X,K))},{args:F.initialArgs})),y},{})}},{key:"getSetStoriesPayload",value:function(){var Y=this.extract({includeDocsOnly:!0}),tt=Object.values(Y).reduce(function(y,R){var j=R.title;return y[j]={},y},{});return{v:2,globals:this.globals.get(),globalParameters:{},kindParameters:tt,stories:Y}}},{key:"raw",value:function(){var Y=this;return Object.values(this.extract()).map(function(tt){var y=tt.id;return Y.fromId(y)})}},{key:"fromId",value:function(Y){var tt=this;if(!this.cachedCSFFiles)throw new Error("Cannot call fromId/raw() unless you call cacheAllCSFFiles() first.");var y;try{var R=this.storyIndex.storyIdToEntry(Y);y=R.importPath}catch{return null}var j=this.cachedCSFFiles[y],O=this.storyFromCSFFile({storyId:Y,csfFile:j});return Object.assign({},O,{storyFn:function(D){var F=Object.assign({},tt.getStoryContext(O),{viewMode:"story"});return O.unboundStoryFn(Object.assign({},F,D))}})}}]),st}(),path$1={exports:{}},util$1={},isBufferBrowser=function(at){return at&&typeof at=="object"&&typeof at.copy=="function"&&typeof at.fill=="function"&&typeof at.readUInt8=="function"},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(at,Y){at.super_=Y,at.prototype=Object.create(Y.prototype,{constructor:{value:at,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser.exports=function(at,Y){at.super_=Y;var tt=function(){};tt.prototype=Y.prototype,at.prototype=new tt,at.prototype.constructor=at};(function(st){var at=/%[sdj%]/g;st.format=function(Ct){if(!q(Ct)){for(var Pt=[],Rt=0;Rt<arguments.length;Rt++)Pt.push(y(arguments[Rt]));return Pt.join(" ")}for(var Rt=1,mt=arguments,vt=mt.length,xt=String(Ct).replace(at,function(Et){if(Et==="%%")return"%";if(Rt>=vt)return Et;switch(Et){case"%s":return String(mt[Rt++]);case"%d":return Number(mt[Rt++]);case"%j":try{return JSON.stringify(mt[Rt++])}catch{return"[Circular]"}default:return Et}}),Tt=mt[Rt];Rt<vt;Tt=mt[++Rt])J(Tt)||!ot(Tt)?xt+=" "+Tt:xt+=" "+y(Tt);return xt},st.deprecate=function(Ct,Pt){if(rt(commonjsGlobal.process))return function(){return st.deprecate(Ct,Pt).apply(this,arguments)};if(process.noDeprecation===!0)return Ct;var Rt=!1;function mt(){if(!Rt){if(process.throwDeprecation)throw new Error(Pt);process.traceDeprecation?console.trace(Pt):console.error(Pt),Rt=!0}return Ct.apply(this,arguments)}return mt};var Y={},tt;st.debuglog=function(Ct){if(rt(tt)&&(tt=""),Ct=Ct.toUpperCase(),!Y[Ct])if(new RegExp("\\b"+Ct+"\\b","i").test(tt)){var Pt=process.pid;Y[Ct]=function(){var Rt=st.format.apply(st,arguments);console.error("%s %d: %s",Ct,Pt,Rt)}}else Y[Ct]=function(){};return Y[Ct]};function y(Ct,Pt){var Rt={seen:[],stylize:j};return arguments.length>=3&&(Rt.depth=arguments[2]),arguments.length>=4&&(Rt.colors=arguments[3]),K(Pt)?Rt.showHidden=Pt:Pt&&st._extend(Rt,Pt),rt(Rt.showHidden)&&(Rt.showHidden=!1),rt(Rt.depth)&&(Rt.depth=2),rt(Rt.colors)&&(Rt.colors=!1),rt(Rt.customInspect)&&(Rt.customInspect=!0),Rt.colors&&(Rt.stylize=R),G(Rt,Ct,Rt.depth)}st.inspect=y,y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function R(Ct,Pt){var Rt=y.styles[Pt];return Rt?"["+y.colors[Rt][0]+"m"+Ct+"["+y.colors[Rt][1]+"m":Ct}function j(Ct,Pt){return Ct}function O(Ct){var Pt={};return Ct.forEach(function(Rt,mt){Pt[Rt]=!0}),Pt}function G(Ct,Pt,Rt){if(Ct.customInspect&&Pt&&ct(Pt.inspect)&&Pt.inspect!==st.inspect&&!(Pt.constructor&&Pt.constructor.prototype===Pt)){var mt=Pt.inspect(Rt,Ct);return q(mt)||(mt=G(Ct,mt,Rt)),mt}var vt=D(Ct,Pt);if(vt)return vt;var xt=Object.keys(Pt),Tt=O(xt);if(Ct.showHidden&&(xt=Object.getOwnPropertyNames(Pt)),ut(Pt)&&(xt.indexOf("message")>=0||xt.indexOf("description")>=0))return F(Pt);if(xt.length===0){if(ct(Pt)){var Et=Pt.name?": "+Pt.name:"";return Ct.stylize("[Function"+Et+"]","special")}if(nt(Pt))return Ct.stylize(RegExp.prototype.toString.call(Pt),"regexp");if(ht(Pt))return Ct.stylize(Date.prototype.toString.call(Pt),"date");if(ut(Pt))return F(Pt)}var Ot="",Mt=!1,Ft=["{","}"];if(X(Pt)&&(Mt=!0,Ft=["[","]"]),ct(Pt)){var It=Pt.name?": "+Pt.name:"";Ot=" [Function"+It+"]"}if(nt(Pt)&&(Ot=" "+RegExp.prototype.toString.call(Pt)),ht(Pt)&&(Ot=" "+Date.prototype.toUTCString.call(Pt)),ut(Pt)&&(Ot=" "+F(Pt)),xt.length===0&&(!Mt||Pt.length==0))return Ft[0]+Ot+Ft[1];if(Rt<0)return nt(Pt)?Ct.stylize(RegExp.prototype.toString.call(Pt),"regexp"):Ct.stylize("[Object]","special");Ct.seen.push(Pt);var Dt;return Mt?Dt=B(Ct,Pt,Rt,Tt,xt):Dt=xt.map(function(bt){return W(Ct,Pt,Rt,Tt,bt,Mt)}),Ct.seen.pop(),U(Dt,Ot,Ft)}function D(Ct,Pt){if(rt(Pt))return Ct.stylize("undefined","undefined");if(q(Pt)){var Rt="'"+JSON.stringify(Pt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ct.stylize(Rt,"string")}if(Q(Pt))return Ct.stylize(""+Pt,"number");if(K(Pt))return Ct.stylize(""+Pt,"boolean");if(J(Pt))return Ct.stylize("null","null")}function F(Ct){return"["+Error.prototype.toString.call(Ct)+"]"}function B(Ct,Pt,Rt,mt,vt){for(var xt=[],Tt=0,Et=Pt.length;Tt<Et;++Tt)At(Pt,String(Tt))?xt.push(W(Ct,Pt,Rt,mt,String(Tt),!0)):xt.push("");return vt.forEach(function(Ot){Ot.match(/^\d+$/)||xt.push(W(Ct,Pt,Rt,mt,Ot,!0))}),xt}function W(Ct,Pt,Rt,mt,vt,xt){var Tt,Et,Ot;if(Ot=Object.getOwnPropertyDescriptor(Pt,vt)||{value:Pt[vt]},Ot.get?Ot.set?Et=Ct.stylize("[Getter/Setter]","special"):Et=Ct.stylize("[Getter]","special"):Ot.set&&(Et=Ct.stylize("[Setter]","special")),At(mt,vt)||(Tt="["+vt+"]"),Et||(Ct.seen.indexOf(Ot.value)<0?(J(Rt)?Et=G(Ct,Ot.value,null):Et=G(Ct,Ot.value,Rt-1),Et.indexOf(`
`)>-1&&(xt?Et=Et.split(`
`).map(function(Mt){return"  "+Mt}).join(`
`).substr(2):Et=`
`+Et.split(`
`).map(function(Mt){return"   "+Mt}).join(`
`))):Et=Ct.stylize("[Circular]","special")),rt(Tt)){if(xt&&vt.match(/^\d+$/))return Et;Tt=JSON.stringify(""+vt),Tt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Tt=Tt.substr(1,Tt.length-2),Tt=Ct.stylize(Tt,"name")):(Tt=Tt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Tt=Ct.stylize(Tt,"string"))}return Tt+": "+Et}function U(Ct,Pt,Rt){var mt=Ct.reduce(function(vt,xt){return xt.indexOf(`
`)>=0,vt+xt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return mt>60?Rt[0]+(Pt===""?"":Pt+`
 `)+" "+Ct.join(`,
  `)+" "+Rt[1]:Rt[0]+Pt+" "+Ct.join(", ")+" "+Rt[1]}function X(Ct){return Array.isArray(Ct)}st.isArray=X;function K(Ct){return typeof Ct=="boolean"}st.isBoolean=K;function J(Ct){return Ct===null}st.isNull=J;function Z(Ct){return Ct==null}st.isNullOrUndefined=Z;function Q(Ct){return typeof Ct=="number"}st.isNumber=Q;function q(Ct){return typeof Ct=="string"}st.isString=q;function et(Ct){return typeof Ct=="symbol"}st.isSymbol=et;function rt(Ct){return Ct===void 0}st.isUndefined=rt;function nt(Ct){return ot(Ct)&&dt(Ct)==="[object RegExp]"}st.isRegExp=nt;function ot(Ct){return typeof Ct=="object"&&Ct!==null}st.isObject=ot;function ht(Ct){return ot(Ct)&&dt(Ct)==="[object Date]"}st.isDate=ht;function ut(Ct){return ot(Ct)&&(dt(Ct)==="[object Error]"||Ct instanceof Error)}st.isError=ut;function ct(Ct){return typeof Ct=="function"}st.isFunction=ct;function ft(Ct){return Ct===null||typeof Ct=="boolean"||typeof Ct=="number"||typeof Ct=="string"||typeof Ct=="symbol"||typeof Ct=="undefined"}st.isPrimitive=ft,st.isBuffer=isBufferBrowser;function dt(Ct){return Object.prototype.toString.call(Ct)}function pt(Ct){return Ct<10?"0"+Ct.toString(10):Ct.toString(10)}var yt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function St(){var Ct=new Date,Pt=[pt(Ct.getHours()),pt(Ct.getMinutes()),pt(Ct.getSeconds())].join(":");return[Ct.getDate(),yt[Ct.getMonth()],Pt].join(" ")}st.log=function(){console.log("%s - %s",St(),st.format.apply(st,arguments))},st.inherits=inherits_browser.exports,st._extend=function(Ct,Pt){if(!Pt||!ot(Pt))return Ct;for(var Rt=Object.keys(Pt),mt=Rt.length;mt--;)Ct[Rt[mt]]=Pt[Rt[mt]];return Ct};function At(Ct,Pt){return Object.prototype.hasOwnProperty.call(Ct,Pt)}})(util$1);var util=util$1;function normalizeArray(st,at){for(var Y=[],tt=0;tt<st.length;tt++){var y=st[tt];!y||y==="."||(y===".."?Y.length&&Y[Y.length-1]!==".."?Y.pop():at&&Y.push(".."):Y.push(y))}return Y}function trimArray(st){for(var at=st.length-1,Y=0;Y<=at&&!st[Y];Y++);for(var tt=at;tt>=0&&!st[tt];tt--);return Y===0&&tt===at?st:Y>tt?[]:st.slice(Y,tt+1)}var splitDeviceRe=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,splitTailRe=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,win32={};function win32SplitPath(st){var at=splitDeviceRe.exec(st),Y=(at[1]||"")+(at[2]||""),tt=at[3]||"",y=splitTailRe.exec(tt),R=y[1],j=y[2],O=y[3];return[Y,R,j,O]}function win32StatPath(st){var at=splitDeviceRe.exec(st),Y=at[1]||"",tt=!!Y&&Y[1]!==":";return{device:Y,isUnc:tt,isAbsolute:tt||!!at[2],tail:at[3]}}function normalizeUNCRoot(st){return"\\\\"+st.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}win32.resolve=function(){for(var st="",at="",Y=!1,tt=arguments.length-1;tt>=-1;tt--){var y;if(tt>=0?y=arguments[tt]:st?(y=process.env["="+st],(!y||y.substr(0,3).toLowerCase()!==st.toLowerCase()+"\\")&&(y=st+"\\")):y=process.cwd(),util.isString(y)){if(!y)continue}else throw new TypeError("Arguments to path.resolve must be strings");var R=win32StatPath(y),j=R.device,O=R.isUnc,G=R.isAbsolute,D=R.tail;if(!(j&&st&&j.toLowerCase()!==st.toLowerCase())&&(st||(st=j),Y||(at=D+"\\"+at,Y=G),st&&Y))break}return O&&(st=normalizeUNCRoot(st)),at=normalizeArray(at.split(/[\\\/]+/),!Y).join("\\"),st+(Y?"\\":"")+at||"."};win32.normalize=function(st){var at=win32StatPath(st),Y=at.device,tt=at.isUnc,y=at.isAbsolute,R=at.tail,j=/[\\\/]$/.test(R);return R=normalizeArray(R.split(/[\\\/]+/),!y).join("\\"),!R&&!y&&(R="."),R&&j&&(R+="\\"),tt&&(Y=normalizeUNCRoot(Y)),Y+(y?"\\":"")+R};win32.isAbsolute=function(st){return win32StatPath(st).isAbsolute};win32.join=function(){for(var st=[],at=0;at<arguments.length;at++){var Y=arguments[at];if(!util.isString(Y))throw new TypeError("Arguments to path.join must be strings");Y&&st.push(Y)}var tt=st.join("\\");return/^[\\\/]{2}[^\\\/]/.test(st[0])||(tt=tt.replace(/^[\\\/]{2,}/,"\\")),win32.normalize(tt)};win32.relative=function(st,at){st=win32.resolve(st),at=win32.resolve(at);for(var Y=st.toLowerCase(),tt=at.toLowerCase(),y=trimArray(at.split("\\")),R=trimArray(Y.split("\\")),j=trimArray(tt.split("\\")),O=Math.min(R.length,j.length),G=O,D=0;D<O;D++)if(R[D]!==j[D]){G=D;break}if(G==0)return at;for(var F=[],D=G;D<R.length;D++)F.push("..");return F=F.concat(y.slice(G)),F.join("\\")};win32._makeLong=function(st){if(!util.isString(st))return st;if(!st)return"";var at=win32.resolve(st);return/^[a-zA-Z]\:\\/.test(at)?"\\\\?\\"+at:/^\\\\[^?.]/.test(at)?"\\\\?\\UNC\\"+at.substring(2):st};win32.dirname=function(st){var at=win32SplitPath(st),Y=at[0],tt=at[1];return!Y&&!tt?".":(tt&&(tt=tt.substr(0,tt.length-1)),Y+tt)};win32.basename=function(st,at){var Y=win32SplitPath(st)[2];return at&&Y.substr(-1*at.length)===at&&(Y=Y.substr(0,Y.length-at.length)),Y};win32.extname=function(st){return win32SplitPath(st)[3]};win32.format=function(st){if(!util.isObject(st))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof st);var at=st.root||"";if(!util.isString(at))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof st.root);var Y=st.dir,tt=st.base||"";return Y?Y[Y.length-1]===win32.sep?Y+tt:Y+win32.sep+tt:tt};win32.parse=function(st){if(!util.isString(st))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof st);var at=win32SplitPath(st);if(!at||at.length!==4)throw new TypeError("Invalid path '"+st+"'");return{root:at[0],dir:at[0]+at[1].slice(0,-1),base:at[2],ext:at[3],name:at[2].slice(0,at[2].length-at[3].length)}};win32.sep="\\";win32.delimiter=";";var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,posix={};function posixSplitPath(st){return splitPathRe.exec(st).slice(1)}posix.resolve=function(){for(var st="",at=!1,Y=arguments.length-1;Y>=-1&&!at;Y--){var tt=Y>=0?arguments[Y]:process.cwd();if(util.isString(tt)){if(!tt)continue}else throw new TypeError("Arguments to path.resolve must be strings");st=tt+"/"+st,at=tt[0]==="/"}return st=normalizeArray(st.split("/"),!at).join("/"),(at?"/":"")+st||"."};posix.normalize=function(st){var at=posix.isAbsolute(st),Y=st&&st[st.length-1]==="/";return st=normalizeArray(st.split("/"),!at).join("/"),!st&&!at&&(st="."),st&&Y&&(st+="/"),(at?"/":"")+st};posix.isAbsolute=function(st){return st.charAt(0)==="/"};posix.join=function(){for(var st="",at=0;at<arguments.length;at++){var Y=arguments[at];if(!util.isString(Y))throw new TypeError("Arguments to path.join must be strings");Y&&(st?st+="/"+Y:st+=Y)}return posix.normalize(st)};posix.relative=function(st,at){st=posix.resolve(st).substr(1),at=posix.resolve(at).substr(1);for(var Y=trimArray(st.split("/")),tt=trimArray(at.split("/")),y=Math.min(Y.length,tt.length),R=y,j=0;j<y;j++)if(Y[j]!==tt[j]){R=j;break}for(var O=[],j=R;j<Y.length;j++)O.push("..");return O=O.concat(tt.slice(R)),O.join("/")};posix._makeLong=function(st){return st};posix.dirname=function(st){var at=posixSplitPath(st),Y=at[0],tt=at[1];return!Y&&!tt?".":(tt&&(tt=tt.substr(0,tt.length-1)),Y+tt)};posix.basename=function(st,at){var Y=posixSplitPath(st)[2];return at&&Y.substr(-1*at.length)===at&&(Y=Y.substr(0,Y.length-at.length)),Y};posix.extname=function(st){return posixSplitPath(st)[3]};posix.format=function(st){if(!util.isObject(st))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof st);var at=st.root||"";if(!util.isString(at))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof st.root);var Y=st.dir?st.dir+posix.sep:"",tt=st.base||"";return Y+tt};posix.parse=function(st){if(!util.isString(st))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof st);var at=posixSplitPath(st);if(!at||at.length!==4)throw new TypeError("Invalid path '"+st+"'");return at[1]=at[1]||"",at[2]=at[2]||"",at[3]=at[3]||"",{root:at[0],dir:at[0]+at[1].slice(0,-1),base:at[2],ext:at[3],name:at[2].slice(0,at[2].length-at[3].length)}};posix.sep="/";posix.delimiter=":";path$1.exports=posix;path$1.exports.posix=posix;path$1.exports.win32=win32;var path=path$1.exports,slash=st=>{const at=/^\\\\\?\\/.test(st),Y=/[^\u0000-\u0080]+/.test(st);return at||Y?st:st.replace(/\\/g,"/")};function _toArray$1(st){return _arrayWithHoles$8(st)||_iterableToArray$1(st)||_unsupportedIterableToArray$9(st)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$9(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$9(st,at)}}function _arrayLikeToArray$9(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArray$1(st){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(st))return Array.from(st)}function _arrayWithHoles$8(st){if(Array.isArray(st))return st}var stripExtension=function(at){var Y=at.split("/"),tt=Y[Y.length-1],y=tt.indexOf("."),R=y>0?tt.substr(0,y):tt;Y[Y.length-1]=R;var j=Y,O=_toArray$1(j),G=O[0],D=O.slice(1);return G===""&&(Y=D),Y.join("/")},startCaseTitle=function(at){return at.split("/").map(startCase_1).join("/")},autoTitleFromSpecifier=function(at,Y){var tt=Y||{},y=tt.directory,R=tt.importPathMatcher,j=tt.titlePrefix,O=j===void 0?"":j,G=slash(at);if(R.exec(G)){var D=G.replace(y,""),F=slash(path.join(O,D));return startCaseTitle(stripExtension(F))}},autoTitle=function(at,Y){for(var tt=0;tt<Y.length;tt+=1){var y=autoTitleFromSpecifier(at,Y[tt]);if(y)return y}},stable$1={exports:{}};(function(st,at){//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//! © 2018 Angry Bytes and contributors. MIT licensed.
(function(Y,tt){st.exports=tt()})(commonjsGlobal,function(){var Y=function(R,j){return tt(R.slice(),j)};Y.inplace=function(R,j){var O=tt(R,j);return O!==R&&y(O,null,R.length,R),R};function tt(R,j){typeof j!="function"&&(j=function(B,W){return String(B).localeCompare(W)});var O=R.length;if(O<=1)return R;for(var G=new Array(O),D=1;D<O;D*=2){y(R,j,D,G);var F=R;R=G,G=F}return R}var y=function(R,j,O,G){var D=R.length,F=0,B=O*2,W,U,X,K,J;for(W=0;W<D;W+=B)for(U=W+O,X=U+O,U>D&&(U=D),X>D&&(X=D),K=W,J=U;;)if(K<U&&J<X)j(R[K],R[J])<=0?G[F++]=R[K++]:G[F++]=R[J++];else if(K<U)G[F++]=R[K++];else if(J<X)G[F++]=R[J++];else break};return Y})})(stable$1);var stable=stable$1.exports,STORY_KIND_PATH_SEPARATOR=/\s*\/\s*/,storySort=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(Y,tt){if(Y.title===tt.title&&!at.includeNames)return 0;var y=at.method||"configure",R=at.order||[],j=Y.title.trim().split(STORY_KIND_PATH_SEPARATOR),O=tt.title.trim().split(STORY_KIND_PATH_SEPARATOR);at.includeNames&&(j.push(Y.name),O.push(tt.name));for(var G=0;j[G]||O[G];){if(!j[G])return-1;if(!O[G])return 1;var D=j[G],F=O[G];if(D!==F){var B=R.indexOf(D),W=R.indexOf(F),U=R.indexOf("*");return B!==-1||W!==-1?(B===-1&&(U!==-1?B=U:B=R.length),W===-1&&(U!==-1?W=U:W=R.length),B-W):y==="configure"?0:D.localeCompare(F,at.locales?at.locales:void 0,{numeric:!0,sensitivity:"accent"})}var X=R.indexOf(D);R=X!==-1&&Array.isArray(R[X+1])?R[X+1]:[],G+=1}return 0}},sortStoriesCommon=function(at,Y,tt){if(Y){var y;typeof Y=="function"?y=Y:y=storySort(Y),stable.inplace(at,y)}else stable.inplace(at,function(R,j){return tt.indexOf(R.importPath)-tt.indexOf(j.importPath)});return at},toIndexEntry=function(at){var Y=at.id,tt=at.title,y=at.name,R=at.parameters;return{id:Y,title:tt,name:y,importPath:R.fileName}},sortStoriesV6=function(at,Y,tt){if(Y&&typeof Y=="function")return stable.inplace(at,Y),at.map(function(R){return toIndexEntry(R[1])});var y=at.map(function(R){return toIndexEntry(R[1])});return sortStoriesCommon(y,Y,tt)},_templateObject$5;function _objectWithoutProperties$2(st,at){if(st==null)return{};var Y=_objectWithoutPropertiesLoose$2(st,at),tt,y;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(st);for(y=0;y<R.length;y++)tt=R[y],!(at.indexOf(tt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(st,tt)||(Y[tt]=st[tt]))}return Y}function _objectWithoutPropertiesLoose$2(st,at){if(st==null)return{};var Y={},tt=Object.keys(st),y,R;for(R=0;R<tt.length;R++)y=tt[R],!(at.indexOf(y)>=0)&&(Y[y]=st[y]);return Y}function _taggedTemplateLiteral$5(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}function _slicedToArray$7(st,at){return _arrayWithHoles$7(st)||_iterableToArrayLimit$7(st,at)||_unsupportedIterableToArray$8(st,at)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$8(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$8(st,at)}}function _arrayLikeToArray$8(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArrayLimit$7(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$7(st){if(Array.isArray(st))return st}function _classCallCheck$6(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$6(st,at,Y){return at&&_defineProperties$6(st.prototype,at),Y&&_defineProperties$6(st,Y),st}var StoryStoreFacade=function(){function st(){_classCallCheck$6(this,st),this.projectAnnotations=void 0,this.stories=void 0,this.csfExports=void 0,this.projectAnnotations={loaders:[],decorators:[],parameters:{},argsEnhancers:[],argTypesEnhancers:[]},this.stories={},this.csfExports={}}return _createClass$6(st,[{key:"importFn",value:function(Y){var tt=this;return synchronousPromise.SynchronousPromise.resolve().then(function(){var y=tt.csfExports[Y];if(!y)throw new Error("Unknown path: ".concat(Y));return y})}},{key:"getStoryIndex",value:function(Y){var tt,y,R=this,j=Object.keys(this.csfExports),O=(tt=this.projectAnnotations.parameters)===null||tt===void 0||(y=tt.options)===null||y===void 0?void 0:y.storySort,G=Object.entries(this.stories),D=G.map(function(W){var U=_slicedToArray$7(W,2),X=U[0],K=U[1].importPath,J=R.csfExports[K],Z=Y.processCSFFileWithCache(J,K,J.default.title);return[X,Y.storyFromCSFFile({storyId:X,csfFile:Z}),Z.meta.parameters,R.projectAnnotations.parameters]}),F;try{F=sortStoriesV6(D,O,j)}catch(W){throw typeof O=="function"?new Error(dedent(_templateObject$5||(_templateObject$5=_taggedTemplateLiteral$5([`
          Error sorting stories with sort parameter `,`:

          > `,`
          
          Are you using a V7-style sort function in V6 compatibility mode?
          
          More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#v7-style-story-sort
        `])),O,W.message)):W}var B=F.reduce(function(W,U){return W[U.id]=R.stories[U.id],W},{});return{v:3,stories:B}}},{key:"clearFilenameExports",value:function(Y){var tt=this;!this.csfExports[Y]||(Object.entries(this.stories).forEach(function(y){var R=_slicedToArray$7(y,2),j=R[0],O=R[1].importPath;O===Y&&delete tt.stories[j]}),this.csfExports[Y]={})}},{key:"addStoriesFromExports",value:function(Y,tt){var y=this;if(this.csfExports[Y]!==tt){this.clearFilenameExports(Y);var R=tt.default,j=tt.__namedExportsOrder,O=_objectWithoutProperties$2(tt,["default","__namedExportsOrder"]),G=R||{},D=G.id,F=G.title;if(F=F||autoTitle(Y,(window_1.STORIES||[]).map(function(W){return Object.assign({},W,{importPathMatcher:new RegExp(W.importPathMatcher)})})),!F){logger.info("Unexpected default export without title in '".concat(Y,"': ").concat(JSON.stringify(tt.default)));return}this.csfExports[Y]=Object.assign({},tt,{default:Object.assign({},R,{title:F})});var B=O;Array.isArray(j)&&(B={},j.forEach(function(W){var U=O[W];U&&(B[W]=U)})),Object.entries(B).filter(function(W){var U=_slicedToArray$7(W,1),X=U[0];return dist.isExportStory(X,R)}).forEach(function(W){var U,X,K=_slicedToArray$7(W,2),J=K[0],Z=K[1],Q=dist.storyNameFromExport(J),q=((U=Z.parameters)===null||U===void 0?void 0:U.__id)||dist.toId(D||F,Q),et=typeof Z!="function"&&Z.name||Z.storyName||((X=Z.story)===null||X===void 0?void 0:X.name)||Q;y.stories[q]={id:q,name:et,title:F,importPath:Y}})}}}]),st}(),_templateObject$4,_templateObject2$1,_templateObject3$1,_templateObject4$1;function _slicedToArray$6(st,at){return _arrayWithHoles$6(st)||_iterableToArrayLimit$6(st,at)||_unsupportedIterableToArray$7(st,at)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$7(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$7(st,at)}}function _arrayLikeToArray$7(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArrayLimit$6(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$6(st){if(Array.isArray(st))return st}function _typeof$1(st){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(Y){return typeof Y}:_typeof$1=function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},_typeof$1(st)}function _objectWithoutProperties$1(st,at){if(st==null)return{};var Y=_objectWithoutPropertiesLoose$1(st,at),tt,y;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(st);for(y=0;y<R.length;y++)tt=R[y],!(at.indexOf(tt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(st,tt)||(Y[tt]=st[tt]))}return Y}function _objectWithoutPropertiesLoose$1(st,at){if(st==null)return{};var Y={},tt=Object.keys(st),y,R;for(R=0;R<tt.length;R++)y=tt[R],!(at.indexOf(y)>=0)&&(Y[y]=st[y]);return Y}function _classCallCheck$5(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$5(st,at,Y){return at&&_defineProperties$5(st.prototype,at),Y&&_defineProperties$5(st,Y),st}function _taggedTemplateLiteral$4(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}var singleton,warningAlternatives={addDecorator:"Instead, use `export const decorators = [];` in your `preview.js`.",addParameters:"Instead, use `export const parameters = {};` in your `preview.js`.",addLoaders:"Instead, use `export const loaders = [];` in your `preview.js`."},warningMessage=function(at){return browser(function(){},dedent(_templateObject$4||(_templateObject$4=_taggedTemplateLiteral$4(["\n  `",`\` is deprecated, and will be removed in Storybook 7.0.

  `,`

  Read more at https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-addparameters-and-adddecorator).`],["\n  \\`",`\\\` is deprecated, and will be removed in Storybook 7.0.

  `,`

  Read more at https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-addparameters-and-adddecorator).`])),at,warningAlternatives[at]))},warnings={addDecorator:warningMessage("addDecorator"),addParameters:warningMessage("addParameters"),addLoaders:warningMessage("addLoaders")},checkMethod=function(at,Y){var tt;if((tt=window_1.FEATURES)!==null&&tt!==void 0&&tt.storyStoreV7)throw new Error(dedent(_templateObject2$1||(_templateObject2$1=_taggedTemplateLiteral$4(["You cannot use `",`\` with the new Story Store.
      
      `,""],["You cannot use \\`",`\\\` with the new Story Store.
      
      `,""])),at,warningAlternatives[at]));if(!singleton)throw new Error("Singleton client API not yet initialized, cannot call `".concat(at,"`."));Y&&warnings[at]()},addDecorator=function(at){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;checkMethod("addDecorator",Y),singleton.addDecorator(at)},addParameters=function(at){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;checkMethod("addParameters",Y),singleton.addParameters(at)},addLoader=function(at){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;checkMethod("addLoader",Y),singleton.addLoader(at)},addArgsEnhancer=function(at){checkMethod("addArgsEnhancer",!1),singleton.addArgsEnhancer(at)},addArgTypesEnhancer=function(at){checkMethod("addArgTypesEnhancer",!1),singleton.addArgTypesEnhancer(at)},invalidStoryTypes=new Set(["string","number","boolean","symbol"]),ClientApi=function(){function st(){var at=this,Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=Y.storyStore;_classCallCheck$5(this,st),this.facade=void 0,this.storyStore=void 0,this.addons=void 0,this.onImportFnChanged=void 0,this.lastFileName=0,this.setAddon=browser(function(y){at.addons=Object.assign({},at.addons,y)},dedent(_templateObject3$1||(_templateObject3$1=_taggedTemplateLiteral$4([`
      \`setAddon\` is deprecated and will be removed in Storybook 7.0.

      https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-setaddon
    `],[`
      \\\`setAddon\\\` is deprecated and will be removed in Storybook 7.0.

      https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-setaddon
    `])))),this.addDecorator=function(y){at.facade.projectAnnotations.decorators.push(y)},this.clearDecorators=browser(function(){at.facade.projectAnnotations.decorators=[]},dedent(_templateObject4$1||(_templateObject4$1=_taggedTemplateLiteral$4([`
      \`clearDecorators\` is deprecated and will be removed in Storybook 7.0.

      https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-cleardecorators
    `],[`
      \\\`clearDecorators\\\` is deprecated and will be removed in Storybook 7.0.

      https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-cleardecorators
    `])))),this.addParameters=function(y){var R=y.globals,j=y.globalTypes,O=_objectWithoutProperties$1(y,["globals","globalTypes"]);at.facade.projectAnnotations.parameters=combineParameters(at.facade.projectAnnotations.parameters,O),R&&(at.facade.projectAnnotations.globals=Object.assign({},at.facade.projectAnnotations.globals,R)),j&&(at.facade.projectAnnotations.globalTypes=Object.assign({},at.facade.projectAnnotations.globalTypes,normalizeInputTypes(j)))},this.addLoader=function(y){at.facade.projectAnnotations.loaders.push(y)},this.addArgsEnhancer=function(y){at.facade.projectAnnotations.argsEnhancers.push(y)},this.addArgTypesEnhancer=function(y){at.facade.projectAnnotations.argTypesEnhancers.push(y)},this.storiesOf=function(y,R){if(!y&&typeof y!="string")throw new Error("Invalid or missing kind provided for stories, should be a string");if(R||logger.warn("Missing 'module' parameter for story with a kind of '".concat(y,"'. It will break your HMR")),R){var j=Object.getPrototypeOf(R);j.exports&&j.exports.default&&logger.error("Illegal mix of CSF default export and storiesOf calls in a single file: ".concat(j.i))}for(var O=R&&R.id?"".concat(R.id):(at.lastFileName++).toString(),G=O,D=1;at.facade.csfExports[G]&&Object.keys(at.facade.csfExports[G]).length>0;)D+=1,G="".concat(O,"-").concat(D);R&&R.hot&&R.hot.accept&&(R.hot.accept(),R.hot.dispose(function(){at.facade.clearFilenameExports(G),setTimeout(function(){var X;(X=at.onImportFnChanged)===null||X===void 0||X.call(at,{importFn:at.importFn.bind(at)})},0)}));var F=!1,B={kind:y.toString(),add:function(){return B},addDecorator:function(){return B},addLoader:function(){return B},addParameters:function(){return B}};Object.keys(at.addons).forEach(function(X){var K=at.addons[X];B[X]=function(){for(var J=arguments.length,Z=new Array(J),Q=0;Q<J;Q++)Z[Q]=arguments[Q];return K.apply(B,Z),B}});var W={id:dist.sanitize(y),title:y,decorators:[],loaders:[],parameters:{}};at.facade.csfExports[G]={default:W};var U=0;return B.add=function(X,K){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(F=!0,typeof X!="string")throw new Error('Invalid or missing storyName provided for a "'.concat(y,'" story.'));if(!K||Array.isArray(K)||invalidStoryTypes.has(_typeof$1(K)))throw new Error('Cannot load story "'.concat(X,'" in "').concat(y,'" due to invalid format. Storybook expected a function/object but received ').concat(_typeof$1(K)," instead."));var Z=J.decorators,Q=J.loaders,q=J.component,et=J.args,rt=J.argTypes,nt=_objectWithoutProperties$1(J,["decorators","loaders","component","args","argTypes"]),ot=J.__id||dist.toId(y,X),ht=at.facade.csfExports[G];return ht["story".concat(U)]={name:X,parameters:Object.assign({fileName:G,__id:ot},nt),decorators:Z,loaders:Q,args:et,argTypes:rt,component:q,render:K},U+=1,at.facade.stories[ot]={id:ot,title:ht.default.title,name:X,importPath:G},B},B.addDecorator=function(X){if(F)throw new Error(`You cannot add a decorator after the first story for a kind.
Read more here: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md#can-no-longer-add-decoratorsparameters-after-stories`);return W.decorators.push(X),B},B.addLoader=function(X){if(F)throw new Error("You cannot add a loader after the first story for a kind.");return W.loaders.push(X),B},B.addParameters=function(X){var K=X.component,J=X.args,Z=X.argTypes,Q=_objectWithoutProperties$1(X,["component","args","argTypes"]);if(F)throw new Error(`You cannot add parameters after the first story for a kind.
Read more here: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md#can-no-longer-add-decoratorsparameters-after-stories`);return W.parameters=combineParameters(W.parameters,Q),K&&(W.component=K),J&&(W.args=Object.assign({},W.args,J)),Z&&(W.argTypes=Object.assign({},W.argTypes,Z)),B},B},this.getStorybook=function(){var y=at.storyStore.storyIndex.stories,R={};return Object.entries(y).forEach(function(j){var O=_slicedToArray$6(j,2),G=O[0],D=O[1],F=D.title,B=D.name,W=D.importPath;R[F]||(R[F]={kind:F,fileName:W,stories:[]});var U=at.storyStore.fromId(G),X=U.storyFn;R[F].stories.push({name:B,render:X})}),Object.values(R)},this.raw=function(){return at.storyStore.raw()},this.facade=new StoryStoreFacade,this.addons={},this.storyStore=tt,singleton=this}return _createClass$5(st,[{key:"importFn",value:function(Y){return this.facade.importFn(Y)}},{key:"getStoryIndex",value:function(){if(!this.storyStore)throw new Error("Cannot get story index before setting storyStore");return this.facade.getStoryIndex(this.storyStore)}},{key:"_storyStore",get:function(){return this.storyStore}}]),st}(),shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var at={},Y=Symbol("test"),tt=Object(Y);if(typeof Y=="string"||Object.prototype.toString.call(Y)!=="[object Symbol]"||Object.prototype.toString.call(tt)!=="[object Symbol]")return!1;var y=42;at[Y]=y;for(Y in at)return!1;if(typeof Object.keys=="function"&&Object.keys(at).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(at).length!==0)return!1;var R=Object.getOwnPropertySymbols(at);if(R.length!==1||R[0]!==Y||!Object.prototype.propertyIsEnumerable.call(at,Y))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var j=Object.getOwnPropertyDescriptor(at,Y);if(j.value!==y||j.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol!="undefined"&&Symbol,hasSymbolSham=shams$1,hasSymbols$3=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr$2=Object.prototype.toString,funcType="[object Function]",implementation$1=function(at){var Y=this;if(typeof Y!="function"||toStr$2.call(Y)!==funcType)throw new TypeError(ERROR_MESSAGE+Y);for(var tt=slice.call(arguments,1),y,R=function(){if(this instanceof y){var F=Y.apply(this,tt.concat(slice.call(arguments)));return Object(F)===F?F:this}else return Y.apply(at,tt.concat(slice.call(arguments)))},j=Math.max(0,Y.length-tt.length),O=[],G=0;G<j;G++)O.push("$"+G);if(y=Function("binder","return function ("+O.join(",")+"){ return binder.apply(this,arguments); }")(R),Y.prototype){var D=function(){};D.prototype=Y.prototype,y.prototype=new D,D.prototype=null}return y},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$1=functionBind,src=bind$1.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError$1=TypeError,getEvalledConstructor=function(st){try{return $Function('"use strict"; return ('+st+").constructor;")()}catch{}},$gOPD=Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch{$gOPD=null}var throwTypeError=function(){throw new $TypeError$1},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$2=hasSymbols$3(),getProto=Object.getPrototypeOf||function(st){return st.__proto__},needsEval={},TypedArray=typeof Uint8Array=="undefined"?undefined$1:getProto(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError=="undefined"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$2?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics=="undefined"?undefined$1:Atomics,"%BigInt%":typeof BigInt=="undefined"?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array=="undefined"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$2?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map=="undefined"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!hasSymbols$2?undefined$1:getProto(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?undefined$1:Promise,"%Proxy%":typeof Proxy=="undefined"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!hasSymbols$2?undefined$1:getProto(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$2?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$2?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$1,"%Uint8Array%":typeof Uint8Array=="undefined"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?undefined$1:WeakSet},doEval=function st(at){var Y;if(at==="%AsyncFunction%")Y=getEvalledConstructor("async function () {}");else if(at==="%GeneratorFunction%")Y=getEvalledConstructor("function* () {}");else if(at==="%AsyncGeneratorFunction%")Y=getEvalledConstructor("async function* () {}");else if(at==="%AsyncGenerator%"){var tt=st("%AsyncGeneratorFunction%");tt&&(Y=tt.prototype)}else if(at==="%AsyncIteratorPrototype%"){var y=st("%AsyncGenerator%");y&&(Y=getProto(y.prototype))}return INTRINSICS[at]=Y,Y},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn$1=src,$concat$1=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace$1=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(at){var Y=$strSlice(at,0,1),tt=$strSlice(at,-1);if(Y==="%"&&tt!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(tt==="%"&&Y!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var y=[];return $replace$1(at,rePropName,function(R,j,O,G){y[y.length]=O?$replace$1(G,reEscapeChar,"$1"):j||R}),y},getBaseIntrinsic=function(at,Y){var tt=at,y;if(hasOwn$1(LEGACY_ALIASES,tt)&&(y=LEGACY_ALIASES[tt],tt="%"+y[0]+"%"),hasOwn$1(INTRINSICS,tt)){var R=INTRINSICS[tt];if(R===needsEval&&(R=doEval(tt)),typeof R=="undefined"&&!Y)throw new $TypeError$1("intrinsic "+at+" exists, but is not available. Please file an issue!");return{alias:y,name:tt,value:R}}throw new $SyntaxError("intrinsic "+at+" does not exist!")},getIntrinsic=function(at,Y){if(typeof at!="string"||at.length===0)throw new $TypeError$1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Y!="boolean")throw new $TypeError$1('"allowMissing" argument must be a boolean');var tt=stringToPath(at),y=tt.length>0?tt[0]:"",R=getBaseIntrinsic("%"+y+"%",Y),j=R.name,O=R.value,G=!1,D=R.alias;D&&(y=D[0],$spliceApply(tt,$concat$1([0,1],D)));for(var F=1,B=!0;F<tt.length;F+=1){var W=tt[F],U=$strSlice(W,0,1),X=$strSlice(W,-1);if((U==='"'||U==="'"||U==="`"||X==='"'||X==="'"||X==="`")&&U!==X)throw new $SyntaxError("property names with quotes must have matching quotes");if((W==="constructor"||!B)&&(G=!0),y+="."+W,j="%"+y+"%",hasOwn$1(INTRINSICS,j))O=INTRINSICS[j];else if(O!=null){if(!(W in O)){if(!Y)throw new $TypeError$1("base intrinsic for "+at+" exists, but the property is not available.");return}if($gOPD&&F+1>=tt.length){var K=$gOPD(O,W);B=!!K,B&&"get"in K&&!("originalValue"in K.get)?O=K.get:O=O[W]}else B=hasOwn$1(O,W),O=O[W];B&&!G&&(INTRINSICS[j]=O)}}return O},callBind$1={exports:{}};(function(st){var at=functionBind,Y=getIntrinsic,tt=Y("%Function.prototype.apply%"),y=Y("%Function.prototype.call%"),R=Y("%Reflect.apply%",!0)||at.call(y,tt),j=Y("%Object.getOwnPropertyDescriptor%",!0),O=Y("%Object.defineProperty%",!0),G=Y("%Math.max%");if(O)try{O({},"a",{value:1})}catch{O=null}st.exports=function(B){var W=R(at,y,arguments);if(j&&O){var U=j(W,"length");U.configurable&&O(W,"length",{value:1+G(0,B.length-(arguments.length-1))})}return W};var D=function(){return R(at,tt,arguments)};O?O(st.exports,"apply",{value:D}):st.exports.apply=D})(callBind$1);var GetIntrinsic$1=getIntrinsic,callBind=callBind$1.exports,$indexOf=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$2=function(at,Y){var tt=GetIntrinsic$1(at,!!Y);return typeof tt=="function"&&$indexOf(at,".prototype.")>-1?callBind(tt):tt},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:__viteBrowserExternal}),require$$0$3=getAugmentedNamespace(__viteBrowserExternal$1),hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols?"object":"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(st){return st.__proto__}:null);function addNumericSeparator(st,at){if(st===1/0||st===-1/0||st!==st||st&&st>-1e3&&st<1e3||$test.call(/e/,at))return at;var Y=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof st=="number"){var tt=st<0?-$floor(-st):$floor(st);if(tt!==st){var y=String(tt),R=$slice.call(at,y.length+1);return $replace.call(y,Y,"$&_")+"."+$replace.call($replace.call(R,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(at,Y,"$&_")}var inspectCustom=require$$0$3.custom,inspectSymbol=inspectCustom&&isSymbol$2(inspectCustom)?inspectCustom:null,objectInspect=function st(at,Y,tt,y){var R=Y||{};if(has$4(R,"quoteStyle")&&R.quoteStyle!=="single"&&R.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$4(R,"maxStringLength")&&(typeof R.maxStringLength=="number"?R.maxStringLength<0&&R.maxStringLength!==1/0:R.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var j=has$4(R,"customInspect")?R.customInspect:!0;if(typeof j!="boolean"&&j!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$4(R,"indent")&&R.indent!==null&&R.indent!=="	"&&!(parseInt(R.indent,10)===R.indent&&R.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$4(R,"numericSeparator")&&typeof R.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var O=R.numericSeparator;if(typeof at=="undefined")return"undefined";if(at===null)return"null";if(typeof at=="boolean")return at?"true":"false";if(typeof at=="string")return inspectString(at,R);if(typeof at=="number"){if(at===0)return 1/0/at>0?"0":"-0";var G=String(at);return O?addNumericSeparator(at,G):G}if(typeof at=="bigint"){var D=String(at)+"n";return O?addNumericSeparator(at,D):D}var F=typeof R.depth=="undefined"?5:R.depth;if(typeof tt=="undefined"&&(tt=0),tt>=F&&F>0&&typeof at=="object")return isArray$3(at)?"[Array]":"[Object]";var B=getIndent(R,tt);if(typeof y=="undefined")y=[];else if(indexOf(y,at)>=0)return"[Circular]";function W(pt,yt,St){if(yt&&(y=$arrSlice.call(y),y.push(yt)),St){var At={depth:R.depth};return has$4(R,"quoteStyle")&&(At.quoteStyle=R.quoteStyle),st(pt,At,tt+1,y)}return st(pt,R,tt+1,y)}if(typeof at=="function"){var U=nameOf(at),X=arrObjKeys(at,W);return"[Function"+(U?": "+U:" (anonymous)")+"]"+(X.length>0?" { "+$join.call(X,", ")+" }":"")}if(isSymbol$2(at)){var K=hasShammedSymbols?$replace.call(String(at),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(at);return typeof at=="object"&&!hasShammedSymbols?markBoxed(K):K}if(isElement(at)){for(var J="<"+$toLowerCase.call(String(at.nodeName)),Z=at.attributes||[],Q=0;Q<Z.length;Q++)J+=" "+Z[Q].name+"="+wrapQuotes(quote(Z[Q].value),"double",R);return J+=">",at.childNodes&&at.childNodes.length&&(J+="..."),J+="</"+$toLowerCase.call(String(at.nodeName))+">",J}if(isArray$3(at)){if(at.length===0)return"[]";var q=arrObjKeys(at,W);return B&&!singleLineValues(q)?"["+indentedJoin(q,B)+"]":"[ "+$join.call(q,", ")+" ]"}if(isError(at)){var et=arrObjKeys(at,W);return"cause"in at&&!isEnumerable.call(at,"cause")?"{ ["+String(at)+"] "+$join.call($concat.call("[cause]: "+W(at.cause),et),", ")+" }":et.length===0?"["+String(at)+"]":"{ ["+String(at)+"] "+$join.call(et,", ")+" }"}if(typeof at=="object"&&j){if(inspectSymbol&&typeof at[inspectSymbol]=="function")return at[inspectSymbol]();if(j!=="symbol"&&typeof at.inspect=="function")return at.inspect()}if(isMap(at)){var rt=[];return mapForEach.call(at,function(pt,yt){rt.push(W(yt,at,!0)+" => "+W(pt,at))}),collectionOf("Map",mapSize.call(at),rt,B)}if(isSet(at)){var nt=[];return setForEach.call(at,function(pt){nt.push(W(pt,at))}),collectionOf("Set",setSize.call(at),nt,B)}if(isWeakMap(at))return weakCollectionOf("WeakMap");if(isWeakSet(at))return weakCollectionOf("WeakSet");if(isWeakRef(at))return weakCollectionOf("WeakRef");if(isNumber(at))return markBoxed(W(Number(at)));if(isBigInt(at))return markBoxed(W(bigIntValueOf.call(at)));if(isBoolean(at))return markBoxed(booleanValueOf.call(at));if(isString(at))return markBoxed(W(String(at)));if(!isDate(at)&&!isRegExp$1(at)){var ot=arrObjKeys(at,W),ht=gPO?gPO(at)===Object.prototype:at instanceof Object||at.constructor===Object,ut=at instanceof Object?"":"null prototype",ct=!ht&&toStringTag&&Object(at)===at&&toStringTag in at?$slice.call(toStr$1(at),8,-1):ut?"Object":"",ft=ht||typeof at.constructor!="function"?"":at.constructor.name?at.constructor.name+" ":"",dt=ft+(ct||ut?"["+$join.call($concat.call([],ct||[],ut||[]),": ")+"] ":"");return ot.length===0?dt+"{}":B?dt+"{"+indentedJoin(ot,B)+"}":dt+"{ "+$join.call(ot,", ")+" }"}return String(at)};function wrapQuotes(st,at,Y){var tt=(Y.quoteStyle||at)==="double"?'"':"'";return tt+st+tt}function quote(st){return $replace.call(String(st),/"/g,"&quot;")}function isArray$3(st){return toStr$1(st)==="[object Array]"&&(!toStringTag||!(typeof st=="object"&&toStringTag in st))}function isDate(st){return toStr$1(st)==="[object Date]"&&(!toStringTag||!(typeof st=="object"&&toStringTag in st))}function isRegExp$1(st){return toStr$1(st)==="[object RegExp]"&&(!toStringTag||!(typeof st=="object"&&toStringTag in st))}function isError(st){return toStr$1(st)==="[object Error]"&&(!toStringTag||!(typeof st=="object"&&toStringTag in st))}function isString(st){return toStr$1(st)==="[object String]"&&(!toStringTag||!(typeof st=="object"&&toStringTag in st))}function isNumber(st){return toStr$1(st)==="[object Number]"&&(!toStringTag||!(typeof st=="object"&&toStringTag in st))}function isBoolean(st){return toStr$1(st)==="[object Boolean]"&&(!toStringTag||!(typeof st=="object"&&toStringTag in st))}function isSymbol$2(st){if(hasShammedSymbols)return st&&typeof st=="object"&&st instanceof Symbol;if(typeof st=="symbol")return!0;if(!st||typeof st!="object"||!symToString)return!1;try{return symToString.call(st),!0}catch{}return!1}function isBigInt(st){if(!st||typeof st!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(st),!0}catch{}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(st){return st in this};function has$4(st,at){return hasOwn.call(st,at)}function toStr$1(st){return objectToString.call(st)}function nameOf(st){if(st.name)return st.name;var at=$match.call(functionToString.call(st),/^function\s*([\w$]+)/);return at?at[1]:null}function indexOf(st,at){if(st.indexOf)return st.indexOf(at);for(var Y=0,tt=st.length;Y<tt;Y++)if(st[Y]===at)return Y;return-1}function isMap(st){if(!mapSize||!st||typeof st!="object")return!1;try{mapSize.call(st);try{setSize.call(st)}catch{return!0}return st instanceof Map}catch{}return!1}function isWeakMap(st){if(!weakMapHas||!st||typeof st!="object")return!1;try{weakMapHas.call(st,weakMapHas);try{weakSetHas.call(st,weakSetHas)}catch{return!0}return st instanceof WeakMap}catch{}return!1}function isWeakRef(st){if(!weakRefDeref||!st||typeof st!="object")return!1;try{return weakRefDeref.call(st),!0}catch{}return!1}function isSet(st){if(!setSize||!st||typeof st!="object")return!1;try{setSize.call(st);try{mapSize.call(st)}catch{return!0}return st instanceof Set}catch{}return!1}function isWeakSet(st){if(!weakSetHas||!st||typeof st!="object")return!1;try{weakSetHas.call(st,weakSetHas);try{weakMapHas.call(st,weakMapHas)}catch{return!0}return st instanceof WeakSet}catch{}return!1}function isElement(st){return!st||typeof st!="object"?!1:typeof HTMLElement!="undefined"&&st instanceof HTMLElement?!0:typeof st.nodeName=="string"&&typeof st.getAttribute=="function"}function inspectString(st,at){if(st.length>at.maxStringLength){var Y=st.length-at.maxStringLength,tt="... "+Y+" more character"+(Y>1?"s":"");return inspectString($slice.call(st,0,at.maxStringLength),at)+tt}var y=$replace.call($replace.call(st,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(y,"single",at)}function lowbyte(st){var at=st.charCodeAt(0),Y={8:"b",9:"t",10:"n",12:"f",13:"r"}[at];return Y?"\\"+Y:"\\x"+(at<16?"0":"")+$toUpperCase.call(at.toString(16))}function markBoxed(st){return"Object("+st+")"}function weakCollectionOf(st){return st+" { ? }"}function collectionOf(st,at,Y,tt){var y=tt?indentedJoin(Y,tt):$join.call(Y,", ");return st+" ("+at+") {"+y+"}"}function singleLineValues(st){for(var at=0;at<st.length;at++)if(indexOf(st[at],`
`)>=0)return!1;return!0}function getIndent(st,at){var Y;if(st.indent==="	")Y="	";else if(typeof st.indent=="number"&&st.indent>0)Y=$join.call(Array(st.indent+1)," ");else return null;return{base:Y,prev:$join.call(Array(at+1),Y)}}function indentedJoin(st,at){if(st.length===0)return"";var Y=`
`+at.prev+at.base;return Y+$join.call(st,","+Y)+`
`+at.prev}function arrObjKeys(st,at){var Y=isArray$3(st),tt=[];if(Y){tt.length=st.length;for(var y=0;y<st.length;y++)tt[y]=has$4(st,y)?at(st[y],st):""}var R=typeof gOPS=="function"?gOPS(st):[],j;if(hasShammedSymbols){j={};for(var O=0;O<R.length;O++)j["$"+R[O]]=R[O]}for(var G in st)!has$4(st,G)||Y&&String(Number(G))===G&&G<st.length||hasShammedSymbols&&j["$"+G]instanceof Symbol||($test.call(/[^\w$]/,G)?tt.push(at(G,st)+": "+at(st[G],st)):tt.push(G+": "+at(st[G],st)));if(typeof gOPS=="function")for(var D=0;D<R.length;D++)isEnumerable.call(st,R[D])&&tt.push("["+at(R[D])+"]: "+at(st[R[D]],st));return tt}var GetIntrinsic=getIntrinsic,callBound$1=callBound$2,inspect=objectInspect,$TypeError=GetIntrinsic("%TypeError%"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound$1("WeakMap.prototype.get",!0),$weakMapSet=callBound$1("WeakMap.prototype.set",!0),$weakMapHas=callBound$1("WeakMap.prototype.has",!0),$mapGet=callBound$1("Map.prototype.get",!0),$mapSet=callBound$1("Map.prototype.set",!0),$mapHas=callBound$1("Map.prototype.has",!0),listGetNode=function(st,at){for(var Y=st,tt;(tt=Y.next)!==null;Y=tt)if(tt.key===at)return Y.next=tt.next,tt.next=st.next,st.next=tt,tt},listGet=function(st,at){var Y=listGetNode(st,at);return Y&&Y.value},listSet=function(st,at,Y){var tt=listGetNode(st,at);tt?tt.value=Y:st.next={key:at,next:st.next,value:Y}},listHas=function(st,at){return!!listGetNode(st,at)},sideChannel=function(){var at,Y,tt,y={assert:function(R){if(!y.has(R))throw new $TypeError("Side channel does not contain "+inspect(R))},get:function(R){if($WeakMap&&R&&(typeof R=="object"||typeof R=="function")){if(at)return $weakMapGet(at,R)}else if($Map){if(Y)return $mapGet(Y,R)}else if(tt)return listGet(tt,R)},has:function(R){if($WeakMap&&R&&(typeof R=="object"||typeof R=="function")){if(at)return $weakMapHas(at,R)}else if($Map){if(Y)return $mapHas(Y,R)}else if(tt)return listHas(tt,R);return!1},set:function(R,j){$WeakMap&&R&&(typeof R=="object"||typeof R=="function")?(at||(at=new $WeakMap),$weakMapSet(at,R,j)):$Map?(Y||(Y=new $Map),$mapSet(Y,R,j)):(tt||(tt={key:{},next:null}),listSet(tt,R,j))}};return y},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$3={default:Format.RFC3986,formatters:{RFC1738:function(st){return replace.call(st,percentTwenties,"+")},RFC3986:function(st){return String(st)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$2=formats$3,has$3=Object.prototype.hasOwnProperty,isArray$2=Array.isArray,hexTable=function(){for(var st=[],at=0;at<256;++at)st.push("%"+((at<16?"0":"")+at.toString(16)).toUpperCase());return st}(),compactQueue=function(at){for(;at.length>1;){var Y=at.pop(),tt=Y.obj[Y.prop];if(isArray$2(tt)){for(var y=[],R=0;R<tt.length;++R)typeof tt[R]!="undefined"&&y.push(tt[R]);Y.obj[Y.prop]=y}}},arrayToObject=function(at,Y){for(var tt=Y&&Y.plainObjects?Object.create(null):{},y=0;y<at.length;++y)typeof at[y]!="undefined"&&(tt[y]=at[y]);return tt},merge=function st(at,Y,tt){if(!Y)return at;if(typeof Y!="object"){if(isArray$2(at))at.push(Y);else if(at&&typeof at=="object")(tt&&(tt.plainObjects||tt.allowPrototypes)||!has$3.call(Object.prototype,Y))&&(at[Y]=!0);else return[at,Y];return at}if(!at||typeof at!="object")return[at].concat(Y);var y=at;return isArray$2(at)&&!isArray$2(Y)&&(y=arrayToObject(at,tt)),isArray$2(at)&&isArray$2(Y)?(Y.forEach(function(R,j){if(has$3.call(at,j)){var O=at[j];O&&typeof O=="object"&&R&&typeof R=="object"?at[j]=st(O,R,tt):at.push(R)}else at[j]=R}),at):Object.keys(Y).reduce(function(R,j){var O=Y[j];return has$3.call(R,j)?R[j]=st(R[j],O,tt):R[j]=O,R},y)},assign=function(at,Y){return Object.keys(Y).reduce(function(tt,y){return tt[y]=Y[y],tt},at)},decode$1=function(st,at,Y){var tt=st.replace(/\+/g," ");if(Y==="iso-8859-1")return tt.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(tt)}catch{return tt}},encode$1=function(at,Y,tt,y,R){if(at.length===0)return at;var j=at;if(typeof at=="symbol"?j=Symbol.prototype.toString.call(at):typeof at!="string"&&(j=String(at)),tt==="iso-8859-1")return escape(j).replace(/%u[0-9a-f]{4}/gi,function(F){return"%26%23"+parseInt(F.slice(2),16)+"%3B"});for(var O="",G=0;G<j.length;++G){var D=j.charCodeAt(G);if(D===45||D===46||D===95||D===126||D>=48&&D<=57||D>=65&&D<=90||D>=97&&D<=122||R===formats$2.RFC1738&&(D===40||D===41)){O+=j.charAt(G);continue}if(D<128){O=O+hexTable[D];continue}if(D<2048){O=O+(hexTable[192|D>>6]+hexTable[128|D&63]);continue}if(D<55296||D>=57344){O=O+(hexTable[224|D>>12]+hexTable[128|D>>6&63]+hexTable[128|D&63]);continue}G+=1,D=65536+((D&1023)<<10|j.charCodeAt(G)&1023),O+=hexTable[240|D>>18]+hexTable[128|D>>12&63]+hexTable[128|D>>6&63]+hexTable[128|D&63]}return O},compact=function(at){for(var Y=[{obj:{o:at},prop:"o"}],tt=[],y=0;y<Y.length;++y)for(var R=Y[y],j=R.obj[R.prop],O=Object.keys(j),G=0;G<O.length;++G){var D=O[G],F=j[D];typeof F=="object"&&F!==null&&tt.indexOf(F)===-1&&(Y.push({obj:j,prop:D}),tt.push(F))}return compactQueue(Y),at},isRegExp=function(at){return Object.prototype.toString.call(at)==="[object RegExp]"},isBuffer=function(at){return!at||typeof at!="object"?!1:!!(at.constructor&&at.constructor.isBuffer&&at.constructor.isBuffer(at))},combine=function(at,Y){return[].concat(at,Y)},maybeMap=function(at,Y){if(isArray$2(at)){for(var tt=[],y=0;y<at.length;y+=1)tt.push(Y(at[y]));return tt}return Y(at)},utils$2={arrayToObject,assign,combine,compact,decode:decode$1,encode:encode$1,isBuffer,isRegExp,maybeMap,merge},getSideChannel=sideChannel,utils$1=utils$2,formats$1=formats$3,has$2=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(at){return at+"[]"},comma:"comma",indices:function(at,Y){return at+"["+Y+"]"},repeat:function(at){return at}},isArray$1=Array.isArray,split=String.prototype.split,push=Array.prototype.push,pushToArray=function(st,at){push.apply(st,isArray$1(at)?at:[at])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults$2={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$1.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$1.formatters[defaultFormat],indices:!1,serializeDate:function(at){return toISO.call(at)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(at){return typeof at=="string"||typeof at=="number"||typeof at=="boolean"||typeof at=="symbol"||typeof at=="bigint"},sentinel={},stringify$2=function st(at,Y,tt,y,R,j,O,G,D,F,B,W,U,X,K){for(var J=at,Z=K,Q=0,q=!1;(Z=Z.get(sentinel))!==void 0&&!q;){var et=Z.get(at);if(Q+=1,typeof et!="undefined"){if(et===Q)throw new RangeError("Cyclic object value");q=!0}typeof Z.get(sentinel)=="undefined"&&(Q=0)}if(typeof O=="function"?J=O(Y,J):J instanceof Date?J=F(J):tt==="comma"&&isArray$1(J)&&(J=utils$1.maybeMap(J,function(Ct){return Ct instanceof Date?F(Ct):Ct})),J===null){if(y)return j&&!U?j(Y,defaults$2.encoder,X,"key",B):Y;J=""}if(isNonNullishPrimitive(J)||utils$1.isBuffer(J)){if(j){var rt=U?Y:j(Y,defaults$2.encoder,X,"key",B);if(tt==="comma"&&U){for(var nt=split.call(String(J),","),ot="",ht=0;ht<nt.length;++ht)ot+=(ht===0?"":",")+W(j(nt[ht],defaults$2.encoder,X,"value",B));return[W(rt)+"="+ot]}return[W(rt)+"="+W(j(J,defaults$2.encoder,X,"value",B))]}return[W(Y)+"="+W(String(J))]}var ut=[];if(typeof J=="undefined")return ut;var ct;if(tt==="comma"&&isArray$1(J))ct=[{value:J.length>0?J.join(",")||null:void 0}];else if(isArray$1(O))ct=O;else{var ft=Object.keys(J);ct=G?ft.sort(G):ft}for(var dt=0;dt<ct.length;++dt){var pt=ct[dt],yt=typeof pt=="object"&&pt.value!==void 0?pt.value:J[pt];if(!(R&&yt===null)){var St=isArray$1(J)?typeof tt=="function"?tt(Y,pt):Y:Y+(D?"."+pt:"["+pt+"]");K.set(at,Q);var At=getSideChannel();At.set(sentinel,K),pushToArray(ut,st(yt,St,tt,y,R,j,O,G,D,F,B,W,U,X,At))}}return ut},normalizeStringifyOptions=function(at){if(!at)return defaults$2;if(at.encoder!==null&&at.encoder!==void 0&&typeof at.encoder!="function")throw new TypeError("Encoder has to be a function.");var Y=at.charset||defaults$2.charset;if(typeof at.charset!="undefined"&&at.charset!=="utf-8"&&at.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var tt=formats$1.default;if(typeof at.format!="undefined"){if(!has$2.call(formats$1.formatters,at.format))throw new TypeError("Unknown format option provided.");tt=at.format}var y=formats$1.formatters[tt],R=defaults$2.filter;return(typeof at.filter=="function"||isArray$1(at.filter))&&(R=at.filter),{addQueryPrefix:typeof at.addQueryPrefix=="boolean"?at.addQueryPrefix:defaults$2.addQueryPrefix,allowDots:typeof at.allowDots=="undefined"?defaults$2.allowDots:!!at.allowDots,charset:Y,charsetSentinel:typeof at.charsetSentinel=="boolean"?at.charsetSentinel:defaults$2.charsetSentinel,delimiter:typeof at.delimiter=="undefined"?defaults$2.delimiter:at.delimiter,encode:typeof at.encode=="boolean"?at.encode:defaults$2.encode,encoder:typeof at.encoder=="function"?at.encoder:defaults$2.encoder,encodeValuesOnly:typeof at.encodeValuesOnly=="boolean"?at.encodeValuesOnly:defaults$2.encodeValuesOnly,filter:R,format:tt,formatter:y,serializeDate:typeof at.serializeDate=="function"?at.serializeDate:defaults$2.serializeDate,skipNulls:typeof at.skipNulls=="boolean"?at.skipNulls:defaults$2.skipNulls,sort:typeof at.sort=="function"?at.sort:null,strictNullHandling:typeof at.strictNullHandling=="boolean"?at.strictNullHandling:defaults$2.strictNullHandling}},stringify_1=function(st,at){var Y=st,tt=normalizeStringifyOptions(at),y,R;typeof tt.filter=="function"?(R=tt.filter,Y=R("",Y)):isArray$1(tt.filter)&&(R=tt.filter,y=R);var j=[];if(typeof Y!="object"||Y===null)return"";var O;at&&at.arrayFormat in arrayPrefixGenerators?O=at.arrayFormat:at&&"indices"in at?O=at.indices?"indices":"repeat":O="indices";var G=arrayPrefixGenerators[O];y||(y=Object.keys(Y)),tt.sort&&y.sort(tt.sort);for(var D=getSideChannel(),F=0;F<y.length;++F){var B=y[F];tt.skipNulls&&Y[B]===null||pushToArray(j,stringify$2(Y[B],B,G,tt.strictNullHandling,tt.skipNulls,tt.encode?tt.encoder:null,tt.filter,tt.sort,tt.allowDots,tt.serializeDate,tt.format,tt.formatter,tt.encodeValuesOnly,tt.charset,D))}var W=j.join(tt.delimiter),U=tt.addQueryPrefix===!0?"?":"";return tt.charsetSentinel&&(tt.charset==="iso-8859-1"?U+="utf8=%26%2310003%3B&":U+="utf8=%E2%9C%93&"),W.length>0?U+W:""},utils=utils$2,has$1=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults$1={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(st){return st.replace(/&#(\d+);/g,function(at,Y){return String.fromCharCode(parseInt(Y,10))})},parseArrayValue=function(st,at){return st&&typeof st=="string"&&at.comma&&st.indexOf(",")>-1?st.split(","):st},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function(at,Y){var tt={},y=Y.ignoreQueryPrefix?at.replace(/^\?/,""):at,R=Y.parameterLimit===1/0?void 0:Y.parameterLimit,j=y.split(Y.delimiter,R),O=-1,G,D=Y.charset;if(Y.charsetSentinel)for(G=0;G<j.length;++G)j[G].indexOf("utf8=")===0&&(j[G]===charsetSentinel?D="utf-8":j[G]===isoSentinel&&(D="iso-8859-1"),O=G,G=j.length);for(G=0;G<j.length;++G)if(G!==O){var F=j[G],B=F.indexOf("]="),W=B===-1?F.indexOf("="):B+1,U,X;W===-1?(U=Y.decoder(F,defaults$1.decoder,D,"key"),X=Y.strictNullHandling?null:""):(U=Y.decoder(F.slice(0,W),defaults$1.decoder,D,"key"),X=utils.maybeMap(parseArrayValue(F.slice(W+1),Y),function(K){return Y.decoder(K,defaults$1.decoder,D,"value")})),X&&Y.interpretNumericEntities&&D==="iso-8859-1"&&(X=interpretNumericEntities(X)),F.indexOf("[]=")>-1&&(X=isArray(X)?[X]:X),has$1.call(tt,U)?tt[U]=utils.combine(tt[U],X):tt[U]=X}return tt},parseObject=function(st,at,Y,tt){for(var y=tt?at:parseArrayValue(at,Y),R=st.length-1;R>=0;--R){var j,O=st[R];if(O==="[]"&&Y.parseArrays)j=[].concat(y);else{j=Y.plainObjects?Object.create(null):{};var G=O.charAt(0)==="["&&O.charAt(O.length-1)==="]"?O.slice(1,-1):O,D=parseInt(G,10);!Y.parseArrays&&G===""?j={0:y}:!isNaN(D)&&O!==G&&String(D)===G&&D>=0&&Y.parseArrays&&D<=Y.arrayLimit?(j=[],j[D]=y):j[G]=y}y=j}return y},parseKeys=function(at,Y,tt,y){if(!!at){var R=tt.allowDots?at.replace(/\.([^.[]+)/g,"[$1]"):at,j=/(\[[^[\]]*])/,O=/(\[[^[\]]*])/g,G=tt.depth>0&&j.exec(R),D=G?R.slice(0,G.index):R,F=[];if(D){if(!tt.plainObjects&&has$1.call(Object.prototype,D)&&!tt.allowPrototypes)return;F.push(D)}for(var B=0;tt.depth>0&&(G=O.exec(R))!==null&&B<tt.depth;){if(B+=1,!tt.plainObjects&&has$1.call(Object.prototype,G[1].slice(1,-1))&&!tt.allowPrototypes)return;F.push(G[1])}return G&&F.push("["+R.slice(G.index)+"]"),parseObject(F,Y,tt,y)}},normalizeParseOptions=function(at){if(!at)return defaults$1;if(at.decoder!==null&&at.decoder!==void 0&&typeof at.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof at.charset!="undefined"&&at.charset!=="utf-8"&&at.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Y=typeof at.charset=="undefined"?defaults$1.charset:at.charset;return{allowDots:typeof at.allowDots=="undefined"?defaults$1.allowDots:!!at.allowDots,allowPrototypes:typeof at.allowPrototypes=="boolean"?at.allowPrototypes:defaults$1.allowPrototypes,allowSparse:typeof at.allowSparse=="boolean"?at.allowSparse:defaults$1.allowSparse,arrayLimit:typeof at.arrayLimit=="number"?at.arrayLimit:defaults$1.arrayLimit,charset:Y,charsetSentinel:typeof at.charsetSentinel=="boolean"?at.charsetSentinel:defaults$1.charsetSentinel,comma:typeof at.comma=="boolean"?at.comma:defaults$1.comma,decoder:typeof at.decoder=="function"?at.decoder:defaults$1.decoder,delimiter:typeof at.delimiter=="string"||utils.isRegExp(at.delimiter)?at.delimiter:defaults$1.delimiter,depth:typeof at.depth=="number"||at.depth===!1?+at.depth:defaults$1.depth,ignoreQueryPrefix:at.ignoreQueryPrefix===!0,interpretNumericEntities:typeof at.interpretNumericEntities=="boolean"?at.interpretNumericEntities:defaults$1.interpretNumericEntities,parameterLimit:typeof at.parameterLimit=="number"?at.parameterLimit:defaults$1.parameterLimit,parseArrays:at.parseArrays!==!1,plainObjects:typeof at.plainObjects=="boolean"?at.plainObjects:defaults$1.plainObjects,strictNullHandling:typeof at.strictNullHandling=="boolean"?at.strictNullHandling:defaults$1.strictNullHandling}},parse$2=function(st,at){var Y=normalizeParseOptions(at);if(st===""||st===null||typeof st=="undefined")return Y.plainObjects?Object.create(null):{};for(var tt=typeof st=="string"?parseValues(st,Y):st,y=Y.plainObjects?Object.create(null):{},R=Object.keys(tt),j=0;j<R.length;++j){var O=R[j],G=parseKeys(O,tt[O],Y,typeof st=="string");y=utils.merge(y,G,Y)}return Y.allowSparse===!0?y:utils.compact(y)},stringify$1=stringify_1,parse$1=parse$2,formats=formats$3,lib$1={formats,parse:parse$1,stringify:stringify$1},_templateObject$3;function _taggedTemplateLiteral$3(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}function _defineProperty$2(st,at,Y){return at in st?Object.defineProperty(st,at,{value:Y,enumerable:!0,configurable:!0,writable:!0}):st[at]=Y,st}function _slicedToArray$5(st,at){return _arrayWithHoles$5(st)||_iterableToArrayLimit$5(st,at)||_unsupportedIterableToArray$6(st,at)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$6(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$6(st,at)}}function _arrayLikeToArray$6(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArrayLimit$5(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$5(st){if(Array.isArray(st))return st}var VALIDATION_REGEXP=/^[a-zA-Z0-9 _-]*$/,NUMBER_REGEXP=/^-?[0-9]+(\.[0-9]+)?$/,HEX_REGEXP=/^#([a-f0-9]{3,4}|[a-f0-9]{6}|[a-f0-9]{8})$/i,COLOR_REGEXP=/^(rgba?|hsla?)\(([0-9]{1,3}),\s?([0-9]{1,3})%?,\s?([0-9]{1,3})%?,?\s?([0-9](\.[0-9]{1,2})?)?\)$/i,validateArgs=function st(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Y=arguments.length>1?arguments[1]:void 0;return at===null||at===""||!VALIDATION_REGEXP.test(at)?!1:Y==null||Y instanceof Date||typeof Y=="number"||typeof Y=="boolean"?!0:typeof Y=="string"?VALIDATION_REGEXP.test(Y)||NUMBER_REGEXP.test(Y)||HEX_REGEXP.test(Y)||COLOR_REGEXP.test(Y):Array.isArray(Y)?Y.every(function(tt){return st(at,tt)}):isPlainObject_1(Y)?Object.entries(Y).every(function(tt){var y=_slicedToArray$5(tt,2),R=y[0],j=y[1];return st(R,j)}):!1},QS_OPTIONS={delimiter:";",allowDots:!0,allowSparse:!0,decoder:function(st){function at(Y,tt,y,R){return st.apply(this,arguments)}return at.toString=function(){return st.toString()},at}(function(st,at,Y,tt){if(tt==="value"&&st.startsWith("!")){if(st==="!undefined")return;if(st==="!null")return null;if(st.startsWith("!date(")&&st.endsWith(")"))return new Date(st.slice(6,-1));if(st.startsWith("!hex(")&&st.endsWith(")"))return"#".concat(st.slice(5,-1));var y=st.slice(1).match(COLOR_REGEXP);if(y)return st.startsWith("!rgba")?"".concat(y[1],"(").concat(y[2],", ").concat(y[3],", ").concat(y[4],", ").concat(y[5],")"):st.startsWith("!hsla")?"".concat(y[1],"(").concat(y[2],", ").concat(y[3],"%, ").concat(y[4],"%, ").concat(y[5],")"):st.startsWith("!rgb")?"".concat(y[1],"(").concat(y[2],", ").concat(y[3],", ").concat(y[4],")"):"".concat(y[1],"(").concat(y[2],", ").concat(y[3],"%, ").concat(y[4],"%)")}return tt==="value"&&NUMBER_REGEXP.test(st)?Number(st):at(st,at,Y)})},parseArgsParam=function(at){var Y=at.split(";").map(function(tt){return tt.replace("=","~").replace(":","=")});return Object.entries(lib$1.parse(Y.join(";"),QS_OPTIONS)).reduce(function(tt,y){var R=_slicedToArray$5(y,2),j=R[0],O=R[1];return validateArgs(j,O)?Object.assign(tt,_defineProperty$2({},j,O)):(once.warn(dedent(_templateObject$3||(_templateObject$3=_taggedTemplateLiteral$3([`
      Omitted potentially unsafe URL args.

      More info: https://storybook.js.org/docs/react/writing-stories/args#setting-args-through-the-url
    `])))),tt)},{})};function _classCallCheck$4(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$4(st,at,Y){return at&&_defineProperties$4(st.prototype,at),Y&&_defineProperties$4(st,Y),st}function _typeof(st){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(Y){return typeof Y}:_typeof=function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},_typeof(st)}function _objectWithoutProperties(st,at){if(st==null)return{};var Y=_objectWithoutPropertiesLoose(st,at),tt,y;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(st);for(y=0;y<R.length;y++)tt=R[y],!(at.indexOf(tt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(st,tt)||(Y[tt]=st[tt]))}return Y}function _objectWithoutPropertiesLoose(st,at){if(st==null)return{};var Y={},tt=Object.keys(st),y,R;for(R=0;R<tt.length;R++)y=tt[R],!(at.indexOf(y)>=0)&&(Y[y]=st[y]);return Y}var history=window_1.history,document$4=window_1.document;function pathToId(st){var at=(st||"").match(/^\/story\/(.+)/);if(!at)throw new Error("Invalid path '".concat(st,"',  must start with '/story/'"));return at[1]}var getQueryString=function(at){var Y=at.selection,tt=at.extraParams,y=document$4.location.search,R=y===void 0?"":y,j=lib$1.parse(R,{ignoreQueryPrefix:!0});j.path,j.selectedKind,j.selectedStory;var O=_objectWithoutProperties(j,["path","selectedKind","selectedStory"]);return lib$1.stringify(Object.assign({},O,tt,Y&&{id:Y.storyId,viewMode:Y.viewMode}),{encode:!1,addQueryPrefix:!0})},setPath=function(at){if(!!at){var Y=getQueryString({selection:at}),tt=document$4.location.hash,y=tt===void 0?"":tt;history.replaceState({},"","".concat(document$4.location.pathname).concat(Y).concat(y))}},isObject$2=function(at){return at!=null&&_typeof(at)==="object"&&Array.isArray(at)===!1},getFirstString=function st(at){if(typeof at=="string")return at;if(Array.isArray(at))return st(at[0]);if(isObject$2(at))return st(Object.values(at))},deprecatedLegacyQuery=browser(function(){return 0},"URL formats with `selectedKind` and `selectedName` query parameters are deprecated.\nUse `id=$storyId` instead.\nSee https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#new-url-structure"),getSelectionSpecifierFromPath=function(){var at=lib$1.parse(document$4.location.search,{ignoreQueryPrefix:!0}),Y=typeof at.args=="string"?parseArgsParam(at.args):void 0,tt=typeof at.globals=="string"?parseArgsParam(at.globals):void 0,y=getFirstString(at.viewMode);(typeof y!="string"||!y.match(/docs|story/))&&(y="story");var R=getFirstString(at.path),j=R?pathToId(R):getFirstString(at.id);if(j)return{storySpecifier:j,args:Y,globals:tt,viewMode:y};var O=getFirstString(at.selectedKind),G=getFirstString(at.selectedStory);return O&&G?(deprecatedLegacyQuery(),{storySpecifier:{title:O,name:G},args:Y,globals:tt,viewMode:y}):null},UrlStore=function(){function st(){_classCallCheck$4(this,st),this.selectionSpecifier=void 0,this.selection=void 0,this.selectionSpecifier=getSelectionSpecifierFromPath()}return _createClass$4(st,[{key:"setSelection",value:function(Y){this.selection=Y,setPath(this.selection)}},{key:"setQueryParams",value:function(Y){var tt=getQueryString({extraParams:Y}),y=document$4.location.hash,R=y===void 0?"":y;history.replaceState({},"","".concat(document$4.location.pathname).concat(tt).concat(R))}}]),st}(),lib={},decode={};const Aacute$1="\xC1",aacute$1="\xE1",Abreve="\u0102",abreve="\u0103",ac="\u223E",acd="\u223F",acE="\u223E\u0333",Acirc$1="\xC2",acirc$1="\xE2",acute$1="\xB4",Acy="\u0410",acy="\u0430",AElig$1="\xC6",aelig$1="\xE6",af="\u2061",Afr="\u{1D504}",afr="\u{1D51E}",Agrave$1="\xC0",agrave$1="\xE0",alefsym="\u2135",aleph="\u2135",Alpha="\u0391",alpha="\u03B1",Amacr="\u0100",amacr="\u0101",amalg="\u2A3F",amp$2="&",AMP$1="&",andand="\u2A55",And="\u2A53",and="\u2227",andd="\u2A5C",andslope="\u2A58",andv="\u2A5A",ang="\u2220",ange="\u29A4",angle="\u2220",angmsdaa="\u29A8",angmsdab="\u29A9",angmsdac="\u29AA",angmsdad="\u29AB",angmsdae="\u29AC",angmsdaf="\u29AD",angmsdag="\u29AE",angmsdah="\u29AF",angmsd="\u2221",angrt="\u221F",angrtvb="\u22BE",angrtvbd="\u299D",angsph="\u2222",angst="\xC5",angzarr="\u237C",Aogon="\u0104",aogon="\u0105",Aopf="\u{1D538}",aopf="\u{1D552}",apacir="\u2A6F",ap="\u2248",apE="\u2A70",ape="\u224A",apid="\u224B",apos$1="'",ApplyFunction="\u2061",approx="\u2248",approxeq="\u224A",Aring$1="\xC5",aring$1="\xE5",Ascr="\u{1D49C}",ascr="\u{1D4B6}",Assign="\u2254",ast="*",asymp="\u2248",asympeq="\u224D",Atilde$1="\xC3",atilde$1="\xE3",Auml$1="\xC4",auml$1="\xE4",awconint="\u2233",awint="\u2A11",backcong="\u224C",backepsilon="\u03F6",backprime="\u2035",backsim="\u223D",backsimeq="\u22CD",Backslash="\u2216",Barv="\u2AE7",barvee="\u22BD",barwed="\u2305",Barwed="\u2306",barwedge="\u2305",bbrk="\u23B5",bbrktbrk="\u23B6",bcong="\u224C",Bcy="\u0411",bcy="\u0431",bdquo="\u201E",becaus="\u2235",because="\u2235",Because="\u2235",bemptyv="\u29B0",bepsi="\u03F6",bernou="\u212C",Bernoullis="\u212C",Beta="\u0392",beta="\u03B2",beth="\u2136",between="\u226C",Bfr="\u{1D505}",bfr="\u{1D51F}",bigcap="\u22C2",bigcirc="\u25EF",bigcup="\u22C3",bigodot="\u2A00",bigoplus="\u2A01",bigotimes="\u2A02",bigsqcup="\u2A06",bigstar="\u2605",bigtriangledown="\u25BD",bigtriangleup="\u25B3",biguplus="\u2A04",bigvee="\u22C1",bigwedge="\u22C0",bkarow="\u290D",blacklozenge="\u29EB",blacksquare="\u25AA",blacktriangle="\u25B4",blacktriangledown="\u25BE",blacktriangleleft="\u25C2",blacktriangleright="\u25B8",blank="\u2423",blk12="\u2592",blk14="\u2591",blk34="\u2593",block="\u2588",bne="=\u20E5",bnequiv="\u2261\u20E5",bNot="\u2AED",bnot="\u2310",Bopf="\u{1D539}",bopf="\u{1D553}",bot="\u22A5",bottom="\u22A5",bowtie="\u22C8",boxbox="\u29C9",boxdl="\u2510",boxdL="\u2555",boxDl="\u2556",boxDL="\u2557",boxdr="\u250C",boxdR="\u2552",boxDr="\u2553",boxDR="\u2554",boxh="\u2500",boxH="\u2550",boxhd="\u252C",boxHd="\u2564",boxhD="\u2565",boxHD="\u2566",boxhu="\u2534",boxHu="\u2567",boxhU="\u2568",boxHU="\u2569",boxminus="\u229F",boxplus="\u229E",boxtimes="\u22A0",boxul="\u2518",boxuL="\u255B",boxUl="\u255C",boxUL="\u255D",boxur="\u2514",boxuR="\u2558",boxUr="\u2559",boxUR="\u255A",boxv="\u2502",boxV="\u2551",boxvh="\u253C",boxvH="\u256A",boxVh="\u256B",boxVH="\u256C",boxvl="\u2524",boxvL="\u2561",boxVl="\u2562",boxVL="\u2563",boxvr="\u251C",boxvR="\u255E",boxVr="\u255F",boxVR="\u2560",bprime="\u2035",breve="\u02D8",Breve="\u02D8",brvbar$1="\xA6",bscr="\u{1D4B7}",Bscr="\u212C",bsemi="\u204F",bsim="\u223D",bsime="\u22CD",bsolb="\u29C5",bsol="\\",bsolhsub="\u27C8",bull="\u2022",bullet="\u2022",bump="\u224E",bumpE="\u2AAE",bumpe="\u224F",Bumpeq="\u224E",bumpeq="\u224F",Cacute="\u0106",cacute="\u0107",capand="\u2A44",capbrcup="\u2A49",capcap="\u2A4B",cap="\u2229",Cap="\u22D2",capcup="\u2A47",capdot="\u2A40",CapitalDifferentialD="\u2145",caps="\u2229\uFE00",caret="\u2041",caron="\u02C7",Cayleys="\u212D",ccaps="\u2A4D",Ccaron="\u010C",ccaron="\u010D",Ccedil$1="\xC7",ccedil$1="\xE7",Ccirc="\u0108",ccirc="\u0109",Cconint="\u2230",ccups="\u2A4C",ccupssm="\u2A50",Cdot="\u010A",cdot="\u010B",cedil$1="\xB8",Cedilla="\xB8",cemptyv="\u29B2",cent$1="\xA2",centerdot="\xB7",CenterDot="\xB7",cfr="\u{1D520}",Cfr="\u212D",CHcy="\u0427",chcy="\u0447",check="\u2713",checkmark="\u2713",Chi="\u03A7",chi="\u03C7",circ="\u02C6",circeq="\u2257",circlearrowleft="\u21BA",circlearrowright="\u21BB",circledast="\u229B",circledcirc="\u229A",circleddash="\u229D",CircleDot="\u2299",circledR="\xAE",circledS="\u24C8",CircleMinus="\u2296",CirclePlus="\u2295",CircleTimes="\u2297",cir="\u25CB",cirE="\u29C3",cire="\u2257",cirfnint="\u2A10",cirmid="\u2AEF",cirscir="\u29C2",ClockwiseContourIntegral="\u2232",CloseCurlyDoubleQuote="\u201D",CloseCurlyQuote="\u2019",clubs="\u2663",clubsuit="\u2663",colon=":",Colon="\u2237",Colone="\u2A74",colone="\u2254",coloneq="\u2254",comma=",",commat="@",comp="\u2201",compfn="\u2218",complement="\u2201",complexes="\u2102",cong="\u2245",congdot="\u2A6D",Congruent="\u2261",conint="\u222E",Conint="\u222F",ContourIntegral="\u222E",copf="\u{1D554}",Copf="\u2102",coprod="\u2210",Coproduct="\u2210",copy$1="\xA9",COPY$1="\xA9",copysr="\u2117",CounterClockwiseContourIntegral="\u2233",crarr="\u21B5",cross="\u2717",Cross="\u2A2F",Cscr="\u{1D49E}",cscr="\u{1D4B8}",csub="\u2ACF",csube="\u2AD1",csup="\u2AD0",csupe="\u2AD2",ctdot="\u22EF",cudarrl="\u2938",cudarrr="\u2935",cuepr="\u22DE",cuesc="\u22DF",cularr="\u21B6",cularrp="\u293D",cupbrcap="\u2A48",cupcap="\u2A46",CupCap="\u224D",cup="\u222A",Cup="\u22D3",cupcup="\u2A4A",cupdot="\u228D",cupor="\u2A45",cups="\u222A\uFE00",curarr="\u21B7",curarrm="\u293C",curlyeqprec="\u22DE",curlyeqsucc="\u22DF",curlyvee="\u22CE",curlywedge="\u22CF",curren$1="\xA4",curvearrowleft="\u21B6",curvearrowright="\u21B7",cuvee="\u22CE",cuwed="\u22CF",cwconint="\u2232",cwint="\u2231",cylcty="\u232D",dagger="\u2020",Dagger="\u2021",daleth="\u2138",darr="\u2193",Darr="\u21A1",dArr="\u21D3",dash="\u2010",Dashv="\u2AE4",dashv="\u22A3",dbkarow="\u290F",dblac="\u02DD",Dcaron="\u010E",dcaron="\u010F",Dcy="\u0414",dcy="\u0434",ddagger="\u2021",ddarr="\u21CA",DD="\u2145",dd="\u2146",DDotrahd="\u2911",ddotseq="\u2A77",deg$1="\xB0",Del="\u2207",Delta="\u0394",delta="\u03B4",demptyv="\u29B1",dfisht="\u297F",Dfr="\u{1D507}",dfr="\u{1D521}",dHar="\u2965",dharl="\u21C3",dharr="\u21C2",DiacriticalAcute="\xB4",DiacriticalDot="\u02D9",DiacriticalDoubleAcute="\u02DD",DiacriticalGrave="`",DiacriticalTilde="\u02DC",diam="\u22C4",diamond="\u22C4",Diamond="\u22C4",diamondsuit="\u2666",diams="\u2666",die="\xA8",DifferentialD="\u2146",digamma="\u03DD",disin="\u22F2",div="\xF7",divide$1="\xF7",divideontimes="\u22C7",divonx="\u22C7",DJcy="\u0402",djcy="\u0452",dlcorn="\u231E",dlcrop="\u230D",dollar="$",Dopf="\u{1D53B}",dopf="\u{1D555}",Dot="\xA8",dot="\u02D9",DotDot="\u20DC",doteq="\u2250",doteqdot="\u2251",DotEqual="\u2250",dotminus="\u2238",dotplus="\u2214",dotsquare="\u22A1",doublebarwedge="\u2306",DoubleContourIntegral="\u222F",DoubleDot="\xA8",DoubleDownArrow="\u21D3",DoubleLeftArrow="\u21D0",DoubleLeftRightArrow="\u21D4",DoubleLeftTee="\u2AE4",DoubleLongLeftArrow="\u27F8",DoubleLongLeftRightArrow="\u27FA",DoubleLongRightArrow="\u27F9",DoubleRightArrow="\u21D2",DoubleRightTee="\u22A8",DoubleUpArrow="\u21D1",DoubleUpDownArrow="\u21D5",DoubleVerticalBar="\u2225",DownArrowBar="\u2913",downarrow="\u2193",DownArrow="\u2193",Downarrow="\u21D3",DownArrowUpArrow="\u21F5",DownBreve="\u0311",downdownarrows="\u21CA",downharpoonleft="\u21C3",downharpoonright="\u21C2",DownLeftRightVector="\u2950",DownLeftTeeVector="\u295E",DownLeftVectorBar="\u2956",DownLeftVector="\u21BD",DownRightTeeVector="\u295F",DownRightVectorBar="\u2957",DownRightVector="\u21C1",DownTeeArrow="\u21A7",DownTee="\u22A4",drbkarow="\u2910",drcorn="\u231F",drcrop="\u230C",Dscr="\u{1D49F}",dscr="\u{1D4B9}",DScy="\u0405",dscy="\u0455",dsol="\u29F6",Dstrok="\u0110",dstrok="\u0111",dtdot="\u22F1",dtri="\u25BF",dtrif="\u25BE",duarr="\u21F5",duhar="\u296F",dwangle="\u29A6",DZcy="\u040F",dzcy="\u045F",dzigrarr="\u27FF",Eacute$1="\xC9",eacute$1="\xE9",easter="\u2A6E",Ecaron="\u011A",ecaron="\u011B",Ecirc$1="\xCA",ecirc$1="\xEA",ecir="\u2256",ecolon="\u2255",Ecy="\u042D",ecy="\u044D",eDDot="\u2A77",Edot="\u0116",edot="\u0117",eDot="\u2251",ee="\u2147",efDot="\u2252",Efr="\u{1D508}",efr="\u{1D522}",eg="\u2A9A",Egrave$1="\xC8",egrave$1="\xE8",egs="\u2A96",egsdot="\u2A98",el="\u2A99",Element$1="\u2208",elinters="\u23E7",ell="\u2113",els="\u2A95",elsdot="\u2A97",Emacr="\u0112",emacr="\u0113",empty="\u2205",emptyset="\u2205",EmptySmallSquare="\u25FB",emptyv="\u2205",EmptyVerySmallSquare="\u25AB",emsp13="\u2004",emsp14="\u2005",emsp="\u2003",ENG="\u014A",eng="\u014B",ensp="\u2002",Eogon="\u0118",eogon="\u0119",Eopf="\u{1D53C}",eopf="\u{1D556}",epar="\u22D5",eparsl="\u29E3",eplus="\u2A71",epsi="\u03B5",Epsilon="\u0395",epsilon="\u03B5",epsiv="\u03F5",eqcirc="\u2256",eqcolon="\u2255",eqsim="\u2242",eqslantgtr="\u2A96",eqslantless="\u2A95",Equal="\u2A75",equals="=",EqualTilde="\u2242",equest="\u225F",Equilibrium="\u21CC",equiv="\u2261",equivDD="\u2A78",eqvparsl="\u29E5",erarr="\u2971",erDot="\u2253",escr="\u212F",Escr="\u2130",esdot="\u2250",Esim="\u2A73",esim="\u2242",Eta="\u0397",eta="\u03B7",ETH$1="\xD0",eth$1="\xF0",Euml$1="\xCB",euml$1="\xEB",euro="\u20AC",excl="!",exist="\u2203",Exists="\u2203",expectation="\u2130",exponentiale="\u2147",ExponentialE="\u2147",fallingdotseq="\u2252",Fcy="\u0424",fcy="\u0444",female="\u2640",ffilig="\uFB03",fflig="\uFB00",ffllig="\uFB04",Ffr="\u{1D509}",ffr="\u{1D523}",filig="\uFB01",FilledSmallSquare="\u25FC",FilledVerySmallSquare="\u25AA",fjlig="fj",flat="\u266D",fllig="\uFB02",fltns="\u25B1",fnof="\u0192",Fopf="\u{1D53D}",fopf="\u{1D557}",forall="\u2200",ForAll="\u2200",fork="\u22D4",forkv="\u2AD9",Fouriertrf="\u2131",fpartint="\u2A0D",frac12$1="\xBD",frac13="\u2153",frac14$1="\xBC",frac15="\u2155",frac16="\u2159",frac18="\u215B",frac23="\u2154",frac25="\u2156",frac34$1="\xBE",frac35="\u2157",frac38="\u215C",frac45="\u2158",frac56="\u215A",frac58="\u215D",frac78="\u215E",frasl="\u2044",frown="\u2322",fscr="\u{1D4BB}",Fscr="\u2131",gacute="\u01F5",Gamma="\u0393",gamma="\u03B3",Gammad="\u03DC",gammad="\u03DD",gap="\u2A86",Gbreve="\u011E",gbreve="\u011F",Gcedil="\u0122",Gcirc="\u011C",gcirc="\u011D",Gcy="\u0413",gcy="\u0433",Gdot="\u0120",gdot="\u0121",ge="\u2265",gE="\u2267",gEl="\u2A8C",gel="\u22DB",geq="\u2265",geqq="\u2267",geqslant="\u2A7E",gescc="\u2AA9",ges="\u2A7E",gesdot="\u2A80",gesdoto="\u2A82",gesdotol="\u2A84",gesl="\u22DB\uFE00",gesles="\u2A94",Gfr="\u{1D50A}",gfr="\u{1D524}",gg="\u226B",Gg="\u22D9",ggg="\u22D9",gimel="\u2137",GJcy="\u0403",gjcy="\u0453",gla="\u2AA5",gl="\u2277",glE="\u2A92",glj="\u2AA4",gnap="\u2A8A",gnapprox="\u2A8A",gne="\u2A88",gnE="\u2269",gneq="\u2A88",gneqq="\u2269",gnsim="\u22E7",Gopf="\u{1D53E}",gopf="\u{1D558}",grave="`",GreaterEqual="\u2265",GreaterEqualLess="\u22DB",GreaterFullEqual="\u2267",GreaterGreater="\u2AA2",GreaterLess="\u2277",GreaterSlantEqual="\u2A7E",GreaterTilde="\u2273",Gscr="\u{1D4A2}",gscr="\u210A",gsim="\u2273",gsime="\u2A8E",gsiml="\u2A90",gtcc="\u2AA7",gtcir="\u2A7A",gt$2=">",GT$1=">",Gt="\u226B",gtdot="\u22D7",gtlPar="\u2995",gtquest="\u2A7C",gtrapprox="\u2A86",gtrarr="\u2978",gtrdot="\u22D7",gtreqless="\u22DB",gtreqqless="\u2A8C",gtrless="\u2277",gtrsim="\u2273",gvertneqq="\u2269\uFE00",gvnE="\u2269\uFE00",Hacek="\u02C7",hairsp="\u200A",half="\xBD",hamilt="\u210B",HARDcy="\u042A",hardcy="\u044A",harrcir="\u2948",harr="\u2194",hArr="\u21D4",harrw="\u21AD",Hat="^",hbar="\u210F",Hcirc="\u0124",hcirc="\u0125",hearts="\u2665",heartsuit="\u2665",hellip="\u2026",hercon="\u22B9",hfr="\u{1D525}",Hfr="\u210C",HilbertSpace="\u210B",hksearow="\u2925",hkswarow="\u2926",hoarr="\u21FF",homtht="\u223B",hookleftarrow="\u21A9",hookrightarrow="\u21AA",hopf="\u{1D559}",Hopf="\u210D",horbar="\u2015",HorizontalLine="\u2500",hscr="\u{1D4BD}",Hscr="\u210B",hslash="\u210F",Hstrok="\u0126",hstrok="\u0127",HumpDownHump="\u224E",HumpEqual="\u224F",hybull="\u2043",hyphen="\u2010",Iacute$1="\xCD",iacute$1="\xED",ic="\u2063",Icirc$1="\xCE",icirc$1="\xEE",Icy="\u0418",icy="\u0438",Idot="\u0130",IEcy="\u0415",iecy="\u0435",iexcl$1="\xA1",iff="\u21D4",ifr="\u{1D526}",Ifr="\u2111",Igrave$1="\xCC",igrave$1="\xEC",ii="\u2148",iiiint="\u2A0C",iiint="\u222D",iinfin="\u29DC",iiota="\u2129",IJlig="\u0132",ijlig="\u0133",Imacr="\u012A",imacr="\u012B",image="\u2111",ImaginaryI="\u2148",imagline="\u2110",imagpart="\u2111",imath="\u0131",Im="\u2111",imof="\u22B7",imped="\u01B5",Implies="\u21D2",incare="\u2105",infin="\u221E",infintie="\u29DD",inodot="\u0131",intcal="\u22BA",int="\u222B",Int="\u222C",integers="\u2124",Integral="\u222B",intercal="\u22BA",Intersection="\u22C2",intlarhk="\u2A17",intprod="\u2A3C",InvisibleComma="\u2063",InvisibleTimes="\u2062",IOcy="\u0401",iocy="\u0451",Iogon="\u012E",iogon="\u012F",Iopf="\u{1D540}",iopf="\u{1D55A}",Iota="\u0399",iota="\u03B9",iprod="\u2A3C",iquest$1="\xBF",iscr="\u{1D4BE}",Iscr="\u2110",isin="\u2208",isindot="\u22F5",isinE="\u22F9",isins="\u22F4",isinsv="\u22F3",isinv="\u2208",it="\u2062",Itilde="\u0128",itilde="\u0129",Iukcy="\u0406",iukcy="\u0456",Iuml$1="\xCF",iuml$1="\xEF",Jcirc="\u0134",jcirc="\u0135",Jcy="\u0419",jcy="\u0439",Jfr="\u{1D50D}",jfr="\u{1D527}",jmath="\u0237",Jopf="\u{1D541}",jopf="\u{1D55B}",Jscr="\u{1D4A5}",jscr="\u{1D4BF}",Jsercy="\u0408",jsercy="\u0458",Jukcy="\u0404",jukcy="\u0454",Kappa="\u039A",kappa="\u03BA",kappav="\u03F0",Kcedil="\u0136",kcedil="\u0137",Kcy="\u041A",kcy="\u043A",Kfr="\u{1D50E}",kfr="\u{1D528}",kgreen="\u0138",KHcy="\u0425",khcy="\u0445",KJcy="\u040C",kjcy="\u045C",Kopf="\u{1D542}",kopf="\u{1D55C}",Kscr="\u{1D4A6}",kscr="\u{1D4C0}",lAarr="\u21DA",Lacute="\u0139",lacute="\u013A",laemptyv="\u29B4",lagran="\u2112",Lambda="\u039B",lambda="\u03BB",lang="\u27E8",Lang="\u27EA",langd="\u2991",langle="\u27E8",lap="\u2A85",Laplacetrf="\u2112",laquo$1="\xAB",larrb="\u21E4",larrbfs="\u291F",larr="\u2190",Larr="\u219E",lArr="\u21D0",larrfs="\u291D",larrhk="\u21A9",larrlp="\u21AB",larrpl="\u2939",larrsim="\u2973",larrtl="\u21A2",latail="\u2919",lAtail="\u291B",lat="\u2AAB",late="\u2AAD",lates="\u2AAD\uFE00",lbarr="\u290C",lBarr="\u290E",lbbrk="\u2772",lbrace="{",lbrack="[",lbrke="\u298B",lbrksld="\u298F",lbrkslu="\u298D",Lcaron="\u013D",lcaron="\u013E",Lcedil="\u013B",lcedil="\u013C",lceil="\u2308",lcub="{",Lcy="\u041B",lcy="\u043B",ldca="\u2936",ldquo="\u201C",ldquor="\u201E",ldrdhar="\u2967",ldrushar="\u294B",ldsh="\u21B2",le="\u2264",lE="\u2266",LeftAngleBracket="\u27E8",LeftArrowBar="\u21E4",leftarrow="\u2190",LeftArrow="\u2190",Leftarrow="\u21D0",LeftArrowRightArrow="\u21C6",leftarrowtail="\u21A2",LeftCeiling="\u2308",LeftDoubleBracket="\u27E6",LeftDownTeeVector="\u2961",LeftDownVectorBar="\u2959",LeftDownVector="\u21C3",LeftFloor="\u230A",leftharpoondown="\u21BD",leftharpoonup="\u21BC",leftleftarrows="\u21C7",leftrightarrow="\u2194",LeftRightArrow="\u2194",Leftrightarrow="\u21D4",leftrightarrows="\u21C6",leftrightharpoons="\u21CB",leftrightsquigarrow="\u21AD",LeftRightVector="\u294E",LeftTeeArrow="\u21A4",LeftTee="\u22A3",LeftTeeVector="\u295A",leftthreetimes="\u22CB",LeftTriangleBar="\u29CF",LeftTriangle="\u22B2",LeftTriangleEqual="\u22B4",LeftUpDownVector="\u2951",LeftUpTeeVector="\u2960",LeftUpVectorBar="\u2958",LeftUpVector="\u21BF",LeftVectorBar="\u2952",LeftVector="\u21BC",lEg="\u2A8B",leg="\u22DA",leq="\u2264",leqq="\u2266",leqslant="\u2A7D",lescc="\u2AA8",les="\u2A7D",lesdot="\u2A7F",lesdoto="\u2A81",lesdotor="\u2A83",lesg="\u22DA\uFE00",lesges="\u2A93",lessapprox="\u2A85",lessdot="\u22D6",lesseqgtr="\u22DA",lesseqqgtr="\u2A8B",LessEqualGreater="\u22DA",LessFullEqual="\u2266",LessGreater="\u2276",lessgtr="\u2276",LessLess="\u2AA1",lesssim="\u2272",LessSlantEqual="\u2A7D",LessTilde="\u2272",lfisht="\u297C",lfloor="\u230A",Lfr="\u{1D50F}",lfr="\u{1D529}",lg="\u2276",lgE="\u2A91",lHar="\u2962",lhard="\u21BD",lharu="\u21BC",lharul="\u296A",lhblk="\u2584",LJcy="\u0409",ljcy="\u0459",llarr="\u21C7",ll="\u226A",Ll="\u22D8",llcorner="\u231E",Lleftarrow="\u21DA",llhard="\u296B",lltri="\u25FA",Lmidot="\u013F",lmidot="\u0140",lmoustache="\u23B0",lmoust="\u23B0",lnap="\u2A89",lnapprox="\u2A89",lne="\u2A87",lnE="\u2268",lneq="\u2A87",lneqq="\u2268",lnsim="\u22E6",loang="\u27EC",loarr="\u21FD",lobrk="\u27E6",longleftarrow="\u27F5",LongLeftArrow="\u27F5",Longleftarrow="\u27F8",longleftrightarrow="\u27F7",LongLeftRightArrow="\u27F7",Longleftrightarrow="\u27FA",longmapsto="\u27FC",longrightarrow="\u27F6",LongRightArrow="\u27F6",Longrightarrow="\u27F9",looparrowleft="\u21AB",looparrowright="\u21AC",lopar="\u2985",Lopf="\u{1D543}",lopf="\u{1D55D}",loplus="\u2A2D",lotimes="\u2A34",lowast="\u2217",lowbar="_",LowerLeftArrow="\u2199",LowerRightArrow="\u2198",loz="\u25CA",lozenge="\u25CA",lozf="\u29EB",lpar="(",lparlt="\u2993",lrarr="\u21C6",lrcorner="\u231F",lrhar="\u21CB",lrhard="\u296D",lrm="\u200E",lrtri="\u22BF",lsaquo="\u2039",lscr="\u{1D4C1}",Lscr="\u2112",lsh="\u21B0",Lsh="\u21B0",lsim="\u2272",lsime="\u2A8D",lsimg="\u2A8F",lsqb="[",lsquo="\u2018",lsquor="\u201A",Lstrok="\u0141",lstrok="\u0142",ltcc="\u2AA6",ltcir="\u2A79",lt$2="<",LT$1="<",Lt="\u226A",ltdot="\u22D6",lthree="\u22CB",ltimes="\u22C9",ltlarr="\u2976",ltquest="\u2A7B",ltri="\u25C3",ltrie="\u22B4",ltrif="\u25C2",ltrPar="\u2996",lurdshar="\u294A",luruhar="\u2966",lvertneqq="\u2268\uFE00",lvnE="\u2268\uFE00",macr$1="\xAF",male="\u2642",malt="\u2720",maltese="\u2720",map="\u21A6",mapsto="\u21A6",mapstodown="\u21A7",mapstoleft="\u21A4",mapstoup="\u21A5",marker="\u25AE",mcomma="\u2A29",Mcy="\u041C",mcy="\u043C",mdash="\u2014",mDDot="\u223A",measuredangle="\u2221",MediumSpace="\u205F",Mellintrf="\u2133",Mfr="\u{1D510}",mfr="\u{1D52A}",mho="\u2127",micro$1="\xB5",midast="*",midcir="\u2AF0",mid="\u2223",middot$1="\xB7",minusb="\u229F",minus="\u2212",minusd="\u2238",minusdu="\u2A2A",MinusPlus="\u2213",mlcp="\u2ADB",mldr="\u2026",mnplus="\u2213",models="\u22A7",Mopf="\u{1D544}",mopf="\u{1D55E}",mp="\u2213",mscr="\u{1D4C2}",Mscr="\u2133",mstpos="\u223E",Mu="\u039C",mu="\u03BC",multimap="\u22B8",mumap="\u22B8",nabla="\u2207",Nacute="\u0143",nacute="\u0144",nang="\u2220\u20D2",nap="\u2249",napE="\u2A70\u0338",napid="\u224B\u0338",napos="\u0149",napprox="\u2249",natural="\u266E",naturals="\u2115",natur="\u266E",nbsp$1="\xA0",nbump="\u224E\u0338",nbumpe="\u224F\u0338",ncap="\u2A43",Ncaron="\u0147",ncaron="\u0148",Ncedil="\u0145",ncedil="\u0146",ncong="\u2247",ncongdot="\u2A6D\u0338",ncup="\u2A42",Ncy="\u041D",ncy="\u043D",ndash="\u2013",nearhk="\u2924",nearr="\u2197",neArr="\u21D7",nearrow="\u2197",ne="\u2260",nedot="\u2250\u0338",NegativeMediumSpace="\u200B",NegativeThickSpace="\u200B",NegativeThinSpace="\u200B",NegativeVeryThinSpace="\u200B",nequiv="\u2262",nesear="\u2928",nesim="\u2242\u0338",NestedGreaterGreater="\u226B",NestedLessLess="\u226A",NewLine=`
`,nexist="\u2204",nexists="\u2204",Nfr="\u{1D511}",nfr="\u{1D52B}",ngE="\u2267\u0338",nge="\u2271",ngeq="\u2271",ngeqq="\u2267\u0338",ngeqslant="\u2A7E\u0338",nges="\u2A7E\u0338",nGg="\u22D9\u0338",ngsim="\u2275",nGt="\u226B\u20D2",ngt="\u226F",ngtr="\u226F",nGtv="\u226B\u0338",nharr="\u21AE",nhArr="\u21CE",nhpar="\u2AF2",ni="\u220B",nis="\u22FC",nisd="\u22FA",niv="\u220B",NJcy="\u040A",njcy="\u045A",nlarr="\u219A",nlArr="\u21CD",nldr="\u2025",nlE="\u2266\u0338",nle="\u2270",nleftarrow="\u219A",nLeftarrow="\u21CD",nleftrightarrow="\u21AE",nLeftrightarrow="\u21CE",nleq="\u2270",nleqq="\u2266\u0338",nleqslant="\u2A7D\u0338",nles="\u2A7D\u0338",nless="\u226E",nLl="\u22D8\u0338",nlsim="\u2274",nLt="\u226A\u20D2",nlt="\u226E",nltri="\u22EA",nltrie="\u22EC",nLtv="\u226A\u0338",nmid="\u2224",NoBreak="\u2060",NonBreakingSpace="\xA0",nopf="\u{1D55F}",Nopf="\u2115",Not="\u2AEC",not$1="\xAC",NotCongruent="\u2262",NotCupCap="\u226D",NotDoubleVerticalBar="\u2226",NotElement="\u2209",NotEqual="\u2260",NotEqualTilde="\u2242\u0338",NotExists="\u2204",NotGreater="\u226F",NotGreaterEqual="\u2271",NotGreaterFullEqual="\u2267\u0338",NotGreaterGreater="\u226B\u0338",NotGreaterLess="\u2279",NotGreaterSlantEqual="\u2A7E\u0338",NotGreaterTilde="\u2275",NotHumpDownHump="\u224E\u0338",NotHumpEqual="\u224F\u0338",notin="\u2209",notindot="\u22F5\u0338",notinE="\u22F9\u0338",notinva="\u2209",notinvb="\u22F7",notinvc="\u22F6",NotLeftTriangleBar="\u29CF\u0338",NotLeftTriangle="\u22EA",NotLeftTriangleEqual="\u22EC",NotLess="\u226E",NotLessEqual="\u2270",NotLessGreater="\u2278",NotLessLess="\u226A\u0338",NotLessSlantEqual="\u2A7D\u0338",NotLessTilde="\u2274",NotNestedGreaterGreater="\u2AA2\u0338",NotNestedLessLess="\u2AA1\u0338",notni="\u220C",notniva="\u220C",notnivb="\u22FE",notnivc="\u22FD",NotPrecedes="\u2280",NotPrecedesEqual="\u2AAF\u0338",NotPrecedesSlantEqual="\u22E0",NotReverseElement="\u220C",NotRightTriangleBar="\u29D0\u0338",NotRightTriangle="\u22EB",NotRightTriangleEqual="\u22ED",NotSquareSubset="\u228F\u0338",NotSquareSubsetEqual="\u22E2",NotSquareSuperset="\u2290\u0338",NotSquareSupersetEqual="\u22E3",NotSubset="\u2282\u20D2",NotSubsetEqual="\u2288",NotSucceeds="\u2281",NotSucceedsEqual="\u2AB0\u0338",NotSucceedsSlantEqual="\u22E1",NotSucceedsTilde="\u227F\u0338",NotSuperset="\u2283\u20D2",NotSupersetEqual="\u2289",NotTilde="\u2241",NotTildeEqual="\u2244",NotTildeFullEqual="\u2247",NotTildeTilde="\u2249",NotVerticalBar="\u2224",nparallel="\u2226",npar="\u2226",nparsl="\u2AFD\u20E5",npart="\u2202\u0338",npolint="\u2A14",npr="\u2280",nprcue="\u22E0",nprec="\u2280",npreceq="\u2AAF\u0338",npre="\u2AAF\u0338",nrarrc="\u2933\u0338",nrarr="\u219B",nrArr="\u21CF",nrarrw="\u219D\u0338",nrightarrow="\u219B",nRightarrow="\u21CF",nrtri="\u22EB",nrtrie="\u22ED",nsc="\u2281",nsccue="\u22E1",nsce="\u2AB0\u0338",Nscr="\u{1D4A9}",nscr="\u{1D4C3}",nshortmid="\u2224",nshortparallel="\u2226",nsim="\u2241",nsime="\u2244",nsimeq="\u2244",nsmid="\u2224",nspar="\u2226",nsqsube="\u22E2",nsqsupe="\u22E3",nsub="\u2284",nsubE="\u2AC5\u0338",nsube="\u2288",nsubset="\u2282\u20D2",nsubseteq="\u2288",nsubseteqq="\u2AC5\u0338",nsucc="\u2281",nsucceq="\u2AB0\u0338",nsup="\u2285",nsupE="\u2AC6\u0338",nsupe="\u2289",nsupset="\u2283\u20D2",nsupseteq="\u2289",nsupseteqq="\u2AC6\u0338",ntgl="\u2279",Ntilde$1="\xD1",ntilde$1="\xF1",ntlg="\u2278",ntriangleleft="\u22EA",ntrianglelefteq="\u22EC",ntriangleright="\u22EB",ntrianglerighteq="\u22ED",Nu="\u039D",nu="\u03BD",num="#",numero="\u2116",numsp="\u2007",nvap="\u224D\u20D2",nvdash="\u22AC",nvDash="\u22AD",nVdash="\u22AE",nVDash="\u22AF",nvge="\u2265\u20D2",nvgt=">\u20D2",nvHarr="\u2904",nvinfin="\u29DE",nvlArr="\u2902",nvle="\u2264\u20D2",nvlt="<\u20D2",nvltrie="\u22B4\u20D2",nvrArr="\u2903",nvrtrie="\u22B5\u20D2",nvsim="\u223C\u20D2",nwarhk="\u2923",nwarr="\u2196",nwArr="\u21D6",nwarrow="\u2196",nwnear="\u2927",Oacute$1="\xD3",oacute$1="\xF3",oast="\u229B",Ocirc$1="\xD4",ocirc$1="\xF4",ocir="\u229A",Ocy="\u041E",ocy="\u043E",odash="\u229D",Odblac="\u0150",odblac="\u0151",odiv="\u2A38",odot="\u2299",odsold="\u29BC",OElig="\u0152",oelig="\u0153",ofcir="\u29BF",Ofr="\u{1D512}",ofr="\u{1D52C}",ogon="\u02DB",Ograve$1="\xD2",ograve$1="\xF2",ogt="\u29C1",ohbar="\u29B5",ohm="\u03A9",oint="\u222E",olarr="\u21BA",olcir="\u29BE",olcross="\u29BB",oline="\u203E",olt="\u29C0",Omacr="\u014C",omacr="\u014D",Omega="\u03A9",omega="\u03C9",Omicron="\u039F",omicron="\u03BF",omid="\u29B6",ominus="\u2296",Oopf="\u{1D546}",oopf="\u{1D560}",opar="\u29B7",OpenCurlyDoubleQuote="\u201C",OpenCurlyQuote="\u2018",operp="\u29B9",oplus="\u2295",orarr="\u21BB",Or="\u2A54",or="\u2228",ord="\u2A5D",order="\u2134",orderof="\u2134",ordf$1="\xAA",ordm$1="\xBA",origof="\u22B6",oror="\u2A56",orslope="\u2A57",orv="\u2A5B",oS="\u24C8",Oscr="\u{1D4AA}",oscr="\u2134",Oslash$1="\xD8",oslash$1="\xF8",osol="\u2298",Otilde$1="\xD5",otilde$1="\xF5",otimesas="\u2A36",Otimes="\u2A37",otimes="\u2297",Ouml$1="\xD6",ouml$1="\xF6",ovbar="\u233D",OverBar="\u203E",OverBrace="\u23DE",OverBracket="\u23B4",OverParenthesis="\u23DC",para$1="\xB6",parallel="\u2225",par="\u2225",parsim="\u2AF3",parsl="\u2AFD",part="\u2202",PartialD="\u2202",Pcy="\u041F",pcy="\u043F",percnt="%",period=".",permil="\u2030",perp="\u22A5",pertenk="\u2031",Pfr="\u{1D513}",pfr="\u{1D52D}",Phi="\u03A6",phi="\u03C6",phiv="\u03D5",phmmat="\u2133",phone="\u260E",Pi="\u03A0",pi="\u03C0",pitchfork="\u22D4",piv="\u03D6",planck="\u210F",planckh="\u210E",plankv="\u210F",plusacir="\u2A23",plusb="\u229E",pluscir="\u2A22",plus="+",plusdo="\u2214",plusdu="\u2A25",pluse="\u2A72",PlusMinus="\xB1",plusmn$1="\xB1",plussim="\u2A26",plustwo="\u2A27",pm="\xB1",Poincareplane="\u210C",pointint="\u2A15",popf="\u{1D561}",Popf="\u2119",pound$1="\xA3",prap="\u2AB7",Pr="\u2ABB",pr="\u227A",prcue="\u227C",precapprox="\u2AB7",prec="\u227A",preccurlyeq="\u227C",Precedes="\u227A",PrecedesEqual="\u2AAF",PrecedesSlantEqual="\u227C",PrecedesTilde="\u227E",preceq="\u2AAF",precnapprox="\u2AB9",precneqq="\u2AB5",precnsim="\u22E8",pre="\u2AAF",prE="\u2AB3",precsim="\u227E",prime="\u2032",Prime="\u2033",primes="\u2119",prnap="\u2AB9",prnE="\u2AB5",prnsim="\u22E8",prod="\u220F",Product="\u220F",profalar="\u232E",profline="\u2312",profsurf="\u2313",prop="\u221D",Proportional="\u221D",Proportion="\u2237",propto="\u221D",prsim="\u227E",prurel="\u22B0",Pscr="\u{1D4AB}",pscr="\u{1D4C5}",Psi="\u03A8",psi="\u03C8",puncsp="\u2008",Qfr="\u{1D514}",qfr="\u{1D52E}",qint="\u2A0C",qopf="\u{1D562}",Qopf="\u211A",qprime="\u2057",Qscr="\u{1D4AC}",qscr="\u{1D4C6}",quaternions="\u210D",quatint="\u2A16",quest="?",questeq="\u225F",quot$2='"',QUOT$1='"',rAarr="\u21DB",race="\u223D\u0331",Racute="\u0154",racute="\u0155",radic="\u221A",raemptyv="\u29B3",rang="\u27E9",Rang="\u27EB",rangd="\u2992",range$1="\u29A5",rangle="\u27E9",raquo$1="\xBB",rarrap="\u2975",rarrb="\u21E5",rarrbfs="\u2920",rarrc="\u2933",rarr="\u2192",Rarr="\u21A0",rArr="\u21D2",rarrfs="\u291E",rarrhk="\u21AA",rarrlp="\u21AC",rarrpl="\u2945",rarrsim="\u2974",Rarrtl="\u2916",rarrtl="\u21A3",rarrw="\u219D",ratail="\u291A",rAtail="\u291C",ratio="\u2236",rationals="\u211A",rbarr="\u290D",rBarr="\u290F",RBarr="\u2910",rbbrk="\u2773",rbrace="}",rbrack="]",rbrke="\u298C",rbrksld="\u298E",rbrkslu="\u2990",Rcaron="\u0158",rcaron="\u0159",Rcedil="\u0156",rcedil="\u0157",rceil="\u2309",rcub="}",Rcy="\u0420",rcy="\u0440",rdca="\u2937",rdldhar="\u2969",rdquo="\u201D",rdquor="\u201D",rdsh="\u21B3",real="\u211C",realine="\u211B",realpart="\u211C",reals="\u211D",Re="\u211C",rect="\u25AD",reg$1="\xAE",REG$1="\xAE",ReverseElement="\u220B",ReverseEquilibrium="\u21CB",ReverseUpEquilibrium="\u296F",rfisht="\u297D",rfloor="\u230B",rfr="\u{1D52F}",Rfr="\u211C",rHar="\u2964",rhard="\u21C1",rharu="\u21C0",rharul="\u296C",Rho="\u03A1",rho="\u03C1",rhov="\u03F1",RightAngleBracket="\u27E9",RightArrowBar="\u21E5",rightarrow="\u2192",RightArrow="\u2192",Rightarrow="\u21D2",RightArrowLeftArrow="\u21C4",rightarrowtail="\u21A3",RightCeiling="\u2309",RightDoubleBracket="\u27E7",RightDownTeeVector="\u295D",RightDownVectorBar="\u2955",RightDownVector="\u21C2",RightFloor="\u230B",rightharpoondown="\u21C1",rightharpoonup="\u21C0",rightleftarrows="\u21C4",rightleftharpoons="\u21CC",rightrightarrows="\u21C9",rightsquigarrow="\u219D",RightTeeArrow="\u21A6",RightTee="\u22A2",RightTeeVector="\u295B",rightthreetimes="\u22CC",RightTriangleBar="\u29D0",RightTriangle="\u22B3",RightTriangleEqual="\u22B5",RightUpDownVector="\u294F",RightUpTeeVector="\u295C",RightUpVectorBar="\u2954",RightUpVector="\u21BE",RightVectorBar="\u2953",RightVector="\u21C0",ring="\u02DA",risingdotseq="\u2253",rlarr="\u21C4",rlhar="\u21CC",rlm="\u200F",rmoustache="\u23B1",rmoust="\u23B1",rnmid="\u2AEE",roang="\u27ED",roarr="\u21FE",robrk="\u27E7",ropar="\u2986",ropf="\u{1D563}",Ropf="\u211D",roplus="\u2A2E",rotimes="\u2A35",RoundImplies="\u2970",rpar=")",rpargt="\u2994",rppolint="\u2A12",rrarr="\u21C9",Rrightarrow="\u21DB",rsaquo="\u203A",rscr="\u{1D4C7}",Rscr="\u211B",rsh="\u21B1",Rsh="\u21B1",rsqb="]",rsquo="\u2019",rsquor="\u2019",rthree="\u22CC",rtimes="\u22CA",rtri="\u25B9",rtrie="\u22B5",rtrif="\u25B8",rtriltri="\u29CE",RuleDelayed="\u29F4",ruluhar="\u2968",rx="\u211E",Sacute="\u015A",sacute="\u015B",sbquo="\u201A",scap="\u2AB8",Scaron="\u0160",scaron="\u0161",Sc="\u2ABC",sc="\u227B",sccue="\u227D",sce="\u2AB0",scE="\u2AB4",Scedil="\u015E",scedil="\u015F",Scirc="\u015C",scirc="\u015D",scnap="\u2ABA",scnE="\u2AB6",scnsim="\u22E9",scpolint="\u2A13",scsim="\u227F",Scy="\u0421",scy="\u0441",sdotb="\u22A1",sdot="\u22C5",sdote="\u2A66",searhk="\u2925",searr="\u2198",seArr="\u21D8",searrow="\u2198",sect$1="\xA7",semi=";",seswar="\u2929",setminus="\u2216",setmn="\u2216",sext="\u2736",Sfr="\u{1D516}",sfr="\u{1D530}",sfrown="\u2322",sharp="\u266F",SHCHcy="\u0429",shchcy="\u0449",SHcy="\u0428",shcy="\u0448",ShortDownArrow="\u2193",ShortLeftArrow="\u2190",shortmid="\u2223",shortparallel="\u2225",ShortRightArrow="\u2192",ShortUpArrow="\u2191",shy$1="\xAD",Sigma="\u03A3",sigma="\u03C3",sigmaf="\u03C2",sigmav="\u03C2",sim="\u223C",simdot="\u2A6A",sime="\u2243",simeq="\u2243",simg="\u2A9E",simgE="\u2AA0",siml="\u2A9D",simlE="\u2A9F",simne="\u2246",simplus="\u2A24",simrarr="\u2972",slarr="\u2190",SmallCircle="\u2218",smallsetminus="\u2216",smashp="\u2A33",smeparsl="\u29E4",smid="\u2223",smile="\u2323",smt="\u2AAA",smte="\u2AAC",smtes="\u2AAC\uFE00",SOFTcy="\u042C",softcy="\u044C",solbar="\u233F",solb="\u29C4",sol="/",Sopf="\u{1D54A}",sopf="\u{1D564}",spades="\u2660",spadesuit="\u2660",spar="\u2225",sqcap="\u2293",sqcaps="\u2293\uFE00",sqcup="\u2294",sqcups="\u2294\uFE00",Sqrt="\u221A",sqsub="\u228F",sqsube="\u2291",sqsubset="\u228F",sqsubseteq="\u2291",sqsup="\u2290",sqsupe="\u2292",sqsupset="\u2290",sqsupseteq="\u2292",square="\u25A1",Square="\u25A1",SquareIntersection="\u2293",SquareSubset="\u228F",SquareSubsetEqual="\u2291",SquareSuperset="\u2290",SquareSupersetEqual="\u2292",SquareUnion="\u2294",squarf="\u25AA",squ="\u25A1",squf="\u25AA",srarr="\u2192",Sscr="\u{1D4AE}",sscr="\u{1D4C8}",ssetmn="\u2216",ssmile="\u2323",sstarf="\u22C6",Star="\u22C6",star="\u2606",starf="\u2605",straightepsilon="\u03F5",straightphi="\u03D5",strns="\xAF",sub="\u2282",Sub="\u22D0",subdot="\u2ABD",subE="\u2AC5",sube="\u2286",subedot="\u2AC3",submult="\u2AC1",subnE="\u2ACB",subne="\u228A",subplus="\u2ABF",subrarr="\u2979",subset="\u2282",Subset="\u22D0",subseteq="\u2286",subseteqq="\u2AC5",SubsetEqual="\u2286",subsetneq="\u228A",subsetneqq="\u2ACB",subsim="\u2AC7",subsub="\u2AD5",subsup="\u2AD3",succapprox="\u2AB8",succ="\u227B",succcurlyeq="\u227D",Succeeds="\u227B",SucceedsEqual="\u2AB0",SucceedsSlantEqual="\u227D",SucceedsTilde="\u227F",succeq="\u2AB0",succnapprox="\u2ABA",succneqq="\u2AB6",succnsim="\u22E9",succsim="\u227F",SuchThat="\u220B",sum="\u2211",Sum="\u2211",sung="\u266A",sup1$1="\xB9",sup2$1="\xB2",sup3$1="\xB3",sup="\u2283",Sup="\u22D1",supdot="\u2ABE",supdsub="\u2AD8",supE="\u2AC6",supe="\u2287",supedot="\u2AC4",Superset="\u2283",SupersetEqual="\u2287",suphsol="\u27C9",suphsub="\u2AD7",suplarr="\u297B",supmult="\u2AC2",supnE="\u2ACC",supne="\u228B",supplus="\u2AC0",supset="\u2283",Supset="\u22D1",supseteq="\u2287",supseteqq="\u2AC6",supsetneq="\u228B",supsetneqq="\u2ACC",supsim="\u2AC8",supsub="\u2AD4",supsup="\u2AD6",swarhk="\u2926",swarr="\u2199",swArr="\u21D9",swarrow="\u2199",swnwar="\u292A",szlig$1="\xDF",Tab="	",target="\u2316",Tau="\u03A4",tau="\u03C4",tbrk="\u23B4",Tcaron="\u0164",tcaron="\u0165",Tcedil="\u0162",tcedil="\u0163",Tcy="\u0422",tcy="\u0442",tdot="\u20DB",telrec="\u2315",Tfr="\u{1D517}",tfr="\u{1D531}",there4="\u2234",therefore="\u2234",Therefore="\u2234",Theta="\u0398",theta="\u03B8",thetasym="\u03D1",thetav="\u03D1",thickapprox="\u2248",thicksim="\u223C",ThickSpace="\u205F\u200A",ThinSpace="\u2009",thinsp="\u2009",thkap="\u2248",thksim="\u223C",THORN$1="\xDE",thorn$1="\xFE",tilde="\u02DC",Tilde="\u223C",TildeEqual="\u2243",TildeFullEqual="\u2245",TildeTilde="\u2248",timesbar="\u2A31",timesb="\u22A0",times$1="\xD7",timesd="\u2A30",tint="\u222D",toea="\u2928",topbot="\u2336",topcir="\u2AF1",top="\u22A4",Topf="\u{1D54B}",topf="\u{1D565}",topfork="\u2ADA",tosa="\u2929",tprime="\u2034",trade="\u2122",TRADE="\u2122",triangle="\u25B5",triangledown="\u25BF",triangleleft="\u25C3",trianglelefteq="\u22B4",triangleq="\u225C",triangleright="\u25B9",trianglerighteq="\u22B5",tridot="\u25EC",trie="\u225C",triminus="\u2A3A",TripleDot="\u20DB",triplus="\u2A39",trisb="\u29CD",tritime="\u2A3B",trpezium="\u23E2",Tscr="\u{1D4AF}",tscr="\u{1D4C9}",TScy="\u0426",tscy="\u0446",TSHcy="\u040B",tshcy="\u045B",Tstrok="\u0166",tstrok="\u0167",twixt="\u226C",twoheadleftarrow="\u219E",twoheadrightarrow="\u21A0",Uacute$1="\xDA",uacute$1="\xFA",uarr="\u2191",Uarr="\u219F",uArr="\u21D1",Uarrocir="\u2949",Ubrcy="\u040E",ubrcy="\u045E",Ubreve="\u016C",ubreve="\u016D",Ucirc$1="\xDB",ucirc$1="\xFB",Ucy="\u0423",ucy="\u0443",udarr="\u21C5",Udblac="\u0170",udblac="\u0171",udhar="\u296E",ufisht="\u297E",Ufr="\u{1D518}",ufr="\u{1D532}",Ugrave$1="\xD9",ugrave$1="\xF9",uHar="\u2963",uharl="\u21BF",uharr="\u21BE",uhblk="\u2580",ulcorn="\u231C",ulcorner="\u231C",ulcrop="\u230F",ultri="\u25F8",Umacr="\u016A",umacr="\u016B",uml$1="\xA8",UnderBar="_",UnderBrace="\u23DF",UnderBracket="\u23B5",UnderParenthesis="\u23DD",Union="\u22C3",UnionPlus="\u228E",Uogon="\u0172",uogon="\u0173",Uopf="\u{1D54C}",uopf="\u{1D566}",UpArrowBar="\u2912",uparrow="\u2191",UpArrow="\u2191",Uparrow="\u21D1",UpArrowDownArrow="\u21C5",updownarrow="\u2195",UpDownArrow="\u2195",Updownarrow="\u21D5",UpEquilibrium="\u296E",upharpoonleft="\u21BF",upharpoonright="\u21BE",uplus="\u228E",UpperLeftArrow="\u2196",UpperRightArrow="\u2197",upsi="\u03C5",Upsi="\u03D2",upsih="\u03D2",Upsilon="\u03A5",upsilon="\u03C5",UpTeeArrow="\u21A5",UpTee="\u22A5",upuparrows="\u21C8",urcorn="\u231D",urcorner="\u231D",urcrop="\u230E",Uring="\u016E",uring="\u016F",urtri="\u25F9",Uscr="\u{1D4B0}",uscr="\u{1D4CA}",utdot="\u22F0",Utilde="\u0168",utilde="\u0169",utri="\u25B5",utrif="\u25B4",uuarr="\u21C8",Uuml$1="\xDC",uuml$1="\xFC",uwangle="\u29A7",vangrt="\u299C",varepsilon="\u03F5",varkappa="\u03F0",varnothing="\u2205",varphi="\u03D5",varpi="\u03D6",varpropto="\u221D",varr="\u2195",vArr="\u21D5",varrho="\u03F1",varsigma="\u03C2",varsubsetneq="\u228A\uFE00",varsubsetneqq="\u2ACB\uFE00",varsupsetneq="\u228B\uFE00",varsupsetneqq="\u2ACC\uFE00",vartheta="\u03D1",vartriangleleft="\u22B2",vartriangleright="\u22B3",vBar="\u2AE8",Vbar="\u2AEB",vBarv="\u2AE9",Vcy="\u0412",vcy="\u0432",vdash="\u22A2",vDash="\u22A8",Vdash="\u22A9",VDash="\u22AB",Vdashl="\u2AE6",veebar="\u22BB",vee="\u2228",Vee="\u22C1",veeeq="\u225A",vellip="\u22EE",verbar="|",Verbar="\u2016",vert="|",Vert="\u2016",VerticalBar="\u2223",VerticalLine="|",VerticalSeparator="\u2758",VerticalTilde="\u2240",VeryThinSpace="\u200A",Vfr="\u{1D519}",vfr="\u{1D533}",vltri="\u22B2",vnsub="\u2282\u20D2",vnsup="\u2283\u20D2",Vopf="\u{1D54D}",vopf="\u{1D567}",vprop="\u221D",vrtri="\u22B3",Vscr="\u{1D4B1}",vscr="\u{1D4CB}",vsubnE="\u2ACB\uFE00",vsubne="\u228A\uFE00",vsupnE="\u2ACC\uFE00",vsupne="\u228B\uFE00",Vvdash="\u22AA",vzigzag="\u299A",Wcirc="\u0174",wcirc="\u0175",wedbar="\u2A5F",wedge="\u2227",Wedge="\u22C0",wedgeq="\u2259",weierp="\u2118",Wfr="\u{1D51A}",wfr="\u{1D534}",Wopf="\u{1D54E}",wopf="\u{1D568}",wp="\u2118",wr="\u2240",wreath="\u2240",Wscr="\u{1D4B2}",wscr="\u{1D4CC}",xcap="\u22C2",xcirc="\u25EF",xcup="\u22C3",xdtri="\u25BD",Xfr="\u{1D51B}",xfr="\u{1D535}",xharr="\u27F7",xhArr="\u27FA",Xi="\u039E",xi="\u03BE",xlarr="\u27F5",xlArr="\u27F8",xmap="\u27FC",xnis="\u22FB",xodot="\u2A00",Xopf="\u{1D54F}",xopf="\u{1D569}",xoplus="\u2A01",xotime="\u2A02",xrarr="\u27F6",xrArr="\u27F9",Xscr="\u{1D4B3}",xscr="\u{1D4CD}",xsqcup="\u2A06",xuplus="\u2A04",xutri="\u25B3",xvee="\u22C1",xwedge="\u22C0",Yacute$1="\xDD",yacute$1="\xFD",YAcy="\u042F",yacy="\u044F",Ycirc="\u0176",ycirc="\u0177",Ycy="\u042B",ycy="\u044B",yen$1="\xA5",Yfr="\u{1D51C}",yfr="\u{1D536}",YIcy="\u0407",yicy="\u0457",Yopf="\u{1D550}",yopf="\u{1D56A}",Yscr="\u{1D4B4}",yscr="\u{1D4CE}",YUcy="\u042E",yucy="\u044E",yuml$1="\xFF",Yuml="\u0178",Zacute="\u0179",zacute="\u017A",Zcaron="\u017D",zcaron="\u017E",Zcy="\u0417",zcy="\u0437",Zdot="\u017B",zdot="\u017C",zeetrf="\u2128",ZeroWidthSpace="\u200B",Zeta="\u0396",zeta="\u03B6",zfr="\u{1D537}",Zfr="\u2128",ZHcy="\u0416",zhcy="\u0436",zigrarr="\u21DD",zopf="\u{1D56B}",Zopf="\u2124",Zscr="\u{1D4B5}",zscr="\u{1D4CF}",zwj="\u200D",zwnj="\u200C";var require$$1$1={Aacute:Aacute$1,aacute:aacute$1,Abreve,abreve,ac,acd,acE,Acirc:Acirc$1,acirc:acirc$1,acute:acute$1,Acy,acy,AElig:AElig$1,aelig:aelig$1,af,Afr,afr,Agrave:Agrave$1,agrave:agrave$1,alefsym,aleph,Alpha,alpha,Amacr,amacr,amalg,amp:amp$2,AMP:AMP$1,andand,And,and,andd,andslope,andv,ang,ange,angle,angmsdaa,angmsdab,angmsdac,angmsdad,angmsdae,angmsdaf,angmsdag,angmsdah,angmsd,angrt,angrtvb,angrtvbd,angsph,angst,angzarr,Aogon,aogon,Aopf,aopf,apacir,ap,apE,ape,apid,apos:apos$1,ApplyFunction,approx,approxeq,Aring:Aring$1,aring:aring$1,Ascr,ascr,Assign,ast,asymp,asympeq,Atilde:Atilde$1,atilde:atilde$1,Auml:Auml$1,auml:auml$1,awconint,awint,backcong,backepsilon,backprime,backsim,backsimeq,Backslash,Barv,barvee,barwed,Barwed,barwedge,bbrk,bbrktbrk,bcong,Bcy,bcy,bdquo,becaus,because,Because,bemptyv,bepsi,bernou,Bernoullis,Beta,beta,beth,between,Bfr,bfr,bigcap,bigcirc,bigcup,bigodot,bigoplus,bigotimes,bigsqcup,bigstar,bigtriangledown,bigtriangleup,biguplus,bigvee,bigwedge,bkarow,blacklozenge,blacksquare,blacktriangle,blacktriangledown,blacktriangleleft,blacktriangleright,blank,blk12,blk14,blk34,block,bne,bnequiv,bNot,bnot,Bopf,bopf,bot,bottom,bowtie,boxbox,boxdl,boxdL,boxDl,boxDL,boxdr,boxdR,boxDr,boxDR,boxh,boxH,boxhd,boxHd,boxhD,boxHD,boxhu,boxHu,boxhU,boxHU,boxminus,boxplus,boxtimes,boxul,boxuL,boxUl,boxUL,boxur,boxuR,boxUr,boxUR,boxv,boxV,boxvh,boxvH,boxVh,boxVH,boxvl,boxvL,boxVl,boxVL,boxvr,boxvR,boxVr,boxVR,bprime,breve,Breve,brvbar:brvbar$1,bscr,Bscr,bsemi,bsim,bsime,bsolb,bsol,bsolhsub,bull,bullet,bump,bumpE,bumpe,Bumpeq,bumpeq,Cacute,cacute,capand,capbrcup,capcap,cap,Cap,capcup,capdot,CapitalDifferentialD,caps,caret,caron,Cayleys,ccaps,Ccaron,ccaron,Ccedil:Ccedil$1,ccedil:ccedil$1,Ccirc,ccirc,Cconint,ccups,ccupssm,Cdot,cdot,cedil:cedil$1,Cedilla,cemptyv,cent:cent$1,centerdot,CenterDot,cfr,Cfr,CHcy,chcy,check,checkmark,Chi,chi,circ,circeq,circlearrowleft,circlearrowright,circledast,circledcirc,circleddash,CircleDot,circledR,circledS,CircleMinus,CirclePlus,CircleTimes,cir,cirE,cire,cirfnint,cirmid,cirscir,ClockwiseContourIntegral,CloseCurlyDoubleQuote,CloseCurlyQuote,clubs,clubsuit,colon,Colon,Colone,colone,coloneq,comma,commat,comp,compfn,complement,complexes,cong,congdot,Congruent,conint,Conint,ContourIntegral,copf,Copf,coprod,Coproduct,copy:copy$1,COPY:COPY$1,copysr,CounterClockwiseContourIntegral,crarr,cross,Cross,Cscr,cscr,csub,csube,csup,csupe,ctdot,cudarrl,cudarrr,cuepr,cuesc,cularr,cularrp,cupbrcap,cupcap,CupCap,cup,Cup,cupcup,cupdot,cupor,cups,curarr,curarrm,curlyeqprec,curlyeqsucc,curlyvee,curlywedge,curren:curren$1,curvearrowleft,curvearrowright,cuvee,cuwed,cwconint,cwint,cylcty,dagger,Dagger,daleth,darr,Darr,dArr,dash,Dashv,dashv,dbkarow,dblac,Dcaron,dcaron,Dcy,dcy,ddagger,ddarr,DD,dd,DDotrahd,ddotseq,deg:deg$1,Del,Delta,delta,demptyv,dfisht,Dfr,dfr,dHar,dharl,dharr,DiacriticalAcute,DiacriticalDot,DiacriticalDoubleAcute,DiacriticalGrave,DiacriticalTilde,diam,diamond,Diamond,diamondsuit,diams,die,DifferentialD,digamma,disin,div,divide:divide$1,divideontimes,divonx,DJcy,djcy,dlcorn,dlcrop,dollar,Dopf,dopf,Dot,dot,DotDot,doteq,doteqdot,DotEqual,dotminus,dotplus,dotsquare,doublebarwedge,DoubleContourIntegral,DoubleDot,DoubleDownArrow,DoubleLeftArrow,DoubleLeftRightArrow,DoubleLeftTee,DoubleLongLeftArrow,DoubleLongLeftRightArrow,DoubleLongRightArrow,DoubleRightArrow,DoubleRightTee,DoubleUpArrow,DoubleUpDownArrow,DoubleVerticalBar,DownArrowBar,downarrow,DownArrow,Downarrow,DownArrowUpArrow,DownBreve,downdownarrows,downharpoonleft,downharpoonright,DownLeftRightVector,DownLeftTeeVector,DownLeftVectorBar,DownLeftVector,DownRightTeeVector,DownRightVectorBar,DownRightVector,DownTeeArrow,DownTee,drbkarow,drcorn,drcrop,Dscr,dscr,DScy,dscy,dsol,Dstrok,dstrok,dtdot,dtri,dtrif,duarr,duhar,dwangle,DZcy,dzcy,dzigrarr,Eacute:Eacute$1,eacute:eacute$1,easter,Ecaron,ecaron,Ecirc:Ecirc$1,ecirc:ecirc$1,ecir,ecolon,Ecy,ecy,eDDot,Edot,edot,eDot,ee,efDot,Efr,efr,eg,Egrave:Egrave$1,egrave:egrave$1,egs,egsdot,el,Element:Element$1,elinters,ell,els,elsdot,Emacr,emacr,empty,emptyset,EmptySmallSquare,emptyv,EmptyVerySmallSquare,emsp13,emsp14,emsp,ENG,eng,ensp,Eogon,eogon,Eopf,eopf,epar,eparsl,eplus,epsi,Epsilon,epsilon,epsiv,eqcirc,eqcolon,eqsim,eqslantgtr,eqslantless,Equal,equals,EqualTilde,equest,Equilibrium,equiv,equivDD,eqvparsl,erarr,erDot,escr,Escr,esdot,Esim,esim,Eta,eta,ETH:ETH$1,eth:eth$1,Euml:Euml$1,euml:euml$1,euro,excl,exist,Exists,expectation,exponentiale,ExponentialE,fallingdotseq,Fcy,fcy,female,ffilig,fflig,ffllig,Ffr,ffr,filig,FilledSmallSquare,FilledVerySmallSquare,fjlig,flat,fllig,fltns,fnof,Fopf,fopf,forall,ForAll,fork,forkv,Fouriertrf,fpartint,frac12:frac12$1,frac13,frac14:frac14$1,frac15,frac16,frac18,frac23,frac25,frac34:frac34$1,frac35,frac38,frac45,frac56,frac58,frac78,frasl,frown,fscr,Fscr,gacute,Gamma,gamma,Gammad,gammad,gap,Gbreve,gbreve,Gcedil,Gcirc,gcirc,Gcy,gcy,Gdot,gdot,ge,gE,gEl,gel,geq,geqq,geqslant,gescc,ges,gesdot,gesdoto,gesdotol,gesl,gesles,Gfr,gfr,gg,Gg,ggg,gimel,GJcy,gjcy,gla,gl,glE,glj,gnap,gnapprox,gne,gnE,gneq,gneqq,gnsim,Gopf,gopf,grave,GreaterEqual,GreaterEqualLess,GreaterFullEqual,GreaterGreater,GreaterLess,GreaterSlantEqual,GreaterTilde,Gscr,gscr,gsim,gsime,gsiml,gtcc,gtcir,gt:gt$2,GT:GT$1,Gt,gtdot,gtlPar,gtquest,gtrapprox,gtrarr,gtrdot,gtreqless,gtreqqless,gtrless,gtrsim,gvertneqq,gvnE,Hacek,hairsp,half,hamilt,HARDcy,hardcy,harrcir,harr,hArr,harrw,Hat,hbar,Hcirc,hcirc,hearts,heartsuit,hellip,hercon,hfr,Hfr,HilbertSpace,hksearow,hkswarow,hoarr,homtht,hookleftarrow,hookrightarrow,hopf,Hopf,horbar,HorizontalLine,hscr,Hscr,hslash,Hstrok,hstrok,HumpDownHump,HumpEqual,hybull,hyphen,Iacute:Iacute$1,iacute:iacute$1,ic,Icirc:Icirc$1,icirc:icirc$1,Icy,icy,Idot,IEcy,iecy,iexcl:iexcl$1,iff,ifr,Ifr,Igrave:Igrave$1,igrave:igrave$1,ii,iiiint,iiint,iinfin,iiota,IJlig,ijlig,Imacr,imacr,image,ImaginaryI,imagline,imagpart,imath,Im,imof,imped,Implies,incare,in:"\u2208",infin,infintie,inodot,intcal,int,Int,integers,Integral,intercal,Intersection,intlarhk,intprod,InvisibleComma,InvisibleTimes,IOcy,iocy,Iogon,iogon,Iopf,iopf,Iota,iota,iprod,iquest:iquest$1,iscr,Iscr,isin,isindot,isinE,isins,isinsv,isinv,it,Itilde,itilde,Iukcy,iukcy,Iuml:Iuml$1,iuml:iuml$1,Jcirc,jcirc,Jcy,jcy,Jfr,jfr,jmath,Jopf,jopf,Jscr,jscr,Jsercy,jsercy,Jukcy,jukcy,Kappa,kappa,kappav,Kcedil,kcedil,Kcy,kcy,Kfr,kfr,kgreen,KHcy,khcy,KJcy,kjcy,Kopf,kopf,Kscr,kscr,lAarr,Lacute,lacute,laemptyv,lagran,Lambda,lambda,lang,Lang,langd,langle,lap,Laplacetrf,laquo:laquo$1,larrb,larrbfs,larr,Larr,lArr,larrfs,larrhk,larrlp,larrpl,larrsim,larrtl,latail,lAtail,lat,late,lates,lbarr,lBarr,lbbrk,lbrace,lbrack,lbrke,lbrksld,lbrkslu,Lcaron,lcaron,Lcedil,lcedil,lceil,lcub,Lcy,lcy,ldca,ldquo,ldquor,ldrdhar,ldrushar,ldsh,le,lE,LeftAngleBracket,LeftArrowBar,leftarrow,LeftArrow,Leftarrow,LeftArrowRightArrow,leftarrowtail,LeftCeiling,LeftDoubleBracket,LeftDownTeeVector,LeftDownVectorBar,LeftDownVector,LeftFloor,leftharpoondown,leftharpoonup,leftleftarrows,leftrightarrow,LeftRightArrow,Leftrightarrow,leftrightarrows,leftrightharpoons,leftrightsquigarrow,LeftRightVector,LeftTeeArrow,LeftTee,LeftTeeVector,leftthreetimes,LeftTriangleBar,LeftTriangle,LeftTriangleEqual,LeftUpDownVector,LeftUpTeeVector,LeftUpVectorBar,LeftUpVector,LeftVectorBar,LeftVector,lEg,leg,leq,leqq,leqslant,lescc,les,lesdot,lesdoto,lesdotor,lesg,lesges,lessapprox,lessdot,lesseqgtr,lesseqqgtr,LessEqualGreater,LessFullEqual,LessGreater,lessgtr,LessLess,lesssim,LessSlantEqual,LessTilde,lfisht,lfloor,Lfr,lfr,lg,lgE,lHar,lhard,lharu,lharul,lhblk,LJcy,ljcy,llarr,ll,Ll,llcorner,Lleftarrow,llhard,lltri,Lmidot,lmidot,lmoustache,lmoust,lnap,lnapprox,lne,lnE,lneq,lneqq,lnsim,loang,loarr,lobrk,longleftarrow,LongLeftArrow,Longleftarrow,longleftrightarrow,LongLeftRightArrow,Longleftrightarrow,longmapsto,longrightarrow,LongRightArrow,Longrightarrow,looparrowleft,looparrowright,lopar,Lopf,lopf,loplus,lotimes,lowast,lowbar,LowerLeftArrow,LowerRightArrow,loz,lozenge,lozf,lpar,lparlt,lrarr,lrcorner,lrhar,lrhard,lrm,lrtri,lsaquo,lscr,Lscr,lsh,Lsh,lsim,lsime,lsimg,lsqb,lsquo,lsquor,Lstrok,lstrok,ltcc,ltcir,lt:lt$2,LT:LT$1,Lt,ltdot,lthree,ltimes,ltlarr,ltquest,ltri,ltrie,ltrif,ltrPar,lurdshar,luruhar,lvertneqq,lvnE,macr:macr$1,male,malt,maltese,Map:"\u2905",map,mapsto,mapstodown,mapstoleft,mapstoup,marker,mcomma,Mcy,mcy,mdash,mDDot,measuredangle,MediumSpace,Mellintrf,Mfr,mfr,mho,micro:micro$1,midast,midcir,mid,middot:middot$1,minusb,minus,minusd,minusdu,MinusPlus,mlcp,mldr,mnplus,models,Mopf,mopf,mp,mscr,Mscr,mstpos,Mu,mu,multimap,mumap,nabla,Nacute,nacute,nang,nap,napE,napid,napos,napprox,natural,naturals,natur,nbsp:nbsp$1,nbump,nbumpe,ncap,Ncaron,ncaron,Ncedil,ncedil,ncong,ncongdot,ncup,Ncy,ncy,ndash,nearhk,nearr,neArr,nearrow,ne,nedot,NegativeMediumSpace,NegativeThickSpace,NegativeThinSpace,NegativeVeryThinSpace,nequiv,nesear,nesim,NestedGreaterGreater,NestedLessLess,NewLine,nexist,nexists,Nfr,nfr,ngE,nge,ngeq,ngeqq,ngeqslant,nges,nGg,ngsim,nGt,ngt,ngtr,nGtv,nharr,nhArr,nhpar,ni,nis,nisd,niv,NJcy,njcy,nlarr,nlArr,nldr,nlE,nle,nleftarrow,nLeftarrow,nleftrightarrow,nLeftrightarrow,nleq,nleqq,nleqslant,nles,nless,nLl,nlsim,nLt,nlt,nltri,nltrie,nLtv,nmid,NoBreak,NonBreakingSpace,nopf,Nopf,Not,not:not$1,NotCongruent,NotCupCap,NotDoubleVerticalBar,NotElement,NotEqual,NotEqualTilde,NotExists,NotGreater,NotGreaterEqual,NotGreaterFullEqual,NotGreaterGreater,NotGreaterLess,NotGreaterSlantEqual,NotGreaterTilde,NotHumpDownHump,NotHumpEqual,notin,notindot,notinE,notinva,notinvb,notinvc,NotLeftTriangleBar,NotLeftTriangle,NotLeftTriangleEqual,NotLess,NotLessEqual,NotLessGreater,NotLessLess,NotLessSlantEqual,NotLessTilde,NotNestedGreaterGreater,NotNestedLessLess,notni,notniva,notnivb,notnivc,NotPrecedes,NotPrecedesEqual,NotPrecedesSlantEqual,NotReverseElement,NotRightTriangleBar,NotRightTriangle,NotRightTriangleEqual,NotSquareSubset,NotSquareSubsetEqual,NotSquareSuperset,NotSquareSupersetEqual,NotSubset,NotSubsetEqual,NotSucceeds,NotSucceedsEqual,NotSucceedsSlantEqual,NotSucceedsTilde,NotSuperset,NotSupersetEqual,NotTilde,NotTildeEqual,NotTildeFullEqual,NotTildeTilde,NotVerticalBar,nparallel,npar,nparsl,npart,npolint,npr,nprcue,nprec,npreceq,npre,nrarrc,nrarr,nrArr,nrarrw,nrightarrow,nRightarrow,nrtri,nrtrie,nsc,nsccue,nsce,Nscr,nscr,nshortmid,nshortparallel,nsim,nsime,nsimeq,nsmid,nspar,nsqsube,nsqsupe,nsub,nsubE,nsube,nsubset,nsubseteq,nsubseteqq,nsucc,nsucceq,nsup,nsupE,nsupe,nsupset,nsupseteq,nsupseteqq,ntgl,Ntilde:Ntilde$1,ntilde:ntilde$1,ntlg,ntriangleleft,ntrianglelefteq,ntriangleright,ntrianglerighteq,Nu,nu,num,numero,numsp,nvap,nvdash,nvDash,nVdash,nVDash,nvge,nvgt,nvHarr,nvinfin,nvlArr,nvle,nvlt,nvltrie,nvrArr,nvrtrie,nvsim,nwarhk,nwarr,nwArr,nwarrow,nwnear,Oacute:Oacute$1,oacute:oacute$1,oast,Ocirc:Ocirc$1,ocirc:ocirc$1,ocir,Ocy,ocy,odash,Odblac,odblac,odiv,odot,odsold,OElig,oelig,ofcir,Ofr,ofr,ogon,Ograve:Ograve$1,ograve:ograve$1,ogt,ohbar,ohm,oint,olarr,olcir,olcross,oline,olt,Omacr,omacr,Omega,omega,Omicron,omicron,omid,ominus,Oopf,oopf,opar,OpenCurlyDoubleQuote,OpenCurlyQuote,operp,oplus,orarr,Or,or,ord,order,orderof,ordf:ordf$1,ordm:ordm$1,origof,oror,orslope,orv,oS,Oscr,oscr,Oslash:Oslash$1,oslash:oslash$1,osol,Otilde:Otilde$1,otilde:otilde$1,otimesas,Otimes,otimes,Ouml:Ouml$1,ouml:ouml$1,ovbar,OverBar,OverBrace,OverBracket,OverParenthesis,para:para$1,parallel,par,parsim,parsl,part,PartialD,Pcy,pcy,percnt,period,permil,perp,pertenk,Pfr,pfr,Phi,phi,phiv,phmmat,phone,Pi,pi,pitchfork,piv,planck,planckh,plankv,plusacir,plusb,pluscir,plus,plusdo,plusdu,pluse,PlusMinus,plusmn:plusmn$1,plussim,plustwo,pm,Poincareplane,pointint,popf,Popf,pound:pound$1,prap,Pr,pr,prcue,precapprox,prec,preccurlyeq,Precedes,PrecedesEqual,PrecedesSlantEqual,PrecedesTilde,preceq,precnapprox,precneqq,precnsim,pre,prE,precsim,prime,Prime,primes,prnap,prnE,prnsim,prod,Product,profalar,profline,profsurf,prop,Proportional,Proportion,propto,prsim,prurel,Pscr,pscr,Psi,psi,puncsp,Qfr,qfr,qint,qopf,Qopf,qprime,Qscr,qscr,quaternions,quatint,quest,questeq,quot:quot$2,QUOT:QUOT$1,rAarr,race,Racute,racute,radic,raemptyv,rang,Rang,rangd,range:range$1,rangle,raquo:raquo$1,rarrap,rarrb,rarrbfs,rarrc,rarr,Rarr,rArr,rarrfs,rarrhk,rarrlp,rarrpl,rarrsim,Rarrtl,rarrtl,rarrw,ratail,rAtail,ratio,rationals,rbarr,rBarr,RBarr,rbbrk,rbrace,rbrack,rbrke,rbrksld,rbrkslu,Rcaron,rcaron,Rcedil,rcedil,rceil,rcub,Rcy,rcy,rdca,rdldhar,rdquo,rdquor,rdsh,real,realine,realpart,reals,Re,rect,reg:reg$1,REG:REG$1,ReverseElement,ReverseEquilibrium,ReverseUpEquilibrium,rfisht,rfloor,rfr,Rfr,rHar,rhard,rharu,rharul,Rho,rho,rhov,RightAngleBracket,RightArrowBar,rightarrow,RightArrow,Rightarrow,RightArrowLeftArrow,rightarrowtail,RightCeiling,RightDoubleBracket,RightDownTeeVector,RightDownVectorBar,RightDownVector,RightFloor,rightharpoondown,rightharpoonup,rightleftarrows,rightleftharpoons,rightrightarrows,rightsquigarrow,RightTeeArrow,RightTee,RightTeeVector,rightthreetimes,RightTriangleBar,RightTriangle,RightTriangleEqual,RightUpDownVector,RightUpTeeVector,RightUpVectorBar,RightUpVector,RightVectorBar,RightVector,ring,risingdotseq,rlarr,rlhar,rlm,rmoustache,rmoust,rnmid,roang,roarr,robrk,ropar,ropf,Ropf,roplus,rotimes,RoundImplies,rpar,rpargt,rppolint,rrarr,Rrightarrow,rsaquo,rscr,Rscr,rsh,Rsh,rsqb,rsquo,rsquor,rthree,rtimes,rtri,rtrie,rtrif,rtriltri,RuleDelayed,ruluhar,rx,Sacute,sacute,sbquo,scap,Scaron,scaron,Sc,sc,sccue,sce,scE,Scedil,scedil,Scirc,scirc,scnap,scnE,scnsim,scpolint,scsim,Scy,scy,sdotb,sdot,sdote,searhk,searr,seArr,searrow,sect:sect$1,semi,seswar,setminus,setmn,sext,Sfr,sfr,sfrown,sharp,SHCHcy,shchcy,SHcy,shcy,ShortDownArrow,ShortLeftArrow,shortmid,shortparallel,ShortRightArrow,ShortUpArrow,shy:shy$1,Sigma,sigma,sigmaf,sigmav,sim,simdot,sime,simeq,simg,simgE,siml,simlE,simne,simplus,simrarr,slarr,SmallCircle,smallsetminus,smashp,smeparsl,smid,smile,smt,smte,smtes,SOFTcy,softcy,solbar,solb,sol,Sopf,sopf,spades,spadesuit,spar,sqcap,sqcaps,sqcup,sqcups,Sqrt,sqsub,sqsube,sqsubset,sqsubseteq,sqsup,sqsupe,sqsupset,sqsupseteq,square,Square,SquareIntersection,SquareSubset,SquareSubsetEqual,SquareSuperset,SquareSupersetEqual,SquareUnion,squarf,squ,squf,srarr,Sscr,sscr,ssetmn,ssmile,sstarf,Star,star,starf,straightepsilon,straightphi,strns,sub,Sub,subdot,subE,sube,subedot,submult,subnE,subne,subplus,subrarr,subset,Subset,subseteq,subseteqq,SubsetEqual,subsetneq,subsetneqq,subsim,subsub,subsup,succapprox,succ,succcurlyeq,Succeeds,SucceedsEqual,SucceedsSlantEqual,SucceedsTilde,succeq,succnapprox,succneqq,succnsim,succsim,SuchThat,sum,Sum,sung,sup1:sup1$1,sup2:sup2$1,sup3:sup3$1,sup,Sup,supdot,supdsub,supE,supe,supedot,Superset,SupersetEqual,suphsol,suphsub,suplarr,supmult,supnE,supne,supplus,supset,Supset,supseteq,supseteqq,supsetneq,supsetneqq,supsim,supsub,supsup,swarhk,swarr,swArr,swarrow,swnwar,szlig:szlig$1,Tab,target,Tau,tau,tbrk,Tcaron,tcaron,Tcedil,tcedil,Tcy,tcy,tdot,telrec,Tfr,tfr,there4,therefore,Therefore,Theta,theta,thetasym,thetav,thickapprox,thicksim,ThickSpace,ThinSpace,thinsp,thkap,thksim,THORN:THORN$1,thorn:thorn$1,tilde,Tilde,TildeEqual,TildeFullEqual,TildeTilde,timesbar,timesb,times:times$1,timesd,tint,toea,topbot,topcir,top,Topf,topf,topfork,tosa,tprime,trade,TRADE,triangle,triangledown,triangleleft,trianglelefteq,triangleq,triangleright,trianglerighteq,tridot,trie,triminus,TripleDot,triplus,trisb,tritime,trpezium,Tscr,tscr,TScy,tscy,TSHcy,tshcy,Tstrok,tstrok,twixt,twoheadleftarrow,twoheadrightarrow,Uacute:Uacute$1,uacute:uacute$1,uarr,Uarr,uArr,Uarrocir,Ubrcy,ubrcy,Ubreve,ubreve,Ucirc:Ucirc$1,ucirc:ucirc$1,Ucy,ucy,udarr,Udblac,udblac,udhar,ufisht,Ufr,ufr,Ugrave:Ugrave$1,ugrave:ugrave$1,uHar,uharl,uharr,uhblk,ulcorn,ulcorner,ulcrop,ultri,Umacr,umacr,uml:uml$1,UnderBar,UnderBrace,UnderBracket,UnderParenthesis,Union,UnionPlus,Uogon,uogon,Uopf,uopf,UpArrowBar,uparrow,UpArrow,Uparrow,UpArrowDownArrow,updownarrow,UpDownArrow,Updownarrow,UpEquilibrium,upharpoonleft,upharpoonright,uplus,UpperLeftArrow,UpperRightArrow,upsi,Upsi,upsih,Upsilon,upsilon,UpTeeArrow,UpTee,upuparrows,urcorn,urcorner,urcrop,Uring,uring,urtri,Uscr,uscr,utdot,Utilde,utilde,utri,utrif,uuarr,Uuml:Uuml$1,uuml:uuml$1,uwangle,vangrt,varepsilon,varkappa,varnothing,varphi,varpi,varpropto,varr,vArr,varrho,varsigma,varsubsetneq,varsubsetneqq,varsupsetneq,varsupsetneqq,vartheta,vartriangleleft,vartriangleright,vBar,Vbar,vBarv,Vcy,vcy,vdash,vDash,Vdash,VDash,Vdashl,veebar,vee,Vee,veeeq,vellip,verbar,Verbar,vert,Vert,VerticalBar,VerticalLine,VerticalSeparator,VerticalTilde,VeryThinSpace,Vfr,vfr,vltri,vnsub,vnsup,Vopf,vopf,vprop,vrtri,Vscr,vscr,vsubnE,vsubne,vsupnE,vsupne,Vvdash,vzigzag,Wcirc,wcirc,wedbar,wedge,Wedge,wedgeq,weierp,Wfr,wfr,Wopf,wopf,wp,wr,wreath,Wscr,wscr,xcap,xcirc,xcup,xdtri,Xfr,xfr,xharr,xhArr,Xi,xi,xlarr,xlArr,xmap,xnis,xodot,Xopf,xopf,xoplus,xotime,xrarr,xrArr,Xscr,xscr,xsqcup,xuplus,xutri,xvee,xwedge,Yacute:Yacute$1,yacute:yacute$1,YAcy,yacy,Ycirc,ycirc,Ycy,ycy,yen:yen$1,Yfr,yfr,YIcy,yicy,Yopf,yopf,Yscr,yscr,YUcy,yucy,yuml:yuml$1,Yuml,Zacute,zacute,Zcaron,zcaron,Zcy,zcy,Zdot,zdot,zeetrf,ZeroWidthSpace,Zeta,zeta,zfr,Zfr,ZHcy,zhcy,zigrarr,zopf,Zopf,Zscr,zscr,zwj,zwnj};const Aacute="\xC1",aacute="\xE1",Acirc="\xC2",acirc="\xE2",acute="\xB4",AElig="\xC6",aelig="\xE6",Agrave="\xC0",agrave="\xE0",amp$1="&",AMP="&",Aring="\xC5",aring="\xE5",Atilde="\xC3",atilde="\xE3",Auml="\xC4",auml="\xE4",brvbar="\xA6",Ccedil="\xC7",ccedil="\xE7",cedil="\xB8",cent="\xA2",copy="\xA9",COPY="\xA9",curren="\xA4",deg="\xB0",divide="\xF7",Eacute="\xC9",eacute="\xE9",Ecirc="\xCA",ecirc="\xEA",Egrave="\xC8",egrave="\xE8",ETH="\xD0",eth="\xF0",Euml="\xCB",euml="\xEB",frac12="\xBD",frac14="\xBC",frac34="\xBE",gt$1=">",GT=">",Iacute="\xCD",iacute="\xED",Icirc="\xCE",icirc="\xEE",iexcl="\xA1",Igrave="\xCC",igrave="\xEC",iquest="\xBF",Iuml="\xCF",iuml="\xEF",laquo="\xAB",lt$1="<",LT="<",macr="\xAF",micro="\xB5",middot="\xB7",nbsp="\xA0",not="\xAC",Ntilde="\xD1",ntilde="\xF1",Oacute="\xD3",oacute="\xF3",Ocirc="\xD4",ocirc="\xF4",Ograve="\xD2",ograve="\xF2",ordf="\xAA",ordm="\xBA",Oslash="\xD8",oslash="\xF8",Otilde="\xD5",otilde="\xF5",Ouml="\xD6",ouml="\xF6",para="\xB6",plusmn="\xB1",pound="\xA3",quot$1='"',QUOT='"',raquo="\xBB",reg="\xAE",REG="\xAE",sect="\xA7",shy="\xAD",sup1="\xB9",sup2="\xB2",sup3="\xB3",szlig="\xDF",THORN="\xDE",thorn="\xFE",times="\xD7",Uacute="\xDA",uacute="\xFA",Ucirc="\xDB",ucirc="\xFB",Ugrave="\xD9",ugrave="\xF9",uml="\xA8",Uuml="\xDC",uuml="\xFC",Yacute="\xDD",yacute="\xFD",yen="\xA5",yuml="\xFF";var require$$1={Aacute,aacute,Acirc,acirc,acute,AElig,aelig,Agrave,agrave,amp:amp$1,AMP,Aring,aring,Atilde,atilde,Auml,auml,brvbar,Ccedil,ccedil,cedil,cent,copy,COPY,curren,deg,divide,Eacute,eacute,Ecirc,ecirc,Egrave,egrave,ETH,eth,Euml,euml,frac12,frac14,frac34,gt:gt$1,GT,Iacute,iacute,Icirc,icirc,iexcl,Igrave,igrave,iquest,Iuml,iuml,laquo,lt:lt$1,LT,macr,micro,middot,nbsp,not,Ntilde,ntilde,Oacute,oacute,Ocirc,ocirc,Ograve,ograve,ordf,ordm,Oslash,oslash,Otilde,otilde,Ouml,ouml,para,plusmn,pound,quot:quot$1,QUOT,raquo,reg,REG,sect,shy,sup1,sup2,sup3,szlig,THORN,thorn,times,Uacute,uacute,Ucirc,ucirc,Ugrave,ugrave,uml,Uuml,uuml,Yacute,yacute,yen,yuml};const amp="&",apos="'",gt=">",lt="<",quot='"';var require$$0$2={amp,apos,gt,lt,quot},decode_codepoint={},require$$0$1={"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(decode_codepoint,"__esModule",{value:!0});var decode_json_1=__importDefault$2(require$$0$1),fromCodePoint=String.fromCodePoint||function(st){var at="";return st>65535&&(st-=65536,at+=String.fromCharCode(st>>>10&1023|55296),st=56320|st&1023),at+=String.fromCharCode(st),at};function decodeCodePoint(st){return st>=55296&&st<=57343||st>1114111?"\uFFFD":(st in decode_json_1.default&&(st=decode_json_1.default[st]),fromCodePoint(st))}decode_codepoint.default=decodeCodePoint;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(decode,"__esModule",{value:!0});decode.decodeHTML=decode.decodeHTMLStrict=decode.decodeXML=void 0;var entities_json_1$1=__importDefault$1(require$$1$1),legacy_json_1=__importDefault$1(require$$1),xml_json_1$1=__importDefault$1(require$$0$2),decode_codepoint_1=__importDefault$1(decode_codepoint),strictEntityRe=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;decode.decodeXML=getStrictDecoder(xml_json_1$1.default);decode.decodeHTMLStrict=getStrictDecoder(entities_json_1$1.default);function getStrictDecoder(st){var at=getReplacer(st);return function(Y){return String(Y).replace(strictEntityRe,at)}}var sorter=function(st,at){return st<at?1:-1};decode.decodeHTML=function(){for(var st=Object.keys(legacy_json_1.default).sort(sorter),at=Object.keys(entities_json_1$1.default).sort(sorter),Y=0,tt=0;Y<at.length;Y++)st[tt]===at[Y]?(at[Y]+=";?",tt++):at[Y]+=";";var y=new RegExp("&(?:"+at.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),R=getReplacer(entities_json_1$1.default);function j(O){return O.substr(-1)!==";"&&(O+=";"),R(O)}return function(O){return String(O).replace(y,j)}}();function getReplacer(st){return function(Y){if(Y.charAt(1)==="#"){var tt=Y.charAt(2);return tt==="X"||tt==="x"?decode_codepoint_1.default(parseInt(Y.substr(3),16)):decode_codepoint_1.default(parseInt(Y.substr(2),10))}return st[Y.slice(1,-1)]||Y}}var encode={},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(encode,"__esModule",{value:!0});encode.escapeUTF8=encode.escape=encode.encodeNonAsciiHTML=encode.encodeHTML=encode.encodeXML=void 0;var xml_json_1=__importDefault(require$$0$2),inverseXML=getInverseObj(xml_json_1.default),xmlReplacer=getInverseReplacer(inverseXML);encode.encodeXML=getASCIIEncoder(inverseXML);var entities_json_1=__importDefault(require$$1$1),inverseHTML=getInverseObj(entities_json_1.default),htmlReplacer=getInverseReplacer(inverseHTML);encode.encodeHTML=getInverse(inverseHTML,htmlReplacer);encode.encodeNonAsciiHTML=getASCIIEncoder(inverseHTML);function getInverseObj(st){return Object.keys(st).sort().reduce(function(at,Y){return at[st[Y]]="&"+Y+";",at},{})}function getInverseReplacer(st){for(var at=[],Y=[],tt=0,y=Object.keys(st);tt<y.length;tt++){var R=y[tt];R.length===1?at.push("\\"+R):Y.push(R)}at.sort();for(var j=0;j<at.length-1;j++){for(var O=j;O<at.length-1&&at[O].charCodeAt(1)+1===at[O+1].charCodeAt(1);)O+=1;var G=1+O-j;G<3||at.splice(j,G,at[j]+"-"+at[O])}return Y.unshift("["+at.join("")+"]"),new RegExp(Y.join("|"),"g")}var reNonASCII=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,getCodePoint=String.prototype.codePointAt!=null?function(st){return st.codePointAt(0)}:function(st){return(st.charCodeAt(0)-55296)*1024+st.charCodeAt(1)-56320+65536};function singleCharReplacer(st){return"&#x"+(st.length>1?getCodePoint(st):st.charCodeAt(0)).toString(16).toUpperCase()+";"}function getInverse(st,at){return function(Y){return Y.replace(at,function(tt){return st[tt]}).replace(reNonASCII,singleCharReplacer)}}var reEscapeChars=new RegExp(xmlReplacer.source+"|"+reNonASCII.source,"g");function escape$1(st){return st.replace(reEscapeChars,singleCharReplacer)}encode.escape=escape$1;function escapeUTF8(st){return st.replace(xmlReplacer,singleCharReplacer)}encode.escapeUTF8=escapeUTF8;function getASCIIEncoder(st){return function(at){return at.replace(reEscapeChars,function(Y){return st[Y]||singleCharReplacer(Y)})}}(function(st){Object.defineProperty(st,"__esModule",{value:!0}),st.decodeXMLStrict=st.decodeHTML5Strict=st.decodeHTML4Strict=st.decodeHTML5=st.decodeHTML4=st.decodeHTMLStrict=st.decodeHTML=st.decodeXML=st.encodeHTML5=st.encodeHTML4=st.escapeUTF8=st.escape=st.encodeNonAsciiHTML=st.encodeHTML=st.encodeXML=st.encode=st.decodeStrict=st.decode=void 0;var at=decode,Y=encode;function tt(G,D){return(!D||D<=0?at.decodeXML:at.decodeHTML)(G)}st.decode=tt;function y(G,D){return(!D||D<=0?at.decodeXML:at.decodeHTMLStrict)(G)}st.decodeStrict=y;function R(G,D){return(!D||D<=0?Y.encodeXML:Y.encodeHTML)(G)}st.encode=R;var j=encode;Object.defineProperty(st,"encodeXML",{enumerable:!0,get:function(){return j.encodeXML}}),Object.defineProperty(st,"encodeHTML",{enumerable:!0,get:function(){return j.encodeHTML}}),Object.defineProperty(st,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return j.encodeNonAsciiHTML}}),Object.defineProperty(st,"escape",{enumerable:!0,get:function(){return j.escape}}),Object.defineProperty(st,"escapeUTF8",{enumerable:!0,get:function(){return j.escapeUTF8}}),Object.defineProperty(st,"encodeHTML4",{enumerable:!0,get:function(){return j.encodeHTML}}),Object.defineProperty(st,"encodeHTML5",{enumerable:!0,get:function(){return j.encodeHTML}});var O=decode;Object.defineProperty(st,"decodeXML",{enumerable:!0,get:function(){return O.decodeXML}}),Object.defineProperty(st,"decodeHTML",{enumerable:!0,get:function(){return O.decodeHTML}}),Object.defineProperty(st,"decodeHTMLStrict",{enumerable:!0,get:function(){return O.decodeHTMLStrict}}),Object.defineProperty(st,"decodeHTML4",{enumerable:!0,get:function(){return O.decodeHTML}}),Object.defineProperty(st,"decodeHTML5",{enumerable:!0,get:function(){return O.decodeHTML}}),Object.defineProperty(st,"decodeHTML4Strict",{enumerable:!0,get:function(){return O.decodeHTMLStrict}}),Object.defineProperty(st,"decodeHTML5Strict",{enumerable:!0,get:function(){return O.decodeHTMLStrict}}),Object.defineProperty(st,"decodeXMLStrict",{enumerable:!0,get:function(){return O.decodeXML}})})(lib);function _classCallCheck$3(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$3(st,at,Y){return at&&_defineProperties$3(st.prototype,at),Y&&_defineProperties$3(st,Y),st}function _createForOfIteratorHelper(st){if(typeof Symbol=="undefined"||st[Symbol.iterator]==null){if(Array.isArray(st)||(st=_unsupportedIterableToArray$5(st))){var at=0,Y=function(){};return{s:Y,n:function(){return at>=st.length?{done:!0}:{done:!1,value:st[at++]}},e:function(G){throw G},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tt,y=!0,R=!1,j;return{s:function(){tt=st[Symbol.iterator]()},n:function(){var G=tt.next();return y=G.done,G},e:function(G){R=!0,j=G},f:function(){try{!y&&tt.return!=null&&tt.return()}finally{if(R)throw j}}}}function _unsupportedIterableToArray$5(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$5(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(Y);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$5(st,at)}}function _arrayLikeToArray$5(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}var entities=lib,defaults={fg:"#FFF",bg:"#000",newline:!1,escapeXML:!1,stream:!1,colors:getDefaultColors()};function getDefaultColors(){var st={0:"#000",1:"#A00",2:"#0A0",3:"#A50",4:"#00A",5:"#A0A",6:"#0AA",7:"#AAA",8:"#555",9:"#F55",10:"#5F5",11:"#FF5",12:"#55F",13:"#F5F",14:"#5FF",15:"#FFF"};return range(0,5).forEach(function(at){range(0,5).forEach(function(Y){range(0,5).forEach(function(tt){return setStyleColor(at,Y,tt,st)})})}),range(0,23).forEach(function(at){var Y=at+232,tt=toHexString(at*10+8);st[Y]="#"+tt+tt+tt}),st}function setStyleColor(st,at,Y,tt){var y=16+st*36+at*6+Y,R=st>0?st*40+55:0,j=at>0?at*40+55:0,O=Y>0?Y*40+55:0;tt[y]=toColorHexString([R,j,O])}function toHexString(st){for(var at=st.toString(16);at.length<2;)at="0"+at;return at}function toColorHexString(st){var at=[],Y=_createForOfIteratorHelper(st),tt;try{for(Y.s();!(tt=Y.n()).done;){var y=tt.value;at.push(toHexString(y))}}catch(R){Y.e(R)}finally{Y.f()}return"#"+at.join("")}function generateOutput(st,at,Y,tt){var y;return at==="text"?y=pushText(Y,tt):at==="display"?y=handleDisplay(st,Y,tt):at==="xterm256"?y=pushForegroundColor(st,tt.colors[Y]):at==="rgb"&&(y=handleRgb(st,Y)),y}function handleRgb(st,at){at=at.substring(2).slice(0,-1);var Y=+at.substr(0,2),tt=at.substring(5).split(";"),y=tt.map(function(R){return("0"+Number(R).toString(16)).substr(-2)}).join("");return pushStyle(st,(Y===38?"color:#":"background-color:#")+y)}function handleDisplay(st,at,Y){at=parseInt(at,10);var tt={"-1":function(){return"<br/>"},0:function(){return st.length&&resetStyles(st)},1:function(){return pushTag(st,"b")},3:function(){return pushTag(st,"i")},4:function(){return pushTag(st,"u")},8:function(){return pushStyle(st,"display:none")},9:function(){return pushTag(st,"strike")},22:function(){return pushStyle(st,"font-weight:normal;text-decoration:none;font-style:normal")},23:function(){return closeTag(st,"i")},24:function(){return closeTag(st,"u")},39:function(){return pushForegroundColor(st,Y.fg)},49:function(){return pushBackgroundColor(st,Y.bg)},53:function(){return pushStyle(st,"text-decoration:overline")}},y;return tt[at]?y=tt[at]():4<at&&at<7?y=pushTag(st,"blink"):29<at&&at<38?y=pushForegroundColor(st,Y.colors[at-30]):39<at&&at<48?y=pushBackgroundColor(st,Y.colors[at-40]):89<at&&at<98?y=pushForegroundColor(st,Y.colors[8+(at-90)]):99<at&&at<108&&(y=pushBackgroundColor(st,Y.colors[8+(at-100)])),y}function resetStyles(st){var at=st.slice(0);return st.length=0,at.reverse().map(function(Y){return"</"+Y+">"}).join("")}function range(st,at){for(var Y=[],tt=st;tt<=at;tt++)Y.push(tt);return Y}function notCategory(st){return function(at){return(st===null||at.category!==st)&&st!=="all"}}function categoryForCode(st){st=parseInt(st,10);var at=null;return st===0?at="all":st===1?at="bold":2<st&&st<5?at="underline":4<st&&st<7?at="blink":st===8?at="hide":st===9?at="strike":29<st&&st<38||st===39||89<st&&st<98?at="foreground-color":(39<st&&st<48||st===49||99<st&&st<108)&&(at="background-color"),at}function pushText(st,at){return at.escapeXML?entities.encodeXML(st):st}function pushTag(st,at,Y){return Y||(Y=""),st.push(at),"<".concat(at).concat(Y?' style="'.concat(Y,'"'):"",">")}function pushStyle(st,at){return pushTag(st,"span",at)}function pushForegroundColor(st,at){return pushTag(st,"span","color:"+at)}function pushBackgroundColor(st,at){return pushTag(st,"span","background-color:"+at)}function closeTag(st,at){var Y;if(st.slice(-1)[0]===at&&(Y=st.pop()),Y)return"</"+at+">"}function tokenize(st,at,Y){var tt=!1,y=3;function R(){return""}function j(et,rt){return Y("xterm256",rt),""}function O(et){return at.newline?Y("display",-1):Y("text",et),""}function G(et,rt){tt=!0,rt.trim().length===0&&(rt="0"),rt=rt.trimRight(";").split(";");var nt=_createForOfIteratorHelper(rt),ot;try{for(nt.s();!(ot=nt.n()).done;){var ht=ot.value;Y("display",ht)}}catch(ut){nt.e(ut)}finally{nt.f()}return""}function D(et){return Y("text",et),""}function F(et){return Y("rgb",et),""}var B=[{pattern:/^\x08+/,sub:R},{pattern:/^\x1b\[[012]?K/,sub:R},{pattern:/^\x1b\[\(B/,sub:R},{pattern:/^\x1b\[[34]8;2;\d+;\d+;\d+m/,sub:F},{pattern:/^\x1b\[38;5;(\d+)m/,sub:j},{pattern:/^\n/,sub:O},{pattern:/^\r+\n/,sub:O},{pattern:/^\x1b\[((?:\d{1,3};?)+|)m/,sub:G},{pattern:/^\x1b\[\d?J/,sub:R},{pattern:/^\x1b\[\d{0,3};\d{0,3}f/,sub:R},{pattern:/^\x1b\[?[\d;]{0,3}/,sub:R},{pattern:/^(([^\x1b\x08\r\n])+)/,sub:D}];function W(et,rt){rt>y&&tt||(tt=!1,st=st.replace(et.pattern,et.sub))}var U=[],X=st,K=X.length;t:for(;K>0;){for(var J=0,Z=0,Q=B.length;Z<Q;J=++Z){var q=B[J];if(W(q,J),st.length!==K){K=st.length;continue t}}if(st.length===K)break;U.push(0),K=st.length}return U}function updateStickyStack(st,at,Y){return at!=="text"&&(st=st.filter(notCategory(categoryForCode(Y))),st.push({token:at,data:Y,category:categoryForCode(Y)})),st}var Filter=function(){function st(at){_classCallCheck$3(this,st),at=at||{},at.colors&&(at.colors=Object.assign({},defaults.colors,at.colors)),this.options=Object.assign({},defaults,at),this.stack=[],this.stickyStack=[]}return _createClass$3(st,[{key:"toHtml",value:function(Y){var tt=this;Y=typeof Y=="string"?[Y]:Y;var y=this.stack,R=this.options,j=[];return this.stickyStack.forEach(function(O){var G=generateOutput(y,O.token,O.data,R);G&&j.push(G)}),tokenize(Y.join(""),R,function(O,G){var D=generateOutput(y,O,G,R);D&&j.push(D),R.stream&&(tt.stickyStack=updateStickyStack(tt.stickyStack,O,G))}),y.length&&j.push(resetStyles(y)),j.join("")}}]),st}(),ansi_to_html=Filter,_templateObject$2;function _slicedToArray$4(st,at){return _arrayWithHoles$4(st)||_iterableToArrayLimit$4(st,at)||_unsupportedIterableToArray$4(st,at)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$4(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$4(st,at)}}function _arrayLikeToArray$4(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArrayLimit$4(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$4(st){if(Array.isArray(st))return st}function _taggedTemplateLiteral$2(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}function _classCallCheck$2(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$2(st,at,Y){return at&&_defineProperties$2(st.prototype,at),Y&&_defineProperties$2(st,Y),st}var document$3=window_1.document,layoutClassMap={centered:"sb-main-centered",fullscreen:"sb-main-fullscreen",padded:"sb-main-padded"},Mode;(function(st){st.MAIN="MAIN",st.NOPREVIEW="NOPREVIEW",st.PREPARING_STORY="PREPARING_STORY",st.PREPARING_DOCS="PREPARING_DOCS",st.ERROR="ERROR"})(Mode||(Mode={}));var classes={PREPARING_STORY:"sb-show-preparing-story",PREPARING_DOCS:"sb-show-preparing-docs",MAIN:"sb-show-main",NOPREVIEW:"sb-show-nopreview",ERROR:"sb-show-errordisplay"},ansiConverter=new ansi_to_html({escapeXML:!0}),WebView=function(){function st(){_classCallCheck$2(this,st),this.currentLayoutClass=void 0,this.testing=!1;var at=lib$1.parse(document$3.location.search,{ignoreQueryPrefix:!0}),Y=at.__SPECIAL_TEST_PARAMETER__;switch(Y){case"preparing-story":{this.showPreparingStory(),this.testing=!0;break}case"preparing-docs":{this.showPreparingDocs(),this.testing=!0;break}}}return _createClass$2(st,[{key:"prepareForStory",value:function(Y){return this.showStory(),this.applyLayout(Y.parameters.layout),document$3.documentElement.scrollTop=0,document$3.documentElement.scrollLeft=0,this.storyRoot()}},{key:"storyRoot",value:function(){return document$3.getElementById("root")}},{key:"prepareForDocs",value:function(){return this.showMain(),this.showDocs(),this.applyLayout("fullscreen"),this.docsRoot()}},{key:"docsRoot",value:function(){return document$3.getElementById("docs-root")}},{key:"applyLayout",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"padded";if(Y==="none"){document$3.body.classList.remove(this.currentLayoutClass),this.currentLayoutClass=null;return}this.checkIfLayoutExists(Y);var tt=layoutClassMap[Y];document$3.body.classList.remove(this.currentLayoutClass),document$3.body.classList.add(tt),this.currentLayoutClass=tt}},{key:"checkIfLayoutExists",value:function(Y){layoutClassMap[Y]||logger.warn(dedent(_templateObject$2||(_templateObject$2=_taggedTemplateLiteral$2(["The desired layout: ",` is not a valid option.
         The possible options are: `,", none."])),Y,Object.keys(layoutClassMap).join(", ")))}},{key:"showMode",value:function(Y){Object.keys(Mode).forEach(function(tt){tt===Y?document$3.body.classList.add(classes[tt]):document$3.body.classList.remove(classes[tt])})}},{key:"showErrorDisplay",value:function(Y){var tt=Y.message,y=tt===void 0?"":tt,R=Y.stack,j=R===void 0?"":R,O=y,G=j,D=y.split(`
`);if(D.length>1){var F=_slicedToArray$4(D,1);O=F[0],G=D.slice(1).join(`
`)}document$3.getElementById("error-message").innerHTML=ansiConverter.toHtml(O),document$3.getElementById("error-stack").innerHTML=ansiConverter.toHtml(G),this.showMode(Mode.ERROR)}},{key:"showNoPreview",value:function(){var Y,tt;this.testing||(this.showMode(Mode.NOPREVIEW),(Y=this.storyRoot())===null||Y===void 0||Y.setAttribute("hidden","true"),(tt=this.docsRoot())===null||tt===void 0||tt.setAttribute("hidden","true"))}},{key:"showPreparingStory",value:function(){this.showMode(Mode.PREPARING_STORY)}},{key:"showPreparingDocs",value:function(){this.showMode(Mode.PREPARING_DOCS)}},{key:"showMain",value:function(){this.showMode(Mode.MAIN)}},{key:"showDocs",value:function(){this.storyRoot().setAttribute("hidden","true"),this.docsRoot().removeAttribute("hidden")}},{key:"showStory",value:function(){this.docsRoot().setAttribute("hidden","true"),this.storyRoot().removeAttribute("hidden")}}]),st}(),_templateObject$1,_templateObject2,_templateObject3,_templateObject4;function asyncGeneratorStep(st,at,Y,tt,y,R,j){try{var O=st[R](j),G=O.value}catch(D){Y(D);return}O.done?at(G):Promise.resolve(G).then(tt,y)}function _asyncToGenerator(st){return function(){var at=this,Y=arguments;return new Promise(function(tt,y){var R=st.apply(at,Y);function j(G){asyncGeneratorStep(R,tt,y,j,O,"next",G)}function O(G){asyncGeneratorStep(R,tt,y,j,O,"throw",G)}j(void 0)})}}function _taggedTemplateLiteral$1(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}function _classCallCheck$1(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass$1(st,at,Y){return at&&_defineProperties$1(st.prototype,at),Y&&_defineProperties$1(st,Y),st}var globalWindow$3=window_1.window,AbortController=window_1.AbortController,fetch=window_1.fetch;function focusInInput(st){var at=st.target;return/input|textarea/i.test(at.tagName)||at.getAttribute("contenteditable")!==null}function createController(){return AbortController?new AbortController:{signal:{aborted:!1},abort:function(){this.signal.aborted=!0}}}var STORY_INDEX_PATH="./stories.json",PreviewWeb=function(){function st(){var at,Y=this;_classCallCheck$1(this,st),this.channel=void 0,this.serverChannel=void 0,this.urlStore=void 0,this.storyStore=void 0,this.view=void 0,this.getStoryIndex=void 0,this.importFn=void 0,this.renderToDOM=void 0,this.previousSelection=void 0,this.previousStory=void 0,this.previousCleanup=void 0,this.abortController=void 0,this.disableKeyListeners=void 0,this.channel=addons.getChannel(),(at=window_1.FEATURES)!==null&&at!==void 0&&at.storyStoreV7&&addons.hasServerChannel()&&(this.serverChannel=addons.getServerChannel()),this.view=new WebView,this.urlStore=new UrlStore,this.storyStore=new StoryStore,this.storyStore.getSelection=browser(function(){return Y.urlStore.selection},dedent(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral$1(["\n        `__STORYBOOK_STORY_STORE__.getSelection()` is deprecated and will be removed in 7.0.\n  \n        To get the current selection, use the `useStoryContext()` hook from `@storybook/addons`.\n      "],["\n        \\`__STORYBOOK_STORY_STORE__.getSelection()\\` is deprecated and will be removed in 7.0.\n  \n        To get the current selection, use the \\`useStoryContext()\\` hook from \\`@storybook/addons\\`.\n      "]))))}return _createClass$1(st,[{key:"initialize",value:function(Y){var tt=this,y=Y.getStoryIndex,R=Y.importFn,j=Y.getProjectAnnotations;return this.getStoryIndex=y,this.importFn=R,this.setupListeners(),this.getProjectAnnotationsOrRenderError(j).then(function(O){return tt.initializeWithProjectAnnotations(O)})}},{key:"setupListeners",value:function(){var Y;globalWindow$3.onkeydown=this.onKeydown.bind(this),(Y=this.serverChannel)===null||Y===void 0||Y.on(Events.STORY_INDEX_INVALIDATED,this.onStoryIndexChanged.bind(this)),this.channel.on(Events.SET_CURRENT_STORY,this.onSetCurrentStory.bind(this)),this.channel.on(Events.UPDATE_QUERY_PARAMS,this.onUpdateQueryParams.bind(this)),this.channel.on(Events.UPDATE_GLOBALS,this.onUpdateGlobals.bind(this)),this.channel.on(Events.UPDATE_STORY_ARGS,this.onUpdateArgs.bind(this)),this.channel.on(Events.RESET_STORY_ARGS,this.onResetArgs.bind(this))}},{key:"getProjectAnnotationsOrRenderError",value:function(Y){var tt=this;return synchronousPromise.SynchronousPromise.resolve().then(Y).then(function(y){if(tt.renderToDOM=y.renderToDOM,!tt.renderToDOM)throw new Error(dedent(_templateObject2||(_templateObject2=_taggedTemplateLiteral$1([`
            Expected your framework's preset to export a \`renderToDOM\` field.

            Perhaps it needs to be upgraded for Storybook 6.4?

            More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#mainjs-framework-field          
          `],[`
            Expected your framework's preset to export a \\\`renderToDOM\\\` field.

            Perhaps it needs to be upgraded for Storybook 6.4?

            More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#mainjs-framework-field          
          `]))));return y}).catch(function(y){throw tt.renderPreviewEntryError("Error reading preview.js:",y),y})}},{key:"initializeWithProjectAnnotations",value:function(Y){var tt,y=this;this.storyStore.setProjectAnnotations(Y),this.setInitialGlobals();var R;if((tt=window_1.FEATURES)!==null&&tt!==void 0&&tt.storyStoreV7)R=this.getStoryIndexFromServer();else{if(!this.getStoryIndex)throw new Error("No `getStoryIndex` passed defined in v6 mode");R=synchronousPromise.SynchronousPromise.resolve().then(this.getStoryIndex)}return R.then(function(j){return y.initializeWithStoryIndex(j)}).catch(function(j){throw y.renderPreviewEntryError("Error loading story index:",j),j})}},{key:"setInitialGlobals",value:function(){var at=_asyncToGenerator(regeneratorRuntime.mark(function tt(){var y,R;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:y=this.urlStore.selectionSpecifier||{},R=y.globals,R&&this.storyStore.globals.updateFromPersisted(R),this.emitGlobals();case 3:case"end":return O.stop()}},tt,this)}));function Y(){return at.apply(this,arguments)}return Y}()},{key:"emitGlobals",value:function(){this.channel.emit(Events.SET_GLOBALS,{globals:this.storyStore.globals.get()||{},globalTypes:this.storyStore.projectAnnotations.globalTypes||{}})}},{key:"getStoryIndexFromServer",value:function(){var at=_asyncToGenerator(regeneratorRuntime.mark(function tt(){var y;return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,fetch(STORY_INDEX_PATH);case 2:if(y=j.sent,y.status!==200){j.next=5;break}return j.abrupt("return",y.json());case 5:return j.t0=Error,j.next=8,y.text();case 8:throw j.t1=j.sent,new j.t0(j.t1);case 10:case"end":return j.stop()}},tt)}));function Y(){return at.apply(this,arguments)}return Y}()},{key:"initializeWithStoryIndex",value:function(Y){var tt,y=this;return this.storyStore.initialize({storyIndex:Y,importFn:this.importFn,cache:!((tt=window_1.FEATURES)!==null&&tt!==void 0&&tt.storyStoreV7)}).then(function(){var R;return(R=window_1.FEATURES)!==null&&R!==void 0&&R.storyStoreV7||y.channel.emit(Events.SET_STORIES,y.storyStore.getSetStoriesPayload()),y.selectSpecifiedStory()})}},{key:"selectSpecifiedStory",value:function(){var at=_asyncToGenerator(regeneratorRuntime.mark(function tt(){var y,R,j,O,G;return regeneratorRuntime.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(this.urlStore.selectionSpecifier){F.next=3;break}return this.renderMissingStory(),F.abrupt("return");case 3:if(y=this.urlStore.selectionSpecifier,R=y.storySpecifier,j=y.viewMode,O=y.args,G=this.storyStore.storyIndex.storyIdFromSpecifier(R),G){F.next=8;break}return R==="*"?this.renderStoryLoadingException(R,new Error(dedent(_templateObject3||(_templateObject3=_taggedTemplateLiteral$1([`
            Couldn't find any stories in your Storybook.
            - Please check your stories field of your main.js config.
            - Also check the browser console and terminal for error messages.
          `]))))):this.renderStoryLoadingException(R,new Error(dedent(_templateObject4||(_templateObject4=_taggedTemplateLiteral$1([`
            Couldn't find story matching '`,`'.
            - Are you sure a story with that id exists?
            - Please check your stories field of your main.js config.
            - Also check the browser console and terminal for error messages.
          `])),R))),F.abrupt("return");case 8:return this.urlStore.setSelection({storyId:G,viewMode:j}),this.channel.emit(Events.STORY_SPECIFIED,this.urlStore.selection),this.channel.emit(Events.CURRENT_STORY_WAS_SET,this.urlStore.selection),F.next=13,this.renderSelection({persistedArgs:O});case 13:case"end":return F.stop()}},tt,this)}));function Y(){return at.apply(this,arguments)}return Y}()},{key:"onGetProjectAnnotationsChanged",value:function(){var at=_asyncToGenerator(regeneratorRuntime.mark(function tt(y){var R,j;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return R=y.getProjectAnnotations,G.next=3,this.getProjectAnnotationsOrRenderError(R);case 3:if(j=G.sent,this.storyStore.projectAnnotations){G.next=8;break}return G.next=7,this.initializeWithProjectAnnotations(j);case 7:return G.abrupt("return");case 8:return G.next=10,this.storyStore.setProjectAnnotations(j);case 10:this.emitGlobals(),this.renderSelection();case 12:case"end":return G.stop()}},tt,this)}));function Y(tt){return at.apply(this,arguments)}return Y}()},{key:"onStoryIndexChanged",value:function(){var at=_asyncToGenerator(regeneratorRuntime.mark(function tt(){var y;return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(this.storyStore.projectAnnotations){j.next=2;break}return j.abrupt("return");case 2:return j.prev=2,j.next=5,this.getStoryIndexFromServer();case 5:if(y=j.sent,this.storyStore.storyIndex){j.next=9;break}return j.next=9,this.initializeWithStoryIndex(y);case 9:return j.next=11,this.onStoriesChanged({storyIndex:y});case 11:j.next=17;break;case 13:throw j.prev=13,j.t0=j.catch(2),this.renderPreviewEntryError("Error loading story index:",j.t0),j.t0;case 17:case"end":return j.stop()}},tt,this,[[2,13]])}));function Y(){return at.apply(this,arguments)}return Y}()},{key:"onStoriesChanged",value:function(){var at=_asyncToGenerator(regeneratorRuntime.mark(function tt(y){var R,j,O;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return j=y.importFn,O=y.storyIndex,D.next=3,this.storyStore.onStoriesChanged({importFn:j,storyIndex:O});case 3:if((R=window_1.FEATURES)!==null&&R!==void 0&&R.storyStoreV7){D.next=10;break}return D.t0=this.channel,D.t1=Events.SET_STORIES,D.next=8,this.storyStore.getSetStoriesPayload();case 8:D.t2=D.sent,D.t0.emit.call(D.t0,D.t1,D.t2);case 10:if(!this.urlStore.selection){D.next=15;break}return D.next=13,this.renderSelection();case 13:D.next=17;break;case 15:return D.next=17,this.selectSpecifiedStory();case 17:case"end":return D.stop()}},tt,this)}));function Y(tt){return at.apply(this,arguments)}return Y}()},{key:"onKeydown",value:function(Y){if(!this.disableKeyListeners&&!focusInInput(Y)){var tt=Y.altKey,y=Y.ctrlKey,R=Y.metaKey,j=Y.shiftKey,O=Y.key,G=Y.code,D=Y.keyCode;this.channel.emit(Events.PREVIEW_KEYDOWN,{event:{altKey:tt,ctrlKey:y,metaKey:R,shiftKey:j,key:O,code:G,keyCode:D}})}}},{key:"onSetCurrentStory",value:function(Y){this.urlStore.setSelection(Y),this.channel.emit(Events.CURRENT_STORY_WAS_SET,this.urlStore.selection),this.renderSelection()}},{key:"onUpdateQueryParams",value:function(Y){this.urlStore.setQueryParams(Y)}},{key:"onUpdateGlobals",value:function(Y){var tt=Y.globals;this.storyStore.globals.update(tt),this.channel.emit(Events.GLOBALS_UPDATED,{globals:this.storyStore.globals.get(),initialGlobals:this.storyStore.globals.initialGlobals})}},{key:"onUpdateArgs",value:function(Y){var tt=Y.storyId,y=Y.updatedArgs;this.storyStore.args.update(tt,y),this.channel.emit(Events.STORY_ARGS_UPDATED,{storyId:tt,args:this.storyStore.args.get(tt)})}},{key:"onResetArgs",value:function(){var at=_asyncToGenerator(regeneratorRuntime.mark(function tt(y){var R,j,O,G,D,F;return regeneratorRuntime.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(R=y.storyId,j=y.argNames,R!==this.previousStory.id){W.next=5;break}W.t0=this.previousStory,W.next=8;break;case 5:return W.next=7,this.storyStore.loadStory({storyId:R});case 7:W.t0=W.sent;case 8:O=W.t0,G=O.initialArgs,D=j||Object.keys(this.storyStore.args.get(R)),F=D.reduce(function(U,X){return U[X]=G[X],U},{}),this.onUpdateArgs({storyId:R,updatedArgs:F});case 13:case"end":return W.stop()}},tt,this)}));function Y(tt){return at.apply(this,arguments)}return Y}()},{key:"renderSelection",value:function(){var at=_asyncToGenerator(regeneratorRuntime.mark(function tt(){var y,R,j,O,G,D,F,B,W,U,X,K,J,Z,Q,q,et=arguments;return regeneratorRuntime.wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(O=et.length>0&&et[0]!==void 0?et[0]:{},G=O.persistedArgs,D=this.urlStore.selection,D){nt.next=4;break}throw new Error("Cannot render story as no selection was made");case 4:return F=D.storyId,B=((y=this.previousSelection)===null||y===void 0?void 0:y.storyId)!==F,W=((R=this.previousSelection)===null||R===void 0?void 0:R.viewMode)!==D.viewMode,D.viewMode==="story"?this.view.showPreparingStory():this.view.showPreparingDocs(),nt.prev=8,nt.next=11,this.storyStore.loadStory({storyId:F});case 11:U=nt.sent,nt.next=21;break;case 14:return nt.prev=14,nt.t0=nt.catch(8),nt.next=18,this.cleanupPreviousRender();case 18:return this.previousStory=null,this.renderStoryLoadingException(F,nt.t0),nt.abrupt("return");case 21:if(X=!B&&this.previousStory&&U!==this.previousStory,G&&this.storyStore.args.updateFromPersisted(U,G),!(this.previousStory&&!B&&!X&&!W)){nt.next=27;break}return this.channel.emit(Events.STORY_UNCHANGED,F),this.view.showMain(),nt.abrupt("return");case 27:return nt.next=29,this.cleanupPreviousRender({unmountDocs:W});case 29:if(this.previousSelection&&(B||W)&&this.channel.emit(Events.STORY_CHANGED,F),this.previousSelection=D,this.previousStory=U,K=this.storyStore.getStoryContext(U),J=K.parameters,Z=K.initialArgs,Q=K.argTypes,q=K.args,(j=window_1.FEATURES)!==null&&j!==void 0&&j.storyStoreV7&&this.channel.emit(Events.STORY_PREPARED,{id:F,parameters:J,initialArgs:Z,argTypes:Q,args:q}),(X||G)&&this.channel.emit(Events.STORY_ARGS_UPDATED,{storyId:F,args:q}),!(D.viewMode==="docs"||U.parameters.docsOnly)){nt.next=41;break}return nt.next=38,this.renderDocs({story:U});case 38:this.previousCleanup=nt.sent,nt.next=42;break;case 41:this.previousCleanup=this.renderStory({story:U});case 42:case"end":return nt.stop()}},tt,this,[[8,14]])}));function Y(){return at.apply(this,arguments)}return Y}()},{key:"renderDocs",value:function(){var at=_asyncToGenerator(regeneratorRuntime.mark(function tt(y){var R=this,j,O,G,D,F,B,W,U;return regeneratorRuntime.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return O=y.story,G=O.id,D=O.title,F=O.name,K.next=4,this.storyStore.loadCSFFileByStoryId(G);case 4:return B=K.sent,W={id:G,title:D,name:F,storyById:function(Z){return R.storyStore.storyFromCSFFile({storyId:Z,csfFile:B})},componentStories:function(){return R.storyStore.componentStoriesFromCSFFile({csfFile:B})},loadStory:function(Z){return R.storyStore.loadStory({storyId:Z})},renderStoryToElement:this.renderStoryToElement.bind(this),getStoryContext:function(Z){return Object.assign({},R.storyStore.getStoryContext(Z),{viewMode:"docs"})}},U=function(){var J=_asyncToGenerator(regeneratorRuntime.mark(function Z(){var Q,q,et,rt;return regeneratorRuntime.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:return q=Object.assign({},W,!((Q=window_1.FEATURES)!==null&&Q!==void 0&&Q.breakingChangesV7)&&R.storyStore.getStoryContext(O)),ot.next=3,import("./renderDocs.0aa00dd1.js");case 3:et=ot.sent,rt=R.view.prepareForDocs(),et.renderDocs(O,q,rt,function(){return R.channel.emit(Events.DOCS_RENDERED,G)});case 6:case"end":return ot.stop()}},Z)}));return function(){return J.apply(this,arguments)}}(),U(),(j=window_1.FEATURES)!==null&&j!==void 0&&j.modernInlineRender||(this.channel.on(Events.UPDATE_GLOBALS,U),this.channel.on(Events.UPDATE_STORY_ARGS,U),this.channel.on(Events.RESET_STORY_ARGS,U)),K.abrupt("return",_asyncToGenerator(regeneratorRuntime.mark(function J(){var Z;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:(Z=window_1.FEATURES)!==null&&Z!==void 0&&Z.modernInlineRender||(R.channel.off(Events.UPDATE_GLOBALS,U),R.channel.off(Events.UPDATE_STORY_ARGS,U),R.channel.off(Events.RESET_STORY_ARGS,U));case 1:case"end":return q.stop()}},J)})));case 10:case"end":return K.stop()}},tt,this)}));function Y(tt){return at.apply(this,arguments)}return Y}()},{key:"renderStory",value:function(Y){var tt=this,y=Y.story,R=this.view.prepareForStory(y),j=y.id,O=y.componentId,G=y.title,D=y.name,F={componentId:O,title:G,kind:G,id:j,name:D,story:D,showMain:function(){return tt.view.showMain()},showError:function(W){return tt.renderError(j,W)},showException:function(W){return tt.renderException(j,W)}};return this.renderStoryToElement({story:y,renderContext:F,element:R,viewMode:"story"})}},{key:"renderStoryToElement",value:function(Y){var tt=this,y=Y.story,R=Y.renderContext,j=Y.element,O=Y.viewMode,G=y.id,D=y.applyLoaders,F=y.unboundStoryFn,B=y.playFunction,W=!0,U,X=function(){return["rendering","playing"].includes(U)};this.abortController=createController();var K=function(){var Q=_asyncToGenerator(regeneratorRuntime.mark(function q(){var et,rt,nt,ot,ht,ut,ct,ft,dt,pt,yt=arguments;return regeneratorRuntime.wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return et=yt.length>0&&yt[0]!==void 0?yt[0]:{},rt=et.initial,nt=rt===void 0?!1:rt,ot=et.forceRemount,ht=ot===void 0?!1:ot,ht&&!nt&&(tt.abortController.abort(),tt.abortController=createController()),ut=tt.abortController.signal,ct=function(){var Ct=_asyncToGenerator(regeneratorRuntime.mark(function Pt(Rt,mt){return regeneratorRuntime.wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:if(U=Rt,tt.channel.emit(Events.STORY_RENDER_PHASE_CHANGED,{newPhase:U,storyId:G}),!mt){xt.next=5;break}return xt.next=5,mt();case 5:ut.aborted&&(U="aborted",tt.channel.emit(Events.STORY_RENDER_PHASE_CHANGED,{newPhase:U,storyId:G}));case 6:case"end":return xt.stop()}},Pt)}));return function(Rt,mt){return Ct.apply(this,arguments)}}(),At.prev=4,At.next=7,ct("loading",_asyncToGenerator(regeneratorRuntime.mark(function Ct(){return regeneratorRuntime.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return Rt.next=2,D(Object.assign({},tt.storyStore.getStoryContext(y),{viewMode:O}));case 2:ft=Rt.sent;case 3:case"end":return Rt.stop()}},Ct)})));case 7:if(!ut.aborted){At.next=9;break}return At.abrupt("return");case 9:return dt=Object.assign({},ft,tt.storyStore.getStoryContext(y),{abortSignal:ut,canvasElement:j}),pt=Object.assign({},R,{forceRemount:ht||W,storyContext:dt,storyFn:function(){return F(dt)},unboundStoryFn:F}),At.next=13,ct("rendering",function(){return tt.renderToDOM(pt,j)});case 13:if(W=!1,!ut.aborted){At.next=16;break}return At.abrupt("return");case 16:if(!(ht&&B)){At.next=25;break}return tt.disableKeyListeners=!0,At.next=20,ct("playing",function(){return B(pt.storyContext)});case 20:return At.next=22,ct("played");case 22:if(tt.disableKeyListeners=!1,!ut.aborted){At.next=25;break}return At.abrupt("return");case 25:return At.next=27,ct("completed",function(){return tt.channel.emit(Events.STORY_RENDERED,G)});case 27:At.next=32;break;case 29:At.prev=29,At.t0=At.catch(4),R.showException(At.t0);case 32:case"end":return At.stop()}},q,null,[[4,29]])}));return function(){return Q.apply(this,arguments)}}();K({initial:!0,forceRemount:!0});var J=function(q){var et=q.storyId;et===y.id&&K({forceRemount:!0})},Z=function(q){var et=q.storyId;et===y.id&&K()};return this.channel.on(Events.UPDATE_GLOBALS,K),this.channel.on(Events.FORCE_RE_RENDER,K),this.channel.on(Events.FORCE_REMOUNT,J),this.channel.on(Events.UPDATE_STORY_ARGS,Z),this.channel.on(Events.RESET_STORY_ARGS,Z),_asyncToGenerator(regeneratorRuntime.mark(function Q(){return regeneratorRuntime.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(tt.abortController.abort(),tt.storyStore.cleanupStory(y),tt.channel.off(Events.UPDATE_GLOBALS,K),tt.channel.off(Events.FORCE_RE_RENDER,K),tt.channel.off(Events.FORCE_REMOUNT,J),tt.channel.off(Events.UPDATE_STORY_ARGS,Z),tt.channel.off(Events.RESET_STORY_ARGS,Z),X()){et.next=9;break}return et.abrupt("return");case 9:return et.next=11,new Promise(function(rt){return setTimeout(rt,0)});case 11:if(X()){et.next=13;break}return et.abrupt("return");case 13:return et.next=15,new Promise(function(rt){return setTimeout(rt,0)});case 15:if(X()){et.next=17;break}return et.abrupt("return");case 17:return et.next=19,new Promise(function(rt){return setTimeout(rt,0)});case 19:if(X()){et.next=21;break}return et.abrupt("return");case 21:return window_1.window.location.reload(),et.next=24,new Promise(function(){});case 24:case"end":return et.stop()}},Q)}))}},{key:"cleanupPreviousRender",value:function(){var at=_asyncToGenerator(regeneratorRuntime.mark(function tt(){var y,R,j,O,G,D,F,B=arguments;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(O=B.length>0&&B[0]!==void 0?B[0]:{},G=O.unmountDocs,D=G===void 0?!0:G,F=(y=this.previousStory)!==null&&y!==void 0&&(R=y.parameters)!==null&&R!==void 0&&R.docsOnly?"docs":(j=this.previousSelection)===null||j===void 0?void 0:j.viewMode,!(D&&F==="docs")){U.next=6;break}return U.next=5,import("./renderDocs.0aa00dd1.js");case 5:U.sent.unmountDocs(this.view.docsRoot());case 6:if(!this.previousCleanup){U.next=9;break}return U.next=9,this.previousCleanup();case 9:case"end":return U.stop()}},tt,this)}));function Y(){return at.apply(this,arguments)}return Y}()},{key:"renderPreviewEntryError",value:function(Y,tt){logger.error(Y),logger.error(tt),this.view.showErrorDisplay(tt),this.channel.emit(Events.CONFIG_ERROR,tt)}},{key:"renderMissingStory",value:function(){this.view.showNoPreview(),this.channel.emit(Events.STORY_MISSING)}},{key:"renderStoryLoadingException",value:function(Y,tt){logger.error("Unable to load story '".concat(Y,"':")),logger.error(tt),this.view.showErrorDisplay(tt),this.channel.emit(Events.STORY_MISSING,Y)}},{key:"renderException",value:function(Y,tt){this.channel.emit(Events.STORY_THREW_EXCEPTION,tt),this.channel.emit(Events.STORY_RENDER_PHASE_CHANGED,{newPhase:"errored",storyId:Y}),tt!==IGNORED_EXCEPTION&&(this.view.showErrorDisplay(tt),logger.error("Error rendering story '".concat(Y,"':")),logger.error(tt))}},{key:"renderError",value:function(Y,tt){var y=tt.title,R=tt.description;logger.error("Error rendering story ".concat(y,": ").concat(R)),this.channel.emit(Events.STORY_ERRORED,{title:y,description:R}),this.channel.emit(Events.STORY_RENDER_PHASE_CHANGED,{newPhase:"errored",storyId:Y}),this.view.showErrorDisplay({message:y,stack:R})}}]),st}(),document$2=window_1.document,runScriptTypes=["application/javascript","application/ecmascript","application/x-ecmascript","application/x-javascript","text/ecmascript","text/javascript","text/javascript1.0","text/javascript1.1","text/javascript1.2","text/javascript1.3","text/javascript1.4","text/javascript1.5","text/jscript","text/livescript","text/x-ecmascript","text/x-javascript","module"],SCRIPT="script",SCRIPTS_ROOT_ID="scripts-root";function simulateDOMContentLoaded(){var st=document$2.createEvent("Event");st.initEvent("DOMContentLoaded",!0,!0),document$2.dispatchEvent(st)}function insertScript(st,at,Y){var tt=document$2.createElement("script");tt.type=st.type==="module"?"module":"text/javascript",st.src?(tt.onload=at,tt.onerror=at,tt.src=st.src):tt.textContent=st.innerText,Y?Y.appendChild(tt):document$2.head.appendChild(tt),st.parentNode.removeChild(st),st.src||at()}function insertScriptsSequentially(st,at){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;st[Y](function(){Y++,Y===st.length?at():insertScriptsSequentially(st,at,Y)})}function simulatePageLoad(st){var at=document$2.getElementById(SCRIPTS_ROOT_ID);at?at.innerHTML="":(at=document$2.createElement("div"),at.id=SCRIPTS_ROOT_ID,document$2.body.appendChild(at));var Y=Array.from(st.querySelectorAll(SCRIPT));if(Y.length){var tt=[];Y.forEach(function(y){var R=y.getAttribute("type");(!R||runScriptTypes.includes(R))&&tt.push(function(j){return insertScript(y,j,at)})}),tt.length&&insertScriptsSequentially(tt,simulateDOMContentLoaded,void 0)}else simulateDOMContentLoaded()}var hasSymbols$1=shams$1,shams=function(){return hasSymbols$1()&&!!Symbol.toStringTag},callBound=callBound$2,hasToStringTag=shams(),has,$exec,isRegexMarker,badStringifier;if(hasToStringTag){has=callBound("Object.prototype.hasOwnProperty"),$exec=callBound("RegExp.prototype.exec"),isRegexMarker={};var throwRegexMarker=function(){throw isRegexMarker};badStringifier={toString:throwRegexMarker,valueOf:throwRegexMarker},typeof Symbol.toPrimitive=="symbol"&&(badStringifier[Symbol.toPrimitive]=throwRegexMarker)}var $toString=callBound("Object.prototype.toString"),gOPD=Object.getOwnPropertyDescriptor,regexClass="[object RegExp]",isRegex=hasToStringTag?function(at){if(!at||typeof at!="object")return!1;var Y=gOPD(at,"lastIndex"),tt=Y&&has(Y,"value");if(!tt)return!1;try{$exec(at,badStringifier)}catch(y){return y===isRegexMarker}}:function(at){return!at||typeof at!="object"&&typeof at!="function"?!1:$toString(at)===regexClass},isFunction_1=isFunction,toString=Object.prototype.toString;function isFunction(st){if(!st)return!1;var at=toString.call(st);return at==="[object Function]"||typeof st=="function"&&at!=="[object RegExp]"||typeof window!="undefined"&&(st===window.setTimeout||st===window.alert||st===window.confirm||st===window.prompt)}var isSymbol$1={exports:{}},toStr=Object.prototype.toString,hasSymbols=hasSymbols$3();if(hasSymbols){var symToStr=Symbol.prototype.toString,symStringRegex=/^Symbol\(.*\)$/,isSymbolObject=function(at){return typeof at.valueOf()!="symbol"?!1:symStringRegex.test(symToStr.call(at))};isSymbol$1.exports=function(at){if(typeof at=="symbol")return!0;if(toStr.call(at)!=="[object Symbol]")return!1;try{return isSymbolObject(at)}catch{return!1}}}else isSymbol$1.exports=function(at){return!1};var isSymbol=isSymbol$1.exports;/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function isObject$1(st){return st!=null&&typeof st=="object"&&Array.isArray(st)===!1}function ownKeys$1(st,at){var Y=Object.keys(st);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(st);at&&(tt=tt.filter(function(y){return Object.getOwnPropertyDescriptor(st,y).enumerable})),Y.push.apply(Y,tt)}return Y}function _objectSpread$1(st){for(var at=1;at<arguments.length;at++){var Y=arguments[at]!=null?arguments[at]:{};at%2?ownKeys$1(Object(Y),!0).forEach(function(tt){_defineProperty$1(st,tt,Y[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(st,Object.getOwnPropertyDescriptors(Y)):ownKeys$1(Object(Y)).forEach(function(tt){Object.defineProperty(st,tt,Object.getOwnPropertyDescriptor(Y,tt))})}return st}function _defineProperty$1(st,at,Y){return at in st?Object.defineProperty(st,at,{value:Y,enumerable:!0,configurable:!0,writable:!0}):st[at]=Y,st}var eventProperties=["bubbles","cancelBubble","cancelable","composed","currentTarget","defaultPrevented","eventPhase","isTrusted","returnValue","srcElement","target","timeStamp","type"],customEventSpecificProperties=["detail"];function extractEventHiddenProperties(st){var at=eventProperties.filter(function(Y){return st[Y]!==void 0}).reduce(function(Y,tt){return _objectSpread$1(_objectSpread$1({},Y),{},_defineProperty$1({},tt,st[tt]))},{});return st instanceof CustomEvent&&customEventSpecificProperties.filter(function(Y){return st[Y]!==void 0}).forEach(function(Y){at[Y]=st[Y]}),at}function ownKeys(st,at){var Y=Object.keys(st);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(st);at&&(tt=tt.filter(function(y){return Object.getOwnPropertyDescriptor(st,y).enumerable})),Y.push.apply(Y,tt)}return Y}function _objectSpread(st){for(var at=1;at<arguments.length;at++){var Y=arguments[at]!=null?arguments[at]:{};at%2?ownKeys(Object(Y),!0).forEach(function(tt){_defineProperty(st,tt,Y[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(st,Object.getOwnPropertyDescriptors(Y)):ownKeys(Object(Y)).forEach(function(tt){Object.defineProperty(st,tt,Object.getOwnPropertyDescriptor(Y,tt))})}return st}function _defineProperty(st,at,Y){return at in st?Object.defineProperty(st,at,{value:Y,enumerable:!0,configurable:!0,writable:!0}):st[at]=Y,st}function _slicedToArray$3(st,at){return _arrayWithHoles$3(st)||_iterableToArrayLimit$3(st,at)||_unsupportedIterableToArray$3(st,at)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$3(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$3(st,at)}}function _arrayLikeToArray$3(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArrayLimit$3(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$3(st){if(Array.isArray(st))return st}var isRunningInBrowser=typeof window!="undefined"&&typeof window.document!="undefined",isObject=isObject$1,removeCodeComments=function(at){var Y=null,tt=!1,y=!1,R=!1,j="";if(at.indexOf("//")>=0||at.indexOf("/*")>=0)for(var O=0;O<at.length;O+=1)!Y&&!tt&&!y&&!R?at[O]==='"'||at[O]==="'"||at[O]==="`"?Y=at[O]:at[O]==="/"&&at[O+1]==="*"?tt=!0:at[O]==="/"&&at[O+1]==="/"?y=!0:at[O]==="/"&&at[O+1]!=="/"&&(R=!0):(Y&&(at[O]===Y&&at[O-1]!=="\\"||at[O]===`
`&&Y!=="`")&&(Y=null),R&&(at[O]==="/"&&at[O-1]!=="\\"||at[O]===`
`)&&(R=!1),tt&&at[O-1]==="/"&&at[O-2]==="*"&&(tt=!1),y&&at[O]===`
`&&(y=!1)),!tt&&!y&&(j+=at[O]);else j=at;return j},cleanCode=memoize$2(1e4)(function(st){return removeCodeComments(st).replace(/\n\s*/g,"").trim()}),convertShorthandMethods=function(at,Y){var tt=Y.slice(0,Y.indexOf("{")),y=Y.slice(Y.indexOf("{"));if(tt.includes("=>")||tt.includes("function"))return Y;var R=tt;return R=R.replace(at,"function"),R+y},dateFormat=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/,isJSON=function(at){return at.match(/^[\[\{\"\}].*[\]\}\"]$/)};function convertUnconventionalData(st){return isRunningInBrowser&&st instanceof Event?extractEventHiddenProperties(st):st}var replacer=function(at){var Y,tt,y;return function(j,O){try{if(j==="")return y=[],Y=new Map([[O,"[]"]]),tt=[],O;for(;tt.length&&this!==tt[0];)tt.shift(),y.pop();if(typeof O=="boolean")return O;if(O===void 0)return at.allowUndefined?"_undefined_":void 0;if(typeof O=="number")return O===-1/0?"_-Infinity_":O===1/0?"_Infinity_":Number.isNaN(O)?"_NaN_":O;if(typeof O=="bigint")return"_bigint_".concat(O.toString());if(typeof O=="string")return dateFormat.test(O)?at.allowDate?"_date_".concat(O):void 0:O;if(isRegex(O))return at.allowRegExp?"_regexp_".concat(O.flags,"|").concat(O.source):void 0;if(isFunction_1(O)){if(!at.allowFunction)return;var G=O.name,D=O.toString();return D.match(/(\[native code\]|WEBPACK_IMPORTED_MODULE|__webpack_exports__|__webpack_require__)/)?"_function_".concat(G,"|").concat(function(){}.toString()):"_function_".concat(G,"|").concat(cleanCode(convertShorthandMethods(j,D)))}if(isSymbol(O)){if(!at.allowSymbol)return;var F=Symbol.keyFor(O);return F!==void 0?"_gsymbol_".concat(F):"_symbol_".concat(O.toString().slice(7,-1))}if(tt.length>=at.maxDepth)return Array.isArray(O)?"[Array(".concat(O.length,")]"):"[Object]";var B=Y.get(O);if(!B){if(O&&isObject(O)&&O.constructor&&O.constructor.name&&O.constructor.name!=="Object"){if(!at.allowClass)return;try{Object.assign(O,{"_constructor-name_":O.constructor.name})}catch{}}return y.push(j),tt.unshift(O),Y.set(O,JSON.stringify(y)),convertUnconventionalData(O)}return"_duplicate_".concat(B)}catch{return}}},reviver=function reviver(options){var refs=[],root;return function revive(key,value){if(key===""&&(root=value,refs.forEach(function(st){var at=st.target,Y=st.container,tt=st.replacement,y=isJSON(tt)?JSON.parse(tt):tt.split(".");y.length===0?Y[at]=root:Y[at]=get_1(root,y)})),key==="_constructor-name_")return value;if(isObject(value)&&value["_constructor-name_"]){var name=value["_constructor-name_"];if(name!=="Object"){var Fn=new Function("return function ".concat(name,"(){}"))();Object.setPrototypeOf(value,new Fn)}return delete value["_constructor-name_"],value}if(typeof value=="string"&&value.startsWith("_function_")){var _ref2=value.match(/_function_([^|]*)\|(.*)/)||[],_ref3=_slicedToArray$3(_ref2,3),_name=_ref3[1],source=_ref3[2],sourceSanitized=source.replace(/[(\(\))|\\| |\]|`]*$/,"");if(!options.lazyEval)return eval("(".concat(sourceSanitized,")"));var result=function result(){var f=eval("(".concat(sourceSanitized,")"));return f.apply(void 0,arguments)};return Object.defineProperty(result,"toString",{value:function st(){return sourceSanitized}}),Object.defineProperty(result,"name",{value:_name}),result}if(typeof value=="string"&&value.startsWith("_regexp_")){var _ref4=value.match(/_regexp_([^|]*)\|(.*)/)||[],_ref5=_slicedToArray$3(_ref4,3),flags=_ref5[1],_source=_ref5[2];return new RegExp(_source,flags)}return typeof value=="string"&&value.startsWith("_date_")?new Date(value.replace("_date_","")):typeof value=="string"&&value.startsWith("_duplicate_")?(refs.push({target:key,container:this,replacement:value.replace(/^_duplicate_/,"")}),null):typeof value=="string"&&value.startsWith("_symbol_")?Symbol(value.replace("_symbol_","")):typeof value=="string"&&value.startsWith("_gsymbol_")?Symbol.for(value.replace("_gsymbol_","")):typeof value=="string"&&value==="_-Infinity_"?-1/0:typeof value=="string"&&value==="_Infinity_"?1/0:typeof value=="string"&&value==="_NaN_"?NaN:typeof value=="string"&&value.startsWith("_bigint_")&&typeof BigInt=="function"?BigInt(value.replace("_bigint_","")):value}},defaultOptions={maxDepth:10,space:void 0,allowFunction:!0,allowRegExp:!0,allowDate:!0,allowClass:!0,allowUndefined:!0,allowSymbol:!0,lazyEval:!0},stringify=function st(at){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=_objectSpread(_objectSpread({},defaultOptions),Y);return JSON.stringify(convertUnconventionalData(at),replacer(tt),Y.space)},mutator=function st(){var at=new Map;return function Y(tt){isObject(tt)&&Object.entries(tt).forEach(function(y){var R=_slicedToArray$3(y,2),j=R[0],O=R[1];O==="_undefined_"?tt[j]=void 0:at.get(O)||(at.set(O,!0),Y(O))}),Array.isArray(tt)&&tt.forEach(function(y,R){at.set(y,!0),Y(y),y==="_undefined_"&&(at.set(y,!0),tt[R]=void 0)})}},parse=function st(at){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=_objectSpread(_objectSpread({},defaultOptions),Y),y=JSON.parse(at,reviver(tt));return mutator()(y),y};function _toArray(st){return _arrayWithHoles$2(st)||_iterableToArray(st)||_unsupportedIterableToArray$2(st)||_nonIterableRest$2()}function _toConsumableArray(st){return _arrayWithoutHoles(st)||_iterableToArray(st)||_unsupportedIterableToArray$2(st)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(st){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(st))return Array.from(st)}function _arrayWithoutHoles(st){if(Array.isArray(st))return _arrayLikeToArray$2(st)}function _slicedToArray$2(st,at){return _arrayWithHoles$2(st)||_iterableToArrayLimit$2(st,at)||_unsupportedIterableToArray$2(st,at)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$2(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$2(st,at)}}function _arrayLikeToArray$2(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArrayLimit$2(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$2(st){if(Array.isArray(st))return st}function _classCallCheck(st,at){if(!(st instanceof at))throw new TypeError("Cannot call a class as a function")}function _defineProperties(st,at){for(var Y=0;Y<at.length;Y++){var tt=at[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(st,tt.key,tt)}}function _createClass(st,at,Y){return at&&_defineProperties(st.prototype,at),Y&&_defineProperties(st,Y),st}var globalWindow$2=window_1.window,document$1=window_1.document,location=window_1.location,KEY="storybook-channel",defaultEventOptions={allowFunction:!0,maxDepth:25},PostmsgTransport=function(){function st(at){if(_classCallCheck(this,st),this.config=at,this.buffer=void 0,this.handler=void 0,this.connected=void 0,this.buffer=[],this.handler=null,globalWindow$2.addEventListener("message",this.handleEvent.bind(this),!1),at.page!=="manager"&&at.page!=="preview")throw new Error('postmsg-channel: "config.page" cannot be "'.concat(at.page,'"'))}return _createClass(st,[{key:"setHandler",value:function(Y){var tt=this;this.handler=function(){for(var y=arguments.length,R=new Array(y),j=0;j<y;j++)R[j]=arguments[j];Y.apply(tt,R),!tt.connected&&tt.getLocalFrame().length&&(tt.flush(),tt.connected=!0)}}},{key:"send",value:function(Y,tt){var y=this,R=tt||{},j=R.target,O=R.allowRegExp,G=R.allowFunction,D=R.allowSymbol,F=R.allowDate,B=R.allowUndefined,W=R.allowClass,U=R.maxDepth,X=R.space,K=R.lazyEval,J=Object.fromEntries(Object.entries({allowRegExp:O,allowFunction:G,allowSymbol:D,allowDate:F,allowUndefined:B,allowClass:W,maxDepth:U,space:X,lazyEval:K}).filter(function(rt){var nt=_slicedToArray$2(rt,2);nt[0];var ot=nt[1];return typeof ot!="undefined"})),Z=Object.assign({},defaultEventOptions,window_1.CHANNEL_OPTIONS||{},J);tt&&Number.isInteger(tt.depth)&&(Z.maxDepth=tt.depth);var Q=this.getFrames(j),q=lib$1.parse(location.search,{ignoreQueryPrefix:!0}),et=stringify({key:KEY,event:Y,refId:q.refId},Z);return Q.length?(this.buffer.length&&this.flush(),Q.forEach(function(rt){try{rt.postMessage(et,"*")}catch{console.error("sending over postmessage fail")}}),Promise.resolve(null)):new Promise(function(rt,nt){y.buffer.push({event:Y,resolve:rt,reject:nt})})}},{key:"flush",value:function(){var Y=this,tt=this.buffer;this.buffer=[],tt.forEach(function(y){Y.send(y.event).then(y.resolve).catch(y.reject)})}},{key:"getFrames",value:function(Y){if(this.config.page==="manager"){var tt=_toConsumableArray(document$1.querySelectorAll("iframe[data-is-storybook][data-is-loaded]")),y=tt.filter(function(R){try{return!!R.contentWindow&&R.dataset.isStorybook!==void 0&&R.id===Y}catch{return!1}}).map(function(R){return R.contentWindow});return y.length?y:this.getCurrentFrames()}return globalWindow$2&&globalWindow$2.parent&&globalWindow$2.parent!==globalWindow$2?[globalWindow$2.parent]:[]}},{key:"getCurrentFrames",value:function(){if(this.config.page==="manager"){var Y=_toConsumableArray(document$1.querySelectorAll('[data-is-storybook="true"]'));return Y.map(function(tt){return tt.contentWindow})}return globalWindow$2&&globalWindow$2.parent?[globalWindow$2.parent]:[]}},{key:"getLocalFrame",value:function(){if(this.config.page==="manager"){var Y=_toConsumableArray(document$1.querySelectorAll("#storybook-preview-iframe"));return Y.map(function(tt){return tt.contentWindow})}return globalWindow$2&&globalWindow$2.parent?[globalWindow$2.parent]:[]}},{key:"handleEvent",value:function(Y){try{var tt=Y.data,y=typeof tt=="string"&&isJSON(tt)?parse(tt):tt,R=y.key,j=y.event,O=y.refId;if(R===KEY){var G=this.config.page==="manager"?'<span style="color: #37D5D3; background: black"> manager </span>':'<span style="color: #1EA7FD; background: black"> preview </span>',D=Object.values(EVENTS).includes(j.type)?'<span style="color: #FF4785">'.concat(j.type,"</span>"):'<span style="color: #FFAE00">'.concat(j.type,"</span>");if(O&&(j.refId=O),j.source=this.config.page==="preview"?Y.origin:getEventSourceUrl(Y),!j.source){pretty.error("".concat(G," received ").concat(D," but was unable to determine the source of the event"));return}var F="".concat(G," received ").concat(D," (").concat(tt.length,")");pretty.debug.apply(pretty,[location.origin!==j.source?F:"".concat(F,' <span style="color: gray">(on ').concat(location.origin," from ").concat(j.source,")</span>")].concat(_toConsumableArray(j.args))),this.handler(j)}}catch(B){logger.error(B)}}}]),st}(),getEventSourceUrl=function st(at){var Y=_toConsumableArray(document$1.querySelectorAll("iframe[data-is-storybook]")),tt=Y.filter(function(W){try{return W.contentWindow===at.source}catch{}var U=W.getAttribute("src"),X;try{var K=new URL(U,document$1.location);X=K.origin}catch{return!1}return X===at.origin}),y=_toArray(tt),R=y[0],j=y.slice(1);if(R&&j.length===0){var O=R.getAttribute("src"),G=new URL(O,document$1.location),D=G.protocol,F=G.host,B=G.pathname;return"".concat(D,"//").concat(F).concat(B)}return j.length>0&&logger.error("found multiple candidates for event source"),null};function createChannel(st){var at=st.page,Y=new PostmsgTransport({page:at});return new Channel$1({transport:Y})}function _slicedToArray$1(st,at){return _arrayWithHoles$1(st)||_iterableToArrayLimit$1(st,at)||_unsupportedIterableToArray$1(st,at)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray$1(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray$1(st,at)}}function _arrayLikeToArray$1(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArrayLimit$1(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles$1(st){if(Array.isArray(st))return st}function executeLoadable(st){var at=null;Array.isArray(st)?at=st:st.keys&&(at=[st]);var Y=new Map;if(at)at.forEach(function(y){y.keys().forEach(function(R){try{var j=y(R);Y.set(typeof y.resolve=="function"?y.resolve(R):R,j)}catch(G){var O=G.message&&G.stack?"".concat(G.message,`
 `).concat(G.stack):G.toString();logger.error("Unexpected error while loading ".concat(R,": ").concat(O))}})});else{var tt=st();Array.isArray(tt)&&tt.every(function(y){return y.default!=null})?Y=new Map(tt.map(function(y,R){return["exports-map-".concat(R),y]})):tt&&logger.warn("Loader function passed to 'configure' should return void or an array of module exports that all contain a 'default' export. Received: ".concat(JSON.stringify(tt)))}return Y}function executeLoadableForChanges(st,at){var Y,tt,y,R=(at==null||(Y=at.hot)===null||Y===void 0||(tt=Y.data)===null||tt===void 0?void 0:tt.lastExportsMap)||new Map;at!=null&&(y=at.hot)!==null&&y!==void 0&&y.dispose&&(at.hot.accept(),at.hot.dispose(function(D){D.lastExportsMap=R}));var j=executeLoadable(st),O=new Map;Array.from(j.entries()).filter(function(D){var F=_slicedToArray$1(D,2),B=F[1];return!!B.default}).filter(function(D){var F=_slicedToArray$1(D,2),B=F[0],W=F[1];return R.get(B)!==W}).forEach(function(D){var F=_slicedToArray$1(D,2),B=F[0],W=F[1];return O.set(B,W)});var G=new Map;return Array.from(R.keys()).filter(function(D){return!j.has(D)}).forEach(function(D){return G.set(D,R.get(D))}),R=j,{added:O,removed:G}}function _slicedToArray(st,at){return _arrayWithHoles(st)||_iterableToArrayLimit(st,at)||_unsupportedIterableToArray(st,at)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(st,at){if(!!st){if(typeof st=="string")return _arrayLikeToArray(st,at);var Y=Object.prototype.toString.call(st).slice(8,-1);if(Y==="Object"&&st.constructor&&(Y=st.constructor.name),Y==="Map"||Y==="Set")return Array.from(st);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return _arrayLikeToArray(st,at)}}function _arrayLikeToArray(st,at){(at==null||at>st.length)&&(at=st.length);for(var Y=0,tt=new Array(at);Y<at;Y++)tt[Y]=st[Y];return tt}function _iterableToArrayLimit(st,at){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(st)))){var Y=[],tt=!0,y=!1,R=void 0;try{for(var j=st[Symbol.iterator](),O;!(tt=(O=j.next()).done)&&(Y.push(O.value),!(at&&Y.length===at));tt=!0);}catch(G){y=!0,R=G}finally{try{!tt&&j.return!=null&&j.return()}finally{if(y)throw R}}return Y}}function _arrayWithHoles(st){if(Array.isArray(st))return st}var globalWindow$1=window_1.window,FEATURES=window_1.FEATURES,configureDeprecationWarning=browser(function(){},"`configure()` is deprecated and will be removed in Storybook 7.0. \nPlease use the `stories` field of `main.js` to load stories.\nRead more at https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-configure"),removedApi=function st(at){return function(){throw new Error("@storybook/client-api:".concat(at," was removed in storyStoreV7."))}};function start(st){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=at.decorateStory,tt=at.render;if(FEATURES!=null&&FEATURES.storyStoreV7)return{forceReRender:removedApi("forceReRender"),getStorybook:removedApi("getStorybook"),configure:removedApi("configure"),clientApi:{addDecorator:removedApi("clientApi.addDecorator"),addParameters:removedApi("clientApi.addParameters"),clearDecorators:removedApi("clientApi.clearDecorators"),addLoader:removedApi("clientApi.addLoader"),setAddon:removedApi("clientApi.setAddon"),getStorybook:removedApi("clientApi.getStorybook"),storiesOf:removedApi("clientApi.storiesOf"),raw:removedApi("raw")}};var y=createChannel({page:"preview"});addons.setChannel(y);var R=new ClientApi,j=new PreviewWeb,O=!1,G=function(B){return R.importFn(B)};function D(){var F=R.getStoryIndex();j.onStoriesChanged({storyIndex:F,importFn:G})}return R.onImportFnChanged=D,R.storyStore=j.storyStore,globalWindow$1&&(globalWindow$1.__STORYBOOK_CLIENT_API__=R,globalWindow$1.__STORYBOOK_ADDONS_CHANNEL__=y,globalWindow$1.__STORYBOOK_PREVIEW__=j,globalWindow$1.__STORYBOOK_STORY_STORE__=j.storyStore),{forceReRender:function(){return y.emit(Events.FORCE_RE_RENDER)},getStorybook:function(){return[]},raw:function(){},clientApi:R,configure:function(B,W,U){var X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;X&&configureDeprecationWarning(),R.addParameters({framework:B});var K=function(){var Z=executeLoadableForChanges(W,U),Q=Z.added,q=Z.removed;return Array.from(Q.entries()).forEach(function(et){var rt=_slicedToArray(et,2),nt=rt[0],ot=rt[1];return R.facade.addStoriesFromExports(nt,ot)}),Array.from(q.entries()).forEach(function(et){var rt=_slicedToArray(et,1),nt=rt[0];return R.facade.clearFilenameExports(nt)}),Object.assign({},R.facade.projectAnnotations,{render:tt,renderToDOM:st,applyDecorators:Y})};O?(K(),D()):(j.initialize({getStoryIndex:function(){return R.getStoryIndex()},importFn:G,getProjectAnnotations:K}),O=!0)}}}var esm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",start,toId:dist.toId,ClientApi,StoryStore}),require$$0=getAugmentedNamespace(esm);(function(st){Object.defineProperty(st,"__esModule",{value:!0});var at=require$$0;Object.keys(at).forEach(function(Y){Y==="default"||Y==="__esModule"||Y in st&&st[Y]===at[Y]||Object.defineProperty(st,Y,{enumerable:!0,get:function(){return at[Y]}})})})(cjs);var client=cjs,globalWindow=window_1.window;globalWindow.STORYBOOK_ENV="web-components";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$1;const i$2=globalThis.trustedTypes,s$3=i$2?i$2.createPolicy("lit-html",{createHTML:st=>st}):void 0,e$3=`lit$${(Math.random()+"").slice(9)}$`,o$3="?"+e$3,n$4=`<${o$3}>`,l$2=document,h$1=(st="")=>l$2.createComment(st),r$2=st=>st===null||typeof st!="object"&&typeof st!="function",d=Array.isArray,u=st=>{var at;return d(st)||typeof((at=st)===null||at===void 0?void 0:at[Symbol.iterator])=="function"},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$1=/-->/g,a$1=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea)$/i,$=st=>(at,...Y)=>({_$litType$:st,strings:at,values:Y}),p=$(1),b=Symbol.for("lit-noChange"),T=Symbol.for("lit-nothing"),x=new WeakMap,w=(st,at,Y)=>{var tt,y;const R=(tt=Y==null?void 0:Y.renderBefore)!==null&&tt!==void 0?tt:at;let j=R._$litPart$;if(j===void 0){const O=(y=Y==null?void 0:Y.renderBefore)!==null&&y!==void 0?y:null;R._$litPart$=j=new N(at.insertBefore(h$1(),O),O,void 0,Y!=null?Y:{})}return j._$AI(st),j},A=l$2.createTreeWalker(l$2,129,null,!1),C=(st,at)=>{const Y=st.length-1,tt=[];let y,R=at===2?"<svg>":"",j=c;for(let G=0;G<Y;G++){const D=st[G];let F,B,W=-1,U=0;for(;U<D.length&&(j.lastIndex=U,B=j.exec(D),B!==null);)U=j.lastIndex,j===c?B[1]==="!--"?j=v$1:B[1]!==void 0?j=a$1:B[2]!==void 0?(g.test(B[2])&&(y=RegExp("</"+B[2],"g")),j=f):B[3]!==void 0&&(j=f):j===f?B[0]===">"?(j=y!=null?y:c,W=-1):B[1]===void 0?W=-2:(W=j.lastIndex-B[2].length,F=B[1],j=B[3]===void 0?f:B[3]==='"'?m:_):j===m||j===_?j=f:j===v$1||j===a$1?j=c:(j=f,y=void 0);const X=j===f&&st[G+1].startsWith("/>")?" ":"";R+=j===c?D+n$4:W>=0?(tt.push(F),D.slice(0,W)+"$lit$"+D.slice(W)+e$3+X):D+e$3+(W===-2?(tt.push(void 0),G):X)}const O=R+(st[Y]||"<?>")+(at===2?"</svg>":"");return[s$3!==void 0?s$3.createHTML(O):O,tt]};class P{constructor({strings:at,_$litType$:Y},tt){let y;this.parts=[];let R=0,j=0;const O=at.length-1,G=this.parts,[D,F]=C(at,Y);if(this.el=P.createElement(D,tt),A.currentNode=this.el.content,Y===2){const B=this.el.content,W=B.firstChild;W.remove(),B.append(...W.childNodes)}for(;(y=A.nextNode())!==null&&G.length<O;){if(y.nodeType===1){if(y.hasAttributes()){const B=[];for(const W of y.getAttributeNames())if(W.endsWith("$lit$")||W.startsWith(e$3)){const U=F[j++];if(B.push(W),U!==void 0){const X=y.getAttribute(U.toLowerCase()+"$lit$").split(e$3),K=/([.?@])?(.*)/.exec(U);G.push({type:1,index:R,name:K[2],strings:X,ctor:K[1]==="."?M:K[1]==="?"?H:K[1]==="@"?I:S$1})}else G.push({type:6,index:R})}for(const W of B)y.removeAttribute(W)}if(g.test(y.tagName)){const B=y.textContent.split(e$3),W=B.length-1;if(W>0){y.textContent=i$2?i$2.emptyScript:"";for(let U=0;U<W;U++)y.append(B[U],h$1()),A.nextNode(),G.push({type:2,index:++R});y.append(B[W],h$1())}}}else if(y.nodeType===8)if(y.data===o$3)G.push({type:2,index:R});else{let B=-1;for(;(B=y.data.indexOf(e$3,B+1))!==-1;)G.push({type:7,index:R}),B+=e$3.length-1}R++}}static createElement(at,Y){const tt=l$2.createElement("template");return tt.innerHTML=at,tt}}function V(st,at,Y=st,tt){var y,R,j,O;if(at===b)return at;let G=tt!==void 0?(y=Y._$Cl)===null||y===void 0?void 0:y[tt]:Y._$Cu;const D=r$2(at)?void 0:at._$litDirective$;return(G==null?void 0:G.constructor)!==D&&((R=G==null?void 0:G._$AO)===null||R===void 0||R.call(G,!1),D===void 0?G=void 0:(G=new D(st),G._$AT(st,Y,tt)),tt!==void 0?((j=(O=Y)._$Cl)!==null&&j!==void 0?j:O._$Cl=[])[tt]=G:Y._$Cu=G),G!==void 0&&(at=V(st,G._$AS(st,at.values),G,tt)),at}class E{constructor(at,Y){this.v=[],this._$AN=void 0,this._$AD=at,this._$AM=Y}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(at){var Y;const{el:{content:tt},parts:y}=this._$AD,R=((Y=at==null?void 0:at.creationScope)!==null&&Y!==void 0?Y:l$2).importNode(tt,!0);A.currentNode=R;let j=A.nextNode(),O=0,G=0,D=y[0];for(;D!==void 0;){if(O===D.index){let F;D.type===2?F=new N(j,j.nextSibling,this,at):D.type===1?F=new D.ctor(j,D.name,D.strings,this,at):D.type===6&&(F=new L(j,this,at)),this.v.push(F),D=y[++G]}O!==(D==null?void 0:D.index)&&(j=A.nextNode(),O++)}return R}m(at){let Y=0;for(const tt of this.v)tt!==void 0&&(tt.strings!==void 0?(tt._$AI(at,tt,Y),Y+=tt.strings.length-2):tt._$AI(at[Y])),Y++}}class N{constructor(at,Y,tt,y){var R;this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=at,this._$AB=Y,this._$AM=tt,this.options=y,this._$Cg=(R=y==null?void 0:y.isConnected)===null||R===void 0||R}get _$AU(){var at,Y;return(Y=(at=this._$AM)===null||at===void 0?void 0:at._$AU)!==null&&Y!==void 0?Y:this._$Cg}get parentNode(){let at=this._$AA.parentNode;const Y=this._$AM;return Y!==void 0&&at.nodeType===11&&(at=Y.parentNode),at}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(at,Y=this){at=V(this,at,Y),r$2(at)?at===T||at==null||at===""?(this._$AH!==T&&this._$AR(),this._$AH=T):at!==this._$AH&&at!==b&&this.$(at):at._$litType$!==void 0?this.T(at):at.nodeType!==void 0?this.S(at):u(at)?this.M(at):this.$(at)}A(at,Y=this._$AB){return this._$AA.parentNode.insertBefore(at,Y)}S(at){this._$AH!==at&&(this._$AR(),this._$AH=this.A(at))}$(at){this._$AH!==T&&r$2(this._$AH)?this._$AA.nextSibling.data=at:this.S(l$2.createTextNode(at)),this._$AH=at}T(at){var Y;const{values:tt,_$litType$:y}=at,R=typeof y=="number"?this._$AC(at):(y.el===void 0&&(y.el=P.createElement(y.h,this.options)),y);if(((Y=this._$AH)===null||Y===void 0?void 0:Y._$AD)===R)this._$AH.m(tt);else{const j=new E(R,this),O=j.p(this.options);j.m(tt),this.S(O),this._$AH=j}}_$AC(at){let Y=x.get(at.strings);return Y===void 0&&x.set(at.strings,Y=new P(at)),Y}M(at){d(this._$AH)||(this._$AH=[],this._$AR());const Y=this._$AH;let tt,y=0;for(const R of at)y===Y.length?Y.push(tt=new N(this.A(h$1()),this.A(h$1()),this,this.options)):tt=Y[y],tt._$AI(R),y++;y<Y.length&&(this._$AR(tt&&tt._$AB.nextSibling,y),Y.length=y)}_$AR(at=this._$AA.nextSibling,Y){var tt;for((tt=this._$AP)===null||tt===void 0||tt.call(this,!1,!0,Y);at&&at!==this._$AB;){const y=at.nextSibling;at.remove(),at=y}}setConnected(at){var Y;this._$AM===void 0&&(this._$Cg=at,(Y=this._$AP)===null||Y===void 0||Y.call(this,at))}}class S$1{constructor(at,Y,tt,y,R){this.type=1,this._$AH=T,this._$AN=void 0,this.element=at,this.name=Y,this._$AM=y,this.options=R,tt.length>2||tt[0]!==""||tt[1]!==""?(this._$AH=Array(tt.length-1).fill(new String),this.strings=tt):this._$AH=T}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(at,Y=this,tt,y){const R=this.strings;let j=!1;if(R===void 0)at=V(this,at,Y,0),j=!r$2(at)||at!==this._$AH&&at!==b,j&&(this._$AH=at);else{const O=at;let G,D;for(at=R[0],G=0;G<R.length-1;G++)D=V(this,O[tt+G],Y,G),D===b&&(D=this._$AH[G]),j||(j=!r$2(D)||D!==this._$AH[G]),D===T?at=T:at!==T&&(at+=(D!=null?D:"")+R[G+1]),this._$AH[G]=D}j&&!y&&this.k(at)}k(at){at===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,at!=null?at:"")}}class M extends S$1{constructor(){super(...arguments),this.type=3}k(at){this.element[this.name]=at===T?void 0:at}}const k=i$2?i$2.emptyScript:"";class H extends S$1{constructor(){super(...arguments),this.type=4}k(at){at&&at!==T?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S$1{constructor(at,Y,tt,y,R){super(at,Y,tt,y,R),this.type=5}_$AI(at,Y=this){var tt;if((at=(tt=V(this,at,Y,0))!==null&&tt!==void 0?tt:T)===b)return;const y=this._$AH,R=at===T&&y!==T||at.capture!==y.capture||at.once!==y.once||at.passive!==y.passive,j=at!==T&&(y===T||R);R&&this.element.removeEventListener(this.name,this,y),j&&this.element.addEventListener(this.name,this,at),this._$AH=at}handleEvent(at){var Y,tt;typeof this._$AH=="function"?this._$AH.call((tt=(Y=this.options)===null||Y===void 0?void 0:Y.host)!==null&&tt!==void 0?tt:this.element,at):this._$AH.handleEvent(at)}}class L{constructor(at,Y,tt){this.element=at,this.type=6,this._$AN=void 0,this._$AM=Y,this.options=tt}get _$AU(){return this._$AM._$AU}_$AI(at){V(this,at)}}const z=window.litHtmlPolyfillSupport;z==null||z(P,N),((t$1=globalThis.litHtmlVersions)!==null&&t$1!==void 0?t$1:globalThis.litHtmlVersions=[]).push("2.0.2");/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const v=(st,at)=>{var Y,tt;return at===void 0?((Y=st)===null||Y===void 0?void 0:Y._$litType$)!==void 0:((tt=st)===null||tt===void 0?void 0:tt._$litType$)===at};var _templateObject;function _taggedTemplateLiteral(st,at){return at||(at=st.slice(0)),Object.freeze(Object.defineProperties(st,{raw:{value:Object.freeze(at)}}))}var Node=window_1.Node;function renderToDOM(st,at){var Y=st.storyFn,tt=st.kind,y=st.name,R=st.showMain,j=st.showError,O=st.forceRemount,G=Y();if(R(),v(G)){(O||!at.querySelector('[id="root-inner"]'))&&(at.innerHTML='<div id="root-inner"></div>');var D=at.querySelector('[id="root-inner"]');w(G,D),simulatePageLoad(at)}else if(typeof G=="string")at.innerHTML=G,simulatePageLoad(at);else if(G instanceof Node){if(at.firstChild===G&&!O)return;at.innerHTML="",at.appendChild(G),simulateDOMContentLoaded()}else j({title:'Expecting an HTML snippet or DOM node from the story: "'.concat(y,'" of "').concat(tt,'".'),description:dedent(_templateObject||(_templateObject=_taggedTemplateLiteral([`
        Did you forget to return the HTML snippet from the story?
        Use "() => <your snippet or node>" or when defining the story.
      `])))})}var framework="web-components",api=client.start(renderToDOM),configure=function st(){for(var at=arguments.length,Y=new Array(at),tt=0;tt<at;tt++)Y[tt]=arguments[tt];return api.configure.apply(api,[framework].concat(Y))};api.clientApi.addDecorator;api.clientApi.addParameters;api.clientApi.clearDecorators;api.clientApi.setAddon;api.forceReRender;api.clientApi.getStorybook;api.clientApi.raw;var window$1=window_1.window,EventSource=window_1.EventSource;if(module&&module.hot&&module.hot.decline){module.hot.decline();var hmr=new EventSource("__webpack_hmr");hmr.addEventListener("message",function(at){try{var Y=JSON.parse(at.data),tt=Y.action;tt==="built"&&window$1.location.reload()}catch{}})}var parameters={framework:"web-components"},config_0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",parameters,renderToDOM});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$2=Symbol(),n$3=new Map;class s$2{constructor(at,Y){if(this._$cssResult$=!0,Y!==e$2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=at}get styleSheet(){let at=n$3.get(this.cssText);return t&&at===void 0&&(n$3.set(this.cssText,at=new CSSStyleSheet),at.replaceSync(this.cssText)),at}toString(){return this.cssText}}const o$2=st=>new s$2(typeof st=="string"?st:st+"",e$2),r$1=(st,...at)=>{const Y=st.length===1?st[0]:at.reduce((tt,y,R)=>tt+(j=>{if(j._$cssResult$===!0)return j.cssText;if(typeof j=="number")return j;throw Error("Value passed to 'css' function must be a 'css' function result: "+j+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(y)+st[R+1],st[0]);return new s$2(Y,e$2)},i$1=(st,at)=>{t?st.adoptedStyleSheets=at.map(Y=>Y instanceof CSSStyleSheet?Y:Y.styleSheet):at.forEach(Y=>{const tt=document.createElement("style"),y=window.litNonce;y!==void 0&&tt.setAttribute("nonce",y),tt.textContent=Y.cssText,st.appendChild(tt)})},S=t?st=>st:st=>st instanceof CSSStyleSheet?(at=>{let Y="";for(const tt of at.cssRules)Y+=tt.cssText;return o$2(Y)})(st):st;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var s$1;const e$1=window.trustedTypes,r=e$1?e$1.emptyScript:"",h=window.reactiveElementPolyfillSupport,o$1={toAttribute(st,at){switch(at){case Boolean:st=st?r:null;break;case Object:case Array:st=st==null?st:JSON.stringify(st)}return st},fromAttribute(st,at){let Y=st;switch(at){case Boolean:Y=st!==null;break;case Number:Y=st===null?null:Number(st);break;case Object:case Array:try{Y=JSON.parse(st)}catch{Y=null}}return Y}},n$2=(st,at)=>at!==st&&(at==at||st==st),l$1={attribute:!0,type:String,converter:o$1,reflect:!1,hasChanged:n$2};class a extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(at){var Y;(Y=this.l)!==null&&Y!==void 0||(this.l=[]),this.l.push(at)}static get observedAttributes(){this.finalize();const at=[];return this.elementProperties.forEach((Y,tt)=>{const y=this._$Eh(tt,Y);y!==void 0&&(this._$Eu.set(y,tt),at.push(y))}),at}static createProperty(at,Y=l$1){if(Y.state&&(Y.attribute=!1),this.finalize(),this.elementProperties.set(at,Y),!Y.noAccessor&&!this.prototype.hasOwnProperty(at)){const tt=typeof at=="symbol"?Symbol():"__"+at,y=this.getPropertyDescriptor(at,tt,Y);y!==void 0&&Object.defineProperty(this.prototype,at,y)}}static getPropertyDescriptor(at,Y,tt){return{get(){return this[Y]},set(y){const R=this[at];this[Y]=y,this.requestUpdate(at,R,tt)},configurable:!0,enumerable:!0}}static getPropertyOptions(at){return this.elementProperties.get(at)||l$1}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const at=Object.getPrototypeOf(this);if(at.finalize(),this.elementProperties=new Map(at.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const Y=this.properties,tt=[...Object.getOwnPropertyNames(Y),...Object.getOwnPropertySymbols(Y)];for(const y of tt)this.createProperty(y,Y[y])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(at){const Y=[];if(Array.isArray(at)){const tt=new Set(at.flat(1/0).reverse());for(const y of tt)Y.unshift(S(y))}else at!==void 0&&Y.push(S(at));return Y}static _$Eh(at,Y){const tt=Y.attribute;return tt===!1?void 0:typeof tt=="string"?tt:typeof at=="string"?at.toLowerCase():void 0}o(){var at;this._$Ep=new Promise(Y=>this.enableUpdating=Y),this._$AL=new Map,this._$Em(),this.requestUpdate(),(at=this.constructor.l)===null||at===void 0||at.forEach(Y=>Y(this))}addController(at){var Y,tt;((Y=this._$Eg)!==null&&Y!==void 0?Y:this._$Eg=[]).push(at),this.renderRoot!==void 0&&this.isConnected&&((tt=at.hostConnected)===null||tt===void 0||tt.call(at))}removeController(at){var Y;(Y=this._$Eg)===null||Y===void 0||Y.splice(this._$Eg.indexOf(at)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((at,Y)=>{this.hasOwnProperty(Y)&&(this._$Et.set(Y,this[Y]),delete this[Y])})}createRenderRoot(){var at;const Y=(at=this.shadowRoot)!==null&&at!==void 0?at:this.attachShadow(this.constructor.shadowRootOptions);return i$1(Y,this.constructor.elementStyles),Y}connectedCallback(){var at;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(at=this._$Eg)===null||at===void 0||at.forEach(Y=>{var tt;return(tt=Y.hostConnected)===null||tt===void 0?void 0:tt.call(Y)})}enableUpdating(at){}disconnectedCallback(){var at;(at=this._$Eg)===null||at===void 0||at.forEach(Y=>{var tt;return(tt=Y.hostDisconnected)===null||tt===void 0?void 0:tt.call(Y)})}attributeChangedCallback(at,Y,tt){this._$AK(at,tt)}_$ES(at,Y,tt=l$1){var y,R;const j=this.constructor._$Eh(at,tt);if(j!==void 0&&tt.reflect===!0){const O=((R=(y=tt.converter)===null||y===void 0?void 0:y.toAttribute)!==null&&R!==void 0?R:o$1.toAttribute)(Y,tt.type);this._$Ei=at,O==null?this.removeAttribute(j):this.setAttribute(j,O),this._$Ei=null}}_$AK(at,Y){var tt,y,R;const j=this.constructor,O=j._$Eu.get(at);if(O!==void 0&&this._$Ei!==O){const G=j.getPropertyOptions(O),D=G.converter,F=(R=(y=(tt=D)===null||tt===void 0?void 0:tt.fromAttribute)!==null&&y!==void 0?y:typeof D=="function"?D:null)!==null&&R!==void 0?R:o$1.fromAttribute;this._$Ei=O,this[O]=F(Y,G.type),this._$Ei=null}}requestUpdate(at,Y,tt){let y=!0;at!==void 0&&(((tt=tt||this.constructor.getPropertyOptions(at)).hasChanged||n$2)(this[at],Y)?(this._$AL.has(at)||this._$AL.set(at,Y),tt.reflect===!0&&this._$Ei!==at&&(this._$E_===void 0&&(this._$E_=new Map),this._$E_.set(at,tt))):y=!1),!this.isUpdatePending&&y&&(this._$Ep=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ep}catch(Y){Promise.reject(Y)}const at=this.scheduleUpdate();return at!=null&&await at,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var at;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach((y,R)=>this[R]=y),this._$Et=void 0);let Y=!1;const tt=this._$AL;try{Y=this.shouldUpdate(tt),Y?(this.willUpdate(tt),(at=this._$Eg)===null||at===void 0||at.forEach(y=>{var R;return(R=y.hostUpdate)===null||R===void 0?void 0:R.call(y)}),this.update(tt)):this._$EU()}catch(y){throw Y=!1,this._$EU(),y}Y&&this._$AE(tt)}willUpdate(at){}_$AE(at){var Y;(Y=this._$Eg)===null||Y===void 0||Y.forEach(tt=>{var y;return(y=tt.hostUpdated)===null||y===void 0?void 0:y.call(tt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(at)),this.updated(at)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(at){return!0}update(at){this._$E_!==void 0&&(this._$E_.forEach((Y,tt)=>this._$ES(tt,this[tt],Y)),this._$E_=void 0),this._$EU()}updated(at){}firstUpdated(at){}}a.finalized=!0,a.elementProperties=new Map,a.elementStyles=[],a.shadowRootOptions={mode:"open"},h==null||h({ReactiveElement:a}),((s$1=globalThis.reactiveElementVersions)!==null&&s$1!==void 0?s$1:globalThis.reactiveElementVersions=[]).push("1.0.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var l,o;class s extends a{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var at,Y;const tt=super.createRenderRoot();return(at=(Y=this.renderOptions).renderBefore)!==null&&at!==void 0||(Y.renderBefore=tt.firstChild),tt}update(at){const Y=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(at),this._$Dt=w(Y,this.renderRoot,this.renderOptions)}connectedCallback(){var at;super.connectedCallback(),(at=this._$Dt)===null||at===void 0||at.setConnected(!0)}disconnectedCallback(){var at;super.disconnectedCallback(),(at=this._$Dt)===null||at===void 0||at.setConnected(!1)}render(){return b}}s.finalized=!0,s._$litElement$=!0,(l=globalThis.litElementHydrateSupport)===null||l===void 0||l.call(globalThis,{LitElement:s});const n$1=globalThis.litElementPolyfillSupport;n$1==null||n$1({LitElement:s});((o=globalThis.litElementVersions)!==null&&o!==void 0?o:globalThis.litElementVersions=[]).push("3.0.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const n=st=>at=>typeof at=="function"?((Y,tt)=>(window.customElements.define(Y,tt),tt))(st,at):((Y,tt)=>{const{kind:y,elements:R}=tt;return{kind:y,elements:R,finisher(j){window.customElements.define(Y,j)}}})(st,at);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const i=(st,at)=>at.kind==="method"&&at.descriptor&&!("value"in at.descriptor)?de(ce({},at),{finisher(Y){Y.createProperty(at.key,st)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:at.key,initializer(){typeof at.initializer=="function"&&(this[at.key]=at.initializer.call(this))},finisher(Y){Y.createProperty(at.key,st)}};function e(st){return(at,Y)=>Y!==void 0?((tt,y,R)=>{y.constructor.createProperty(R,tt)})(st,at,Y):i(st,at)}var phaser={exports:{}};(function(st,at){(function(tt,y){st.exports=y()})(commonjsGlobal,function(){return function(Y){var tt={};function y(R){if(tt[R])return tt[R].exports;var j=tt[R]={i:R,l:!1,exports:{}};return Y[R].call(j.exports,j,j.exports,y),j.l=!0,j.exports}return y.m=Y,y.c=tt,y.d=function(R,j,O){y.o(R,j)||Object.defineProperty(R,j,{enumerable:!0,get:O})},y.r=function(R){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})},y.t=function(R,j){if(j&1&&(R=y(R)),j&8||j&4&&typeof R=="object"&&R&&R.__esModule)return R;var O=Object.create(null);if(y.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:R}),j&2&&typeof R!="string")for(var G in R)y.d(O,G,function(D){return R[D]}.bind(null,G));return O},y.n=function(R){var j=R&&R.__esModule?function(){return R.default}:function(){return R};return y.d(j,"a",j),j},y.o=function(R,j){return Object.prototype.hasOwnProperty.call(R,j)},y.p="",y(y.s=1528)}([function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(F){return!!F.get&&typeof F.get=="function"||!!F.set&&typeof F.set=="function"}function R(F,B,W){var U=W?F[B]:Object.getOwnPropertyDescriptor(F,B);return!W&&U.value&&typeof U.value=="object"&&(U=U.value),U&&y(U)?(typeof U.enumerable=="undefined"&&(U.enumerable=!0),typeof U.configurable=="undefined"&&(U.configurable=!0),U):!1}function j(F,B){var W=Object.getOwnPropertyDescriptor(F,B);return W?(W.value&&typeof W.value=="object"&&(W=W.value),W.configurable===!1):!1}function O(F,B,W,U){for(var X in B)if(!!B.hasOwnProperty(X)){var K=R(B,X,W);if(K!==!1){var J=U||F;if(j(J.prototype,X)){if(D.ignoreFinals)continue;throw new Error("cannot override final property '"+X+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(F.prototype,X,K)}else F.prototype[X]=B[X]}}function G(F,B){if(!!B){Array.isArray(B)||(B=[B]);for(var W=0;W<B.length;W++)O(F,B[W].prototype||B[W])}}function D(F){F||(F={});var B,W;if(F.initialize){if(typeof F.initialize!="function")throw new Error("initialize must be a function");B=F.initialize,delete F.initialize}else if(F.Extends){var U=F.Extends;B=function(){U.apply(this,arguments)}}else B=function(){};F.Extends?(B.prototype=Object.create(F.Extends.prototype),B.prototype.constructor=B,W=F.Extends,delete F.Extends):B.prototype.constructor=B;var X=null;return F.Mixins&&(X=F.Mixins,delete F.Mixins),G(B,X),O(B,F,!0,W),B}D.extend=O,D.mixin=G,D.ignoreFinals=!1,Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=typeof R;return!R||G==="number"||G==="string"?O:R.hasOwnProperty(j)&&R[j]!==void 0?R[j]:O};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(124),O=new R({initialize:function(D,F){this.x=0,this.y=0,typeof D=="object"?(this.x=D.x||0,this.y=D.y||0):(F===void 0&&(F=D),this.x=D||0,this.y=F||0)},clone:function(){return new O(this.x,this.y)},copy:function(G){return this.x=G.x||0,this.y=G.y||0,this},setFromObject:function(G){return this.x=G.x||0,this.y=G.y||0,this},set:function(G,D){return D===void 0&&(D=G),this.x=G,this.y=D,this},setTo:function(G,D){return this.set(G,D)},setToPolar:function(G,D){return D==null&&(D=1),this.x=Math.cos(G)*D,this.y=Math.sin(G)*D,this},equals:function(G){return this.x===G.x&&this.y===G.y},fuzzyEquals:function(G,D){return j(this.x,G.x,D)&&j(this.y,G.y,D)},angle:function(){var G=Math.atan2(this.y,this.x);return G<0&&(G+=2*Math.PI),G},setAngle:function(G){return this.setToPolar(G,this.length())},add:function(G){return this.x+=G.x,this.y+=G.y,this},subtract:function(G){return this.x-=G.x,this.y-=G.y,this},multiply:function(G){return this.x*=G.x,this.y*=G.y,this},scale:function(G){return isFinite(G)?(this.x*=G,this.y*=G):(this.x=0,this.y=0),this},divide:function(G){return this.x/=G.x,this.y/=G.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(G){var D=G.x-this.x,F=G.y-this.y;return Math.sqrt(D*D+F*F)},distanceSq:function(G){var D=G.x-this.x,F=G.y-this.y;return D*D+F*F},length:function(){var G=this.x,D=this.y;return Math.sqrt(G*G+D*D)},setLength:function(G){return this.normalize().scale(G)},lengthSq:function(){var G=this.x,D=this.y;return G*G+D*D},normalize:function(){var G=this.x,D=this.y,F=G*G+D*D;return F>0&&(F=1/Math.sqrt(F),this.x=G*F,this.y=D*F),this},normalizeRightHand:function(){var G=this.x;return this.x=this.y*-1,this.y=G,this},normalizeLeftHand:function(){var G=this.x;return this.x=this.y,this.y=G*-1,this},dot:function(G){return this.x*G.x+this.y*G.y},cross:function(G){return this.x*G.y-this.y*G.x},lerp:function(G,D){D===void 0&&(D=0);var F=this.x,B=this.y;return this.x=F+D*(G.x-F),this.y=B+D*(G.y-B),this},transformMat3:function(G){var D=this.x,F=this.y,B=G.val;return this.x=B[0]*D+B[3]*F+B[6],this.y=B[1]*D+B[4]*F+B[7],this},transformMat4:function(G){var D=this.x,F=this.y,B=G.val;return this.x=B[0]*D+B[4]*F+B[12],this.y=B[1]*D+B[5]*F+B[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(G){var D=this.length();return D&&D>G&&this.scale(G/D),this},reflect:function(G){return G=G.clone().normalize(),this.subtract(G.scale(2*this.dot(G)))},mirror:function(G){return this.reflect(G).negate()},rotate:function(G){var D=Math.cos(G),F=Math.sin(G);return this.set(D*this.x-F*this.y,F*this.x+D*this.y)}});O.ZERO=new O,O.RIGHT=new O(1,0),O.LEFT=new O(-1,0),O.UP=new O(0,-1),O.DOWN=new O(0,1),O.ONE=new O(1,1),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(56),O=new R({initialize:function(D,F){D===void 0&&(D=0),F===void 0&&(F=D),this.type=j.POINT,this.x=D,this.y=F},setTo:function(G,D){return G===void 0&&(G=0),D===void 0&&(D=G),this.x=G,this.y=D,this}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(24),O=y(20),G=new R({initialize:function(F){this.scene=F,this.systems=F.sys,this.events=F.sys.events,this.displayList,this.updateList,this.events.once(O.BOOT,this.boot,this),this.events.on(O.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(O.DESTROY,this.destroy,this)},start:function(){this.events.once(O.SHUTDOWN,this.shutdown,this)},existing:function(D){return(D.renderCanvas||D.renderWebGL)&&this.displayList.add(D),D.preUpdate&&this.updateList.add(D),D},shutdown:function(){this.events.off(O.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(O.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});G.register=function(D,F){G.prototype.hasOwnProperty(D)||(G.prototype[D]=F)},G.remove=function(D){G.prototype.hasOwnProperty(D)&&delete G.prototype[D]},j.register("GameObjectFactory",G,"add"),Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(!R||typeof R=="number")return O;if(R.hasOwnProperty(j))return R[j];if(j.indexOf(".")!==-1){for(var G=j.split("."),D=R,F=O,B=0;B<G.length;B++)if(D.hasOwnProperty(G[B]))F=D[G[B]],D=D[G[B]];else{F=O;break}return F}else return O};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){if(typeof R!="object"||R.nodeType||R===R.window)return!1;try{if(R.constructor&&!{}.hasOwnProperty.call(R.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},R={install:function(j){for(var O in y)j[O]=y[O]},register:function(j,O){y[j]=O},destroy:function(){y={}}};Y.exports=R},function(Y,tt,y){var R=Object.prototype.hasOwnProperty,j="~";function O(){}Object.create&&(O.prototype=Object.create(null),new O().__proto__||(j=!1));function G(W,U,X){this.fn=W,this.context=U,this.once=X||!1}function D(W,U,X,K,J){if(typeof X!="function")throw new TypeError("The listener must be a function");var Z=new G(X,K||W,J),Q=j?j+U:U;return W._events[Q]?W._events[Q].fn?W._events[Q]=[W._events[Q],Z]:W._events[Q].push(Z):(W._events[Q]=Z,W._eventsCount++),W}function F(W,U){--W._eventsCount==0?W._events=new O:delete W._events[U]}function B(){this._events=new O,this._eventsCount=0}B.prototype.eventNames=function(){var U=[],X,K;if(this._eventsCount===0)return U;for(K in X=this._events)R.call(X,K)&&U.push(j?K.slice(1):K);return Object.getOwnPropertySymbols?U.concat(Object.getOwnPropertySymbols(X)):U},B.prototype.listeners=function(U){var X=j?j+U:U,K=this._events[X];if(!K)return[];if(K.fn)return[K.fn];for(var J=0,Z=K.length,Q=new Array(Z);J<Z;J++)Q[J]=K[J].fn;return Q},B.prototype.listenerCount=function(U){var X=j?j+U:U,K=this._events[X];return K?K.fn?1:K.length:0},B.prototype.emit=function(U,X,K,J,Z,Q){var q=j?j+U:U;if(!this._events[q])return!1;var et=this._events[q],rt=arguments.length,nt,ot;if(et.fn){switch(et.once&&this.removeListener(U,et.fn,void 0,!0),rt){case 1:return et.fn.call(et.context),!0;case 2:return et.fn.call(et.context,X),!0;case 3:return et.fn.call(et.context,X,K),!0;case 4:return et.fn.call(et.context,X,K,J),!0;case 5:return et.fn.call(et.context,X,K,J,Z),!0;case 6:return et.fn.call(et.context,X,K,J,Z,Q),!0}for(ot=1,nt=new Array(rt-1);ot<rt;ot++)nt[ot-1]=arguments[ot];et.fn.apply(et.context,nt)}else{var ht=et.length,ut;for(ot=0;ot<ht;ot++)switch(et[ot].once&&this.removeListener(U,et[ot].fn,void 0,!0),rt){case 1:et[ot].fn.call(et[ot].context);break;case 2:et[ot].fn.call(et[ot].context,X);break;case 3:et[ot].fn.call(et[ot].context,X,K);break;case 4:et[ot].fn.call(et[ot].context,X,K,J);break;default:if(!nt)for(ut=1,nt=new Array(rt-1);ut<rt;ut++)nt[ut-1]=arguments[ut];et[ot].fn.apply(et[ot].context,nt)}}return!0},B.prototype.on=function(U,X,K){return D(this,U,X,K,!1)},B.prototype.once=function(U,X,K){return D(this,U,X,K,!0)},B.prototype.removeListener=function(U,X,K,J){var Z=j?j+U:U;if(!this._events[Z])return this;if(!X)return F(this,Z),this;var Q=this._events[Z];if(Q.fn)Q.fn===X&&(!J||Q.once)&&(!K||Q.context===K)&&F(this,Z);else{for(var q=0,et=[],rt=Q.length;q<rt;q++)(Q[q].fn!==X||J&&!Q[q].once||K&&Q[q].context!==K)&&et.push(Q[q]);et.length?this._events[Z]=et.length===1?et[0]:et:F(this,Z)}return this},B.prototype.removeAllListeners=function(U){var X;return U?(X=j?j+U:U,this._events[X]&&F(this,X)):(this._events=new O,this._eventsCount=0),this},B.prototype.off=B.prototype.removeListener,B.prototype.addListener=B.prototype.on,B.prefixed=j,B.EventEmitter=B,Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(57),O=y(171),G=y(306),D=y(56),F=y(47),B=y(174),W=new R({initialize:function(X,K,J,Z){X===void 0&&(X=0),K===void 0&&(K=0),J===void 0&&(J=0),Z===void 0&&(Z=0),this.type=D.RECTANGLE,this.x=X,this.y=K,this.width=J,this.height=Z},contains:function(U,X){return j(this,U,X)},getPoint:function(U,X){return O(this,U,X)},getPoints:function(U,X,K){return G(this,U,X,K)},getRandomPoint:function(U){return B(this,U)},setTo:function(U,X,K,J){return this.x=U,this.y=X,this.width=K,this.height=J,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(U,X){return X===void 0&&(X=U),this.x=U,this.y=X,this},setSize:function(U,X){return X===void 0&&(X=U),this.width=U,this.height=X,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(U){return U===void 0&&(U=new F),U.setTo(this.x,this.y,this.right,this.y),U},getLineB:function(U){return U===void 0&&(U=new F),U.setTo(this.right,this.y,this.right,this.bottom),U},getLineC:function(U){return U===void 0&&(U=new F),U.setTo(this.right,this.bottom,this.x,this.bottom),U},getLineD:function(U){return U===void 0&&(U=new F),U.setTo(this.x,this.bottom,this.x,this.y),U},left:{get:function(){return this.x},set:function(U){U>=this.right?this.width=0:this.width=this.right-U,this.x=U}},right:{get:function(){return this.x+this.width},set:function(U){U<=this.x?this.width=0:this.width=U-this.x}},top:{get:function(){return this.y},set:function(U){U>=this.bottom?this.height=0:this.height=this.bottom-U,this.y=U}},bottom:{get:function(){return this.y+this.height},set:function(U){U<=this.y?this.height=0:this.height=U-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(U){this.x=U-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(U){this.y=U-this.height/2}}});Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Alpha:y(607),AlphaSingle:y(303),BlendMode:y(304),ComputedSize:y(608),Crop:y(609),Depth:y(305),Flip:y(610),GetBounds:y(611),Mask:y(309),Origin:y(632),PathFollower:y(633),Pipeline:y(167),ScrollFactor:y(312),Size:y(634),Texture:y(635),TextureCrop:y(636),Tint:y(637),ToJSON:y(176),Transform:y(313),TransformMatrix:y(25),Visible:y(314)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(R){for(var j="",O=0;O<R;++O)O>0&&(j+=`
else `),O<R-1&&(j+="if(test == "+O+".0){}");return j}Y.exports={getTintFromFloats:function(R,j,O,G){var D=(R*255|0)&255,F=(j*255|0)&255,B=(O*255|0)&255,W=(G*255|0)&255;return(W<<24|D<<16|F<<8|B)>>>0},getTintAppendFloatAlpha:function(R,j){var O=(j*255|0)&255;return(O<<24|R)>>>0},getTintAppendFloatAlphaAndSwap:function(R,j){var O=(R>>16|0)&255,G=(R>>8|0)&255,D=(R|0)&255,F=(j*255|0)&255;return(F<<24|D<<16|G<<8|O)>>>0},getFloatsFromUintRGB:function(R){var j=(R>>16|0)&255,O=(R>>8|0)&255,G=(R|0)&255;return[j/255,O/255,G/255]},checkShaderMax:function(R,j){(!j||j===-1)&&(j=R.getParameter(R.MAX_TEXTURE_IMAGE_UNITS));for(var O=R.createShader(R.FRAGMENT_SHADER),G=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);;){var D=G.replace(/%forloop%/gi,y(j));if(R.shaderSource(O,D),R.compileShader(O),!R.getShaderParameter(O,R.COMPILE_STATUS))j=j/2|0;else break}return j},parseFragmentShaderMaxTextures:function(R,j){if(!R)return"";for(var O="",G=0;G<j;G++)G>0&&(O+=`
	else `),G<j-1&&(O+="if (outTexId < "+G+".5)"),O+=`
	{`,O+=`
		texture = texture2D(uMainSampler[`+G+"], outTexCoord);",O+=`
	}`;return R=R.replace(/%count%/gi,j.toString()),R.replace(/%forloop%/gi,O)}}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(193),j=y(6),O=function(G,D,F){var B=j(G,D,null);if(B===null)return F;if(Array.isArray(B))return R.RND.pick(B);if(typeof B=="object"){if(B.hasOwnProperty("randInt"))return R.RND.integerInRange(B.randInt[0],B.randInt[1]);if(B.hasOwnProperty("randFloat"))return R.RND.realInRange(B.randFloat[0],B.randFloat[1])}else if(typeof B=="function")return B(D);return B};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(176),O=y(101),G=y(9),D=y(75),F=y(20),B=new R({Extends:G,initialize:function(U,X){G.call(this),this.scene=U,this.displayList=null,this.type=X,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(D.ADDED_TO_SCENE,this.addedToScene,this),this.on(D.REMOVED_FROM_SCENE,this.removedFromScene,this),U.sys.queueDepthSort()},setActive:function(W){return this.active=W,this},setName:function(W){return this.name=W,this},setState:function(W){return this.state=W,this},setDataEnabled:function(){return this.data||(this.data=new O(this)),this},setData:function(W,U){return this.data||(this.data=new O(this)),this.data.set(W,U),this},incData:function(W,U){return this.data||(this.data=new O(this)),this.data.inc(W,U),this},toggleData:function(W){return this.data||(this.data=new O(this)),this.data.toggle(W),this},getData:function(W){return this.data||(this.data=new O(this)),this.data.get(W)},setInteractive:function(W,U,X){return this.scene.sys.input.enable(this,W,U,X),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return j(this)},willRender:function(W){return!(B.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&W.id)},getIndexList:function(){for(var W=this,U=this.parentContainer,X=[];U&&(X.unshift(U.getIndex(W)),W=U,U.parentContainer);)U=U.parentContainer;return this.displayList?X.unshift(this.displayList.getIndex(W)):X.unshift(this.scene.sys.displayList.getIndex(W)),X},addToDisplayList:function(W){return W===void 0&&(W=this.scene.sys.displayList),this.displayList&&this.displayList!==W&&this.removeFromDisplayList(),W.exists(this)||(this.displayList=W,W.add(this,!0),W.queueDepthSort(),this.emit(D.ADDED_TO_SCENE,this,this.scene),W.events.emit(F.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var W=this.displayList||this.scene.sys.displayList;return W.exists(this)&&(W.remove(this,!0),W.queueDepthSort(),this.displayList=null,this.emit(D.REMOVED_FROM_SCENE,this,this.scene),W.events.emit(F.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(W){!this.scene||this.ignoreDestroy||(W===void 0&&(W=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(D.DESTROY,this,W),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});B.RENDER_MASK=15,Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(24),O=y(20),G=new R({initialize:function(F){this.scene=F,this.systems=F.sys,this.events=F.sys.events,this.displayList,this.updateList,this.events.once(O.BOOT,this.boot,this),this.events.on(O.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(O.DESTROY,this.destroy,this)},start:function(){this.events.once(O.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(O.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(O.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});G.register=function(D,F){G.prototype.hasOwnProperty(D)||(G.prototype[D]=F)},G.remove=function(D){G.prototype.hasOwnProperty(D)&&delete G.prototype[D]},j.register("GameObjectCreator",G,"make"),Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(7),j=function(){var O,G,D,F,B,W,U=arguments[0]||{},X=1,K=arguments.length,J=!1;for(typeof U=="boolean"&&(J=U,U=arguments[1]||{},X=2),K===X&&(U=this,--X);X<K;X++)if((O=arguments[X])!=null)for(G in O)D=U[G],F=O[G],U!==F&&(J&&F&&(R(F)||(B=Array.isArray(F)))?(B?(B=!1,W=D&&Array.isArray(D)?D:[]):W=D&&R(D)?D:{},U[G]=j(J,W,F)):F!==void 0&&(U[G]=F));return U};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return Math.max(j,Math.min(O,R))};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(25),j=new R,O=new R,G=new R,D={camera:j,sprite:O,calc:G},F=function(B,W,U){var X=j,K=O,J=G;return K.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),X.copyFrom(W.matrix),U?(X.multiplyWithOffset(U,-W.scrollX*B.scrollFactorX,-W.scrollY*B.scrollFactorY),K.e=B.x,K.f=B.y):(K.e-=W.scrollX*B.scrollFactorX,K.f-=W.scrollY*B.scrollFactorY),X.multiply(K,J),D};Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ADDED_TO_SCENE:y(656),BOOT:y(657),CREATE:y(658),DESTROY:y(659),PAUSE:y(660),POST_UPDATE:y(661),PRE_RENDER:y(662),PRE_UPDATE:y(663),READY:y(664),REMOVED_FROM_SCENE:y(665),RENDER:y(666),RESUME:y(667),SHUTDOWN:y(668),SLEEP:y(669),START:y(670),TRANSITION_COMPLETE:y(671),TRANSITION_INIT:y(672),TRANSITION_OUT:y(673),TRANSITION_START:y(674),TRANSITION_WAKE:y(675),UPDATE:y(676),WAKE:y(677)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={BLUR:y(612),BOOT:y(613),CONTEXT_LOST:y(614),CONTEXT_RESTORED:y(615),DESTROY:y(616),FOCUS:y(617),HIDDEN:y(618),PAUSE:y(619),POST_RENDER:y(620),POST_STEP:y(621),PRE_RENDER:y(622),PRE_STEP:y(623),READY:y(624),RESUME:y(625),STEP:y(626),VISIBLE:y(627)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(95),G=y(2),D=y(155),F=y(240),B=y(517),W=y(156),U=new R({initialize:function(K,J){this.loader=K,this.cache=G(J,"cache",!1),this.type=G(J,"type",!1),this.key=G(J,"key",!1);var Z=this.key;if(K.prefix&&K.prefix!==""&&(this.key=K.prefix+Z),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var Q=G(J,"url");Q===void 0?Q=K.path+Z+"."+G(J,"extension",""):typeof Q=="string"&&!Q.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)&&(Q=K.path+Q),this.url=Q,this.src="",this.xhrSettings=W(G(J,"responseType",void 0)),G(J,"xhrSettings",!1)&&(this.xhrSettings=F(this.xhrSettings,G(J,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?j.FILE_POPULATED:j.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=G(J,"config",{}),this.multiFile,this.linkFile},setLink:function(X){this.linkFile=X,X.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===j.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=j.FILE_LOADING,this.src=D(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=B(this,this.loader.xhr))},onLoad:function(X,K){var J=X.responseURL&&(X.responseURL.indexOf("file://")===0||X.responseURL.indexOf("capacitor://")===0),Z=J&&K.target.status===0,Q=!(K.target&&K.target.status!==200)||Z;X.readyState===4&&X.status>=400&&X.status<=599&&(Q=!1),this.state=j.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,Q)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(X){X.lengthComputable&&(this.bytesLoaded=X.loaded,this.bytesTotal=X.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(O.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=j.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=j.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=j.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(X){X===void 0&&(X=this.data);var K=this.key,J=this.type;this.loader.emit(O.FILE_COMPLETE,K,J,X),this.loader.emit(O.FILE_KEY_COMPLETE+J+"-"+K,K,J,X),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});U.createObjectURL=function(X,K,J){if(typeof URL=="function")X.src=URL.createObjectURL(K);else{var Z=new FileReader;Z.onload=function(){X.removeAttribute("crossOrigin"),X.src="data:"+(K.type||J)+";base64,"+Z.result.split(",")[1]},Z.onerror=X.onerror,Z.readAsDataURL(K)}},U.revokeObjectURL=function(X){typeof URL=="function"&&URL.revokeObjectURL(X.src)},Y.exports=U},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},R={},j={};j.register=function(O,G,D,F){F===void 0&&(F=!1),y[O]={plugin:G,mapping:D,custom:F}},j.registerCustom=function(O,G,D,F){R[O]={plugin:G,mapping:D,data:F}},j.hasCore=function(O){return y.hasOwnProperty(O)},j.hasCustom=function(O){return R.hasOwnProperty(O)},j.getCore=function(O){return y[O]},j.getCustom=function(O){return R[O]},j.getCustomClass=function(O){return R.hasOwnProperty(O)?R[O].plugin:null},j.remove=function(O){y.hasOwnProperty(O)&&delete y[O]},j.removeCustom=function(O){R.hasOwnProperty(O)&&delete R[O]},j.destroyCorePlugins=function(){for(var O in y)y.hasOwnProperty(O)&&delete y[O]},j.destroyCustomPlugins=function(){for(var O in R)R.hasOwnProperty(O)&&delete R[O]},Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(14),O=y(3),G=new R({initialize:function(F,B,W,U,X,K){F===void 0&&(F=1),B===void 0&&(B=0),W===void 0&&(W=0),U===void 0&&(U=1),X===void 0&&(X=0),K===void 0&&(K=0),this.matrix=new Float32Array([F,B,W,U,X,K,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(D){this.matrix[0]=D}},b:{get:function(){return this.matrix[1]},set:function(D){this.matrix[1]=D}},c:{get:function(){return this.matrix[2]},set:function(D){this.matrix[2]=D}},d:{get:function(){return this.matrix[3]},set:function(D){this.matrix[3]=D}},e:{get:function(){return this.matrix[4]},set:function(D){this.matrix[4]=D}},f:{get:function(){return this.matrix[5]},set:function(D){this.matrix[5]=D}},tx:{get:function(){return this.matrix[4]},set:function(D){this.matrix[4]=D}},ty:{get:function(){return this.matrix[5]},set:function(D){this.matrix[5]=D}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var D=this.matrix,F=D[0],B=D[1],W=D[2],U=D[3];return F||B?B>0?Math.acos(F/this.scaleX):-Math.acos(F/this.scaleX):W||U?j.TAU-(U>0?Math.acos(-W/this.scaleY):-Math.acos(W/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var D=this.matrix;return D[0]=1,D[1]=0,D[2]=0,D[3]=1,D[4]=0,D[5]=0,this},translate:function(D,F){var B=this.matrix;return B[4]=B[0]*D+B[2]*F+B[4],B[5]=B[1]*D+B[3]*F+B[5],this},scale:function(D,F){var B=this.matrix;return B[0]*=D,B[1]*=D,B[2]*=F,B[3]*=F,this},rotate:function(D){var F=Math.sin(D),B=Math.cos(D),W=this.matrix,U=W[0],X=W[1],K=W[2],J=W[3];return W[0]=U*B+K*F,W[1]=X*B+J*F,W[2]=U*-F+K*B,W[3]=X*-F+J*B,this},multiply:function(D,F){var B=this.matrix,W=D.matrix,U=B[0],X=B[1],K=B[2],J=B[3],Z=B[4],Q=B[5],q=W[0],et=W[1],rt=W[2],nt=W[3],ot=W[4],ht=W[5],ut=F===void 0?this:F;return ut.a=q*U+et*K,ut.b=q*X+et*J,ut.c=rt*U+nt*K,ut.d=rt*X+nt*J,ut.e=ot*U+ht*K+Z,ut.f=ot*X+ht*J+Q,ut},multiplyWithOffset:function(D,F,B){var W=this.matrix,U=D.matrix,X=W[0],K=W[1],J=W[2],Z=W[3],Q=W[4],q=W[5],et=F*X+B*J+Q,rt=F*K+B*Z+q,nt=U[0],ot=U[1],ht=U[2],ut=U[3],ct=U[4],ft=U[5];return W[0]=nt*X+ot*J,W[1]=nt*K+ot*Z,W[2]=ht*X+ut*J,W[3]=ht*K+ut*Z,W[4]=ct*X+ft*J+et,W[5]=ct*K+ft*Z+rt,this},transform:function(D,F,B,W,U,X){var K=this.matrix,J=K[0],Z=K[1],Q=K[2],q=K[3],et=K[4],rt=K[5];return K[0]=D*J+F*Q,K[1]=D*Z+F*q,K[2]=B*J+W*Q,K[3]=B*Z+W*q,K[4]=U*J+X*Q+et,K[5]=U*Z+X*q+rt,this},transformPoint:function(D,F,B){B===void 0&&(B={x:0,y:0});var W=this.matrix,U=W[0],X=W[1],K=W[2],J=W[3],Z=W[4],Q=W[5];return B.x=D*U+F*K+Z,B.y=D*X+F*J+Q,B},invert:function(){var D=this.matrix,F=D[0],B=D[1],W=D[2],U=D[3],X=D[4],K=D[5],J=F*U-B*W;return D[0]=U/J,D[1]=-B/J,D[2]=-W/J,D[3]=F/J,D[4]=(W*K-U*X)/J,D[5]=-(F*K-B*X)/J,this},copyFrom:function(D){var F=this.matrix;return F[0]=D.a,F[1]=D.b,F[2]=D.c,F[3]=D.d,F[4]=D.e,F[5]=D.f,this},copyFromArray:function(D){var F=this.matrix;return F[0]=D[0],F[1]=D[1],F[2]=D[2],F[3]=D[3],F[4]=D[4],F[5]=D[5],this},copyToContext:function(D){var F=this.matrix;return D.transform(F[0],F[1],F[2],F[3],F[4],F[5]),D},setToContext:function(D){var F=this.matrix;return D.setTransform(F[0],F[1],F[2],F[3],F[4],F[5]),D},copyToArray:function(D){var F=this.matrix;return D===void 0?D=[F[0],F[1],F[2],F[3],F[4],F[5]]:(D[0]=F[0],D[1]=F[1],D[2]=F[2],D[3]=F[3],D[4]=F[4],D[5]=F[5]),D},setTransform:function(D,F,B,W,U,X){var K=this.matrix;return K[0]=D,K[1]=F,K[2]=B,K[3]=W,K[4]=U,K[5]=X,this},decomposeMatrix:function(){var D=this.decomposedMatrix,F=this.matrix,B=F[0],W=F[1],U=F[2],X=F[3],K=B*X-W*U;if(D.translateX=F[4],D.translateY=F[5],B||W){var J=Math.sqrt(B*B+W*W);D.rotation=W>0?Math.acos(B/J):-Math.acos(B/J),D.scaleX=J,D.scaleY=K/J}else if(U||X){var Z=Math.sqrt(U*U+X*X);D.rotation=Math.PI*.5-(X>0?Math.acos(-U/Z):-Math.acos(U/Z)),D.scaleX=K/Z,D.scaleY=Z}else D.rotation=0,D.scaleX=0,D.scaleY=0;return D},applyITRS:function(D,F,B,W,U){var X=this.matrix,K=Math.sin(B),J=Math.cos(B);return X[4]=D,X[5]=F,X[0]=J*W,X[1]=K*W,X[2]=-K*U,X[3]=J*U,this},applyInverse:function(D,F,B){B===void 0&&(B=new O);var W=this.matrix,U=W[0],X=W[1],K=W[2],J=W[3],Z=W[4],Q=W[5],q=1/(U*J+K*-X);return B.x=J*q*D+-K*q*F+(Q*K-Z*J)*q,B.y=U*q*F+-X*q*D+(-Q*U+Z*X)*q,B},getX:function(D,F){return D*this.a+F*this.c+this.e},getY:function(D,F){return D*this.b+F*this.d+this.f},getXRound:function(D,F,B){var W=this.getX(D,F);return B&&(W=Math.round(W)),W},getYRound:function(D,F,B){var W=this.getY(D,F);return B&&(W=Math.round(W)),W},getCSSMatrix:function(){var D=this.matrix;return"matrix("+D[0]+","+D[1]+","+D[2]+","+D[3]+","+D[4]+","+D[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(2),j=function(O,G,D,F,B,W){O===void 0&&(O=0),G===void 0&&(G=0),D===void 0&&(D=W.width),F===void 0&&(F=W.height),B||(B={});var U=R(B,"isNotEmpty",!1),X=R(B,"isColliding",!1),K=R(B,"hasInterestingFace",!1);O<0&&(D+=O,O=0),G<0&&(F+=G,G=0),O+D>W.width&&(D=Math.max(W.width-O,0)),G+F>W.height&&(F=Math.max(W.height-G,0));for(var J=[],Z=G;Z<G+F;Z++)for(var Q=O;Q<O+D;Q++){var q=W.data[Z][Q];if(q!==null){if(U&&q.index===-1||X&&!q.collides||K&&!q.hasInterestingFace)continue;J.push(q)}}return J};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D,F){G===void 0&&(G=0),D===void 0&&(D=0),F===void 0&&(F=1);var B,W=0,U=R.length;if(F===1)for(B=D;B<U;B++)R[B][j]=O+W*G,W++;else for(B=D;B>=0;B--)R[B][j]=O+W*G,W++;return R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(35),j=y(13),O=function(G,D,F){D.x=j(F,"x",0),D.y=j(F,"y",0),D.depth=j(F,"depth",0),D.flipX=j(F,"flipX",!1),D.flipY=j(F,"flipY",!1);var B=j(F,"scale",null);typeof B=="number"?D.setScale(B):B!==null&&(D.scaleX=j(B,"x",1),D.scaleY=j(B,"y",1));var W=j(F,"scrollFactor",null);typeof W=="number"?D.setScrollFactor(W):W!==null&&(D.scrollFactorX=j(W,"x",1),D.scrollFactorY=j(W,"y",1)),D.rotation=j(F,"rotation",0);var U=j(F,"angle",null);U!==null&&(D.angle=U),D.alpha=j(F,"alpha",1);var X=j(F,"origin",null);if(typeof X=="number")D.setOrigin(X);else if(X!==null){var K=j(X,"x",.5),J=j(X,"y",.5);D.setOrigin(K,J)}D.blendMode=j(F,"blendMode",R.NORMAL),D.visible=j(F,"visible",!0);var Z=j(F,"add",!0);return Z&&G.sys.displayList.add(D),D.preUpdate&&G.sys.updateList.add(D),D};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=function(O,G,D,F,B){var W=F.alpha*D.alpha;if(W<=0)return!1;var U=R(D,F,B).calc;return G.globalCompositeOperation=O.blendModes[D.blendMode],G.globalAlpha=W,G.save(),U.setToContext(G),G.imageSmoothingEnabled=!(!O.antialias||D.frame&&D.frame.source.scaleMode),!0};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(33),j=y(192),O=[],G=!1,D=function(){var F=function(q,et,rt,nt,ot){et===void 0&&(et=1),rt===void 0&&(rt=1),nt===void 0&&(nt=R.CANVAS),ot===void 0&&(ot=!1);var ht,ut=U(nt);return ut===null?(ut={parent:q,canvas:document.createElement("canvas"),type:nt},nt===R.CANVAS&&O.push(ut),ht=ut.canvas):(ut.parent=q,ht=ut.canvas),ot&&(ut.parent=ht),ht.width=et,ht.height=rt,G&&nt===R.CANVAS&&j.disable(ht.getContext("2d")),ht},B=function(q,et,rt){return F(q,et,rt,R.CANVAS)},W=function(q,et,rt){return F(q,et,rt,R.WEBGL)},U=function(q){if(q===void 0&&(q=R.CANVAS),q===R.WEBGL)return null;for(var et=0;et<O.length;et++){var rt=O[et];if(!rt.parent&&rt.type===q)return rt}return null},X=function(q){var et=q instanceof HTMLCanvasElement;O.forEach(function(rt){(et&&rt.canvas===q||!et&&rt.parent===q)&&(rt.parent=null,rt.canvas.width=1,rt.canvas.height=1)})},K=function(){var q=0;return O.forEach(function(et){et.parent&&q++}),q},J=function(){return O.length-K()},Z=function(){G=!0},Q=function(){G=!1};return{create2D:B,create:F,createWebGL:W,disableSmoothing:Z,enableSmoothing:Q,first:U,free:J,pool:O,remove:X,total:K}};Y.exports=D()},function(Y,tt){var y={};Y.exports=y,function(){y._nextId=0,y._seed=0,y._nowStartTime=+new Date,y.extend=function(j,O){var G,D;typeof O=="boolean"?(G=2,D=O):(G=1,D=!0);for(var F=G;F<arguments.length;F++){var B=arguments[F];if(B)for(var W in B)D&&B[W]&&B[W].constructor===Object&&(!j[W]||j[W].constructor===Object)?(j[W]=j[W]||{},y.extend(j[W],D,B[W])):j[W]=B[W]}return j},y.clone=function(j,O){return y.extend({},O,j)},y.keys=function(j){if(Object.keys)return Object.keys(j);var O=[];for(var G in j)O.push(G);return O},y.values=function(j){var O=[];if(Object.keys){for(var G=Object.keys(j),D=0;D<G.length;D++)O.push(j[G[D]]);return O}for(var F in j)O.push(j[F]);return O},y.get=function(j,O,G,D){O=O.split(".").slice(G,D);for(var F=0;F<O.length;F+=1)j=j[O[F]];return j},y.set=function(j,O,G,D,F){var B=O.split(".").slice(D,F);return y.get(j,O,0,-1)[B[B.length-1]]=G,G},y.shuffle=function(j){for(var O=j.length-1;O>0;O--){var G=Math.floor(y.random()*(O+1)),D=j[O];j[O]=j[G],j[G]=D}return j},y.choose=function(j){return j[Math.floor(y.random()*j.length)]},y.isElement=function(j){return typeof HTMLElement!="undefined"?j instanceof HTMLElement:!!(j&&j.nodeType&&j.nodeName)},y.isArray=function(j){return Object.prototype.toString.call(j)==="[object Array]"},y.isFunction=function(j){return typeof j=="function"},y.isPlainObject=function(j){return typeof j=="object"&&j.constructor===Object},y.isString=function(j){return Object.prototype.toString.call(j)==="[object String]"},y.clamp=function(j,O,G){return j<O?O:j>G?G:j},y.sign=function(j){return j<0?-1:1},y.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-y._nowStartTime},y.random=function(j,O){return j=typeof j!="undefined"?j:0,O=typeof O!="undefined"?O:1,j+R()*(O-j)};var R=function(){return y._seed=(y._seed*9301+49297)%233280,y._seed/233280};y.colorToNumber=function(j){return j=j.replace("#",""),j.length==3&&(j=j.charAt(0)+j.charAt(0)+j.charAt(1)+j.charAt(1)+j.charAt(2)+j.charAt(2)),parseInt(j,16)},y.logLevel=1,y.log=function(){console&&y.logLevel>0&&y.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},y.info=function(){console&&y.logLevel>0&&y.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},y.warn=function(){console&&y.logLevel>0&&y.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},y.nextId=function(){return y._nextId++},y.indexOf=function(j,O){if(j.indexOf)return j.indexOf(O);for(var G=0;G<j.length;G++)if(j[G]===O)return G;return-1},y.map=function(j,O){if(j.map)return j.map(O);for(var G=[],D=0;D<j.length;D+=1)G.push(O(j[D]));return G},y.topologicalSort=function(j){var O=[],G=[],D=[];for(var F in j)!G[F]&&!D[F]&&y._topologicalSort(F,G,D,j,O);return O},y._topologicalSort=function(j,O,G,D,F){var B=D[j]||[];G[j]=!0;for(var W=0;W<B.length;W+=1){var U=B[W];G[U]||O[U]||y._topologicalSort(U,O,G,D,F)}G[j]=!1,O[j]=!0,F.push(j)},y.chain=function(){for(var j=[],O=0;O<arguments.length;O+=1){var G=arguments[O];G._chained?j.push.apply(j,G._chained):j.push(G)}var D=function(){for(var F,B=new Array(arguments.length),W=0,U=arguments.length;W<U;W++)B[W]=arguments[W];for(W=0;W<j.length;W+=1){var X=j[W].apply(F,B);typeof X!="undefined"&&(F=X)}return F};return D._chained=j,D},y.chainPathBefore=function(j,O,G){return y.set(j,O,y.chain(G,y.get(j,O)))},y.chainPathAfter=function(j,O,G){return y.set(j,O,y.chain(y.get(j,O),G))}}()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R={VERSION:"3.55.2",BlendModes:y(35),ScaleModes:y(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(11),O=y(15),G=y(47),D=new R({Extends:O,Mixins:[j.AlphaSingle,j.BlendMode,j.Depth,j.GetBounds,j.Mask,j.Origin,j.Pipeline,j.ScrollFactor,j.Transform,j.Visible],initialize:function(B,W,U){W===void 0&&(W="Shape"),O.call(this,B,W),this.geom=U,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new G,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(F,B){return B===void 0&&(B=1),F===void 0?this.isFilled=!1:(this.fillColor=F,this.fillAlpha=B,this.isFilled=!0),this},setStrokeStyle:function(F,B,W){return W===void 0&&(W=1),F===void 0?this.isStroked=!1:(this.lineWidth=F,this.strokeColor=B,this.strokeAlpha=W,this.isStroked=!0),this},setClosePath:function(F){return this.closePath=F,this},setSize:function(F,B){return this.width=F,this.height=B,this},setDisplaySize:function(F,B){return this.displayWidth=F,this.displayHeight=B,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(F){this.scaleX=F/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(F){this.scaleY=F/this.height}}});Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(14),j=function(O){return O*R.DEG_TO_RAD};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={DESTROY:y(743),FADE_IN_COMPLETE:y(744),FADE_IN_START:y(745),FADE_OUT_COMPLETE:y(746),FADE_OUT_START:y(747),FLASH_COMPLETE:y(748),FLASH_START:y(749),FOLLOW_UPDATE:y(750),PAN_COMPLETE:y(751),PAN_START:y(752),POST_RENDER:y(753),PRE_RENDER:y(754),ROTATE_COMPLETE:y(755),ROTATE_START:y(756),SHAKE_COMPLETE:y(757),SHAKE_START:y(758),ZOOM_COMPLETE:y(759),ZOOM_START:y(760)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(103),O=y(328),G=y(188),D=y(329),F=new R({initialize:function(W,U,X,K){W===void 0&&(W=0),U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(W,U,X,K)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(B,W,U,X,K){return X===void 0&&(X=255),K===void 0&&(K=!0),this._locked=!0,this.red=B,this.green=W,this.blue=U,this.alpha=X,this._locked=!1,this.update(K)},setGLTo:function(B,W,U,X){return X===void 0&&(X=1),this._locked=!0,this.redGL=B,this.greenGL=W,this.blueGL=U,this.alphaGL=X,this._locked=!1,this.update(!0)},setFromRGB:function(B){return this._locked=!0,this.red=B.r,this.green=B.g,this.blue=B.b,B.hasOwnProperty("a")&&(this.alpha=B.a),this._locked=!1,this.update(!0)},setFromHSV:function(B,W,U){return G(B,W,U,this)},update:function(B){if(B===void 0&&(B=!1),this._locked)return this;var W=this.r,U=this.g,X=this.b,K=this.a;return this._color=j(W,U,X),this._color32=O(W,U,X,K),this._rgba="rgba("+W+","+U+","+X+","+K/255+")",B&&D(W,U,X,this),this},updateHSV:function(){var B=this.r,W=this.g,U=this.b;return D(B,W,U,this),this},clone:function(){return new F(this.r,this.g,this.b,this.a)},gray:function(B){return this.setTo(B,B,B)},random:function(B,W){B===void 0&&(B=0),W===void 0&&(W=255);var U=Math.floor(B+Math.random()*(W-B)),X=Math.floor(B+Math.random()*(W-B)),K=Math.floor(B+Math.random()*(W-B));return this.setTo(U,X,K)},randomGray:function(B,W){B===void 0&&(B=0),W===void 0&&(W=255);var U=Math.floor(B+Math.random()*(W-B));return this.setTo(U,U,U)},saturate:function(B){return this.s+=B/100,this},desaturate:function(B){return this.s-=B/100,this},lighten:function(B){return this.v+=B/100,this},darken:function(B){return this.v-=B/100,this},brighten:function(B){var W=this.r,U=this.g,X=this.b;return W=Math.max(0,Math.min(255,W-Math.round(255*-(B/100)))),U=Math.max(0,Math.min(255,U-Math.round(255*-(B/100)))),X=Math.max(0,Math.min(255,X-Math.round(255*-(B/100)))),this.setTo(W,U,X)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(B){this.gl[0]=Math.min(Math.abs(B),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(B){this.gl[1]=Math.min(Math.abs(B),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(B){this.gl[2]=Math.min(Math.abs(B),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(B){this.gl[3]=Math.min(Math.abs(B),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(B){B=Math.floor(Math.abs(B)),this.r=Math.min(B,255),this.gl[0]=B/255,this.update(!0)}},green:{get:function(){return this.g},set:function(B){B=Math.floor(Math.abs(B)),this.g=Math.min(B,255),this.gl[1]=B/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(B){B=Math.floor(Math.abs(B)),this.b=Math.min(B,255),this.gl[2]=B/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(B){B=Math.floor(Math.abs(B)),this.a=Math.min(B,255),this.gl[3]=B/255,this.update()}},h:{get:function(){return this._h},set:function(B){this._h=B,G(B,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(B){this._s=B,G(this._h,B,this._v,this)}},v:{get:function(){return this._v},set:function(B){this._v=B,G(this._h,this._s,B,this)}}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D,F){this.x=0,this.y=0,this.z=0,typeof G=="object"?(this.x=G.x||0,this.y=G.y||0,this.z=G.z||0):(this.x=G||0,this.y=D||0,this.z=F||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(O){return this.x=Math.min(this.x,O.x),this.y=Math.min(this.y,O.y),this.z=Math.min(this.z,O.z),this},max:function(O){return this.x=Math.max(this.x,O.x),this.y=Math.max(this.y,O.y),this.z=Math.max(this.z,O.z),this},clone:function(){return new j(this.x,this.y,this.z)},addVectors:function(O,G){return this.x=O.x+G.x,this.y=O.y+G.y,this.z=O.z+G.z,this},crossVectors:function(O,G){var D=O.x,F=O.y,B=O.z,W=G.x,U=G.y,X=G.z;return this.x=F*X-B*U,this.y=B*W-D*X,this.z=D*U-F*W,this},equals:function(O){return this.x===O.x&&this.y===O.y&&this.z===O.z},copy:function(O){return this.x=O.x,this.y=O.y,this.z=O.z||0,this},set:function(O,G,D){return typeof O=="object"?(this.x=O.x||0,this.y=O.y||0,this.z=O.z||0):(this.x=O||0,this.y=G||0,this.z=D||0),this},setFromMatrixPosition:function(O){return this.fromArray(O.val,12)},setFromMatrixColumn:function(O,G){return this.fromArray(O.val,G*4)},fromArray:function(O,G){return G===void 0&&(G=0),this.x=O[G],this.y=O[G+1],this.z=O[G+2],this},add:function(O){return this.x+=O.x,this.y+=O.y,this.z+=O.z||0,this},addScalar:function(O){return this.x+=O,this.y+=O,this.z+=O,this},addScale:function(O,G){return this.x+=O.x*G,this.y+=O.y*G,this.z+=O.z*G||0,this},subtract:function(O){return this.x-=O.x,this.y-=O.y,this.z-=O.z||0,this},multiply:function(O){return this.x*=O.x,this.y*=O.y,this.z*=O.z||1,this},scale:function(O){return isFinite(O)?(this.x*=O,this.y*=O,this.z*=O):(this.x=0,this.y=0,this.z=0),this},divide:function(O){return this.x/=O.x,this.y/=O.y,this.z/=O.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(O){var G=O.x-this.x,D=O.y-this.y,F=O.z-this.z||0;return Math.sqrt(G*G+D*D+F*F)},distanceSq:function(O){var G=O.x-this.x,D=O.y-this.y,F=O.z-this.z||0;return G*G+D*D+F*F},length:function(){var O=this.x,G=this.y,D=this.z;return Math.sqrt(O*O+G*G+D*D)},lengthSq:function(){var O=this.x,G=this.y,D=this.z;return O*O+G*G+D*D},normalize:function(){var O=this.x,G=this.y,D=this.z,F=O*O+G*G+D*D;return F>0&&(F=1/Math.sqrt(F),this.x=O*F,this.y=G*F,this.z=D*F),this},dot:function(O){return this.x*O.x+this.y*O.y+this.z*O.z},cross:function(O){var G=this.x,D=this.y,F=this.z,B=O.x,W=O.y,U=O.z;return this.x=D*U-F*W,this.y=F*B-G*U,this.z=G*W-D*B,this},lerp:function(O,G){G===void 0&&(G=0);var D=this.x,F=this.y,B=this.z;return this.x=D+G*(O.x-D),this.y=F+G*(O.y-F),this.z=B+G*(O.z-B),this},applyMatrix3:function(O){var G=this.x,D=this.y,F=this.z,B=O.val;return this.x=B[0]*G+B[3]*D+B[6]*F,this.y=B[1]*G+B[4]*D+B[7]*F,this.z=B[2]*G+B[5]*D+B[8]*F,this},applyMatrix4:function(O){var G=this.x,D=this.y,F=this.z,B=O.val,W=1/(B[3]*G+B[7]*D+B[11]*F+B[15]);return this.x=(B[0]*G+B[4]*D+B[8]*F+B[12])*W,this.y=(B[1]*G+B[5]*D+B[9]*F+B[13])*W,this.z=(B[2]*G+B[6]*D+B[10]*F+B[14])*W,this},transformMat3:function(O){var G=this.x,D=this.y,F=this.z,B=O.val;return this.x=G*B[0]+D*B[3]+F*B[6],this.y=G*B[1]+D*B[4]+F*B[7],this.z=G*B[2]+D*B[5]+F*B[8],this},transformMat4:function(O){var G=this.x,D=this.y,F=this.z,B=O.val;return this.x=B[0]*G+B[4]*D+B[8]*F+B[12],this.y=B[1]*G+B[5]*D+B[9]*F+B[13],this.z=B[2]*G+B[6]*D+B[10]*F+B[14],this},transformCoordinates:function(O){var G=this.x,D=this.y,F=this.z,B=O.val,W=G*B[0]+D*B[4]+F*B[8]+B[12],U=G*B[1]+D*B[5]+F*B[9]+B[13],X=G*B[2]+D*B[6]+F*B[10]+B[14],K=G*B[3]+D*B[7]+F*B[11]+B[15];return this.x=W/K,this.y=U/K,this.z=X/K,this},transformQuat:function(O){var G=this.x,D=this.y,F=this.z,B=O.x,W=O.y,U=O.z,X=O.w,K=X*G+W*F-U*D,J=X*D+U*G-B*F,Z=X*F+B*D-W*G,Q=-B*G-W*D-U*F;return this.x=K*X+Q*-B+J*-U-Z*-W,this.y=J*X+Q*-W+Z*-B-K*-U,this.z=Z*X+Q*-U+K*-W-J*-B,this},project:function(O){var G=this.x,D=this.y,F=this.z,B=O.val,W=B[0],U=B[1],X=B[2],K=B[3],J=B[4],Z=B[5],Q=B[6],q=B[7],et=B[8],rt=B[9],nt=B[10],ot=B[11],ht=B[12],ut=B[13],ct=B[14],ft=B[15],dt=1/(G*K+D*q+F*ot+ft);return this.x=(G*W+D*J+F*et+ht)*dt,this.y=(G*U+D*Z+F*rt+ut)*dt,this.z=(G*X+D*Q+F*nt+ct)*dt,this},projectViewMatrix:function(O,G){return this.applyMatrix4(O).applyMatrix4(G)},unprojectViewMatrix:function(O,G){return this.applyMatrix4(O).applyMatrix4(G)},unproject:function(O,G){var D=O.x,F=O.y,B=O.z,W=O.w,U=this.x-D,X=W-this.y-1-F,K=this.z;return this.x=2*U/B-1,this.y=2*X/W-1,this.z=2*K-1,this.project(G)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});j.ZERO=new j,j.RIGHT=new j(1,0,0),j.LEFT=new j(-1,0,0),j.UP=new j(0,-1,0),j.DOWN=new j(0,1,0),j.FORWARD=new j(0,0,1),j.BACK=new j(0,0,-1),j.ONE=new j(1,1,1),Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(Y,tt,y){var R={};Y.exports=R;var j=y(64),O=y(83),G=y(165),D=y(32),F=y(84),B=y(271);(function(){R._inertiaScale=4,R._nextCollidingGroupId=1,R._nextNonCollidingGroupId=-1,R._nextCategory=1,R.create=function(U){var X={id:D.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!U.hasOwnProperty("position")&&U.hasOwnProperty("vertices")?U.position=j.centre(U.vertices):U.hasOwnProperty("vertices")||(X.vertices=j.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var K=D.extend(X,U);return W(K,U),K.setOnCollideWith=function(J,Z){return Z?this.onCollideWith[J.id]=Z:delete this.onCollideWith[J.id],this},K},R.nextGroup=function(U){return U?R._nextNonCollidingGroupId--:R._nextCollidingGroupId++},R.nextCategory=function(){return R._nextCategory=R._nextCategory<<1,R._nextCategory};var W=function(U,X){X=X||{},R.set(U,{bounds:U.bounds||F.create(U.vertices),positionPrev:U.positionPrev||O.clone(U.position),anglePrev:U.anglePrev||U.angle,vertices:U.vertices,parts:U.parts||[U],isStatic:U.isStatic,isSleeping:U.isSleeping,parent:U.parent||U});var K=U.bounds;if(j.rotate(U.vertices,U.angle,U.position),B.rotate(U.axes,U.angle),F.update(K,U.vertices,U.velocity),R.set(U,{axes:X.axes||U.axes,area:X.area||U.area,mass:X.mass||U.mass,inertia:X.inertia||U.inertia}),U.parts.length===1){var J=U.centerOfMass,Z=U.centerOffset,Q=K.max.x-K.min.x,q=K.max.y-K.min.y;J.x=-(K.min.x-U.position.x)/Q,J.y=-(K.min.y-U.position.y)/q,Z.x=Q*J.x,Z.y=q*J.y}};R.set=function(U,X,K){var J;typeof X=="string"&&(J=X,X={},X[J]=K);for(J in X)if(!!Object.prototype.hasOwnProperty.call(X,J))switch(K=X[J],J){case"isStatic":R.setStatic(U,K);break;case"isSleeping":G.set(U,K);break;case"mass":R.setMass(U,K);break;case"density":R.setDensity(U,K);break;case"inertia":R.setInertia(U,K);break;case"vertices":R.setVertices(U,K);break;case"position":R.setPosition(U,K);break;case"angle":R.setAngle(U,K);break;case"velocity":R.setVelocity(U,K);break;case"angularVelocity":R.setAngularVelocity(U,K);break;case"parts":R.setParts(U,K);break;case"centre":R.setCentre(U,K);break;default:U[J]=K}},R.setStatic=function(U,X){for(var K=0;K<U.parts.length;K++){var J=U.parts[K];J.isStatic=X,X?(J._original={restitution:J.restitution,friction:J.friction,mass:J.mass,inertia:J.inertia,density:J.density,inverseMass:J.inverseMass,inverseInertia:J.inverseInertia},J.restitution=0,J.friction=1,J.mass=J.inertia=J.density=1/0,J.inverseMass=J.inverseInertia=0,J.positionPrev.x=J.position.x,J.positionPrev.y=J.position.y,J.anglePrev=J.angle,J.angularVelocity=0,J.speed=0,J.angularSpeed=0,J.motion=0):J._original&&(J.restitution=J._original.restitution,J.friction=J._original.friction,J.mass=J._original.mass,J.inertia=J._original.inertia,J.density=J._original.density,J.inverseMass=J._original.inverseMass,J.inverseInertia=J._original.inverseInertia,J._original=null)}},R.setMass=function(U,X){var K=U.inertia/(U.mass/6);U.inertia=K*(X/6),U.inverseInertia=1/U.inertia,U.mass=X,U.inverseMass=1/U.mass,U.density=U.mass/U.area},R.setDensity=function(U,X){R.setMass(U,X*U.area),U.density=X},R.setInertia=function(U,X){U.inertia=X,U.inverseInertia=1/U.inertia},R.setVertices=function(U,X){X[0].body===U?U.vertices=X:U.vertices=j.create(X,U),U.axes=B.fromVertices(U.vertices),U.area=j.area(U.vertices),R.setMass(U,U.density*U.area);var K=j.centre(U.vertices);j.translate(U.vertices,K,-1),R.setInertia(U,R._inertiaScale*j.inertia(U.vertices,U.mass)),j.translate(U.vertices,U.position),F.update(U.bounds,U.vertices,U.velocity)},R.setParts=function(U,X,K){var J;for(X=X.slice(0),U.parts.length=0,U.parts.push(U),U.parent=U,J=0;J<X.length;J++){var Z=X[J];Z!==U&&(Z.parent=U,U.parts.push(Z))}if(U.parts.length!==1){if(K=typeof K!="undefined"?K:!0,K){var Q=[];for(J=0;J<X.length;J++)Q=Q.concat(X[J].vertices);j.clockwiseSort(Q);var q=j.hull(Q),et=j.centre(q);R.setVertices(U,q),j.translate(U.vertices,et)}var rt=R._totalProperties(U),nt=rt.centre.x,ot=rt.centre.y,ht=U.bounds,ut=U.centerOfMass,ct=U.centerOffset;F.update(ht,U.vertices,U.velocity),ut.x=-(ht.min.x-nt)/(ht.max.x-ht.min.x),ut.y=-(ht.min.y-ot)/(ht.max.y-ht.min.y),ct.x=nt,ct.y=ot,U.area=rt.area,U.parent=U,U.position.x=nt,U.position.y=ot,U.positionPrev.x=nt,U.positionPrev.y=ot,R.setMass(U,rt.mass),R.setInertia(U,rt.inertia),R.setPosition(U,rt.centre)}},R.setCentre=function(U,X,K){K?(U.positionPrev.x+=X.x,U.positionPrev.y+=X.y,U.position.x+=X.x,U.position.y+=X.y):(U.positionPrev.x=X.x-(U.position.x-U.positionPrev.x),U.positionPrev.y=X.y-(U.position.y-U.positionPrev.y),U.position.x=X.x,U.position.y=X.y)},R.setPosition=function(U,X){var K=O.sub(X,U.position);U.positionPrev.x+=K.x,U.positionPrev.y+=K.y;for(var J=0;J<U.parts.length;J++){var Z=U.parts[J];Z.position.x+=K.x,Z.position.y+=K.y,j.translate(Z.vertices,K),F.update(Z.bounds,Z.vertices,U.velocity)}},R.setAngle=function(U,X){var K=X-U.angle;U.anglePrev+=K;for(var J=0;J<U.parts.length;J++){var Z=U.parts[J];Z.angle+=K,j.rotate(Z.vertices,K,U.position),B.rotate(Z.axes,K),F.update(Z.bounds,Z.vertices,U.velocity),J>0&&O.rotateAbout(Z.position,K,U.position,Z.position)}},R.setVelocity=function(U,X){U.positionPrev.x=U.position.x-X.x,U.positionPrev.y=U.position.y-X.y,U.velocity.x=X.x,U.velocity.y=X.y,U.speed=O.magnitude(U.velocity)},R.setAngularVelocity=function(U,X){U.anglePrev=U.angle-X,U.angularVelocity=X,U.angularSpeed=Math.abs(U.angularVelocity)},R.translate=function(U,X){R.setPosition(U,O.add(U.position,X))},R.rotate=function(U,X,K){if(!K)R.setAngle(U,U.angle+X);else{var J=Math.cos(X),Z=Math.sin(X),Q=U.position.x-K.x,q=U.position.y-K.y;R.setPosition(U,{x:K.x+(Q*J-q*Z),y:K.y+(Q*Z+q*J)}),R.setAngle(U,U.angle+X)}},R.scale=function(U,X,K,J){var Z=0,Q=0;J=J||U.position;for(var q=0;q<U.parts.length;q++){var et=U.parts[q];et.scale.x=X,et.scale.y=K,j.scale(et.vertices,X,K,J),et.axes=B.fromVertices(et.vertices),et.area=j.area(et.vertices),R.setMass(et,U.density*et.area),j.translate(et.vertices,{x:-et.position.x,y:-et.position.y}),R.setInertia(et,R._inertiaScale*j.inertia(et.vertices,et.mass)),j.translate(et.vertices,{x:et.position.x,y:et.position.y}),q>0&&(Z+=et.area,Q+=et.inertia),et.position.x=J.x+(et.position.x-J.x)*X,et.position.y=J.y+(et.position.y-J.y)*K,F.update(et.bounds,et.vertices,U.velocity)}U.parts.length>1&&(U.area=Z,U.isStatic||(R.setMass(U,U.density*Z),R.setInertia(U,Q))),U.circleRadius&&(X===K?U.circleRadius*=X:U.circleRadius=null)},R.update=function(U,X,K,J){var Z=Math.pow(X*K*U.timeScale,2),Q=1-U.frictionAir*K*U.timeScale,q=U.position.x-U.positionPrev.x,et=U.position.y-U.positionPrev.y;U.velocity.x=q*Q*J+U.force.x/U.mass*Z,U.velocity.y=et*Q*J+U.force.y/U.mass*Z,U.positionPrev.x=U.position.x,U.positionPrev.y=U.position.y,U.position.x+=U.velocity.x,U.position.y+=U.velocity.y,U.angularVelocity=(U.angle-U.anglePrev)*Q*J+U.torque/U.inertia*Z,U.anglePrev=U.angle,U.angle+=U.angularVelocity,U.speed=O.magnitude(U.velocity),U.angularSpeed=Math.abs(U.angularVelocity);for(var rt=0;rt<U.parts.length;rt++){var nt=U.parts[rt];j.translate(nt.vertices,U.velocity),rt>0&&(nt.position.x+=U.velocity.x,nt.position.y+=U.velocity.y),U.angularVelocity!==0&&(j.rotate(nt.vertices,U.angularVelocity,U.position),B.rotate(nt.axes,U.angularVelocity),rt>0&&O.rotateAbout(nt.position,U.angularVelocity,U.position,nt.position)),F.update(nt.bounds,nt.vertices,U.velocity)}},R.applyForce=function(U,X,K){U.force.x+=K.x,U.force.y+=K.y;var J={x:X.x-U.position.x,y:X.y-U.position.y};U.torque+=J.x*K.y-J.y*K.x},R._totalProperties=function(U){for(var X={mass:0,area:0,inertia:0,centre:{x:0,y:0}},K=U.parts.length===1?0:1;K<U.parts.length;K++){var J=U.parts[K],Z=J.mass!==1/0?J.mass:1;X.mass+=Z,X.area+=J.area,X.inertia+=J.inertia,X.centre=O.add(X.centre,O.mult(J.position,Z))}return X.centre=O.div(X.centre,X.mass),X}})()},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.y+R.height-R.height*R.originY};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.x-R.width*R.originX};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.x+R.width-R.width*R.originX};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.y-R.height*R.originY};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D,F){G===void 0&&(G=0),D===void 0&&(D=0),F===void 0&&(F=1);var B,W=0,U=R.length;if(F===1)for(B=D;B<U;B++)R[B][j]+=O+W*G,W++;else for(B=D;B>=0;B--)R[B][j]+=O+W*G,W++;return R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(307),O=y(172),G=y(56),D=y(173),F=y(3),B=new R({initialize:function(U,X,K,J){U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=0),J===void 0&&(J=0),this.type=G.LINE,this.x1=U,this.y1=X,this.x2=K,this.y2=J},getPoint:function(W,U){return j(this,W,U)},getPoints:function(W,U,X){return O(this,W,U,X)},getRandomPoint:function(W){return D(this,W)},setTo:function(W,U,X,K){return W===void 0&&(W=0),U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=0),this.x1=W,this.y1=U,this.x2=X,this.y2=K,this},getPointA:function(W){return W===void 0&&(W=new F),W.set(this.x1,this.y1),W},getPointB:function(W){return W===void 0&&(W=new F),W.set(this.x2,this.y2),W},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(W){this.x1<=this.x2?this.x1=W:this.x2=W}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(W){this.x1>this.x2?this.x1=W:this.x2=W}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(W){this.y1<=this.y2?this.y1=W:this.y2=W}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(W){this.y1>this.y2?this.y1=W:this.y2=W}}});Y.exports=B},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=O||j.fillColor,F=G||j.fillAlpha,B=(D&16711680)>>>16,W=(D&65280)>>>8,U=D&255;R.fillStyle="rgba("+B+","+W+","+U+","+F+")"};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D,F,B){var W=[];B.forEach(function(X){X&&W.push(X)}),this.loader=G,this.type=D,this.key=F,this.multiKeyIndex=G.multiKeyIndex++,this.files=W,this.complete=!1,this.pending=W.length,this.failed=0,this.config={},this.baseURL=G.baseURL,this.path=G.path,this.prefix=G.prefix;for(var U=0;U<W.length;U++)W[U].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(O){return this.files.push(O),O.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(O){var G=this.files.indexOf(O);G!==-1&&this.pending--},onFileFailed:function(O){var G=this.files.indexOf(O);G!==-1&&this.failed++}});Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=R-O,F=j-G;return Math.sqrt(D*D+F*F)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={BOOT:y(922),DESTROY:y(923),DRAG_END:y(924),DRAG_ENTER:y(925),DRAG:y(926),DRAG_LEAVE:y(927),DRAG_OVER:y(928),DRAG_START:y(929),DROP:y(930),GAME_OUT:y(931),GAME_OVER:y(932),GAMEOBJECT_DOWN:y(933),GAMEOBJECT_DRAG_END:y(934),GAMEOBJECT_DRAG_ENTER:y(935),GAMEOBJECT_DRAG:y(936),GAMEOBJECT_DRAG_LEAVE:y(937),GAMEOBJECT_DRAG_OVER:y(938),GAMEOBJECT_DRAG_START:y(939),GAMEOBJECT_DROP:y(940),GAMEOBJECT_MOVE:y(941),GAMEOBJECT_OUT:y(942),GAMEOBJECT_OVER:y(943),GAMEOBJECT_POINTER_DOWN:y(944),GAMEOBJECT_POINTER_MOVE:y(945),GAMEOBJECT_POINTER_OUT:y(946),GAMEOBJECT_POINTER_OVER:y(947),GAMEOBJECT_POINTER_UP:y(948),GAMEOBJECT_POINTER_WHEEL:y(949),GAMEOBJECT_UP:y(950),GAMEOBJECT_WHEEL:y(951),MANAGER_BOOT:y(952),MANAGER_PROCESS:y(953),MANAGER_UPDATE:y(954),POINTER_DOWN:y(955),POINTER_DOWN_OUTSIDE:y(956),POINTER_MOVE:y(957),POINTER_OUT:y(958),POINTER_OVER:y(959),POINTER_UP:y(960),POINTER_UP_OUTSIDE:y(961),POINTER_WHEEL:y(962),POINTERLOCK_CHANGE:y(963),PRE_UPDATE:y(964),SHUTDOWN:y(965),START:y(966),UPDATE:y(967)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.y=j+R.height*R.originY,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x=j+R.width*R.originX,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x=j-R.width+R.width*R.originX,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.y=j-R.height+R.height*R.originY,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R.width<=0||R.height<=0?!1:R.x<=j&&R.x+R.width>=j&&R.y<=O&&R.y+R.height>=O};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(175),O=y(9),G=y(374),D=y(2),F=y(69),B=y(91),W=y(141),U=y(12),X=y(375),K=new R({Extends:O,initialize:function(Z){O.call(this);var Q=Z.game,q=Q.renderer,et=q.gl;this.name=D(Z,"name","WebGLPipeline"),this.game=Q,this.renderer=q,this.manager,this.gl=et,this.view=Q.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.topology=D(Z,"topology",et.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.currentUnit=0,this.forceZero=D(Z,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=Z,this.glReset=!1},boot:function(){var J,Z=this.gl,Q=this.config,q=this.renderer;this.isPostFX||(this.projectionMatrix=new F().identity());var et=this.renderTargets,rt=D(Q,"renderTarget",!1);typeof rt=="boolean"&&rt&&(rt=1);var nt=q.width,ot=q.height;if(typeof rt=="number")for(J=0;J<rt;J++)et.push(new W(q,nt,ot,1,0,!0));else if(Array.isArray(rt))for(J=0;J<rt.length;J++){var ht=D(rt[J],"scale",1),ut=D(rt[J],"minFilter",0),ct=D(rt[J],"autoClear",1);et.push(new W(q,nt,ot,ht,ut,ct))}et.length&&(this.currentRenderTarget=et[0]),this.setShadersFromConfig(Q);var ft=this.shaders,dt=0;for(J=0;J<ft.length;J++)ft[J].vertexSize>dt&&(dt=ft[J].vertexSize);var pt=D(Q,"batchSize",q.config.batchSize);this.vertexCapacity=pt*6;var yt=new ArrayBuffer(this.vertexCapacity*dt);this.vertexData=yt,this.bytes=new Uint8Array(yt),this.vertexViewF32=new Float32Array(yt),this.vertexViewU32=new Uint32Array(yt);var St=D(Q,"vertices",null);for(St?(this.vertexViewF32.set(St),this.vertexBuffer=q.createVertexBuffer(yt,Z.STATIC_DRAW)):this.vertexBuffer=q.createVertexBuffer(yt.byteLength,Z.DYNAMIC_DRAW),this.setVertexBuffer(),J=ft.length-1;J>=0;J--)ft[J].rebind();this.hasBooted=!0,q.on(B.RESIZE,this.resize,this),q.on(B.PRE_RENDER,this.onPreRender,this),q.on(B.RENDER,this.onRender,this),q.on(B.POST_RENDER,this.onPostRender,this),this.emit(G.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(J,Z){var Q=this.renderer;if(J!==this.currentShader||Q.currentProgram!==this.currentShader.program){this.flush(),Q.resetTextures();var q=this.setVertexBuffer();q&&!Z&&(Z=!0),J.bind(Z,!1),this.currentShader=J}return this},getShaderByName:function(J){for(var Z=this.shaders,Q=0;Q<Z.length;Q++)if(Z[Q].name===J)return Z[Q]},setShadersFromConfig:function(J){var Z,Q=this.shaders,q=this.renderer;for(Z=0;Z<Q.length;Z++)Q[Z].destroy();var et="vertShader",rt="fragShader",nt="attributes",ot=D(J,et,null),ht=U.parseFragmentShaderMaxTextures(D(J,rt,null),q.maxTextures),ut=D(J,nt,null),ct=D(J,"shaders",[]),ft=ct.length;if(ft===0)ot&&ht&&(this.shaders=[new X(this,"default",ot,ht,j(ut))]);else{var dt=[];for(Z=0;Z<ft;Z++){var pt=ct[Z],yt=D(pt,"name","default"),St=D(pt,et,ot),At=U.parseFragmentShaderMaxTextures(D(pt,rt,ht),q.maxTextures),Ct=D(pt,nt,ut);St&&At&&dt.push(new X(this,yt,St,At,j(Ct)))}this.shaders=dt}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(J,Z){return Z===void 0&&(Z=J.frame),this.currentUnit=this.renderer.setTextureSource(Z.source),this.currentUnit},shouldFlush:function(J){return J===void 0&&(J=0),this.vertexCount+J>this.vertexCapacity},resize:function(J,Z){(J!==this.width||Z!==this.height)&&this.flush(),this.width=J,this.height=Z;for(var Q=this.renderTargets,q=0;q<Q.length;q++)Q[q].resize(J,Z);return this.setProjectionMatrix(J,Z),this.emit(G.RESIZE,J,Z,this),this.onResize(J,Z),this},setProjectionMatrix:function(J,Z){var Q=this.projectionMatrix;if(!Q)return this;this.projectionWidth=J,this.projectionHeight=Z,Q.ortho(0,J,Z,0,-1e3,1e3);for(var q=this.shaders,et="uProjectionMatrix",rt=0;rt<q.length;rt++){var nt=q[rt];nt.hasUniform(et)&&(nt.resetUniform(et),nt.setMatrix4fv(et,!1,Q.val,nt))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var J=this.renderer.projectionWidth,Z=this.renderer.projectionHeight;(this.projectionWidth!==J||this.projectionHeight!==Z)&&this.setProjectionMatrix(J,Z)}},bind:function(J){if(J===void 0&&(J=this.currentShader),this.glReset)return this.rebind(J);var Z=this.setVertexBuffer();return J.bind(Z),this.currentShader=J,this.emit(G.BIND,this,J),this.onActive(J),this},rebind:function(J){this.setVertexBuffer();for(var Z=this.shaders,Q=Z.length-1;Q>=0;Q--){var q=Z[Q].rebind();(!J||q===J)&&(this.currentShader=q)}return this.emit(G.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var J=this.gl,Z=this.vertexBuffer;return J.getParameter(J.ARRAY_BUFFER_BINDING)!==Z?(J.bindBuffer(J.ARRAY_BUFFER,Z),!0):!1},preBatch:function(J){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(J),this},postBatch:function(J){return this.onDraw(this.currentRenderTarget),this.onPostBatch(J),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(J){if(J===void 0&&(J=!1),this.vertexCount>0){this.emit(G.BEFORE_FLUSH,this,J),this.onBeforeFlush(J);var Z=this.gl,Q=this.vertexCount,q=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),Q===this.vertexCapacity?Z.bufferData(Z.ARRAY_BUFFER,this.vertexData,Z.DYNAMIC_DRAW):Z.bufferSubData(Z.ARRAY_BUFFER,0,this.bytes.subarray(0,Q*q)),Z.drawArrays(this.topology,0,Q)),this.vertexCount=0,this.emit(G.AFTER_FLUSH,this,J),this.onAfterFlush(J)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(J,Z,Q,q,et,rt,nt){var ot=this.vertexViewF32,ht=this.vertexViewU32,ut=this.vertexCount*this.currentShader.vertexComponentCount-1;ot[++ut]=J,ot[++ut]=Z,ot[++ut]=Q,ot[++ut]=q,ot[++ut]=et,ot[++ut]=rt,ht[++ut]=nt,this.vertexCount++},batchQuad:function(J,Z,Q,q,et,rt,nt,ot,ht,ut,ct,ft,dt,pt,yt,St,At,Ct,Pt,Rt){Rt===void 0&&(Rt=this.currentUnit);var mt=!1;return this.shouldFlush(6)&&(this.flush(),mt=!0,Rt=this.setTexture2D(Pt)),this.batchVert(Z,Q,ut,ct,Rt,Ct,pt),this.batchVert(q,et,ut,dt,Rt,Ct,St),this.batchVert(rt,nt,ft,dt,Rt,Ct,At),this.batchVert(Z,Q,ut,ct,Rt,Ct,pt),this.batchVert(rt,nt,ft,dt,Rt,Ct,At),this.batchVert(ot,ht,ft,ct,Rt,Ct,yt),this.onBatch(J),mt},batchTri:function(J,Z,Q,q,et,rt,nt,ot,ht,ut,ct,ft,dt,pt,yt,St,At){At===void 0&&(At=this.currentUnit);var Ct=!1;return this.shouldFlush(3)&&(this.flush(),Ct=!0,At=this.setTexture2D(St)),this.batchVert(Z,Q,ot,ht,At,yt,ft),this.batchVert(q,et,ot,ct,At,yt,dt),this.batchVert(rt,nt,ut,ct,At,yt,pt),this.onBatch(J),Ct},drawFillRect:function(J,Z,Q,q,et,rt,nt,ot){nt===void 0&&(nt=this.renderer.whiteTexture.glTexture),ot===void 0&&(ot=!0),J=Math.floor(J),Z=Math.floor(Z);var ht=Math.floor(J+Q),ut=Math.floor(Z+q),ct=this.setTexture2D(nt),ft=U.getTintAppendFloatAlphaAndSwap(et,rt),dt=0,pt=0,yt=1,St=1;ot&&(pt=1,St=0),this.batchQuad(null,J,Z,J,ut,ht,ut,ht,Z,dt,pt,yt,St,ft,ft,ft,ft,0,nt,ct)},setTexture2D:function(J){return J===void 0&&(J=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(J),this.currentUnit},bindTexture:function(J,Z){Z===void 0&&(Z=0);var Q=this.gl;return Q.activeTexture(Q.TEXTURE0+Z),Q.bindTexture(Q.TEXTURE_2D,J),this},bindRenderTarget:function(J,Z){return this.bindTexture(J.texture,Z)},setTime:function(J){return this.set1f(J,this.game.loop.getDuration()),this},set1f:function(J,Z,Q){return Q===void 0&&(Q=this.currentShader),Q.set1f(J,Z),this},set2f:function(J,Z,Q,q){return q===void 0&&(q=this.currentShader),q.set2f(J,Z,Q),this},set3f:function(J,Z,Q,q,et){return et===void 0&&(et=this.currentShader),et.set3f(J,Z,Q,q),this},set4f:function(J,Z,Q,q,et,rt){return rt===void 0&&(rt=this.currentShader),rt.set4f(J,Z,Q,q,et),this},set1fv:function(J,Z,Q){return Q===void 0&&(Q=this.currentShader),Q.set1fv(J,Z),this},set2fv:function(J,Z,Q){return Q===void 0&&(Q=this.currentShader),Q.set2fv(J,Z),this},set3fv:function(J,Z,Q){return Q===void 0&&(Q=this.currentShader),Q.set3fv(J,Z),this},set4fv:function(J,Z,Q){return Q===void 0&&(Q=this.currentShader),Q.set4fv(J,Z),this},set1iv:function(J,Z,Q){return Q===void 0&&(Q=this.currentShader),Q.set1iv(J,Z),this},set2iv:function(J,Z,Q){return Q===void 0&&(Q=this.currentShader),Q.set2iv(J,Z),this},set3iv:function(J,Z,Q){return Q===void 0&&(Q=this.currentShader),Q.set3iv(J,Z),this},set4iv:function(J,Z,Q){return Q===void 0&&(Q=this.currentShader),Q.set4iv(J,Z),this},set1i:function(J,Z,Q){return Q===void 0&&(Q=this.currentShader),Q.set1i(J,Z),this},set2i:function(J,Z,Q,q){return q===void 0&&(q=this.currentShader),q.set2i(J,Z,Q),this},set3i:function(J,Z,Q,q,et){return et===void 0&&(et=this.currentShader),et.set3i(J,Z,Q,q),this},set4i:function(J,Z,Q,q,et,rt){return rt===void 0&&(rt=this.currentShader),rt.set4i(J,Z,Q,q,et),this},setMatrix2fv:function(J,Z,Q,q){return q===void 0&&(q=this.currentShader),q.setMatrix2fv(J,Z,Q),this},setMatrix3fv:function(J,Z,Q,q){return q===void 0&&(q=this.currentShader),q.setMatrix3fv(J,Z,Q),this},setMatrix4fv:function(J,Z,Q,q){return q===void 0&&(q=this.currentShader),q.setMatrix4fv(J,Z,Q),this},destroy:function(){this.emit(G.DESTROY,this);var J,Z=this.shaders;for(J=0;J<Z.length;J++)Z[J].destroy();var Q=this.renderTargets;for(J=0;J<Q.length;J++)Q[J].destroy();this.gl.deleteBuffer(this.vertexBuffer);var q=this.renderer;return q.off(B.RESIZE,this.resize,this),q.off(B.PRE_RENDER,this.onPreRender,this),q.off(B.RENDER,this.onRender,this),q.off(B.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});Y.exports=K},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function R(vt,xt,Tt){Tt=Tt||2;var Et=xt&&xt.length,Ot=Et?xt[0]*Tt:vt.length,Mt=j(vt,0,Ot,Tt,!0),Ft=[];if(!Mt||Mt.next===Mt.prev)return Ft;var It,Dt,bt,wt,$t,Ut,Nt;if(Et&&(Mt=U(vt,xt,Mt,Tt)),vt.length>80*Tt){It=bt=vt[0],Dt=wt=vt[1];for(var Yt=Tt;Yt<Ot;Yt+=Tt)$t=vt[Yt],Ut=vt[Yt+1],$t<It&&(It=$t),Ut<Dt&&(Dt=Ut),$t>bt&&(bt=$t),Ut>wt&&(wt=Ut);Nt=Math.max(bt-It,wt-Dt),Nt=Nt!==0?1/Nt:0}return G(Mt,Ft,Tt,It,Dt,Nt),Ft}function j(vt,xt,Tt,Et,Ot){var Mt,Ft;if(Ot===mt(vt,xt,Tt,Et)>0)for(Mt=xt;Mt<Tt;Mt+=Et)Ft=Ct(Mt,vt[Mt],vt[Mt+1],Ft);else for(Mt=Tt-Et;Mt>=xt;Mt-=Et)Ft=Ct(Mt,vt[Mt],vt[Mt+1],Ft);return Ft&&ut(Ft,Ft.next)&&(Pt(Ft),Ft=Ft.next),Ft}function O(vt,xt){if(!vt)return vt;xt||(xt=vt);var Tt=vt,Et;do if(Et=!1,!Tt.steiner&&(ut(Tt,Tt.next)||ht(Tt.prev,Tt,Tt.next)===0)){if(Pt(Tt),Tt=xt=Tt.prev,Tt===Tt.next)break;Et=!0}else Tt=Tt.next;while(Et||Tt!==xt);return xt}function G(vt,xt,Tt,Et,Ot,Mt,Ft){if(!!vt){!Ft&&Mt&&Q(vt,Et,Ot,Mt);for(var It=vt,Dt,bt;vt.prev!==vt.next;){if(Dt=vt.prev,bt=vt.next,Mt?F(vt,Et,Ot,Mt):D(vt)){xt.push(Dt.i/Tt),xt.push(vt.i/Tt),xt.push(bt.i/Tt),Pt(vt),vt=bt.next,It=bt.next;continue}if(vt=bt,vt===It){Ft?Ft===1?(vt=B(O(vt),xt,Tt),G(vt,xt,Tt,Et,Ot,Mt,2)):Ft===2&&W(vt,xt,Tt,Et,Ot,Mt):G(O(vt),xt,Tt,Et,Ot,Mt,1);break}}}}function D(vt){var xt=vt.prev,Tt=vt,Et=vt.next;if(ht(xt,Tt,Et)>=0)return!1;for(var Ot=vt.next.next;Ot!==vt.prev;){if(nt(xt.x,xt.y,Tt.x,Tt.y,Et.x,Et.y,Ot.x,Ot.y)&&ht(Ot.prev,Ot,Ot.next)>=0)return!1;Ot=Ot.next}return!0}function F(vt,xt,Tt,Et){var Ot=vt.prev,Mt=vt,Ft=vt.next;if(ht(Ot,Mt,Ft)>=0)return!1;for(var It=Ot.x<Mt.x?Ot.x<Ft.x?Ot.x:Ft.x:Mt.x<Ft.x?Mt.x:Ft.x,Dt=Ot.y<Mt.y?Ot.y<Ft.y?Ot.y:Ft.y:Mt.y<Ft.y?Mt.y:Ft.y,bt=Ot.x>Mt.x?Ot.x>Ft.x?Ot.x:Ft.x:Mt.x>Ft.x?Mt.x:Ft.x,wt=Ot.y>Mt.y?Ot.y>Ft.y?Ot.y:Ft.y:Mt.y>Ft.y?Mt.y:Ft.y,$t=et(It,Dt,xt,Tt,Et),Ut=et(bt,wt,xt,Tt,Et),Nt=vt.prevZ,Yt=vt.nextZ;Nt&&Nt.z>=$t&&Yt&&Yt.z<=Ut;){if(Nt!==vt.prev&&Nt!==vt.next&&nt(Ot.x,Ot.y,Mt.x,Mt.y,Ft.x,Ft.y,Nt.x,Nt.y)&&ht(Nt.prev,Nt,Nt.next)>=0||(Nt=Nt.prevZ,Yt!==vt.prev&&Yt!==vt.next&&nt(Ot.x,Ot.y,Mt.x,Mt.y,Ft.x,Ft.y,Yt.x,Yt.y)&&ht(Yt.prev,Yt,Yt.next)>=0))return!1;Yt=Yt.nextZ}for(;Nt&&Nt.z>=$t;){if(Nt!==vt.prev&&Nt!==vt.next&&nt(Ot.x,Ot.y,Mt.x,Mt.y,Ft.x,Ft.y,Nt.x,Nt.y)&&ht(Nt.prev,Nt,Nt.next)>=0)return!1;Nt=Nt.prevZ}for(;Yt&&Yt.z<=Ut;){if(Yt!==vt.prev&&Yt!==vt.next&&nt(Ot.x,Ot.y,Mt.x,Mt.y,Ft.x,Ft.y,Yt.x,Yt.y)&&ht(Yt.prev,Yt,Yt.next)>=0)return!1;Yt=Yt.nextZ}return!0}function B(vt,xt,Tt){var Et=vt;do{var Ot=Et.prev,Mt=Et.next.next;!ut(Ot,Mt)&&ct(Ot,Et,Et.next,Mt)&&yt(Ot,Mt)&&yt(Mt,Ot)&&(xt.push(Ot.i/Tt),xt.push(Et.i/Tt),xt.push(Mt.i/Tt),Pt(Et),Pt(Et.next),Et=vt=Mt),Et=Et.next}while(Et!==vt);return O(Et)}function W(vt,xt,Tt,Et,Ot,Mt){var Ft=vt;do{for(var It=Ft.next.next;It!==Ft.prev;){if(Ft.i!==It.i&&ot(Ft,It)){var Dt=At(Ft,It);Ft=O(Ft,Ft.next),Dt=O(Dt,Dt.next),G(Ft,xt,Tt,Et,Ot,Mt),G(Dt,xt,Tt,Et,Ot,Mt);return}It=It.next}Ft=Ft.next}while(Ft!==vt)}function U(vt,xt,Tt,Et){var Ot=[],Mt,Ft,It,Dt,bt;for(Mt=0,Ft=xt.length;Mt<Ft;Mt++)It=xt[Mt]*Et,Dt=Mt<Ft-1?xt[Mt+1]*Et:vt.length,bt=j(vt,It,Dt,Et,!1),bt===bt.next&&(bt.steiner=!0),Ot.push(rt(bt));for(Ot.sort(X),Mt=0;Mt<Ot.length;Mt++)K(Ot[Mt],Tt),Tt=O(Tt,Tt.next);return Tt}function X(vt,xt){return vt.x-xt.x}function K(vt,xt){if(xt=J(vt,xt),xt){var Tt=At(xt,vt);O(xt,xt.next),O(Tt,Tt.next)}}function J(vt,xt){var Tt=xt,Et=vt.x,Ot=vt.y,Mt=-1/0,Ft;do{if(Ot<=Tt.y&&Ot>=Tt.next.y&&Tt.next.y!==Tt.y){var It=Tt.x+(Ot-Tt.y)*(Tt.next.x-Tt.x)/(Tt.next.y-Tt.y);if(It<=Et&&It>Mt){if(Mt=It,It===Et){if(Ot===Tt.y)return Tt;if(Ot===Tt.next.y)return Tt.next}Ft=Tt.x<Tt.next.x?Tt:Tt.next}}Tt=Tt.next}while(Tt!==xt);if(!Ft)return null;if(Et===Mt)return Ft;var Dt=Ft,bt=Ft.x,wt=Ft.y,$t=1/0,Ut;Tt=Ft;do Et>=Tt.x&&Tt.x>=bt&&Et!==Tt.x&&nt(Ot<wt?Et:Mt,Ot,bt,wt,Ot<wt?Mt:Et,Ot,Tt.x,Tt.y)&&(Ut=Math.abs(Ot-Tt.y)/(Et-Tt.x),yt(Tt,vt)&&(Ut<$t||Ut===$t&&(Tt.x>Ft.x||Tt.x===Ft.x&&Z(Ft,Tt)))&&(Ft=Tt,$t=Ut)),Tt=Tt.next;while(Tt!==Dt);return Ft}function Z(vt,xt){return ht(vt.prev,vt,xt.prev)<0&&ht(xt.next,vt,vt.next)<0}function Q(vt,xt,Tt,Et){var Ot=vt;do Ot.z===null&&(Ot.z=et(Ot.x,Ot.y,xt,Tt,Et)),Ot.prevZ=Ot.prev,Ot.nextZ=Ot.next,Ot=Ot.next;while(Ot!==vt);Ot.prevZ.nextZ=null,Ot.prevZ=null,q(Ot)}function q(vt){var xt,Tt,Et,Ot,Mt,Ft,It,Dt,bt=1;do{for(Tt=vt,vt=null,Mt=null,Ft=0;Tt;){for(Ft++,Et=Tt,It=0,xt=0;xt<bt&&(It++,Et=Et.nextZ,!!Et);xt++);for(Dt=bt;It>0||Dt>0&&Et;)It!==0&&(Dt===0||!Et||Tt.z<=Et.z)?(Ot=Tt,Tt=Tt.nextZ,It--):(Ot=Et,Et=Et.nextZ,Dt--),Mt?Mt.nextZ=Ot:vt=Ot,Ot.prevZ=Mt,Mt=Ot;Tt=Et}Mt.nextZ=null,bt*=2}while(Ft>1);return vt}function et(vt,xt,Tt,Et,Ot){return vt=32767*(vt-Tt)*Ot,xt=32767*(xt-Et)*Ot,vt=(vt|vt<<8)&16711935,vt=(vt|vt<<4)&252645135,vt=(vt|vt<<2)&858993459,vt=(vt|vt<<1)&1431655765,xt=(xt|xt<<8)&16711935,xt=(xt|xt<<4)&252645135,xt=(xt|xt<<2)&858993459,xt=(xt|xt<<1)&1431655765,vt|xt<<1}function rt(vt){var xt=vt,Tt=vt;do(xt.x<Tt.x||xt.x===Tt.x&&xt.y<Tt.y)&&(Tt=xt),xt=xt.next;while(xt!==vt);return Tt}function nt(vt,xt,Tt,Et,Ot,Mt,Ft,It){return(Ot-Ft)*(xt-It)-(vt-Ft)*(Mt-It)>=0&&(vt-Ft)*(Et-It)-(Tt-Ft)*(xt-It)>=0&&(Tt-Ft)*(Mt-It)-(Ot-Ft)*(Et-It)>=0}function ot(vt,xt){return vt.next.i!==xt.i&&vt.prev.i!==xt.i&&!pt(vt,xt)&&(yt(vt,xt)&&yt(xt,vt)&&St(vt,xt)&&(ht(vt.prev,vt,xt.prev)||ht(vt,xt.prev,xt))||ut(vt,xt)&&ht(vt.prev,vt,vt.next)>0&&ht(xt.prev,xt,xt.next)>0)}function ht(vt,xt,Tt){return(xt.y-vt.y)*(Tt.x-xt.x)-(xt.x-vt.x)*(Tt.y-xt.y)}function ut(vt,xt){return vt.x===xt.x&&vt.y===xt.y}function ct(vt,xt,Tt,Et){var Ot=dt(ht(vt,xt,Tt)),Mt=dt(ht(vt,xt,Et)),Ft=dt(ht(Tt,Et,vt)),It=dt(ht(Tt,Et,xt));return!!(Ot!==Mt&&Ft!==It||Ot===0&&ft(vt,Tt,xt)||Mt===0&&ft(vt,Et,xt)||Ft===0&&ft(Tt,vt,Et)||It===0&&ft(Tt,xt,Et))}function ft(vt,xt,Tt){return xt.x<=Math.max(vt.x,Tt.x)&&xt.x>=Math.min(vt.x,Tt.x)&&xt.y<=Math.max(vt.y,Tt.y)&&xt.y>=Math.min(vt.y,Tt.y)}function dt(vt){return vt>0?1:vt<0?-1:0}function pt(vt,xt){var Tt=vt;do{if(Tt.i!==vt.i&&Tt.next.i!==vt.i&&Tt.i!==xt.i&&Tt.next.i!==xt.i&&ct(Tt,Tt.next,vt,xt))return!0;Tt=Tt.next}while(Tt!==vt);return!1}function yt(vt,xt){return ht(vt.prev,vt,vt.next)<0?ht(vt,xt,vt.next)>=0&&ht(vt,vt.prev,xt)>=0:ht(vt,xt,vt.prev)<0||ht(vt,vt.next,xt)<0}function St(vt,xt){var Tt=vt,Et=!1,Ot=(vt.x+xt.x)/2,Mt=(vt.y+xt.y)/2;do Tt.y>Mt!=Tt.next.y>Mt&&Tt.next.y!==Tt.y&&Ot<(Tt.next.x-Tt.x)*(Mt-Tt.y)/(Tt.next.y-Tt.y)+Tt.x&&(Et=!Et),Tt=Tt.next;while(Tt!==vt);return Et}function At(vt,xt){var Tt=new Rt(vt.i,vt.x,vt.y),Et=new Rt(xt.i,xt.x,xt.y),Ot=vt.next,Mt=xt.prev;return vt.next=xt,xt.prev=vt,Tt.next=Ot,Ot.prev=Tt,Et.next=Tt,Tt.prev=Et,Mt.next=Et,Et.prev=Mt,Et}function Ct(vt,xt,Tt,Et){var Ot=new Rt(vt,xt,Tt);return Et?(Ot.next=Et.next,Ot.prev=Et,Et.next.prev=Ot,Et.next=Ot):(Ot.prev=Ot,Ot.next=Ot),Ot}function Pt(vt){vt.next.prev=vt.prev,vt.prev.next=vt.next,vt.prevZ&&(vt.prevZ.nextZ=vt.nextZ),vt.nextZ&&(vt.nextZ.prevZ=vt.prevZ)}function Rt(vt,xt,Tt){this.i=vt,this.x=xt,this.y=Tt,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}R.deviation=function(vt,xt,Tt,Et){var Ot=xt&&xt.length,Mt=Ot?xt[0]*Tt:vt.length,Ft=Math.abs(mt(vt,0,Mt,Tt));if(Ot)for(var It=0,Dt=xt.length;It<Dt;It++){var bt=xt[It]*Tt,wt=It<Dt-1?xt[It+1]*Tt:vt.length;Ft-=Math.abs(mt(vt,bt,wt,Tt))}var $t=0;for(It=0;It<Et.length;It+=3){var Ut=Et[It]*Tt,Nt=Et[It+1]*Tt,Yt=Et[It+2]*Tt;$t+=Math.abs((vt[Ut]-vt[Yt])*(vt[Nt+1]-vt[Ut+1])-(vt[Ut]-vt[Nt])*(vt[Yt+1]-vt[Ut+1]))}return Ft===0&&$t===0?0:Math.abs(($t-Ft)/Ft)};function mt(vt,xt,Tt,Et){for(var Ot=0,Mt=xt,Ft=Tt-Et;Mt<Tt;Mt+=Et)Ot+=(vt[Ft]-vt[Mt])*(vt[Mt+1]+vt[Ft+1]),Ft=Mt;return Ot}R.flatten=function(vt){for(var xt=vt[0][0].length,Tt={vertices:[],holes:[],dimensions:xt},Et=0,Ot=0;Ot<vt.length;Ot++){for(var Mt=0;Mt<vt[Ot].length;Mt++)for(var Ft=0;Ft<xt;Ft++)Tt.vertices.push(vt[Ot][Mt][Ft]);Ot>0&&(Et+=vt[Ot-1].length,Tt.holes.push(Et))}return Tt},Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=O||j.strokeColor,F=G||j.strokeAlpha,B=(D&16711680)>>>16,W=(D&65280)>>>8,U=D&255;R.strokeStyle="rgba("+B+","+W+","+U+","+F+")",R.lineWidth=j.lineWidth};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(6),B=y(7),W=new R({Extends:O,initialize:function(X,K,J,Z,Q){var q="json";if(B(K)){var et=K;K=D(et,"key"),J=D(et,"url"),Z=D(et,"xhrSettings"),q=D(et,"extension",q),Q=D(et,"dataKey",Q)}var rt={type:"json",cache:X.cacheManager.json,extension:q,responseType:"text",key:K,url:J,xhrSettings:Z,config:Q};O.call(this,X,rt),B(J)&&(Q?this.data=F(J,Q):this.data=J,this.state=j.FILE_POPULATED)},onProcess:function(){if(this.state!==j.FILE_POPULATED){this.state=j.FILE_PROCESSING;try{var U=JSON.parse(this.xhrLoader.responseText)}catch(K){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),K}var X=this.config;typeof X=="string"?this.data=F(U,X,U):this.data=U}this.onProcessComplete()}});G.register("json",function(U,X,K,J){if(Array.isArray(U))for(var Z=0;Z<U.length;Z++)this.addFile(new W(this,U[Z]));else this.addFile(new W(this,U,X,J,K));return this}),Y.exports=W},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(158),j=y(26),O=function(G,D,F,B,W){for(var U=null,X=null,K=null,J=null,Z=j(G,D,F,B,null,W),Q=0;Q<Z.length;Q++){var q=Z[Q];q&&(q.collides?(U=R(q.x,q.y-1,!0,W),X=R(q.x,q.y+1,!0,W),K=R(q.x-1,q.y,!0,W),J=R(q.x+1,q.y,!0,W),q.faceTop=!(U&&U.collides),q.faceBottom=!(X&&X.collides),q.faceLeft=!(K&&K.collides),q.faceRight=!(J&&J.collides)):q.resetFaces())}};Y.exports=O},function(Y,tt,y){var R={};Y.exports=R;var j=y(83),O=y(32);(function(){R.create=function(G,D){for(var F=[],B=0;B<G.length;B++){var W=G[B],U={x:W.x,y:W.y,index:B,body:D,isInternal:!1,contact:null,offset:null};U.contact={vertex:U,normalImpulse:0,tangentImpulse:0},F.push(U)}return F},R.fromPath=function(G,D){var F=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,B=[];return G.replace(F,function(W,U,X){B.push({x:parseFloat(U),y:parseFloat(X)})}),R.create(B,D)},R.centre=function(G){for(var D=R.area(G,!0),F={x:0,y:0},B,W,U,X=0;X<G.length;X++)U=(X+1)%G.length,B=j.cross(G[X],G[U]),W=j.mult(j.add(G[X],G[U]),B),F=j.add(F,W);return j.div(F,6*D)},R.mean=function(G){for(var D={x:0,y:0},F=0;F<G.length;F++)D.x+=G[F].x,D.y+=G[F].y;return j.div(D,G.length)},R.area=function(G,D){for(var F=0,B=G.length-1,W=0;W<G.length;W++)F+=(G[B].x-G[W].x)*(G[B].y+G[W].y),B=W;return D?F/2:Math.abs(F)/2},R.inertia=function(G,D){for(var F=0,B=0,W=G,U,X,K=0;K<W.length;K++)X=(K+1)%W.length,U=Math.abs(j.cross(W[X],W[K])),F+=U*(j.dot(W[X],W[X])+j.dot(W[X],W[K])+j.dot(W[K],W[K])),B+=U;return D/6*(F/B)},R.translate=function(G,D,F){var B;if(F)for(B=0;B<G.length;B++)G[B].x+=D.x*F,G[B].y+=D.y*F;else for(B=0;B<G.length;B++)G[B].x+=D.x,G[B].y+=D.y;return G},R.rotate=function(G,D,F){if(D!==0){for(var B=Math.cos(D),W=Math.sin(D),U=0;U<G.length;U++){var X=G[U],K=X.x-F.x,J=X.y-F.y;X.x=F.x+(K*B-J*W),X.y=F.y+(K*W+J*B)}return G}},R.contains=function(G,D){for(var F=0;F<G.length;F++){var B=G[F],W=G[(F+1)%G.length];if((D.x-B.x)*(W.y-B.y)+(D.y-B.y)*(B.x-W.x)>0)return!1}return!0},R.scale=function(G,D,F,B){if(D===1&&F===1)return G;B=B||R.centre(G);for(var W,U,X=0;X<G.length;X++)W=G[X],U=j.sub(W,B),G[X].x=B.x+U.x*D,G[X].y=B.y+U.y*F;return G},R.chamfer=function(G,D,F,B,W){typeof D=="number"?D=[D]:D=D||[8],F=typeof F!="undefined"?F:-1,B=B||2,W=W||14;for(var U=[],X=0;X<G.length;X++){var K=G[X-1>=0?X-1:G.length-1],J=G[X],Z=G[(X+1)%G.length],Q=D[X<D.length?X:D.length-1];if(Q===0){U.push(J);continue}var q=j.normalise({x:J.y-K.y,y:K.x-J.x}),et=j.normalise({x:Z.y-J.y,y:J.x-Z.x}),rt=Math.sqrt(2*Math.pow(Q,2)),nt=j.mult(O.clone(q),Q),ot=j.normalise(j.mult(j.add(q,et),.5)),ht=j.sub(J,j.mult(ot,rt)),ut=F;F===-1&&(ut=Math.pow(Q,.32)*1.75),ut=O.clamp(ut,B,W),ut%2==1&&(ut+=1);for(var ct=Math.acos(j.dot(q,et)),ft=ct/ut,dt=0;dt<ut;dt++)U.push(j.add(j.rotate(nt,ft*dt),ht))}return U},R.clockwiseSort=function(G){var D=R.mean(G);return G.sort(function(F,B){return j.angle(D,F)-j.angle(D,B)}),G},R.isConvex=function(G){var D=0,F=G.length,B,W,U,X;if(F<3)return null;for(B=0;B<F;B++)if(W=(B+1)%F,U=(B+2)%F,X=(G[W].x-G[B].x)*(G[U].y-G[W].y),X-=(G[W].y-G[B].y)*(G[U].x-G[W].x),X<0?D|=1:X>0&&(D|=2),D===3)return!1;return D!==0?!0:null},R.hull=function(G){var D=[],F=[],B,W;for(G=G.slice(0),G.sort(function(U,X){var K=U.x-X.x;return K!==0?K:U.y-X.y}),W=0;W<G.length;W+=1){for(B=G[W];F.length>=2&&j.cross3(F[F.length-2],F[F.length-1],B)<=0;)F.pop();F.push(B)}for(W=G.length-1;W>=0;W-=1){for(B=G[W];D.length>=2&&j.cross3(D[D.length-2],D[D.length-1],B)<=0;)D.pop();D.push(B)}return D.pop(),F.pop(),D.concat(F)}})()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(66),O=y(300),G=y(301),D=y(56),F=y(170),B=new R({initialize:function(U,X,K){U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=0),this.type=D.CIRCLE,this.x=U,this.y=X,this._radius=K,this._diameter=K*2},contains:function(W,U){return j(this,W,U)},getPoint:function(W,U){return O(this,W,U)},getPoints:function(W,U,X){return G(this,W,U,X)},getRandomPoint:function(W){return F(this,W)},setTo:function(W,U,X){return this.x=W,this.y=U,this._radius=X,this._diameter=X*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(W,U){return U===void 0&&(U=W),this.x=W,this.y=U,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(W){this._radius=W,this._diameter=W*2}},diameter:{get:function(){return this._diameter},set:function(W){this._diameter=W,this._radius=W*.5}},left:{get:function(){return this.x-this._radius},set:function(W){this.x=W+this._radius}},right:{get:function(){return this.x+this._radius},set:function(W){this.x=W-this._radius}},top:{get:function(){return this.y-this._radius},set:function(W){this.y=W+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(W){this.y=W-this._radius}}});Y.exports=B},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(R.radius>0&&j>=R.left&&j<=R.right&&O>=R.top&&O<=R.bottom){var G=(R.x-j)*(R.x-j),D=(R.y-O)*(R.y-O);return G+D<=R.radius*R.radius}else return!1};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return Math.sqrt((R.x2-R.x1)*(R.x2-R.x1)+(R.y2-R.y1)*(R.y2-R.y1))};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=O-j;return j+((R-j)%G+G)%G};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(39),O=1e-6,G=new R({initialize:function(K){this.val=new Float32Array(16),K?this.copy(K):this.identity()},clone:function(){return new G(this)},set:function(X){return this.copy(X)},setValues:function(X,K,J,Z,Q,q,et,rt,nt,ot,ht,ut,ct,ft,dt,pt){var yt=this.val;return yt[0]=X,yt[1]=K,yt[2]=J,yt[3]=Z,yt[4]=Q,yt[5]=q,yt[6]=et,yt[7]=rt,yt[8]=nt,yt[9]=ot,yt[10]=ht,yt[11]=ut,yt[12]=ct,yt[13]=ft,yt[14]=dt,yt[15]=pt,this},copy:function(X){var K=X.val;return this.setValues(K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],K[8],K[9],K[10],K[11],K[12],K[13],K[14],K[15])},fromArray:function(X){return this.setValues(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8],X[9],X[10],X[11],X[12],X[13],X[14],X[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(X,K,J){var Z=D.fromQuat(J),Q=Z.val,q=K.x,et=K.y,rt=K.z;return this.setValues(Q[0]*q,Q[1]*q,Q[2]*q,0,Q[4]*et,Q[5]*et,Q[6]*et,0,Q[8]*rt,Q[9]*rt,Q[10]*rt,0,X.x,X.y,X.z,1)},xyz:function(X,K,J){this.identity();var Z=this.val;return Z[12]=X,Z[13]=K,Z[14]=J,this},scaling:function(X,K,J){this.zero();var Z=this.val;return Z[0]=X,Z[5]=K,Z[10]=J,Z[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var X=this.val,K=X[1],J=X[2],Z=X[3],Q=X[6],q=X[7],et=X[11];return X[1]=X[4],X[2]=X[8],X[3]=X[12],X[4]=K,X[6]=X[9],X[7]=X[13],X[8]=J,X[9]=Q,X[11]=X[14],X[12]=Z,X[13]=q,X[14]=et,this},getInverse:function(X){return this.copy(X),this.invert()},invert:function(){var X=this.val,K=X[0],J=X[1],Z=X[2],Q=X[3],q=X[4],et=X[5],rt=X[6],nt=X[7],ot=X[8],ht=X[9],ut=X[10],ct=X[11],ft=X[12],dt=X[13],pt=X[14],yt=X[15],St=K*et-J*q,At=K*rt-Z*q,Ct=K*nt-Q*q,Pt=J*rt-Z*et,Rt=J*nt-Q*et,mt=Z*nt-Q*rt,vt=ot*dt-ht*ft,xt=ot*pt-ut*ft,Tt=ot*yt-ct*ft,Et=ht*pt-ut*dt,Ot=ht*yt-ct*dt,Mt=ut*yt-ct*pt,Ft=St*Mt-At*Ot+Ct*Et+Pt*Tt-Rt*xt+mt*vt;return Ft?(Ft=1/Ft,this.setValues((et*Mt-rt*Ot+nt*Et)*Ft,(Z*Ot-J*Mt-Q*Et)*Ft,(dt*mt-pt*Rt+yt*Pt)*Ft,(ut*Rt-ht*mt-ct*Pt)*Ft,(rt*Tt-q*Mt-nt*xt)*Ft,(K*Mt-Z*Tt+Q*xt)*Ft,(pt*Ct-ft*mt-yt*At)*Ft,(ot*mt-ut*Ct+ct*At)*Ft,(q*Ot-et*Tt+nt*vt)*Ft,(J*Tt-K*Ot-Q*vt)*Ft,(ft*Rt-dt*Ct+yt*St)*Ft,(ht*Ct-ot*Rt-ct*St)*Ft,(et*xt-q*Et-rt*vt)*Ft,(K*Et-J*xt+Z*vt)*Ft,(dt*At-ft*Pt-pt*St)*Ft,(ot*Pt-ht*At+ut*St)*Ft)):this},adjoint:function(){var X=this.val,K=X[0],J=X[1],Z=X[2],Q=X[3],q=X[4],et=X[5],rt=X[6],nt=X[7],ot=X[8],ht=X[9],ut=X[10],ct=X[11],ft=X[12],dt=X[13],pt=X[14],yt=X[15];return this.setValues(et*(ut*yt-ct*pt)-ht*(rt*yt-nt*pt)+dt*(rt*ct-nt*ut),-(J*(ut*yt-ct*pt)-ht*(Z*yt-Q*pt)+dt*(Z*ct-Q*ut)),J*(rt*yt-nt*pt)-et*(Z*yt-Q*pt)+dt*(Z*nt-Q*rt),-(J*(rt*ct-nt*ut)-et*(Z*ct-Q*ut)+ht*(Z*nt-Q*rt)),-(q*(ut*yt-ct*pt)-ot*(rt*yt-nt*pt)+ft*(rt*ct-nt*ut)),K*(ut*yt-ct*pt)-ot*(Z*yt-Q*pt)+ft*(Z*ct-Q*ut),-(K*(rt*yt-nt*pt)-q*(Z*yt-Q*pt)+ft*(Z*nt-Q*rt)),K*(rt*ct-nt*ut)-q*(Z*ct-Q*ut)+ot*(Z*nt-Q*rt),q*(ht*yt-ct*dt)-ot*(et*yt-nt*dt)+ft*(et*ct-nt*ht),-(K*(ht*yt-ct*dt)-ot*(J*yt-Q*dt)+ft*(J*ct-Q*ht)),K*(et*yt-nt*dt)-q*(J*yt-Q*dt)+ft*(J*nt-Q*et),-(K*(et*ct-nt*ht)-q*(J*ct-Q*ht)+ot*(J*nt-Q*et)),-(q*(ht*pt-ut*dt)-ot*(et*pt-rt*dt)+ft*(et*ut-rt*ht)),K*(ht*pt-ut*dt)-ot*(J*pt-Z*dt)+ft*(J*ut-Z*ht),-(K*(et*pt-rt*dt)-q*(J*pt-Z*dt)+ft*(J*rt-Z*et)),K*(et*ut-rt*ht)-q*(J*ut-Z*ht)+ot*(J*rt-Z*et))},determinant:function(){var X=this.val,K=X[0],J=X[1],Z=X[2],Q=X[3],q=X[4],et=X[5],rt=X[6],nt=X[7],ot=X[8],ht=X[9],ut=X[10],ct=X[11],ft=X[12],dt=X[13],pt=X[14],yt=X[15],St=K*et-J*q,At=K*rt-Z*q,Ct=K*nt-Q*q,Pt=J*rt-Z*et,Rt=J*nt-Q*et,mt=Z*nt-Q*rt,vt=ot*dt-ht*ft,xt=ot*pt-ut*ft,Tt=ot*yt-ct*ft,Et=ht*pt-ut*dt,Ot=ht*yt-ct*dt,Mt=ut*yt-ct*pt;return St*Mt-At*Ot+Ct*Et+Pt*Tt-Rt*xt+mt*vt},multiply:function(X){var K=this.val,J=K[0],Z=K[1],Q=K[2],q=K[3],et=K[4],rt=K[5],nt=K[6],ot=K[7],ht=K[8],ut=K[9],ct=K[10],ft=K[11],dt=K[12],pt=K[13],yt=K[14],St=K[15],At=X.val,Ct=At[0],Pt=At[1],Rt=At[2],mt=At[3];return K[0]=Ct*J+Pt*et+Rt*ht+mt*dt,K[1]=Ct*Z+Pt*rt+Rt*ut+mt*pt,K[2]=Ct*Q+Pt*nt+Rt*ct+mt*yt,K[3]=Ct*q+Pt*ot+Rt*ft+mt*St,Ct=At[4],Pt=At[5],Rt=At[6],mt=At[7],K[4]=Ct*J+Pt*et+Rt*ht+mt*dt,K[5]=Ct*Z+Pt*rt+Rt*ut+mt*pt,K[6]=Ct*Q+Pt*nt+Rt*ct+mt*yt,K[7]=Ct*q+Pt*ot+Rt*ft+mt*St,Ct=At[8],Pt=At[9],Rt=At[10],mt=At[11],K[8]=Ct*J+Pt*et+Rt*ht+mt*dt,K[9]=Ct*Z+Pt*rt+Rt*ut+mt*pt,K[10]=Ct*Q+Pt*nt+Rt*ct+mt*yt,K[11]=Ct*q+Pt*ot+Rt*ft+mt*St,Ct=At[12],Pt=At[13],Rt=At[14],mt=At[15],K[12]=Ct*J+Pt*et+Rt*ht+mt*dt,K[13]=Ct*Z+Pt*rt+Rt*ut+mt*pt,K[14]=Ct*Q+Pt*nt+Rt*ct+mt*yt,K[15]=Ct*q+Pt*ot+Rt*ft+mt*St,this},multiplyLocal:function(X){var K=this.val,J=X.val;return this.setValues(K[0]*J[0]+K[1]*J[4]+K[2]*J[8]+K[3]*J[12],K[0]*J[1]+K[1]*J[5]+K[2]*J[9]+K[3]*J[13],K[0]*J[2]+K[1]*J[6]+K[2]*J[10]+K[3]*J[14],K[0]*J[3]+K[1]*J[7]+K[2]*J[11]+K[3]*J[15],K[4]*J[0]+K[5]*J[4]+K[6]*J[8]+K[7]*J[12],K[4]*J[1]+K[5]*J[5]+K[6]*J[9]+K[7]*J[13],K[4]*J[2]+K[5]*J[6]+K[6]*J[10]+K[7]*J[14],K[4]*J[3]+K[5]*J[7]+K[6]*J[11]+K[7]*J[15],K[8]*J[0]+K[9]*J[4]+K[10]*J[8]+K[11]*J[12],K[8]*J[1]+K[9]*J[5]+K[10]*J[9]+K[11]*J[13],K[8]*J[2]+K[9]*J[6]+K[10]*J[10]+K[11]*J[14],K[8]*J[3]+K[9]*J[7]+K[10]*J[11]+K[11]*J[15],K[12]*J[0]+K[13]*J[4]+K[14]*J[8]+K[15]*J[12],K[12]*J[1]+K[13]*J[5]+K[14]*J[9]+K[15]*J[13],K[12]*J[2]+K[13]*J[6]+K[14]*J[10]+K[15]*J[14],K[12]*J[3]+K[13]*J[7]+K[14]*J[11]+K[15]*J[15])},premultiply:function(X){return this.multiplyMatrices(X,this)},multiplyMatrices:function(X,K){var J=X.val,Z=K.val,Q=J[0],q=J[4],et=J[8],rt=J[12],nt=J[1],ot=J[5],ht=J[9],ut=J[13],ct=J[2],ft=J[6],dt=J[10],pt=J[14],yt=J[3],St=J[7],At=J[11],Ct=J[15],Pt=Z[0],Rt=Z[4],mt=Z[8],vt=Z[12],xt=Z[1],Tt=Z[5],Et=Z[9],Ot=Z[13],Mt=Z[2],Ft=Z[6],It=Z[10],Dt=Z[14],bt=Z[3],wt=Z[7],$t=Z[11],Ut=Z[15];return this.setValues(Q*Pt+q*xt+et*Mt+rt*bt,nt*Pt+ot*xt+ht*Mt+ut*bt,ct*Pt+ft*xt+dt*Mt+pt*bt,yt*Pt+St*xt+At*Mt+Ct*bt,Q*Rt+q*Tt+et*Ft+rt*wt,nt*Rt+ot*Tt+ht*Ft+ut*wt,ct*Rt+ft*Tt+dt*Ft+pt*wt,yt*Rt+St*Tt+At*Ft+Ct*wt,Q*mt+q*Et+et*It+rt*$t,nt*mt+ot*Et+ht*It+ut*$t,ct*mt+ft*Et+dt*It+pt*$t,yt*mt+St*Et+At*It+Ct*$t,Q*vt+q*Ot+et*Dt+rt*Ut,nt*vt+ot*Ot+ht*Dt+ut*Ut,ct*vt+ft*Ot+dt*Dt+pt*Ut,yt*vt+St*Ot+At*Dt+Ct*Ut)},translate:function(X){return this.translateXYZ(X.x,X.y,X.z)},translateXYZ:function(X,K,J){var Z=this.val;return Z[12]=Z[0]*X+Z[4]*K+Z[8]*J+Z[12],Z[13]=Z[1]*X+Z[5]*K+Z[9]*J+Z[13],Z[14]=Z[2]*X+Z[6]*K+Z[10]*J+Z[14],Z[15]=Z[3]*X+Z[7]*K+Z[11]*J+Z[15],this},scale:function(X){return this.scaleXYZ(X.x,X.y,X.z)},scaleXYZ:function(X,K,J){var Z=this.val;return Z[0]=Z[0]*X,Z[1]=Z[1]*X,Z[2]=Z[2]*X,Z[3]=Z[3]*X,Z[4]=Z[4]*K,Z[5]=Z[5]*K,Z[6]=Z[6]*K,Z[7]=Z[7]*K,Z[8]=Z[8]*J,Z[9]=Z[9]*J,Z[10]=Z[10]*J,Z[11]=Z[11]*J,this},makeRotationAxis:function(X,K){var J=Math.cos(K),Z=Math.sin(K),Q=1-J,q=X.x,et=X.y,rt=X.z,nt=Q*q,ot=Q*et;return this.setValues(nt*q+J,nt*et-Z*rt,nt*rt+Z*et,0,nt*et+Z*rt,ot*et+J,ot*rt-Z*q,0,nt*rt-Z*et,ot*rt+Z*q,Q*rt*rt+J,0,0,0,0,1)},rotate:function(X,K){var J=this.val,Z=K.x,Q=K.y,q=K.z,et=Math.sqrt(Z*Z+Q*Q+q*q);if(Math.abs(et)<O)return this;et=1/et,Z*=et,Q*=et,q*=et;var rt=Math.sin(X),nt=Math.cos(X),ot=1-nt,ht=J[0],ut=J[1],ct=J[2],ft=J[3],dt=J[4],pt=J[5],yt=J[6],St=J[7],At=J[8],Ct=J[9],Pt=J[10],Rt=J[11],mt=J[12],vt=J[13],xt=J[14],Tt=J[15],Et=Z*Z*ot+nt,Ot=Q*Z*ot+q*rt,Mt=q*Z*ot-Q*rt,Ft=Z*Q*ot-q*rt,It=Q*Q*ot+nt,Dt=q*Q*ot+Z*rt,bt=Z*q*ot+Q*rt,wt=Q*q*ot-Z*rt,$t=q*q*ot+nt;return this.setValues(ht*Et+dt*Ot+At*Mt,ut*Et+pt*Ot+Ct*Mt,ct*Et+yt*Ot+Pt*Mt,ft*Et+St*Ot+Rt*Mt,ht*Ft+dt*It+At*Dt,ut*Ft+pt*It+Ct*Dt,ct*Ft+yt*It+Pt*Dt,ft*Ft+St*It+Rt*Dt,ht*bt+dt*wt+At*$t,ut*bt+pt*wt+Ct*$t,ct*bt+yt*wt+Pt*$t,ft*bt+St*wt+Rt*$t,mt,vt,xt,Tt)},rotateX:function(X){var K=this.val,J=Math.sin(X),Z=Math.cos(X),Q=K[4],q=K[5],et=K[6],rt=K[7],nt=K[8],ot=K[9],ht=K[10],ut=K[11];return K[4]=Q*Z+nt*J,K[5]=q*Z+ot*J,K[6]=et*Z+ht*J,K[7]=rt*Z+ut*J,K[8]=nt*Z-Q*J,K[9]=ot*Z-q*J,K[10]=ht*Z-et*J,K[11]=ut*Z-rt*J,this},rotateY:function(X){var K=this.val,J=Math.sin(X),Z=Math.cos(X),Q=K[0],q=K[1],et=K[2],rt=K[3],nt=K[8],ot=K[9],ht=K[10],ut=K[11];return K[0]=Q*Z-nt*J,K[1]=q*Z-ot*J,K[2]=et*Z-ht*J,K[3]=rt*Z-ut*J,K[8]=Q*J+nt*Z,K[9]=q*J+ot*Z,K[10]=et*J+ht*Z,K[11]=rt*J+ut*Z,this},rotateZ:function(X){var K=this.val,J=Math.sin(X),Z=Math.cos(X),Q=K[0],q=K[1],et=K[2],rt=K[3],nt=K[4],ot=K[5],ht=K[6],ut=K[7];return K[0]=Q*Z+nt*J,K[1]=q*Z+ot*J,K[2]=et*Z+ht*J,K[3]=rt*Z+ut*J,K[4]=nt*Z-Q*J,K[5]=ot*Z-q*J,K[6]=ht*Z-et*J,K[7]=ut*Z-rt*J,this},fromRotationTranslation:function(X,K){var J=X.x,Z=X.y,Q=X.z,q=X.w,et=J+J,rt=Z+Z,nt=Q+Q,ot=J*et,ht=J*rt,ut=J*nt,ct=Z*rt,ft=Z*nt,dt=Q*nt,pt=q*et,yt=q*rt,St=q*nt;return this.setValues(1-(ct+dt),ht+St,ut-yt,0,ht-St,1-(ot+dt),ft+pt,0,ut+yt,ft-pt,1-(ot+ct),0,K.x,K.y,K.z,1)},fromQuat:function(X){var K=X.x,J=X.y,Z=X.z,Q=X.w,q=K+K,et=J+J,rt=Z+Z,nt=K*q,ot=K*et,ht=K*rt,ut=J*et,ct=J*rt,ft=Z*rt,dt=Q*q,pt=Q*et,yt=Q*rt;return this.setValues(1-(ut+ft),ot+yt,ht-pt,0,ot-yt,1-(nt+ft),ct+dt,0,ht+pt,ct-dt,1-(nt+ut),0,0,0,0,1)},frustum:function(X,K,J,Z,Q,q){var et=1/(K-X),rt=1/(Z-J),nt=1/(Q-q);return this.setValues(Q*2*et,0,0,0,0,Q*2*rt,0,0,(K+X)*et,(Z+J)*rt,(q+Q)*nt,-1,0,0,q*Q*2*nt,0)},perspective:function(X,K,J,Z){var Q=1/Math.tan(X/2),q=1/(J-Z);return this.setValues(Q/K,0,0,0,0,Q,0,0,0,0,(Z+J)*q,-1,0,0,2*Z*J*q,0)},perspectiveLH:function(X,K,J,Z){return this.setValues(2*J/X,0,0,0,0,2*J/K,0,0,0,0,-Z/(J-Z),1,0,0,J*Z/(J-Z),0)},ortho:function(X,K,J,Z,Q,q){var et=X-K,rt=J-Z,nt=Q-q;return et=et===0?et:1/et,rt=rt===0?rt:1/rt,nt=nt===0?nt:1/nt,this.setValues(-2*et,0,0,0,0,-2*rt,0,0,0,0,2*nt,0,(X+K)*et,(Z+J)*rt,(q+Q)*nt,1)},lookAtRH:function(X,K,J){var Z=this.val;return U.subVectors(X,K),U.getLengthSquared()===0&&(U.z=1),U.normalize(),B.crossVectors(J,U),B.getLengthSquared()===0&&(Math.abs(J.z)===1?U.x+=1e-4:U.z+=1e-4,U.normalize(),B.crossVectors(J,U)),B.normalize(),W.crossVectors(U,B),Z[0]=B.x,Z[1]=B.y,Z[2]=B.z,Z[4]=W.x,Z[5]=W.y,Z[6]=W.z,Z[8]=U.x,Z[9]=U.y,Z[10]=U.z,this},lookAt:function(X,K,J){var Z=X.x,Q=X.y,q=X.z,et=J.x,rt=J.y,nt=J.z,ot=K.x,ht=K.y,ut=K.z;if(Math.abs(Z-ot)<O&&Math.abs(Q-ht)<O&&Math.abs(q-ut)<O)return this.identity();var ct=Z-ot,ft=Q-ht,dt=q-ut,pt=1/Math.sqrt(ct*ct+ft*ft+dt*dt);ct*=pt,ft*=pt,dt*=pt;var yt=rt*dt-nt*ft,St=nt*ct-et*dt,At=et*ft-rt*ct;pt=Math.sqrt(yt*yt+St*St+At*At),pt?(pt=1/pt,yt*=pt,St*=pt,At*=pt):(yt=0,St=0,At=0);var Ct=ft*At-dt*St,Pt=dt*yt-ct*At,Rt=ct*St-ft*yt;return pt=Math.sqrt(Ct*Ct+Pt*Pt+Rt*Rt),pt?(pt=1/pt,Ct*=pt,Pt*=pt,Rt*=pt):(Ct=0,Pt=0,Rt=0),this.setValues(yt,Ct,ct,0,St,Pt,ft,0,At,Rt,dt,0,-(yt*Z+St*Q+At*q),-(Ct*Z+Pt*Q+Rt*q),-(ct*Z+ft*Q+dt*q),1)},yawPitchRoll:function(X,K,J){this.zero(),D.zero(),F.zero();var Z=this.val,Q=D.val,q=F.val,et=Math.sin(J),rt=Math.cos(J);return Z[10]=1,Z[15]=1,Z[0]=rt,Z[1]=et,Z[4]=-et,Z[5]=rt,et=Math.sin(K),rt=Math.cos(K),Q[0]=1,Q[15]=1,Q[5]=rt,Q[10]=rt,Q[9]=-et,Q[6]=et,et=Math.sin(X),rt=Math.cos(X),q[5]=1,q[15]=1,q[0]=rt,q[2]=-et,q[8]=et,q[10]=rt,this.multiplyLocal(D),this.multiplyLocal(F),this},setWorldMatrix:function(X,K,J,Z,Q){return this.yawPitchRoll(X.y,X.x,X.z),D.scaling(J.x,J.y,J.z),F.xyz(K.x,K.y,K.z),this.multiplyLocal(D),this.multiplyLocal(F),Z&&this.multiplyLocal(Z),Q&&this.multiplyLocal(Q),this},multiplyToMat4:function(X,K){var J=this.val,Z=X.val,Q=J[0],q=J[1],et=J[2],rt=J[3],nt=J[4],ot=J[5],ht=J[6],ut=J[7],ct=J[8],ft=J[9],dt=J[10],pt=J[11],yt=J[12],St=J[13],At=J[14],Ct=J[15],Pt=Z[0],Rt=Z[1],mt=Z[2],vt=Z[3],xt=Z[4],Tt=Z[5],Et=Z[6],Ot=Z[7],Mt=Z[8],Ft=Z[9],It=Z[10],Dt=Z[11],bt=Z[12],wt=Z[13],$t=Z[14],Ut=Z[15];return K.setValues(Pt*Q+Rt*nt+mt*ct+vt*yt,Rt*q+Rt*ot+mt*ft+vt*St,mt*et+Rt*ht+mt*dt+vt*At,vt*rt+Rt*ut+mt*pt+vt*Ct,xt*Q+Tt*nt+Et*ct+Ot*yt,xt*q+Tt*ot+Et*ft+Ot*St,xt*et+Tt*ht+Et*dt+Ot*At,xt*rt+Tt*ut+Et*pt+Ot*Ct,Mt*Q+Ft*nt+It*ct+Dt*yt,Mt*q+Ft*ot+It*ft+Dt*St,Mt*et+Ft*ht+It*dt+Dt*At,Mt*rt+Ft*ut+It*pt+Dt*Ct,bt*Q+wt*nt+$t*ct+Ut*yt,bt*q+wt*ot+$t*ft+Ut*St,bt*et+wt*ht+$t*dt+Ut*At,bt*rt+wt*ut+$t*pt+Ut*Ct)},fromRotationXYTranslation:function(X,K,J){var Z=K.x,Q=K.y,q=K.z,et=Math.sin(X.x),rt=Math.cos(X.x),nt=Math.sin(X.y),ot=Math.cos(X.y),ht=Z,ut=Q,ct=q,ft=-et,dt=0-ft*nt,pt=0-rt*nt,yt=ft*ot,St=rt*ot;return J||(ht=ot*Z+nt*q,ut=dt*Z+rt*Q+yt*q,ct=pt*Z+et*Q+St*q),this.setValues(ot,dt,pt,0,0,rt,et,0,nt,yt,St,0,ht,ut,ct,1)},getMaxScaleOnAxis:function(){var X=this.val,K=X[0]*X[0]+X[1]*X[1]+X[2]*X[2],J=X[4]*X[4]+X[5]*X[5]+X[6]*X[6],Z=X[8]*X[8]+X[9]*X[9]+X[10]*X[10];return Math.sqrt(Math.max(K,J,Z))}}),D=new G,F=new G,B=new j,W=new j,U=new j;Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={COMPLETE:y(987),DECODED:y(988),DECODED_ALL:y(989),DESTROY:y(990),DETUNE:y(991),GLOBAL_DETUNE:y(992),GLOBAL_MUTE:y(993),GLOBAL_RATE:y(994),GLOBAL_VOLUME:y(995),LOOP:y(996),LOOPED:y(997),MUTE:y(998),PAN:y(999),PAUSE_ALL:y(1e3),PAUSE:y(1001),PLAY:y(1002),RATE:y(1003),RESUME_ALL:y(1004),RESUME:y(1005),SEEK:y(1006),STOP_ALL:y(1007),STOP:y(1008),UNLOCKED:y(1009),VOLUME:y(1010)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=new R({Extends:O,initialize:function W(U,X,K,J,Z){var Q="png",q;if(F(X)){var et=X;X=D(et,"key"),K=D(et,"url"),q=D(et,"normalMap"),J=D(et,"xhrSettings"),Q=D(et,"extension",Q),Z=D(et,"frameConfig")}Array.isArray(K)&&(q=K[1],K=K[0]);var rt={type:"image",cache:U.textureManager,extension:Q,responseType:"blob",key:X,url:K,xhrSettings:J,config:Z};if(O.call(this,U,rt),q){var nt=new W(U,this.key,q,J,Z);nt.type="normalMap",this.setLink(nt),U.addFile(nt)}},onProcess:function(){this.state=j.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var W=this;this.data.onload=function(){O.revokeObjectURL(W.data),W.onProcessComplete()},this.data.onerror=function(){O.revokeObjectURL(W.data),W.onProcessError()},O.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var W,U=this.linkFile;U&&U.state===j.FILE_COMPLETE?(this.type==="image"?W=this.cache.addImage(this.key,this.data,U.data):W=this.cache.addImage(U.key,U.data,this.data),this.pendingDestroy(W),U.pendingDestroy(W)):U||(W=this.cache.addImage(this.key,this.data),this.pendingDestroy(W))}});G.register("image",function(W,U,X){if(Array.isArray(W))for(var K=0;K<W.length;K++)this.addFile(new B(this,W[K]));else this.addFile(new B(this,W,U,X));return this}),Y.exports=B},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j?R.setCollision(!0,!0,!0,!0,!1):R.resetCollision(!1)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(164),j=y(0),O=y(11),G=y(15),D=y(1065),F=new j({Extends:G,Mixins:[O.Alpha,O.BlendMode,O.Depth,O.Flip,O.GetBounds,O.Mask,O.Origin,O.Pipeline,O.ScrollFactor,O.Size,O.TextureCrop,O.Tint,O.Transform,O.Visible,D],initialize:function(W,U,X,K,J){G.call(this,W,"Sprite"),this._crop=this.resetCropObject(),this.anims=new R(this),this.setTexture(K,J),this.setPosition(U,X),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(B,W){this.anims.update(B,W)},play:function(B,W){return this.anims.play(B,W)},playReverse:function(B,W){return this.anims.playReverse(B,W)},playAfterDelay:function(B,W){return this.anims.playAfterDelay(B,W)},playAfterRepeat:function(B,W){return this.anims.playAfterRepeat(B,W)},chain:function(B){return this.anims.chain(B)},stop:function(){return this.anims.stop()},stopAfterDelay:function(B){return this.anims.stopAfterDelay(B)},stopAfterRepeat:function(B){return this.anims.stopAfterRepeat(B)},stopOnFrame:function(B){return this.anims.stopOnFrame(B)},toJSON:function(){return O.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});Y.exports=F},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){if(!(j>=R.length)){for(var O=R.length-1,G=R[j],D=j;D<O;D++)R[D]=R[D+1];return R.length=O,G}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ADDED_TO_SCENE:y(643),DESTROY:y(644),REMOVED_FROM_SCENE:y(645),VIDEO_COMPLETE:y(646),VIDEO_CREATED:y(647),VIDEO_ERROR:y(648),VIDEO_LOOP:y(649),VIDEO_PLAY:y(650),VIDEO_SEEKED:y(651),VIDEO_SEEKING:y(652),VIDEO_STOP:y(653),VIDEO_TIMEOUT:y(654),VIDEO_UNLOCKED:y(655)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){return O===void 0&&(O=0),j===0?R:(R-=O,R=j*Math.floor(R/j),G?(O+R)/j:O+R)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j={};for(var O in R)Array.isArray(R[O])?j[O]=R[O].slice(0):j[O]=R[O];return j};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=R.length;if(j<0||j>D||j>=O||O>D||j+O>D){if(G)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(G,D){return String(G).localeCompare(D)}function R(G,D){var F=G.length;if(F<=1)return G;for(var B=new Array(F),W=1;W<F;W*=2){j(G,D,W,B);var U=G;G=B,B=U}return G}function j(G,D,F,B){var W=G.length,U=0,X=F*2,K,J,Z,Q,q;for(K=0;K<W;K+=X)for(J=K+F,Z=J+F,J>W&&(J=W),Z>W&&(Z=W),Q=K,q=J;;)if(Q<J&&q<Z)D(G[Q],G[q])<=0?B[U++]=G[Q++]:B[U++]=G[q++];else if(Q<J)B[U++]=G[Q++];else if(q<Z)B[U++]=G[q++];else break}var O=function(G,D){D===void 0&&(D=y);var F=R(G,D);return F!==G&&j(F,null,G.length,G),G};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(134),j=y(205),O=function(G,D){var F=R.Power0;if(typeof G=="string")if(R.hasOwnProperty(G))F=R[G];else{var B="";G.indexOf(".")&&(B=G.substr(G.indexOf(".")+1),B.toLowerCase()==="in"?B="easeIn":B.toLowerCase()==="out"?B="easeOut":B.toLowerCase()==="inout"&&(B="easeInOut")),G=j(G.substr(0,G.indexOf(".")+1)+B),R.hasOwnProperty(G)&&(F=R[G])}else typeof G=="function"?F=G:Array.isArray(G)&&G.length===4;if(!D)return F;var W=D.slice(0);return W.unshift(0),function(U){return W[0]=U,F.apply(this,W)}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(12),j=function(O,G,D,F,B){var W=O.strokeTint,U=R.getTintAppendFloatAlpha(G.strokeColor,G.strokeAlpha*D);W.TL=U,W.TR=U,W.BL=U,W.BR=U;var X=G.pathData,K=X.length-1,J=G.lineWidth,Z=J/2,Q=X[0]-F,q=X[1]-B;G.closePath||(K-=2);for(var et=2;et<K;et+=2){var rt=X[et]-F,nt=X[et+1]-B;O.batchLine(Q,q,rt,nt,Z,Z,J,et-2,G.closePath?et===K-1:!1),Q=rt,q=nt}};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(115),O=y(476),G=y(477),D=y(56),F=y(47),B=y(181),W=new R({initialize:function(X,K,J,Z,Q,q){X===void 0&&(X=0),K===void 0&&(K=0),J===void 0&&(J=0),Z===void 0&&(Z=0),Q===void 0&&(Q=0),q===void 0&&(q=0),this.type=D.TRIANGLE,this.x1=X,this.y1=K,this.x2=J,this.y2=Z,this.x3=Q,this.y3=q},contains:function(U,X){return j(this,U,X)},getPoint:function(U,X){return O(this,U,X)},getPoints:function(U,X,K){return G(this,U,X,K)},getRandomPoint:function(U){return B(this,U)},setTo:function(U,X,K,J,Z,Q){return U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=0),J===void 0&&(J=0),Z===void 0&&(Z=0),Q===void 0&&(Q=0),this.x1=U,this.y1=X,this.x2=K,this.y2=J,this.x3=Z,this.y3=Q,this},getLineA:function(U){return U===void 0&&(U=new F),U.setTo(this.x1,this.y1,this.x2,this.y2),U},getLineB:function(U){return U===void 0&&(U=new F),U.setTo(this.x2,this.y2,this.x3,this.y3),U},getLineC:function(U){return U===void 0&&(U=new F),U.setTo(this.x3,this.y3,this.x1,this.y1),U},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(U){var X=0;this.x1<=this.x2&&this.x1<=this.x3?X=this.x1-U:this.x2<=this.x1&&this.x2<=this.x3?X=this.x2-U:X=this.x3-U,this.x1-=X,this.x2-=X,this.x3-=X}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(U){var X=0;this.x1>=this.x2&&this.x1>=this.x3?X=this.x1-U:this.x2>=this.x1&&this.x2>=this.x3?X=this.x2-U:X=this.x3-U,this.x1-=X,this.x2-=X,this.x3-=X}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(U){var X=0;this.y1<=this.y2&&this.y1<=this.y3?X=this.y1-U:this.y2<=this.y1&&this.y2<=this.y3?X=this.y2-U:X=this.y3-U,this.y1-=X,this.y2-=X,this.y3-=X}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(U){var X=0;this.y1>=this.y2&&this.y1>=this.y3?X=this.y1-U:this.y2>=this.y1&&this.y2>=this.y3?X=this.y2-U:X=this.y3-U,this.y1-=X,this.y2-=X,this.y3-=X}}});Y.exports=W},function(Y,tt){var y={};Y.exports=y,function(){y.create=function(R,j){return{x:R||0,y:j||0}},y.clone=function(R){return{x:R.x,y:R.y}},y.magnitude=function(R){return Math.sqrt(R.x*R.x+R.y*R.y)},y.magnitudeSquared=function(R){return R.x*R.x+R.y*R.y},y.rotate=function(R,j,O){var G=Math.cos(j),D=Math.sin(j);O||(O={});var F=R.x*G-R.y*D;return O.y=R.x*D+R.y*G,O.x=F,O},y.rotateAbout=function(R,j,O,G){var D=Math.cos(j),F=Math.sin(j);G||(G={});var B=O.x+((R.x-O.x)*D-(R.y-O.y)*F);return G.y=O.y+((R.x-O.x)*F+(R.y-O.y)*D),G.x=B,G},y.normalise=function(R){var j=y.magnitude(R);return j===0?{x:0,y:0}:{x:R.x/j,y:R.y/j}},y.dot=function(R,j){return R.x*j.x+R.y*j.y},y.cross=function(R,j){return R.x*j.y-R.y*j.x},y.cross3=function(R,j,O){return(j.x-R.x)*(O.y-R.y)-(j.y-R.y)*(O.x-R.x)},y.add=function(R,j,O){return O||(O={}),O.x=R.x+j.x,O.y=R.y+j.y,O},y.sub=function(R,j,O){return O||(O={}),O.x=R.x-j.x,O.y=R.y-j.y,O},y.mult=function(R,j){return{x:R.x*j,y:R.y*j}},y.div=function(R,j){return{x:R.x/j,y:R.y/j}},y.perp=function(R,j){return j=j===!0?-1:1,{x:j*-R.y,y:j*R.x}},y.neg=function(R){return{x:-R.x,y:-R.y}},y.angle=function(R,j){return Math.atan2(j.y-R.y,j.x-R.x)},y._temp=[y.create(),y.create(),y.create(),y.create(),y.create(),y.create()]}()},function(Y,tt){var y={};Y.exports=y,function(){y.create=function(R){var j={min:{x:0,y:0},max:{x:0,y:0}};return R&&y.update(j,R),j},y.update=function(R,j,O){R.min.x=1/0,R.max.x=-1/0,R.min.y=1/0,R.max.y=-1/0;for(var G=0;G<j.length;G++){var D=j[G];D.x>R.max.x&&(R.max.x=D.x),D.x<R.min.x&&(R.min.x=D.x),D.y>R.max.y&&(R.max.y=D.y),D.y<R.min.y&&(R.min.y=D.y)}O&&(O.x>0?R.max.x+=O.x:R.min.x+=O.x,O.y>0?R.max.y+=O.y:R.min.y+=O.y)},y.contains=function(R,j){return j.x>=R.min.x&&j.x<=R.max.x&&j.y>=R.min.y&&j.y<=R.max.y},y.overlaps=function(R,j){return R.min.x<=j.max.x&&R.max.x>=j.min.x&&R.max.y>=j.min.y&&R.min.y<=j.max.y},y.translate=function(R,j){R.min.x+=j.x,R.max.x+=j.x,R.min.y+=j.y,R.max.y+=j.y},y.shift=function(R,j){var O=R.max.x-R.min.x,G=R.max.y-R.min.y;R.min.x=j.x,R.max.x=j.x+O,R.min.y=j.y,R.max.y=j.y+G}}()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(29),j=y(0),O=y(11),G=y(502),D=new j({Mixins:[O.Alpha,O.Flip,O.Visible],initialize:function(B,W,U,X,K,J,Z,Q){this.layer=B,this.index=W,this.x=U,this.y=X,this.width=K,this.height=J,this.right,this.bottom,this.baseWidth=Z!==void 0?Z:K,this.baseHeight=Q!==void 0?Q:J,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(F,B){return!(F<this.pixelX||B<this.pixelY||F>this.right||B>this.bottom)},copy:function(F){return this.index=F.index,this.alpha=F.alpha,this.properties=F.properties,this.visible=F.visible,this.setFlip(F.flipX,F.flipY),this.tint=F.tint,this.rotation=F.rotation,this.collideUp=F.collideUp,this.collideDown=F.collideDown,this.collideLeft=F.collideLeft,this.collideRight=F.collideRight,this.collisionCallback=F.collisionCallback,this.collisionCallbackContext=F.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(F){var B=this.tilemapLayer;return B?B.tileToWorldX(this.x,F):this.x*this.baseWidth},getRight:function(F){var B=this.tilemapLayer;return B?this.getLeft(F)+this.width*B.scaleX:this.getLeft(F)+this.width},getTop:function(F){var B=this.tilemapLayer;return B?B.tileToWorldY(this.y,F)-(this.height-this.baseHeight)*B.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(F){var B=this.tilemapLayer;return B?this.getTop(F)+this.height*B.scaleY:this.getTop(F)+this.height},getBounds:function(F,B){return B===void 0&&(B=new G),B.x=this.getLeft(),B.y=this.getTop(),B.width=this.getRight()-B.x,B.height=this.getBottom()-B.y,B},getCenterX:function(F){return(this.getLeft(F)+this.getRight(F))/2},getCenterY:function(F){return(this.getTop(F)+this.getBottom(F))/2},intersects:function(F,B,W,U){return!(W<=this.pixelX||U<=this.pixelY||F>=this.right||B>=this.bottom)},isInteresting:function(F,B){return F&&B?this.canCollide||this.hasInterestingFace:F?this.collides:B?this.hasInterestingFace:!1},resetCollision:function(F){if(F===void 0&&(F=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,F){var B=this.tilemapLayer;B&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(F,B,W,U,X){if(B===void 0&&(B=F),W===void 0&&(W=F),U===void 0&&(U=F),X===void 0&&(X=!0),this.collideLeft=F,this.collideRight=B,this.collideUp=W,this.collideDown=U,this.faceLeft=F,this.faceRight=B,this.faceTop=W,this.faceBottom=U,X){var K=this.tilemapLayer;K&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(F,B){return F===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=F,this.collisionCallbackContext=B),this},setSize:function(F,B,W,U){return F!==void 0&&(this.width=F),B!==void 0&&(this.height=B),W!==void 0&&(this.baseWidth=W),U!==void 0&&(this.baseHeight=U),this.updatePixelXY(),this},updatePixelXY:function(){var F=this.layer.orientation;if(F===R.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(F===R.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(F===R.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(F===R.HEXAGONAL){var B=this.layer.hexSideLength,W=(this.baseHeight-B)/2+B;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*W}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var F=this.layer.tilemapLayer;if(F){var B=F.gidMap[this.index];if(B)return B}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var F=this.tilemapLayer;return F?F.tilemap:null}}});Y.exports=D},function(Y,tt,y){var R={};Y.exports=R;var j=y(64),O=y(32),G=y(41),D=y(84),F=y(83),B=y(1393);(function(){R.rectangle=function(W,U,X,K,J){J=J||{};var Z={label:"Rectangle Body",position:{x:W,y:U},vertices:j.fromPath("L 0 0 L "+X+" 0 L "+X+" "+K+" L 0 "+K)};if(J.chamfer){var Q=J.chamfer;Z.vertices=j.chamfer(Z.vertices,Q.radius,Q.quality,Q.qualityMin,Q.qualityMax),delete J.chamfer}return G.create(O.extend({},Z,J))},R.trapezoid=function(W,U,X,K,J,Z){Z=Z||{},J*=.5;var Q=(1-J*2)*X,q=X*J,et=q+Q,rt=et+q,nt;J<.5?nt="L 0 0 L "+q+" "+-K+" L "+et+" "+-K+" L "+rt+" 0":nt="L 0 0 L "+et+" "+-K+" L "+rt+" 0";var ot={label:"Trapezoid Body",position:{x:W,y:U},vertices:j.fromPath(nt)};if(Z.chamfer){var ht=Z.chamfer;ot.vertices=j.chamfer(ot.vertices,ht.radius,ht.quality,ht.qualityMin,ht.qualityMax),delete Z.chamfer}return G.create(O.extend({},ot,Z))},R.circle=function(W,U,X,K,J){K=K||{};var Z={label:"Circle Body",circleRadius:X};J=J||25;var Q=Math.ceil(Math.max(10,Math.min(J,X)));return Q%2==1&&(Q+=1),R.polygon(W,U,Q,X,O.extend({},Z,K))},R.polygon=function(W,U,X,K,J){if(J=J||{},X<3)return R.circle(W,U,K,J);for(var Z=2*Math.PI/X,Q="",q=Z*.5,et=0;et<X;et+=1){var rt=q+et*Z,nt=Math.cos(rt)*K,ot=Math.sin(rt)*K;Q+="L "+nt.toFixed(3)+" "+ot.toFixed(3)+" "}var ht={label:"Polygon Body",position:{x:W,y:U},vertices:j.fromPath(Q)};if(J.chamfer){var ut=J.chamfer;ht.vertices=j.chamfer(ht.vertices,ut.radius,ut.quality,ut.qualityMin,ut.qualityMax),delete J.chamfer}return G.create(O.extend({},ht,J))},R.fromVertices=function(W,U,X,K,J,Z,Q){var q,et,rt,nt,ot,ht;for(K=K||{},et=[],J=typeof J!="undefined"?J:!1,Z=typeof Z!="undefined"?Z:.01,Q=typeof Q!="undefined"?Q:10,B||O.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),O.isArray(X[0])||(X=[X]),ht=0;ht<X.length;ht+=1)if(nt=X[ht],rt=j.isConvex(nt),rt||!B)rt?nt=j.clockwiseSort(nt):nt=j.hull(nt),et.push({position:{x:W,y:U},vertices:nt});else{var ut=nt.map(function(pt){return[pt.x,pt.y]});B.makeCCW(ut),Z!==!1&&B.removeCollinearPoints(ut,Z);var ct=B.quickDecomp(ut);for(ot=0;ot<ct.length;ot++){var ft=ct[ot],dt=ft.map(function(pt){return{x:pt[0],y:pt[1]}});Q>0&&j.area(dt)<Q||et.push({position:j.centre(dt),vertices:dt})}}for(ot=0;ot<et.length;ot++)et[ot]=G.create(O.extend(et[ot],K));return J&&R.flagCoincidentParts(et,5),et.length>1?(q=G.create(O.extend({parts:et.slice(0)},K)),G.setPosition(q,{x:W,y:U}),q):et[0]},R.flagCoincidentParts=function(W,U){U===void 0&&(U=5);for(var X=0;X<W.length;X++)for(var K=W[X],J=X+1;J<W.length;J++){var Z=W[J];if(D.overlaps(K.bounds,Z.bounds))for(var Q=K.vertices,q=Z.vertices,et=0;et<K.vertices.length;et++)for(var rt=0;rt<Z.vertices.length;rt++){var nt=F.magnitudeSquared(F.sub(Q[(et+1)%Q.length],q[rt])),ot=F.magnitudeSquared(F.sub(Q[et],q[(rt+1)%q.length]));nt<U&&ot<U&&(Q[et].isInternal=!0,q[rt].isInternal=!0)}}return W}})()},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.x-R.width*R.originX+R.width*.5};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.width*R.originX;return R.x=j+O-R.width*.5,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.y-R.height*R.originY+R.height*.5};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.height*R.originY;return R.y=j+O-R.height*.5,R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={POST_RENDER:y(628),PRE_RENDER:y(629),RENDER:y(630),RESIZE:y(631)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(74),j=function(O,G,D,F){F===void 0&&(F=O);var B;if(!Array.isArray(G))return B=O.indexOf(G),B!==-1?(R(O,B),D&&D.call(F,G),G):null;for(var W=G.length-1,U=[];W>=0;){var X=G[W];B=O.indexOf(X),B!==-1&&(R(O,B),U.push(X),D&&D.call(F,X)),W--}return U};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(199),O=y(10),G=y(3),D=new R({initialize:function(B){this.type=B,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new G,this._tmpVec2B=new G},draw:function(F,B){return B===void 0&&(B=32),F.strokePoints(this.getPoints(B))},getBounds:function(F,B){F||(F=new O),B===void 0&&(B=16);var W=this.getLength();B>W&&(B=W/2);var U=Math.max(1,Math.round(W/B));return j(this.getSpacedPoints(U),F)},getDistancePoints:function(F){var B=this.getLength(),W=Math.max(1,B/F);return this.getSpacedPoints(W)},getEndPoint:function(F){return F===void 0&&(F=new G),this.getPointAt(1,F)},getLength:function(){var F=this.getLengths();return F[F.length-1]},getLengths:function(F){if(F===void 0&&(F=this.arcLengthDivisions),this.cacheArcLengths.length===F+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var B=[],W,U=this.getPoint(0,this._tmpVec2A),X=0;B.push(0);for(var K=1;K<=F;K++)W=this.getPoint(K/F,this._tmpVec2B),X+=W.distance(U),B.push(X),U.copy(W);return this.cacheArcLengths=B,B},getPointAt:function(F,B){var W=this.getUtoTmapping(F);return this.getPoint(W,B)},getPoints:function(F,B,W){W===void 0&&(W=[]),F||(B?F=this.getLength()/B:F=this.defaultDivisions);for(var U=0;U<=F;U++)W.push(this.getPoint(U/F));return W},getRandomPoint:function(F){return F===void 0&&(F=new G),this.getPoint(Math.random(),F)},getSpacedPoints:function(F,B,W){W===void 0&&(W=[]),F||(B?F=this.getLength()/B:F=this.defaultDivisions);for(var U=0;U<=F;U++){var X=this.getUtoTmapping(U/F,null,F);W.push(this.getPoint(X))}return W},getStartPoint:function(F){return F===void 0&&(F=new G),this.getPointAt(0,F)},getTangent:function(F,B){B===void 0&&(B=new G);var W=1e-4,U=F-W,X=F+W;return U<0&&(U=0),X>1&&(X=1),this.getPoint(U,this._tmpVec2A),this.getPoint(X,B),B.subtract(this._tmpVec2A).normalize()},getTangentAt:function(F,B){var W=this.getUtoTmapping(F);return this.getTangent(W,B)},getTFromDistance:function(F,B){return F<=0?0:this.getUtoTmapping(0,F,B)},getUtoTmapping:function(F,B,W){var U=this.getLengths(W),X=0,K=U.length,J;B?J=Math.min(B,U[K-1]):J=F*U[K-1];for(var Z=0,Q=K-1,q;Z<=Q;)if(X=Math.floor(Z+(Q-Z)/2),q=U[X]-J,q<0)Z=X+1;else if(q>0)Q=X-1;else{Q=X;break}if(X=Q,U[X]===J)return X/(K-1);var et=U[X],rt=U[X+1],nt=rt-et,ot=(J-et)/nt;return(X+ot)/(K-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ADD:y(968),COMPLETE:y(969),FILE_COMPLETE:y(970),FILE_KEY_COMPLETE:y(971),FILE_LOAD_ERROR:y(972),FILE_LOAD:y(973),FILE_PROGRESS:y(974),POST_PROCESS:y(975),PROGRESS:y(976),START:y(977)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G,D){D===void 0&&(D=new R);var F=O.x1,B=O.y1,W=O.x2,U=O.y2,X=G.x1,K=G.y1,J=G.x2,Z=G.y2,Q=(J-X)*(B-K)-(Z-K)*(F-X),q=(W-F)*(B-K)-(U-B)*(F-X),et=(Z-K)*(W-F)-(J-X)*(U-B);if(et===0)return!1;var rt=Q/et,nt=q/et;return rt>=0&&rt<=1&&nt>=0&&nt<=1?(D.x=F+rt*(W-F),D.y=B+rt*(U-B),!0):!1};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return Math.atan2(R.y2-R.y1,R.x2-R.x1)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=function(O,G,D){return O=R(O,0,1),(D-G)*O+G};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R&&R.hasOwnProperty(j)?R[j]:O};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(315),O=new R({initialize:function(D,F){this.parent=D,this.events=F,F||(this.events=D.events?D.events:D),this.list={},this.values={},this._frozen=!1,!D.hasOwnProperty("sys")&&this.events&&this.events.once(j.DESTROY,this.destroy,this)},get:function(G){var D=this.list;if(Array.isArray(G)){for(var F=[],B=0;B<G.length;B++)F.push(D[G[B]]);return F}else return D[G]},getAll:function(){var G={};for(var D in this.list)this.list.hasOwnProperty(D)&&(G[D]=this.list[D]);return G},query:function(G){var D={};for(var F in this.list)this.list.hasOwnProperty(F)&&F.match(G)&&(D[F]=this.list[F]);return D},set:function(G,D){if(this._frozen)return this;if(typeof G=="string")return this.setValue(G,D);for(var F in G)this.setValue(F,G[F]);return this},inc:function(G,D){if(this._frozen)return this;D===void 0&&(D=1);var F=this.get(G);return F===void 0&&(F=0),this.set(G,F+D),this},toggle:function(G){return this._frozen?this:(this.set(G,!this.get(G)),this)},setValue:function(G,D){if(this._frozen)return this;if(this.has(G))this.values[G]=D;else{var F=this,B=this.list,W=this.events,U=this.parent;Object.defineProperty(this.values,G,{enumerable:!0,configurable:!0,get:function(){return B[G]},set:function(X){if(!F._frozen){var K=B[G];B[G]=X,W.emit(j.CHANGE_DATA,U,G,X,K),W.emit(j.CHANGE_DATA_KEY+G,U,X,K)}}}),B[G]=D,W.emit(j.SET_DATA,U,G,D)}return this},each:function(G,D){for(var F=[this.parent,null,void 0],B=1;B<arguments.length;B++)F.push(arguments[B]);for(var W in this.list)F[1]=W,F[2]=this.list[W],G.apply(D,F);return this},merge:function(G,D){D===void 0&&(D=!0);for(var F in G)G.hasOwnProperty(F)&&(D||!D&&!this.has(F))&&this.setValue(F,G[F]);return this},remove:function(G){if(this._frozen)return this;if(Array.isArray(G))for(var D=0;D<G.length;D++)this.removeValue(G[D]);else return this.removeValue(G);return this},removeValue:function(G){if(this.has(G)){var D=this.list[G];delete this.list[G],delete this.values[G],this.events.emit(j.REMOVE_DATA,this.parent,G,D)}return this},pop:function(G){var D=void 0;return!this._frozen&&this.has(G)&&(D=this.list[G],delete this.list[G],delete this.values[G],this.events.emit(j.REMOVE_DATA,this.parent,G,D)),D},has:function(G){return this.list.hasOwnProperty(G)},setFreeze:function(G){return this._frozen=G,this},reset:function(){for(var G in this.list)delete this.list[G],delete this.values[G];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(j.CHANGE_DATA),this.events.off(j.SET_DATA),this.events.off(j.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(G){this._frozen=!!G}},count:{get:function(){var G=0;for(var D in this.list)this.list[D]!==void 0&&G++;return G}}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G){if(this.entries={},this.size=0,Array.isArray(G))for(var D=0;D<G.length;D++)this.set(G[D][0],G[D][1])},set:function(O,G){return this.has(O)||this.size++,this.entries[O]=G,this},get:function(O){if(this.has(O))return this.entries[O]},getArray:function(){var O=[],G=this.entries;for(var D in G)O.push(G[D]);return O},has:function(O){return this.entries.hasOwnProperty(O)},delete:function(O){return this.has(O)&&(delete this.entries[O],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(O){delete this.entries[O]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var O=[],G=this.entries;for(var D in G)O.push(G[D]);return O},dump:function(){var O=this.entries;console.group("Map");for(var G in O)console.log(G,O[G]);console.groupEnd()},each:function(O){var G=this.entries;for(var D in G)if(O(D,G[D])===!1)break;return this},contains:function(O){var G=this.entries;for(var D in G)if(G[D]===O)return!0;return!1},merge:function(O,G){G===void 0&&(G=!1);var D=this.entries,F=O.entries;for(var B in F)D.hasOwnProperty(B)&&G?D[B]=F[B]:this.set(B,F[B]);return this}});Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R<<16|j<<8|O};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ENTER_FULLSCREEN:y(800),FULLSCREEN_FAILED:y(801),FULLSCREEN_UNSUPPORTED:y(802),LEAVE_FULLSCREEN:y(803),ORIENTATION_CHANGE:y(804),RESIZE:y(805)}},function(Y,tt,y){(function(R){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var j={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function O(){if(typeof importScripts=="function")return j;var G=navigator.userAgent;/Windows/.test(G)?j.windows=!0:/Mac OS/.test(G)&&!/like Mac OS/.test(G)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(j.iOS=!0,j.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),j.iOSVersion=parseInt(RegExp.$1,10)):j.macOS=!0:/Android/.test(G)?j.android=!0:/Linux/.test(G)?j.linux=!0:/iP[ao]d|iPhone/i.test(G)?(j.iOS=!0,navigator.appVersion.match(/OS (\d+)/),j.iOSVersion=parseInt(RegExp.$1,10),j.iPhone=G.toLowerCase().indexOf("iphone")!==-1,j.iPad=G.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(G)||/\bKF[A-Z][A-Z]+/.test(G)||/Silk.*Mobile Safari/.test(G)?j.kindle=!0:/CrOS/.test(G)&&(j.chromeOS=!0),(/Windows Phone/i.test(G)||/IEMobile/i.test(G))&&(j.android=!1,j.iOS=!1,j.macOS=!1,j.windows=!0,j.windowsPhone=!0);var D=/Silk/.test(G);return(j.windows||j.macOS||j.linux&&!D||j.chromeOS)&&(j.desktop=!0),(j.windowsPhone||/Windows NT/i.test(G)&&/Touch/i.test(G))&&(j.desktop=!1),navigator.standalone&&(j.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(j.cordova=!0),window.ejecta!==void 0&&(j.ejecta=!0)),typeof R!="undefined"&&R.versions&&R.versions.node&&(j.node=!0),j.node&&typeof R.versions=="object"&&(j.nodeWebkit=!!R.versions["node-webkit"],j.electron=!!R.versions.electron),/Crosswalk/.test(G)&&(j.crosswalk=!0),j.pixelRatio=window.devicePixelRatio||1,j}Y.exports=O()}).call(this,y(807))},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ADD:y(861),ERROR:y(862),LOAD:y(863),READY:y(864),REMOVE:y(865)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(59),O=y(2),G=y(878),D=y(879),F=y(25),B=y(12),W=y(107),U=y(58),X=new R({Extends:U,initialize:function(J){var Z=J.game.renderer,Q=O(J,"fragShader",G);J.fragShader=B.parseFragmentShaderMaxTextures(Q,Z.maxTextures),J.vertShader=O(J,"vertShader",D),J.attributes=O(J,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:W.UNSIGNED_BYTE,normalized:!0}]),U.call(this,J),this._tempMatrix1=new F,this._tempMatrix2=new F,this._tempMatrix3=new F,this.calcMatrix=new F,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){U.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(K,J,Z){this.manager.set(this,K);var Q=this._tempMatrix1,q=this._tempMatrix2,et=this._tempMatrix3,rt=K.frame,nt=rt.glTexture,ot=rt.u0,ht=rt.v0,ut=rt.u1,ct=rt.v1,ft=rt.x,dt=rt.y,pt=rt.cutWidth,yt=rt.cutHeight,St=rt.customPivot,At=K.displayOriginX,Ct=K.displayOriginY,Pt=-At+ft,Rt=-Ct+dt;if(K.isCropped){var mt=K._crop;(mt.flipX!==K.flipX||mt.flipY!==K.flipY)&&rt.updateCropUVs(mt,K.flipX,K.flipY),ot=mt.u0,ht=mt.v0,ut=mt.u1,ct=mt.v1,pt=mt.width,yt=mt.height,ft=mt.x,dt=mt.y,Pt=-At+ft,Rt=-Ct+dt}var vt=1,xt=1;K.flipX&&(St||(Pt+=-rt.realWidth+At*2),vt=-1),(K.flipY||rt.source.isGLTexture&&!nt.flipY)&&(St||(Rt+=-rt.realHeight+Ct*2),xt=-1),q.applyITRS(K.x,K.y,K.rotation,K.scaleX*vt,K.scaleY*xt),Q.copyFrom(J.matrix),Z?(Q.multiplyWithOffset(Z,-J.scrollX*K.scrollFactorX,-J.scrollY*K.scrollFactorY),q.e=K.x,q.f=K.y):(q.e-=J.scrollX*K.scrollFactorX,q.f-=J.scrollY*K.scrollFactorY),Q.multiply(q,et);var Tt=Pt+pt,Et=Rt+yt,Ot=J.roundPixels,Mt=et.getXRound(Pt,Rt,Ot),Ft=et.getYRound(Pt,Rt,Ot),It=et.getXRound(Pt,Et,Ot),Dt=et.getYRound(Pt,Et,Ot),bt=et.getXRound(Tt,Et,Ot),wt=et.getYRound(Tt,Et,Ot),$t=et.getXRound(Tt,Rt,Ot),Ut=et.getYRound(Tt,Rt,Ot),Nt=B.getTintAppendFloatAlpha,Yt=J.alpha,Ht=Nt(K.tintTopLeft,Yt*K._alphaTL),Xt=Nt(K.tintTopRight,Yt*K._alphaTR),zt=Nt(K.tintBottomLeft,Yt*K._alphaBL),Bt=Nt(K.tintBottomRight,Yt*K._alphaBR);this.shouldFlush(6)&&this.flush();var jt=this.setGameObject(K,rt);this.manager.preBatch(K),this.batchQuad(K,Mt,Ft,It,Dt,bt,wt,$t,Ut,ot,ht,ut,ct,Ht,Xt,zt,Bt,K.tintFill,nt,jt),this.manager.postBatch(K)},batchTexture:function(K,J,Z,Q,q,et,rt,nt,ot,ht,ut,ct,ft,dt,pt,yt,St,At,Ct,Pt,Rt,mt,vt,xt,Tt,Et,Ot,Mt,Ft,It,Dt,bt){this.manager.set(this,K);var wt=this._tempMatrix1,$t=this._tempMatrix2,Ut=this._tempMatrix3,Nt=At/Z+Ot,Yt=Ct/Q+Mt,Ht=(At+Pt)/Z+Ot,Xt=(Ct+Rt)/Q+Mt,zt=rt,Bt=nt,jt=-yt,Vt=-St;if(K.isCropped){var Wt=K._crop,qt=Wt.width,_t=Wt.height;zt=qt,Bt=_t,rt=qt,nt=_t,At=Wt.x,Ct=Wt.y;var Zt=At,Kt=Ct;ct&&(Zt=Pt-Wt.x-qt),ft&&(Kt=Rt-Wt.y-_t),Nt=Zt/Z+Ot,Yt=Kt/Q+Mt,Ht=(Zt+qt)/Z+Ot,Xt=(Kt+_t)/Q+Mt,jt=-yt+At,Vt=-St+Ct}ft=ft^(!Dt&&J.isRenderTexture?1:0),ct&&(zt*=-1,jt+=rt),ft&&(Bt*=-1,Vt+=nt);var kt=jt+zt,Qt=Vt+Bt;$t.applyITRS(q,et,ut,ot,ht),wt.copyFrom(Ft.matrix),It?(wt.multiplyWithOffset(It,-Ft.scrollX*dt,-Ft.scrollY*pt),$t.e=q,$t.f=et):($t.e-=Ft.scrollX*dt,$t.f-=Ft.scrollY*pt),wt.multiply($t,Ut);var Jt=Ft.roundPixels,te=Ut.getXRound(jt,Vt,Jt),re=Ut.getYRound(jt,Vt,Jt),ie=Ut.getXRound(jt,Qt,Jt),se=Ut.getYRound(jt,Qt,Jt),ae=Ut.getXRound(kt,Qt,Jt),oe=Ut.getYRound(kt,Qt,Jt),he=Ut.getXRound(kt,Vt,Jt),ve=Ut.getYRound(kt,Vt,Jt);bt===void 0&&(bt=this.renderer.setTexture2D(J)),K&&this.manager.preBatch(K),this.batchQuad(K,te,re,ie,se,ae,oe,he,ve,Nt,Yt,Ht,Xt,mt,vt,xt,Tt,Et,J,bt),K&&this.manager.postBatch(K)},batchTextureFrame:function(K,J,Z,Q,q,et,rt){this.manager.set(this);var nt=this._tempMatrix1.copyFrom(et),ot=this._tempMatrix2,ht=J+K.width,ut=Z+K.height;rt?nt.multiply(rt,ot):ot=nt;var ct=ot.getX(J,Z),ft=ot.getY(J,Z),dt=ot.getX(J,ut),pt=ot.getY(J,ut),yt=ot.getX(ht,ut),St=ot.getY(ht,ut),At=ot.getX(ht,Z),Ct=ot.getY(ht,Z),Pt=this.renderer.setTextureSource(K.source);Q=B.getTintAppendFloatAlpha(Q,q),this.batchQuad(null,ct,ft,dt,pt,yt,St,At,Ct,K.u0,K.v0,K.u1,K.v1,Q,Q,Q,Q,0,K.glTexture,Pt)},batchFillRect:function(K,J,Z,Q,q,et){this.renderer.pipelines.set(this);var rt=this.calcMatrix;et&&et.multiply(q,rt);var nt=K+Z,ot=J+Q,ht=rt.getX(K,J),ut=rt.getY(K,J),ct=rt.getX(K,ot),ft=rt.getY(K,ot),dt=rt.getX(nt,ot),pt=rt.getY(nt,ot),yt=rt.getX(nt,J),St=rt.getY(nt,J),At=this.fillTint;this.batchQuad(null,ht,ut,ct,ft,dt,pt,yt,St,0,0,1,1,At.TL,At.TR,At.BL,At.BR,2)},batchFillTriangle:function(K,J,Z,Q,q,et,rt,nt){this.renderer.pipelines.set(this);var ot=this.calcMatrix;nt&&nt.multiply(rt,ot);var ht=ot.getX(K,J),ut=ot.getY(K,J),ct=ot.getX(Z,Q),ft=ot.getY(Z,Q),dt=ot.getX(q,et),pt=ot.getY(q,et),yt=this.fillTint;this.batchTri(null,ht,ut,ct,ft,dt,pt,0,0,1,1,yt.TL,yt.TR,yt.BL,2)},batchStrokeTriangle:function(K,J,Z,Q,q,et,rt,nt,ot){var ht=this.tempTriangle;ht[0].x=K,ht[0].y=J,ht[0].width=rt,ht[1].x=Z,ht[1].y=Q,ht[1].width=rt,ht[2].x=q,ht[2].y=et,ht[2].width=rt,ht[3].x=K,ht[3].y=J,ht[3].width=rt,this.batchStrokePath(ht,rt,!1,nt,ot)},batchFillPath:function(K,J,Z){this.renderer.pipelines.set(this);var Q=this.calcMatrix;Z&&Z.multiply(J,Q);for(var q=K.length,et=this.polygonCache,rt,nt,ot=this.fillTint.TL,ht=this.fillTint.TR,ut=this.fillTint.BL,ct=0;ct<q;++ct)nt=K[ct],et.push(nt.x,nt.y);rt=j(et),q=rt.length;for(var ft=0;ft<q;ft+=3){var dt=rt[ft+0]*2,pt=rt[ft+1]*2,yt=rt[ft+2]*2,St=et[dt+0],At=et[dt+1],Ct=et[pt+0],Pt=et[pt+1],Rt=et[yt+0],mt=et[yt+1],vt=Q.getX(St,At),xt=Q.getY(St,At),Tt=Q.getX(Ct,Pt),Et=Q.getY(Ct,Pt),Ot=Q.getX(Rt,mt),Mt=Q.getY(Rt,mt);this.batchTri(null,vt,xt,Tt,Et,Ot,Mt,0,0,1,1,ot,ht,ut,2)}et.length=0},batchStrokePath:function(K,J,Z,Q,q){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var et=K.length-1,rt=0;rt<et;rt++){var nt=K[rt],ot=K[rt+1];this.batchLine(nt.x,nt.y,ot.x,ot.y,nt.width/2,ot.width/2,J,rt,!Z&&rt===et-1,Q,q)}},batchLine:function(K,J,Z,Q,q,et,rt,nt,ot,ht,ut){this.renderer.pipelines.set(this);var ct=this.calcMatrix;ut&&ut.multiply(ht,ct);var ft=Z-K,dt=Q-J,pt=Math.sqrt(ft*ft+dt*dt),yt=q*(Q-J)/pt,St=q*(K-Z)/pt,At=et*(Q-J)/pt,Ct=et*(K-Z)/pt,Pt=Z-At,Rt=Q-Ct,mt=K-yt,vt=J-St,xt=Z+At,Tt=Q+Ct,Et=K+yt,Ot=J+St,Mt=ct.getX(Pt,Rt),Ft=ct.getY(Pt,Rt),It=ct.getX(mt,vt),Dt=ct.getY(mt,vt),bt=ct.getX(xt,Tt),wt=ct.getY(xt,Tt),$t=ct.getX(Et,Ot),Ut=ct.getY(Et,Ot),Nt=this.strokeTint,Yt=Nt.TL,Ht=Nt.TR,Xt=Nt.BL,zt=Nt.BR;if(this.batchQuad(null,$t,Ut,It,Dt,Mt,Ft,bt,wt,0,0,1,1,Yt,Ht,Xt,zt,2),!(rt<=2)){var Bt=this.prevQuad,jt=this.firstQuad;nt>0&&Bt[4]?this.batchQuad(null,$t,Ut,It,Dt,Bt[0],Bt[1],Bt[2],Bt[3],0,0,1,1,Yt,Ht,Xt,zt,2):(jt[0]=$t,jt[1]=Ut,jt[2]=It,jt[3]=Dt,jt[4]=1),ot&&jt[4]?this.batchQuad(null,Mt,Ft,bt,wt,jt[0],jt[1],jt[2],jt[3],0,0,1,1,Yt,Ht,Xt,zt,2):(Bt[0]=Mt,Bt[1]=Ft,Bt[2]=bt,Bt[3]=wt,Bt[4]=1)}}});Y.exports=X},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(18),O=y(17),G=new R({initialize:function(F,B,W,U,X,K,J){this.texture=F,this.name=B,this.source=F.source[W],this.sourceIndex=W,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(K,J,U,X)},setSize:function(D,F,B,W){B===void 0&&(B=0),W===void 0&&(W=0),this.cutX=B,this.cutY=W,this.cutWidth=D,this.cutHeight=F,this.width=D,this.height=F,this.halfWidth=Math.floor(D*.5),this.halfHeight=Math.floor(F*.5),this.centerX=Math.floor(D/2),this.centerY=Math.floor(F/2);var U=this.data,X=U.cut;X.x=B,X.y=W,X.w=D,X.h=F,X.r=B+D,X.b=W+F,U.sourceSize.w=D,U.sourceSize.h=F,U.spriteSourceSize.w=D,U.spriteSourceSize.h=F,U.radius=.5*Math.sqrt(D*D+F*F);var K=U.drawImage;return K.x=B,K.y=W,K.width=D,K.height=F,this.updateUVs()},setTrim:function(D,F,B,W,U,X){var K=this.data,J=K.spriteSourceSize;return K.trim=!0,K.sourceSize.w=D,K.sourceSize.h=F,J.x=B,J.y=W,J.w=U,J.h=X,J.r=B+U,J.b=W+X,this.x=B,this.y=W,this.width=U,this.height=X,this.halfWidth=U*.5,this.halfHeight=X*.5,this.centerX=Math.floor(U/2),this.centerY=Math.floor(X/2),this.updateUVs()},setCropUVs:function(D,F,B,W,U,X,K){var J=this.cutX,Z=this.cutY,Q=this.cutWidth,q=this.cutHeight,et=this.realWidth,rt=this.realHeight;F=j(F,0,et),B=j(B,0,rt),W=j(W,0,et-F),U=j(U,0,rt-B);var nt=J+F,ot=Z+B,ht=W,ut=U,ct=this.data;if(ct.trim){var ft=ct.spriteSourceSize;W=j(W,0,Q-F),U=j(U,0,q-B);var dt=F+W,pt=B+U,yt=!(ft.r<F||ft.b<B||ft.x>dt||ft.y>pt);if(yt){var St=Math.max(ft.x,F),At=Math.max(ft.y,B),Ct=Math.min(ft.r,dt)-St,Pt=Math.min(ft.b,pt)-At;ht=Ct,ut=Pt,X?nt=J+(Q-(St-ft.x)-Ct):nt=J+(St-ft.x),K?ot=Z+(q-(At-ft.y)-Pt):ot=Z+(At-ft.y),F=St,B=At,W=Ct,U=Pt}else nt=0,ot=0,ht=0,ut=0}else X&&(nt=J+(Q-F-W)),K&&(ot=Z+(q-B-U));var Rt=this.source.width,mt=this.source.height;return D.u0=Math.max(0,nt/Rt),D.v0=Math.max(0,ot/mt),D.u1=Math.min(1,(nt+ht)/Rt),D.v1=Math.min(1,(ot+ut)/mt),D.x=F,D.y=B,D.cx=nt,D.cy=ot,D.cw=ht,D.ch=ut,D.width=W,D.height=U,D.flipX=X,D.flipY=K,D},updateCropUVs:function(D,F,B){return this.setCropUVs(D,D.x,D.y,D.width,D.height,F,B)},setUVs:function(D,F,B,W,U,X){var K=this.data.drawImage;return K.width=D,K.height=F,this.u0=B,this.v0=W,this.u1=U,this.v1=X,this},updateUVs:function(){var D=this.cutX,F=this.cutY,B=this.cutWidth,W=this.cutHeight,U=this.data.drawImage;U.width=B,U.height=W;var X=this.source.width,K=this.source.height;return this.u0=D/X,this.v0=F/K,this.u1=(D+B)/X,this.v1=(F+W)/K,this},updateUVsInverted:function(){var D=this.source.width,F=this.source.height;return this.u0=(this.cutX+this.cutHeight)/D,this.v0=this.cutY/F,this.u1=this.cutX/D,this.v1=(this.cutY+this.cutWidth)/F,this},clone:function(){var D=new G(this.texture,this.name,this.sourceIndex);return D.cutX=this.cutX,D.cutY=this.cutY,D.cutWidth=this.cutWidth,D.cutHeight=this.cutHeight,D.x=this.x,D.y=this.y,D.width=this.width,D.height=this.height,D.halfWidth=this.halfWidth,D.halfHeight=this.halfHeight,D.centerX=this.centerX,D.centerY=this.centerY,D.rotated=this.rotated,D.data=O(!0,D.data,this.data),D.updateUVs(),D},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(208),j=y(0),O=y(1),G=y(79),D=new j({initialize:function(B){this.parent=B,this.list=[],this.position=0,this.addCallback=O,this.removeCallback=O,this._sortKey=""},add:function(F,B){return B?R.Add(this.list,F):R.Add(this.list,F,0,this.addCallback,this)},addAt:function(F,B,W){return W?R.AddAt(this.list,F,B):R.AddAt(this.list,F,B,0,this.addCallback,this)},getAt:function(F){return this.list[F]},getIndex:function(F){return this.list.indexOf(F)},sort:function(F,B){return F?(B===void 0&&(B=function(W,U){return W[F]-U[F]}),G(this.list,B),this):this},getByName:function(F){return R.GetFirst(this.list,"name",F)},getRandom:function(F,B){return R.GetRandom(this.list,F,B)},getFirst:function(F,B,W,U){return R.GetFirst(this.list,F,B,W,U)},getAll:function(F,B,W,U){return R.GetAll(this.list,F,B,W,U)},count:function(F,B){return R.CountAllMatching(this.list,F,B)},swap:function(F,B){R.Swap(this.list,F,B)},moveTo:function(F,B){return R.MoveTo(this.list,F,B)},moveAbove:function(F,B){return R.MoveAbove(this.list,F,B)},moveBelow:function(F,B){return R.MoveBelow(this.list,F,B)},remove:function(F,B){return B?R.Remove(this.list,F):R.Remove(this.list,F,this.removeCallback,this)},removeAt:function(F,B){return B?R.RemoveAt(this.list,F):R.RemoveAt(this.list,F,this.removeCallback,this)},removeBetween:function(F,B,W){return W?R.RemoveBetween(this.list,F,B):R.RemoveBetween(this.list,F,B,this.removeCallback,this)},removeAll:function(F){for(var B=this.list.length;B--;)this.remove(this.list[B],F);return this},bringToTop:function(F){return R.BringToTop(this.list,F)},sendToBack:function(F){return R.SendToBack(this.list,F)},moveUp:function(F){return R.MoveUp(this.list,F),F},moveDown:function(F){return R.MoveDown(this.list,F),F},reverse:function(){return this.list.reverse(),this},shuffle:function(){return R.Shuffle(this.list),this},replace:function(F,B){return R.Replace(this.list,F,B)},exists:function(F){return this.list.indexOf(F)>-1},setAll:function(F,B,W,U){return R.SetAll(this.list,F,B,W,U),this},each:function(F,B){for(var W=[null],U=2;U<arguments.length;U++)W.push(arguments[U]);for(U=0;U<this.list.length;U++)W[0]=this.list[U],F.apply(B,W)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(112),O=y(445),G=y(446),D=y(56),F=y(180),B=new R({initialize:function(U,X,K,J){U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=0),J===void 0&&(J=0),this.type=D.ELLIPSE,this.x=U,this.y=X,this.width=K,this.height=J},contains:function(W,U){return j(this,W,U)},getPoint:function(W,U){return O(this,W,U)},getPoints:function(W,U,X){return G(this,W,U,X)},getRandomPoint:function(W){return F(this,W)},setTo:function(W,U,X,K){return this.x=W,this.y=U,this.width=X,this.height=K,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(W,U){return U===void 0&&(U=W),this.x=W,this.y=U,this},setSize:function(W,U){return U===void 0&&(U=W),this.width=W,this.height=U,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(W){this.x=W+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(W){this.x=W-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(W){this.y=W+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(W){this.y=W-this.height/2}}});Y.exports=B},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(R.width<=0||R.height<=0)return!1;var G=(j-R.x)/R.width,D=(O-R.y)/R.height;return G*=G,D*=D,G+D<.25};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(275),j=y(0),O=y(75),G=y(9),D=y(207),F=y(2),B=y(6),W=y(7),U=y(437),X=y(149),K=y(73),J=new j({Extends:G,initialize:function(Q,q,et){G.call(this),et?q&&!Array.isArray(q)&&(q=[q]):Array.isArray(q)?W(q[0])&&(et=q,q=null):W(q)&&(et=q,q=null),this.scene=Q,this.children=new X,this.isParent=!0,this.type="Group",this.classType=F(et,"classType",K),this.name=F(et,"name",""),this.active=F(et,"active",!0),this.maxSize=F(et,"maxSize",-1),this.defaultKey=F(et,"defaultKey",null),this.defaultFrame=F(et,"defaultFrame",null),this.runChildUpdate=F(et,"runChildUpdate",!1),this.createCallback=F(et,"createCallback",null),this.removeCallback=F(et,"removeCallback",null),this.createMultipleCallback=F(et,"createMultipleCallback",null),this.internalCreateCallback=F(et,"internalCreateCallback",null),this.internalRemoveCallback=F(et,"internalRemoveCallback",null),q&&this.addMultiple(q),et&&this.createMultiple(et),this.on(O.ADDED_TO_SCENE,this.addedToScene,this),this.on(O.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(Z,Q,q,et,rt,nt){if(Z===void 0&&(Z=0),Q===void 0&&(Q=0),q===void 0&&(q=this.defaultKey),et===void 0&&(et=this.defaultFrame),rt===void 0&&(rt=!0),nt===void 0&&(nt=!0),this.isFull())return null;var ot=new this.classType(this.scene,Z,Q,q,et);return ot.addToDisplayList(this.scene.sys.displayList),ot.addToUpdateList(),ot.visible=rt,ot.setActive(nt),this.add(ot),ot},createMultiple:function(Z){if(this.isFull())return[];Array.isArray(Z)||(Z=[Z]);var Q=[];if(Z[0].key)for(var q=0;q<Z.length;q++){var et=this.createFromConfig(Z[q]);Q=Q.concat(et)}return Q},createFromConfig:function(Z){if(this.isFull())return[];this.classType=F(Z,"classType",this.classType);var Q=F(Z,"key",void 0),q=F(Z,"frame",null),et=F(Z,"visible",!0),rt=F(Z,"active",!0),nt=[];if(Q===void 0)return nt;Array.isArray(Q)||(Q=[Q]),Array.isArray(q)||(q=[q]);var ot=F(Z,"repeat",0),ht=F(Z,"randomKey",!1),ut=F(Z,"randomFrame",!1),ct=F(Z,"yoyo",!1),ft=F(Z,"quantity",!1),dt=F(Z,"frameQuantity",1),pt=F(Z,"max",0),yt=U(Q,q,{max:pt,qty:ft||dt,random:ht,randomB:ut,repeat:ot,yoyo:ct});Z.createCallback&&(this.createCallback=Z.createCallback),Z.removeCallback&&(this.removeCallback=Z.removeCallback);for(var St=0;St<yt.length;St++){var At=this.create(0,0,yt[St].a,yt[St].b,et,rt);if(!At)break;nt.push(At)}var Ct=B(Z,"setXY.x",0),Pt=B(Z,"setXY.y",0),Rt=B(Z,"setXY.stepX",0),mt=B(Z,"setXY.stepY",0);R.SetXY(nt,Ct,Pt,Rt,mt);var vt=B(Z,"setRotation.value",0),xt=B(Z,"setRotation.step",0);R.SetRotation(nt,vt,xt);var Tt=B(Z,"setScale.x",1),Et=B(Z,"setScale.y",Tt),Ot=B(Z,"setScale.stepX",0),Mt=B(Z,"setScale.stepY",0);R.SetScale(nt,Tt,Et,Ot,Mt);var Ft=B(Z,"setOrigin.x",.5),It=B(Z,"setOrigin.y",Ft),Dt=B(Z,"setOrigin.stepX",0),bt=B(Z,"setOrigin.stepY",0);R.SetOrigin(nt,Ft,It,Dt,bt);var wt=B(Z,"setAlpha.value",1),$t=B(Z,"setAlpha.step",0);R.SetAlpha(nt,wt,$t);var Ut=B(Z,"setDepth.value",0),Nt=B(Z,"setDepth.step",0);R.SetDepth(nt,Ut,Nt);var Yt=B(Z,"setScrollFactor.x",1),Ht=B(Z,"setScrollFactor.y",Yt),Xt=B(Z,"setScrollFactor.stepX",0),zt=B(Z,"setScrollFactor.stepY",0);R.SetScrollFactor(nt,Yt,Ht,Xt,zt);var Bt=F(Z,"hitArea",null),jt=F(Z,"hitAreaCallback",null);Bt&&R.SetHitArea(nt,Bt,jt);var Vt=F(Z,"gridAlign",!1);return Vt&&R.GridAlign(nt,Vt),this.createMultipleCallback&&this.createMultipleCallback.call(this,nt),nt},preUpdate:function(Z,Q){if(!(!this.runChildUpdate||this.children.size===0))for(var q=this.children.entries.slice(),et=0;et<q.length;et++){var rt=q[et];rt.active&&rt.update(Z,Q)}},add:function(Z,Q){return Q===void 0&&(Q=!1),this.isFull()?this:(this.children.set(Z),this.internalCreateCallback&&this.internalCreateCallback.call(this,Z),this.createCallback&&this.createCallback.call(this,Z),Q&&(Z.addToDisplayList(this.scene.sys.displayList),Z.addToUpdateList()),Z.on(O.DESTROY,this.remove,this),this)},addMultiple:function(Z,Q){if(Q===void 0&&(Q=!1),Array.isArray(Z))for(var q=0;q<Z.length;q++)this.add(Z[q],Q);return this},remove:function(Z,Q,q){return Q===void 0&&(Q=!1),q===void 0&&(q=!1),this.children.contains(Z)?(this.children.delete(Z),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,Z),this.removeCallback&&this.removeCallback.call(this,Z),Z.off(O.DESTROY,this.remove,this),q?Z.destroy():Q&&(Z.removeFromDisplayList(),Z.removeFromUpdateList()),this):this},clear:function(Z,Q){Z===void 0&&(Z=!1),Q===void 0&&(Q=!1);for(var q=this.children,et=0;et<q.size;et++){var rt=q.entries[et];rt.off(O.DESTROY,this.remove,this),Q?rt.destroy():Z&&(rt.removeFromDisplayList(),rt.removeFromUpdateList())}return this.children.clear(),this},contains:function(Z){return this.children.contains(Z)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(Z,Q,q,et){return D(this.children.entries,Z,Q,q,et)},getFirst:function(Z,Q,q,et,rt,nt,ot){return this.getHandler(!0,1,Z,Q,q,et,rt,nt,ot)},getFirstNth:function(Z,Q,q,et,rt,nt,ot,ht){return this.getHandler(!0,Z,Q,q,et,rt,nt,ot,ht)},getLast:function(Z,Q,q,et,rt,nt,ot){return this.getHandler(!1,1,Z,Q,q,et,rt,nt,ot)},getLastNth:function(Z,Q,q,et,rt,nt,ot,ht){return this.getHandler(!1,Z,Q,q,et,rt,nt,ot,ht)},getHandler:function(Z,Q,q,et,rt,nt,ot,ht,ut){q===void 0&&(q=!1),et===void 0&&(et=!1);var ct,ft,dt=0,pt=this.children.entries;if(Z)for(ft=0;ft<pt.length;ft++)if(ct=pt[ft],ct.active===q){if(dt++,dt===Q)break}else ct=null;else for(ft=pt.length-1;ft>=0;ft--)if(ct=pt[ft],ct.active===q){if(dt++,dt===Q)break}else ct=null;return ct?(typeof rt=="number"&&(ct.x=rt),typeof nt=="number"&&(ct.y=nt),ct):et?this.create(rt,nt,ot,ht,ut):null},get:function(Z,Q,q,et,rt){return this.getFirst(!1,!0,Z,Q,q,et,rt)},getFirstAlive:function(Z,Q,q,et,rt,nt){return this.getFirst(!0,Z,Q,q,et,rt,nt)},getFirstDead:function(Z,Q,q,et,rt,nt){return this.getFirst(!1,Z,Q,q,et,rt,nt)},playAnimation:function(Z,Q){return R.PlayAnimation(this.children.entries,Z,Q),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(Z){Z===void 0&&(Z=!0);for(var Q=0,q=0;q<this.children.size;q++)this.children.entries[q].active===Z&&Q++;return Q},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var Z=this.getTotalUsed(),Q=this.maxSize===-1?999999999999:this.maxSize;return Q-Z},setActive:function(Z){return this.active=Z,this},setName:function(Z){return this.name=Z,this},propertyValueSet:function(Z,Q,q,et,rt){return R.PropertyValueSet(this.children.entries,Z,Q,q,et,rt),this},propertyValueInc:function(Z,Q,q,et,rt){return R.PropertyValueInc(this.children.entries,Z,Q,q,et,rt),this},setX:function(Z,Q){return R.SetX(this.children.entries,Z,Q),this},setY:function(Z,Q){return R.SetY(this.children.entries,Z,Q),this},setXY:function(Z,Q,q,et){return R.SetXY(this.children.entries,Z,Q,q,et),this},incX:function(Z,Q){return R.IncX(this.children.entries,Z,Q),this},incY:function(Z,Q){return R.IncY(this.children.entries,Z,Q),this},incXY:function(Z,Q,q,et){return R.IncXY(this.children.entries,Z,Q,q,et),this},shiftPosition:function(Z,Q,q){return R.ShiftPosition(this.children.entries,Z,Q,q),this},angle:function(Z,Q){return R.Angle(this.children.entries,Z,Q),this},rotate:function(Z,Q){return R.Rotate(this.children.entries,Z,Q),this},rotateAround:function(Z,Q){return R.RotateAround(this.children.entries,Z,Q),this},rotateAroundDistance:function(Z,Q,q){return R.RotateAroundDistance(this.children.entries,Z,Q,q),this},setAlpha:function(Z,Q){return R.SetAlpha(this.children.entries,Z,Q),this},setTint:function(Z,Q,q,et){return R.SetTint(this.children.entries,Z,Q,q,et),this},setOrigin:function(Z,Q,q,et){return R.SetOrigin(this.children.entries,Z,Q,q,et),this},scaleX:function(Z,Q){return R.ScaleX(this.children.entries,Z,Q),this},scaleY:function(Z,Q){return R.ScaleY(this.children.entries,Z,Q),this},scaleXY:function(Z,Q,q,et){return R.ScaleXY(this.children.entries,Z,Q,q,et),this},setDepth:function(Z,Q){return R.SetDepth(this.children.entries,Z,Q),this},setBlendMode:function(Z){return R.SetBlendMode(this.children.entries,Z),this},setHitArea:function(Z,Q){return R.SetHitArea(this.children.entries,Z,Q),this},shuffle:function(){return R.Shuffle(this.children.entries),this},kill:function(Z){this.children.contains(Z)&&Z.setActive(!1)},killAndHide:function(Z){this.children.contains(Z)&&(Z.setActive(!1),Z.setVisible(!1))},setVisible:function(Z,Q,q){return R.SetVisible(this.children.entries,Z,Q,q),this},toggleVisible:function(){return R.ToggleVisible(this.children.entries),this},destroy:function(Z,Q){Z===void 0&&(Z=!1),Q===void 0&&(Q=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(O.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(Q,Z),this.scene=void 0,this.children=void 0)}});Y.exports=J},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(12),j=function(O,G,D,F,B,W){for(var U=R.getTintAppendFloatAlpha(D.fillColor,D.fillAlpha*F),X=D.pathData,K=D.pathIndexes,J=0;J<K.length;J+=3){var Z=K[J]*2,Q=K[J+1]*2,q=K[J+2]*2,et=X[Z+0]-B,rt=X[Z+1]-W,nt=X[Q+0]-B,ot=X[Q+1]-W,ht=X[q+0]-B,ut=X[q+1]-W,ct=G.getX(et,rt),ft=G.getY(et,rt),dt=G.getX(nt,ot),pt=G.getY(nt,ot),yt=G.getX(ht,ut),St=G.getY(ht,ut);O.batchTri(D,ct,ft,dt,pt,yt,St,0,0,1,1,U,U,U,2)}};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=R.x3-R.x1,D=R.y3-R.y1,F=R.x2-R.x1,B=R.y2-R.y1,W=j-R.x1,U=O-R.y1,X=G*G+D*D,K=G*F+D*B,J=G*W+D*U,Z=F*F+B*B,Q=F*W+B*U,q=X*Z-K*K,et=q===0?0:1/q,rt=(Z*J-K*Q)*et,nt=(X*Q-K*J)*et;return rt>=0&&nt>=0&&rt+nt<1};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(10),O=y(3);function G(F,B,W,U){var X=F-W,K=B-U,J=X*X+K*K;return Math.sqrt(J)}var D=new R({initialize:function(B,W,U){this.vertex1=B,this.vertex2=W,this.vertex3=U,this.bounds=new j,this._inCenter=new O},getInCenter:function(F){F===void 0&&(F=!0);var B=this.vertex1,W=this.vertex2,U=this.vertex3,X,K,J,Z,Q,q;F?(X=B.x,K=B.y,J=W.x,Z=W.y,Q=U.x,q=U.y):(X=B.vx,K=B.vy,J=W.vx,Z=W.vy,Q=U.vx,q=U.vy);var et=G(Q,q,J,Z),rt=G(X,K,Q,q),nt=G(J,Z,X,K),ot=et+rt+nt;return this._inCenter.set((X*et+J*rt+Q*nt)/ot,(K*et+Z*rt+q*nt)/ot)},contains:function(F,B,W){var U=this.vertex1,X=this.vertex2,K=this.vertex3,J=U.vx,Z=U.vy,Q=X.vx,q=X.vy,et=K.vx,rt=K.vy;if(W){var nt=W.a,ot=W.b,ht=W.c,ut=W.d,ct=W.e,ft=W.f;J=U.vx*nt+U.vy*ht+ct,Z=U.vx*ot+U.vy*ut+ft,Q=X.vx*nt+X.vy*ht+ct,q=X.vx*ot+X.vy*ut+ft,et=K.vx*nt+K.vy*ht+ct,rt=K.vx*ot+K.vy*ut+ft}var dt=et-J,pt=rt-Z,yt=Q-J,St=q-Z,At=F-J,Ct=B-Z,Pt=dt*dt+pt*pt,Rt=dt*yt+pt*St,mt=dt*At+pt*Ct,vt=yt*yt+St*St,xt=yt*At+St*Ct,Tt=Pt*vt-Rt*Rt,Et=Tt===0?0:1/Tt,Ot=(vt*mt-Rt*xt)*Et,Mt=(Pt*xt-Rt*mt)*Et;return Ot>=0&&Mt>=0&&Ot+Mt<1},isCounterClockwise:function(F){var B=this.vertex1,W=this.vertex2,U=this.vertex3,X=(W.vx-B.vx)*(U.vy-B.vy)-(W.vy-B.vy)*(U.vx-B.vx);return F<=0?X>=0:X<0},load:function(F,B,W,U,X){return W=this.vertex1.load(F,B,W,U,X),W=this.vertex2.load(F,B,W,U,X),W=this.vertex3.load(F,B,W,U,X),W},transformCoordinatesLocal:function(F,B,W,U){return this.vertex1.transformCoordinatesLocal(F,B,W,U),this.vertex2.transformCoordinatesLocal(F,B,W,U),this.vertex3.transformCoordinatesLocal(F,B,W,U),this},updateBounds:function(){var F=this.vertex1,B=this.vertex2,W=this.vertex3,U=this.bounds;return U.x=Math.min(F.vx,B.vx,W.vx),U.y=Math.min(F.vy,B.vy,W.vy),U.width=Math.max(F.vx,B.vx,W.vx)-U.x,U.height=Math.max(F.vy,B.vy,W.vy)-U.y,this},isInView:function(F,B,W,U,X,K,J,Z,Q,q,et){var rt=this.vertex1.update(X,K,J,Z,Q,q,et,U),nt=this.vertex2.update(X,K,J,Z,Q,q,et,U),ot=this.vertex3.update(X,K,J,Z,Q,q,et,U);if(rt.ta<=0&&nt.ta<=0&&ot.ta<=0||B&&!this.isCounterClockwise(W))return!1;var ht=this.bounds;ht.x=Math.min(rt.tx,nt.tx,ot.tx),ht.y=Math.min(rt.ty,nt.ty,ot.ty),ht.width=Math.max(rt.tx,nt.tx,ot.tx)-ht.x,ht.height=Math.max(rt.ty,nt.ty,ot.ty)-ht.y;var ut=F.x+F.width,ct=F.y+F.height;return ht.width<=0||ht.height<=0||F.width<=0||F.height<=0?!1:!(ht.right<F.x||ht.bottom<F.y||ht.x>ut||ht.y>ct)},translate:function(F,B){B===void 0&&(B=0);var W=this.vertex1,U=this.vertex2,X=this.vertex3;return W.x+=F,W.y+=B,U.x+=F,U.y+=B,X.x+=F,X.y+=B,this},x:{get:function(){return this.getInCenter().x},set:function(F){var B=this.getInCenter();this.translate(F-B.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(F){var B=this.getInCenter();this.translate(0,F-B.y)}},alpha:{get:function(){var F=this.vertex1,B=this.vertex2,W=this.vertex3;return(F.alpha+B.alpha+W.alpha)/3},set:function(F){this.vertex1.alpha=F,this.vertex2.alpha=F,this.vertex3.alpha=F}},depth:{get:function(){var F=this.vertex1,B=this.vertex2,W=this.vertex3;return(F.vz+B.vz+W.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(12),O=y(39),G=new R({Extends:O,initialize:function(F,B,W,U,X,K,J,Z,Q,q){K===void 0&&(K=16777215),J===void 0&&(J=1),Z===void 0&&(Z=0),Q===void 0&&(Q=0),q===void 0&&(q=0),O.call(this,F,B,W),this.vx=0,this.vy=0,this.vz=0,this.nx=Z,this.ny=Q,this.nz=q,this.u=U,this.v=X,this.color=K,this.alpha=J,this.tx=0,this.ty=0,this.ta=0},setUVs:function(D,F){return this.u=D,this.v=F,this},transformCoordinatesLocal:function(D,F,B,W){var U=this.x,X=this.y,K=this.z,J=D.val,Z=U*J[0]+X*J[4]+K*J[8]+J[12],Q=U*J[1]+X*J[5]+K*J[9]+J[13],q=U*J[2]+X*J[6]+K*J[10]+J[14],et=U*J[3]+X*J[7]+K*J[11]+J[15];this.vx=Z/et*F,this.vy=-(Q/et)*B,W<=0?this.vz=q/et:this.vz=-(q/et)},update:function(D,F,B,W,U,X,K,J){var Z=this.vx*D+this.vy*B+U,Q=this.vx*F+this.vy*W+X;return K&&(Z=Math.round(Z),Q=Math.round(Q)),this.tx=Z,this.ty=Q,this.ta=this.alpha*J,this},load:function(D,F,B,W,U){return D[++B]=this.tx,D[++B]=this.ty,D[++B]=this.u,D[++B]=this.v,D[++B]=W,D[++B]=U,F[++B]=j.getTintAppendFloatAlpha(this.color,this.ta),B}});Y.exports=G},function(Y,tt,y){var R={};Y.exports=R;var j=y(166),O=y(32),G=y(84),D=y(41);(function(){R.create=function(F){return O.extend({id:O.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},F)},R.setModified=function(F,B,W,U){if(j.trigger(F,"compositeModified",F),F.isModified=B,W&&F.parent&&R.setModified(F.parent,B,W,U),U)for(var X=0;X<F.composites.length;X++){var K=F.composites[X];R.setModified(K,B,W,U)}},R.add=function(F,B){var W=[].concat(B);j.trigger(F,"beforeAdd",{object:B});for(var U=0;U<W.length;U++){var X=W[U];switch(X.type){case"body":if(X.parent!==X){O.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}R.addBody(F,X);break;case"constraint":R.addConstraint(F,X);break;case"composite":R.addComposite(F,X);break;case"mouseConstraint":R.addConstraint(F,X.constraint);break}}return j.trigger(F,"afterAdd",{object:B}),F},R.remove=function(F,B,W){var U=[].concat(B);j.trigger(F,"beforeRemove",{object:B});for(var X=0;X<U.length;X++){var K=U[X];switch(K.type){case"body":R.removeBody(F,K,W);break;case"constraint":R.removeConstraint(F,K,W);break;case"composite":R.removeComposite(F,K,W);break;case"mouseConstraint":R.removeConstraint(F,K.constraint);break}}return j.trigger(F,"afterRemove",{object:B}),F},R.addComposite=function(F,B){return F.composites.push(B),B.parent=F,R.setModified(F,!0,!0,!1),F},R.removeComposite=function(F,B,W){var U=F.composites.indexOf(B);if(U!==-1&&(R.removeCompositeAt(F,U),R.setModified(F,!0,!0,!1)),W)for(var X=0;X<F.composites.length;X++)R.removeComposite(F.composites[X],B,!0);return F},R.removeCompositeAt=function(F,B){return F.composites.splice(B,1),R.setModified(F,!0,!0,!1),F},R.addBody=function(F,B){return F.bodies.push(B),R.setModified(F,!0,!0,!1),F},R.removeBody=function(F,B,W){var U=F.bodies.indexOf(B);if(U!==-1&&(R.removeBodyAt(F,U),R.setModified(F,!0,!0,!1)),W)for(var X=0;X<F.composites.length;X++)R.removeBody(F.composites[X],B,!0);return F},R.removeBodyAt=function(F,B){return F.bodies.splice(B,1),R.setModified(F,!0,!0,!1),F},R.addConstraint=function(F,B){return F.constraints.push(B),R.setModified(F,!0,!0,!1),F},R.removeConstraint=function(F,B,W){var U=F.constraints.indexOf(B);if(U!==-1&&R.removeConstraintAt(F,U),W)for(var X=0;X<F.composites.length;X++)R.removeConstraint(F.composites[X],B,!0);return F},R.removeConstraintAt=function(F,B){return F.constraints.splice(B,1),R.setModified(F,!0,!0,!1),F},R.clear=function(F,B,W){if(W)for(var U=0;U<F.composites.length;U++)R.clear(F.composites[U],B,!0);return B?F.bodies=F.bodies.filter(function(X){return X.isStatic}):F.bodies.length=0,F.constraints.length=0,F.composites.length=0,R.setModified(F,!0,!0,!1),F},R.allBodies=function(F){for(var B=[].concat(F.bodies),W=0;W<F.composites.length;W++)B=B.concat(R.allBodies(F.composites[W]));return B},R.allConstraints=function(F){for(var B=[].concat(F.constraints),W=0;W<F.composites.length;W++)B=B.concat(R.allConstraints(F.composites[W]));return B},R.allComposites=function(F){for(var B=[].concat(F.composites),W=0;W<F.composites.length;W++)B=B.concat(R.allComposites(F.composites[W]));return B},R.get=function(F,B,W){var U,X;switch(W){case"body":U=R.allBodies(F);break;case"constraint":U=R.allConstraints(F);break;case"composite":U=R.allComposites(F).concat(F);break}return U?(X=U.filter(function(K){return K.id.toString()===B.toString()}),X.length===0?null:X[0]):null},R.move=function(F,B,W){return R.remove(F,B),R.add(W,B),F},R.rebase=function(F){for(var B=R.allBodies(F).concat(R.allConstraints(F)).concat(R.allComposites(F)),W=0;W<B.length;W++)B[W].id=O.nextId();return R.setModified(F,!0,!0,!1),F},R.translate=function(F,B,W){for(var U=W?R.allBodies(F):F.bodies,X=0;X<U.length;X++)D.translate(U[X],B);return R.setModified(F,!0,!0,!1),F},R.rotate=function(F,B,W,U){for(var X=Math.cos(B),K=Math.sin(B),J=U?R.allBodies(F):F.bodies,Z=0;Z<J.length;Z++){var Q=J[Z],q=Q.position.x-W.x,et=Q.position.y-W.y;D.setPosition(Q,{x:W.x+(q*X-et*K),y:W.y+(q*K+et*X)}),D.rotate(Q,B)}return R.setModified(F,!0,!0,!1),F},R.scale=function(F,B,W,U,X){for(var K=X?R.allBodies(F):F.bodies,J=0;J<K.length;J++){var Z=K[J],Q=Z.position.x-U.x,q=Z.position.y-U.y;D.setPosition(Z,{x:U.x+Q*B,y:U.y+q*W}),D.scale(Z,B,W)}return R.setModified(F,!0,!0,!1),F},R.bounds=function(F){for(var B=R.allBodies(F),W=[],U=0;U<B.length;U+=1){var X=B[U];W.push(X.bounds.min,X.bounds.max)}return G.create(W)}})()},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R>=0&&R<O.width&&j>=0&&j<O.height};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(29),O=y(2),G=new R({initialize:function(F){F===void 0&&(F={}),this.name=O(F,"name","layer"),this.x=O(F,"x",0),this.y=O(F,"y",0),this.width=O(F,"width",0),this.height=O(F,"height",0),this.tileWidth=O(F,"tileWidth",0),this.tileHeight=O(F,"tileHeight",0),this.baseTileWidth=O(F,"baseTileWidth",this.tileWidth),this.baseTileHeight=O(F,"baseTileHeight",this.tileHeight),this.orientation=O(F,"orientation",j.ORTHOGONAL),this.widthInPixels=O(F,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=O(F,"heightInPixels",this.height*this.baseTileHeight),this.alpha=O(F,"alpha",1),this.visible=O(F,"visible",!0),this.properties=O(F,"properties",[]),this.indexes=O(F,"indexes",[]),this.collideIndexes=O(F,"collideIndexes",[]),this.callbacks=O(F,"callbacks",[]),this.bodies=O(F,"bodies",[]),this.data=O(F,"data",[]),this.tilemapLayer=O(F,"tilemapLayer",null),this.hexSideLength=O(F,"hexSideLength",0)}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(29),O=y(2),G=new R({initialize:function(F){F===void 0&&(F={}),this.name=O(F,"name","map"),this.width=O(F,"width",0),this.height=O(F,"height",0),this.infinite=O(F,"infinite",!1),this.tileWidth=O(F,"tileWidth",0),this.tileHeight=O(F,"tileHeight",0),this.widthInPixels=O(F,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=O(F,"heightInPixels",this.height*this.tileHeight),this.format=O(F,"format",null),this.orientation=O(F,"orientation",j.ORTHOGONAL),this.renderOrder=O(F,"renderOrder","right-down"),this.version=O(F,"version","1"),this.properties=O(F,"properties",{}),this.layers=O(F,"layers",[]),this.images=O(F,"images",[]),this.objects=O(F,"objects",{}),this.collision=O(F,"collision",{}),this.tilesets=O(F,"tilesets",[]),this.imageCollections=O(F,"imageCollections",[]),this.tiles=O(F,"tiles",[]),this.hexSideLength=O(F,"hexSideLength",0)}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D,F,B,W,U,X,K){(F===void 0||F<=0)&&(F=32),(B===void 0||B<=0)&&(B=32),W===void 0&&(W=0),U===void 0&&(U=0),X===void 0&&(X={}),K===void 0&&(K={}),this.name=G,this.firstgid=D,this.tileWidth=F,this.tileHeight=B,this.tileMargin=W,this.tileSpacing=U,this.tileProperties=X,this.tileData=K,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(O){return this.containsTileIndex(O)?this.tileProperties[O-this.firstgid]:null},getTileData:function(O){return this.containsTileIndex(O)?this.tileData[O-this.firstgid]:null},getTileCollisionGroup:function(O){var G=this.getTileData(O);return G&&G.objectgroup?G.objectgroup:null},containsTileIndex:function(O){return O>=this.firstgid&&O<this.firstgid+this.total},getTileTextureCoordinates:function(O){return this.containsTileIndex(O)?this.texCoordinates[O-this.firstgid]:null},setImage:function(O){return this.image=O,this.glTexture=O.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(O,G){return O!==void 0&&(this.tileWidth=O),G!==void 0&&(this.tileHeight=G),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(O,G){return O!==void 0&&(this.tileMargin=O),G!==void 0&&(this.tileSpacing=G),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(O,G){var D=(G-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),F=(O-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(D%1!=0||F%1!=0)&&console.warn("Image tile area not tile size multiple in: "+this.name),D=Math.floor(D),F=Math.floor(F),this.rows=D,this.columns=F,this.total=D*F,this.texCoordinates.length=0;for(var B=this.tileMargin,W=this.tileMargin,U=0;U<this.rows;U++){for(var X=0;X<this.columns;X++)this.texCoordinates.push({x:B,y:W}),B+=this.tileWidth+this.tileSpacing;B=this.tileMargin,W+=this.tileHeight+this.tileSpacing}return this}});Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return O===void 0&&(O=1e-4),Math.abs(R-j)<O};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(11),O=y(15),G=y(1068),D=new R({Extends:O,Mixins:[j.Alpha,j.BlendMode,j.Depth,j.Flip,j.GetBounds,j.Mask,j.Origin,j.Pipeline,j.ScrollFactor,j.Size,j.TextureCrop,j.Tint,j.Transform,j.Visible,G],initialize:function(B,W,U,X,K){O.call(this,B,"Image"),this._crop=this.resetCropObject(),this.setTexture(X,K),this.setPosition(W,U),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.hasOwnProperty(j)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(77),j=function(O,G){var D=R(O);for(var F in G)D.hasOwnProperty(F)||(D[F]=G[F]);return D};Y.exports=j},function(Y,tt,y){var R={};Y.exports=R;var j=y(64),O=y(83),G=y(165),D=y(84),F=y(271),B=y(32);(function(){R._warming=.4,R._torqueDampen=1,R._minLength=1e-6,R.create=function(W){var U=W;U.bodyA&&!U.pointA&&(U.pointA={x:0,y:0}),U.bodyB&&!U.pointB&&(U.pointB={x:0,y:0});var X=U.bodyA?O.add(U.bodyA.position,U.pointA):U.pointA,K=U.bodyB?O.add(U.bodyB.position,U.pointB):U.pointB,J=O.magnitude(O.sub(X,K));U.length=typeof U.length!="undefined"?U.length:J,U.id=U.id||B.nextId(),U.label=U.label||"Constraint",U.type="constraint",U.stiffness=U.stiffness||(U.length>0?1:.7),U.damping=U.damping||0,U.angularStiffness=U.angularStiffness||0,U.angleA=U.bodyA?U.bodyA.angle:U.angleA,U.angleB=U.bodyB?U.bodyB.angle:U.angleB,U.plugin={};var Z={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return U.length===0&&U.stiffness>.1?(Z.type="pin",Z.anchors=!1):U.stiffness<.9&&(Z.type="spring"),U.render=B.extend(Z,U.render),U},R.preSolveAll=function(W){for(var U=0;U<W.length;U+=1){var X=W[U],K=X.constraintImpulse;X.isStatic||K.x===0&&K.y===0&&K.angle===0||(X.position.x+=K.x,X.position.y+=K.y,X.angle+=K.angle)}},R.solveAll=function(W,U){for(var X=0;X<W.length;X+=1){var K=W[X],J=!K.bodyA||K.bodyA&&K.bodyA.isStatic,Z=!K.bodyB||K.bodyB&&K.bodyB.isStatic;(J||Z)&&R.solve(W[X],U)}for(X=0;X<W.length;X+=1)K=W[X],J=!K.bodyA||K.bodyA&&K.bodyA.isStatic,Z=!K.bodyB||K.bodyB&&K.bodyB.isStatic,!J&&!Z&&R.solve(W[X],U)},R.solve=function(W,U){var X=W.bodyA,K=W.bodyB,J=W.pointA,Z=W.pointB;if(!(!X&&!K)){X&&!X.isStatic&&(O.rotate(J,X.angle-W.angleA,J),W.angleA=X.angle),K&&!K.isStatic&&(O.rotate(Z,K.angle-W.angleB,Z),W.angleB=K.angle);var Q=J,q=Z;if(X&&(Q=O.add(X.position,J)),K&&(q=O.add(K.position,Z)),!(!Q||!q)){var et=O.sub(Q,q),rt=O.magnitude(et);rt<R._minLength&&(rt=R._minLength);var nt=(rt-W.length)/rt,ot=W.stiffness<1?W.stiffness*U:W.stiffness,ht=O.mult(et,nt*ot),ut=(X?X.inverseMass:0)+(K?K.inverseMass:0),ct=(X?X.inverseInertia:0)+(K?K.inverseInertia:0),ft=ut+ct,dt,pt,yt,St,At;if(W.damping){var Ct=O.create();yt=O.div(et,rt),At=O.sub(K&&O.sub(K.position,K.positionPrev)||Ct,X&&O.sub(X.position,X.positionPrev)||Ct),St=O.dot(yt,At)}X&&!X.isStatic&&(pt=X.inverseMass/ut,X.constraintImpulse.x-=ht.x*pt,X.constraintImpulse.y-=ht.y*pt,X.position.x-=ht.x*pt,X.position.y-=ht.y*pt,W.damping&&(X.positionPrev.x-=W.damping*yt.x*St*pt,X.positionPrev.y-=W.damping*yt.y*St*pt),dt=O.cross(J,ht)/ft*R._torqueDampen*X.inverseInertia*(1-W.angularStiffness),X.constraintImpulse.angle-=dt,X.angle-=dt),K&&!K.isStatic&&(pt=K.inverseMass/ut,K.constraintImpulse.x+=ht.x*pt,K.constraintImpulse.y+=ht.y*pt,K.position.x+=ht.x*pt,K.position.y+=ht.y*pt,W.damping&&(K.positionPrev.x+=W.damping*yt.x*St*pt,K.positionPrev.y+=W.damping*yt.y*St*pt),dt=O.cross(Z,ht)/ft*R._torqueDampen*K.inverseInertia*(1-W.angularStiffness),K.constraintImpulse.angle+=dt,K.angle+=dt)}}},R.postSolveAll=function(W){for(var U=0;U<W.length;U++){var X=W[U],K=X.constraintImpulse;if(!(X.isStatic||K.x===0&&K.y===0&&K.angle===0)){G.set(X,!1);for(var J=0;J<X.parts.length;J++){var Z=X.parts[J];j.translate(Z.vertices,K),J>0&&(Z.position.x+=K.x,Z.position.y+=K.y),K.angle!==0&&(j.rotate(Z.vertices,K.angle,X.position),F.rotate(Z.axes,K.angle),J>0&&O.rotateAbout(Z.position,K.angle,X.position,Z.position)),D.update(Z.bounds,Z.vertices,X.velocity)}K.angle*=R._warming,K.x*=R._warming,K.y*=R._warming}}},R.pointAWorld=function(W){return{x:(W.bodyA?W.bodyA.position.x:0)+W.pointA.x,y:(W.bodyA?W.bodyA.position.y:0)+W.pointA.y}},R.pointBWorld=function(W){return{x:(W.bodyB?W.bodyB.position.x:0)+W.pointB.x,y:(W.bodyB?W.bodyB.position.y:0)+W.pointB.y}}})()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(35),j=y(65),O=y(66),G=y(0),D=y(11),F=y(15),B=y(10),W=y(57),U=new G({Extends:F,Mixins:[D.Depth,D.GetBounds,D.Origin,D.Transform,D.ScrollFactor,D.Visible],initialize:function(K,J,Z,Q,q){Q===void 0&&(Q=1),q===void 0&&(q=Q),F.call(this,K,"Zone"),this.setPosition(J,Z),this.width=Q,this.height=q,this.blendMode=R.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(X){this.scaleX=X/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(X){this.scaleY=X/this.height}},setSize:function(X,K,J){J===void 0&&(J=!0),this.width=X,this.height=K,this.updateDisplayOrigin();var Z=this.input;return J&&Z&&!Z.customHitArea&&(Z.hitArea.width=X,Z.hitArea.height=K),this},setDisplaySize:function(X,K){return this.displayWidth=X,this.displayHeight=K,this},setCircleDropZone:function(X){return this.setDropZone(new j(0,0,X),O)},setRectangleDropZone:function(X,K){return this.setDropZone(new B(0,0,X,K),W)},setDropZone:function(X,K){return X===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(X,K,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(X,K,J){J.addToRenderList(K)},renderWebGL:function(X,K,J){J.addToRenderList(K)}});Y.exports=U},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return 2*(R.width+R.height)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){for(var j=R.length-1;j>0;j--){var O=Math.floor(Math.random()*(j+1)),G=R[j];R[j]=R[O],R[O]=G}return R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ADD_ANIMATION:y(724),ANIMATION_COMPLETE:y(725),ANIMATION_COMPLETE_KEY:y(726),ANIMATION_REPEAT:y(727),ANIMATION_RESTART:y(728),ANIMATION_START:y(729),ANIMATION_STOP:y(730),ANIMATION_UPDATE:y(731),PAUSE_ALL:y(732),REMOVE_ANIMATION:y(733),RESUME_ALL:y(734)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(11),O=y(36),G=y(9),D=y(37),F=y(10),B=y(25),W=y(187),U=y(3),X=new R({Extends:G,Mixins:[j.Alpha,j.Visible],initialize:function(J,Z,Q,q){J===void 0&&(J=0),Z===void 0&&(Z=0),Q===void 0&&(Q=0),q===void 0&&(q=0),G.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new F,this.dirty=!0,this._x=J,this._y=Z,this._width=Q,this._height=q,this._bounds=new F,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new B,this.transparent=!0,this.backgroundColor=W("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new U(Q/2,q/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(K){this.renderList.push(K)},setOrigin:function(K,J){return K===void 0&&(K=.5),J===void 0&&(J=K),this.originX=K,this.originY=J,this},getScroll:function(K,J,Z){Z===void 0&&(Z=new U);var Q=this.width*.5,q=this.height*.5;return Z.x=K-Q,Z.y=J-q,this.useBounds&&(Z.x=this.clampX(Z.x),Z.y=this.clampY(Z.y)),Z},centerOnX:function(K){var J=this.width*.5;return this.midPoint.x=K,this.scrollX=K-J,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(K){var J=this.height*.5;return this.midPoint.y=K,this.scrollY=K-J,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(K,J){return this.centerOnX(K),this.centerOnY(J),this},centerToBounds:function(){if(this.useBounds){var K=this._bounds,J=this.width*.5,Z=this.height*.5;this.midPoint.set(K.centerX,K.centerY),this.scrollX=K.centerX-J,this.scrollY=K.centerY-Z}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(K){if(this.disableCull)return K;var J=this.matrix.matrix,Z=J[0],Q=J[1],q=J[2],et=J[3],rt=Z*et-Q*q;if(!rt)return K;var nt=J[4],ot=J[5],ht=this.scrollX,ut=this.scrollY,ct=this.width,ft=this.height,dt=this.y,pt=dt+ft,yt=this.x,St=yt+ct,At=this.culledObjects,Ct=K.length;rt=1/rt,At.length=0;for(var Pt=0;Pt<Ct;++Pt){var Rt=K[Pt];if(!Rt.hasOwnProperty("width")||Rt.parentContainer){At.push(Rt);continue}var mt=Rt.width,vt=Rt.height,xt=Rt.x-ht*Rt.scrollFactorX-mt*Rt.originX,Tt=Rt.y-ut*Rt.scrollFactorY-vt*Rt.originY,Et=xt*Z+Tt*q+nt,Ot=xt*Q+Tt*et+ot,Mt=(xt+mt)*Z+(Tt+vt)*q+nt,Ft=(xt+mt)*Q+(Tt+vt)*et+ot;Mt>yt&&Et<St&&Ft>dt&&Ot<pt&&At.push(Rt)}return At},getWorldPoint:function(K,J,Z){Z===void 0&&(Z=new U);var Q=this.matrix.matrix,q=Q[0],et=Q[1],rt=Q[2],nt=Q[3],ot=Q[4],ht=Q[5],ut=q*nt-et*rt;if(!ut)return Z.x=K,Z.y=J,Z;ut=1/ut;var ct=nt*ut,ft=-et*ut,dt=-rt*ut,pt=q*ut,yt=(rt*ht-nt*ot)*ut,St=(et*ot-q*ht)*ut,At=Math.cos(this.rotation),Ct=Math.sin(this.rotation),Pt=this.zoomX,Rt=this.zoomY,mt=this.scrollX,vt=this.scrollY,xt=K+(mt*At-vt*Ct)*Pt,Tt=J+(mt*Ct+vt*At)*Rt;return Z.x=xt*ct+Tt*dt+yt,Z.y=xt*ft+Tt*pt+St,Z},ignore:function(K){var J=this.id;Array.isArray(K)||(K=[K]);for(var Z=0;Z<K.length;Z++){var Q=K[Z];Array.isArray(Q)?this.ignore(Q):Q.isParent?this.ignore(Q.getChildren()):Q.cameraFilter|=J}return this},preRender:function(){this.renderList.length=0;var K=this.width,J=this.height,Z=K*.5,Q=J*.5,q=this.zoomX,et=this.zoomY,rt=this.matrix,nt=K*this.originX,ot=J*this.originY,ht=this.scrollX,ut=this.scrollY;this.useBounds&&(ht=this.clampX(ht),ut=this.clampY(ut)),this.roundPixels&&(nt=Math.round(nt),ot=Math.round(ot)),this.scrollX=ht,this.scrollY=ut;var ct=ht+Z,ft=ut+Q;this.midPoint.set(ct,ft);var dt=K/q,pt=J/et;this.worldView.setTo(ct-dt/2,ft-pt/2,dt,pt),rt.applyITRS(this.x+nt,this.y+ot,this.rotation,q,et),rt.translate(-nt,-ot)},clampX:function(K){var J=this._bounds,Z=this.displayWidth,Q=J.x+(Z-this.width)/2,q=Math.max(Q,Q+J.width-Z);return K<Q?K=Q:K>q&&(K=q),K},clampY:function(K){var J=this._bounds,Z=this.displayHeight,Q=J.y+(Z-this.height)/2,q=Math.max(Q,Q+J.height-Z);return K<Q?K=Q:K>q&&(K=q),K},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(K){return K===void 0&&(K=0),this.rotation=O(K),this},setBackgroundColor:function(K){return K===void 0&&(K="rgba(0,0,0,0)"),this.backgroundColor=W(K),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(K,J,Z,Q,q){return q===void 0&&(q=!1),this._bounds.setTo(K,J,Z,Q),this.dirty=!0,this.useBounds=!0,q?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(K){K===void 0&&(K=new F);var J=this._bounds;return K.setTo(J.x,J.y,J.width,J.height),K},setName:function(K){return K===void 0&&(K=""),this.name=K,this},setPosition:function(K,J){return J===void 0&&(J=K),this.x=K,this.y=J,this},setRotation:function(K){return K===void 0&&(K=0),this.rotation=K,this},setRoundPixels:function(K){return this.roundPixels=K,this},setScene:function(K){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=K;var J=K.sys;return this.sceneManager=J.game.scene,this.scaleManager=J.scale,this.cameraManager=J.cameras,this.updateSystem(),this},setScroll:function(K,J){return J===void 0&&(J=K),this.scrollX=K,this.scrollY=J,this},setSize:function(K,J){return J===void 0&&(J=K),this.width=K,this.height=J,this},setViewport:function(K,J,Z,Q){return this.x=K,this.y=J,this.width=Z,this.height=Q,this},setZoom:function(K,J){return K===void 0&&(K=1),J===void 0&&(J=K),K===0&&(K=.001),J===0&&(J=.001),this.zoomX=K,this.zoomY=J,this},setMask:function(K,J){return J===void 0&&(J=!0),this.mask=K,this._maskCamera=J?this.cameraManager.default:this,this},clearMask:function(K){return K===void 0&&(K=!1),K&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var K={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(K.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),K},update:function(){},updateSystem:function(){if(!!this.scaleManager){var K=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,J=this.sceneManager;K&&!this._customViewport?J.customViewports++:!K&&this._customViewport&&J.customViewports--,this.dirty=!0,this._customViewport=K}},destroy:function(){this.emit(D.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(K){this._x=K,this.updateSystem()}},y:{get:function(){return this._y},set:function(K){this._y=K,this.updateSystem()}},width:{get:function(){return this._width},set:function(K){this._width=K,this.updateSystem()}},height:{get:function(){return this._height},set:function(K){this._height=K,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(K){this._scrollX=K,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(K){this._scrollY=K,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(K){this._zoomX=K,this._zoomY=K,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(K){this._zoomX=K,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(K){this._zoomY=K,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(K){this._rotation=K,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});Y.exports=X},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(334),j=y(335),O=y(336),G=y(337),D=y(338),F=y(339),B=y(340),W=y(341),U=y(342),X=y(343),K=y(344),J=y(345);Y.exports={Power0:B,Power1:W.Out,Power2:G.Out,Power3:U.Out,Power4:X.Out,Linear:B,Quad:W.Out,Cubic:G.Out,Quart:U.Out,Quint:X.Out,Sine:K.Out,Expo:F.Out,Circ:O.Out,Elastic:D.Out,Back:R.Out,Bounce:j.Out,Stepped:J,"Quad.easeIn":W.In,"Cubic.easeIn":G.In,"Quart.easeIn":U.In,"Quint.easeIn":X.In,"Sine.easeIn":K.In,"Expo.easeIn":F.In,"Circ.easeIn":O.In,"Elastic.easeIn":D.In,"Back.easeIn":R.In,"Bounce.easeIn":j.In,"Quad.easeOut":W.Out,"Cubic.easeOut":G.Out,"Quart.easeOut":U.Out,"Quint.easeOut":X.Out,"Sine.easeOut":K.Out,"Expo.easeOut":F.Out,"Circ.easeOut":O.Out,"Elastic.easeOut":D.Out,"Back.easeOut":R.Out,"Bounce.easeOut":j.Out,"Quad.easeInOut":W.InOut,"Cubic.easeInOut":G.InOut,"Quart.easeInOut":U.InOut,"Quint.easeInOut":X.InOut,"Sine.easeInOut":K.InOut,"Expo.easeInOut":F.InOut,"Circ.easeInOut":O.InOut,"Elastic.easeInOut":D.InOut,"Back.easeInOut":R.InOut,"Bounce.easeInOut":j.InOut}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return(j-R)*O+R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(105),j={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function O(){var G=navigator.userAgent;return/Edge\/\d+/.test(G)?j.edge=!0:/Chrome\/(\d+)/.test(G)&&!R.windowsPhone?(j.chrome=!0,j.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(G)?(j.firefox=!0,j.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(G)&&R.iOS?j.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(G)?(j.ie=!0,j.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(G)?j.opera=!0:/Safari/.test(G)&&!R.windowsPhone?j.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(G)&&(j.ie=!0,j.trident=!0,j.tridentVersion=parseInt(RegExp.$1,10),j.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(G)&&(j.silk=!0),j}Y.exports=O()},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return Math.random()*(j-R)+R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R>0&&(R&R-1)==0&&j>0&&(j&j-1)==0};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){return O===void 0&&(O=0),j===0?R:(R-=O,R=j*Math.ceil(R/j),G?(O+R)/j:O+R)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D,F,B){this.x=0,this.y=0,this.z=0,this.w=0,typeof G=="object"?(this.x=G.x||0,this.y=G.y||0,this.z=G.z||0,this.w=G.w||0):(this.x=G||0,this.y=D||0,this.z=F||0,this.w=B||0)},clone:function(){return new j(this.x,this.y,this.z,this.w)},copy:function(O){return this.x=O.x,this.y=O.y,this.z=O.z||0,this.w=O.w||0,this},equals:function(O){return this.x===O.x&&this.y===O.y&&this.z===O.z&&this.w===O.w},set:function(O,G,D,F){return typeof O=="object"?(this.x=O.x||0,this.y=O.y||0,this.z=O.z||0,this.w=O.w||0):(this.x=O||0,this.y=G||0,this.z=D||0,this.w=F||0),this},add:function(O){return this.x+=O.x,this.y+=O.y,this.z+=O.z||0,this.w+=O.w||0,this},subtract:function(O){return this.x-=O.x,this.y-=O.y,this.z-=O.z||0,this.w-=O.w||0,this},scale:function(O){return this.x*=O,this.y*=O,this.z*=O,this.w*=O,this},length:function(){var O=this.x,G=this.y,D=this.z,F=this.w;return Math.sqrt(O*O+G*G+D*D+F*F)},lengthSq:function(){var O=this.x,G=this.y,D=this.z,F=this.w;return O*O+G*G+D*D+F*F},normalize:function(){var O=this.x,G=this.y,D=this.z,F=this.w,B=O*O+G*G+D*D+F*F;return B>0&&(B=1/Math.sqrt(B),this.x=O*B,this.y=G*B,this.z=D*B,this.w=F*B),this},dot:function(O){return this.x*O.x+this.y*O.y+this.z*O.z+this.w*O.w},lerp:function(O,G){G===void 0&&(G=0);var D=this.x,F=this.y,B=this.z,W=this.w;return this.x=D+G*(O.x-D),this.y=F+G*(O.y-F),this.z=B+G*(O.z-B),this.w=W+G*(O.w-W),this},multiply:function(O){return this.x*=O.x,this.y*=O.y,this.z*=O.z||1,this.w*=O.w||1,this},divide:function(O){return this.x/=O.x,this.y/=O.y,this.z/=O.z||1,this.w/=O.w||1,this},distance:function(O){var G=O.x-this.x,D=O.y-this.y,F=O.z-this.z||0,B=O.w-this.w||0;return Math.sqrt(G*G+D*D+F*F+B*B)},distanceSq:function(O){var G=O.x-this.x,D=O.y-this.y,F=O.z-this.z||0,B=O.w-this.w||0;return G*G+D*D+F*F+B*B},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(O){var G=this.x,D=this.y,F=this.z,B=this.w,W=O.val;return this.x=W[0]*G+W[4]*D+W[8]*F+W[12]*B,this.y=W[1]*G+W[5]*D+W[9]*F+W[13]*B,this.z=W[2]*G+W[6]*D+W[10]*F+W[14]*B,this.w=W[3]*G+W[7]*D+W[11]*F+W[15]*B,this},transformQuat:function(O){var G=this.x,D=this.y,F=this.z,B=O.x,W=O.y,U=O.z,X=O.w,K=X*G+W*F-U*D,J=X*D+U*G-B*F,Z=X*F+B*D-W*G,Q=-B*G-W*D-U*F;return this.x=K*X+Q*-B+J*-U-Z*-W,this.y=J*X+Q*-W+Z*-B-K*-U,this.z=Z*X+Q*-U+K*-W-J*-B,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});j.prototype.sub=j.prototype.subtract,j.prototype.mul=j.prototype.multiply,j.prototype.div=j.prototype.divide,j.prototype.dist=j.prototype.distance,j.prototype.distSq=j.prototype.distanceSq,j.prototype.len=j.prototype.length,j.prototype.lenSq=j.prototype.lengthSq,Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(91),O=new R({initialize:function(D,F,B,W,U,X,K){W===void 0&&(W=1),U===void 0&&(U=0),X===void 0&&(X=!0),K===void 0&&(K=!1),this.renderer=D,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=W,this.minFilter=U,this.autoClear=X,this.autoResize=!1,this.resize(F,B),K&&this.setAutoResize(!0)},setAutoResize:function(G){return G&&!this.autoResize?(this.renderer.on(j.RESIZE,this.resize,this),this.autoResize=!0):!G&&this.autoResize&&(this.renderer.off(j.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(G,D){var F=G*this.scale,B=D*this.scale;if(F!==this.width||B!==this.height){var W=this.renderer;W.deleteFramebuffer(this.framebuffer),W.deleteTexture(this.texture),G*=this.scale,D*=this.scale,G=Math.round(G),D=Math.round(D),G<=0&&(G=1),D<=0&&(D=1),this.texture=W.createTextureFromSource(null,G,D,this.minFilter),this.framebuffer=W.createFramebuffer(G,D,this.texture,!1),this.width=G,this.height=D}return this},bind:function(G,D,F){if(G===void 0&&(G=!1),G&&this.renderer.flush(),D&&F&&this.resize(D,F),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),G&&this.adjustViewport(),this.autoClear){var B=this.renderer.gl;B.clearColor(0,0,0,0),B.clear(B.COLOR_BUFFER_BIT)}},adjustViewport:function(){var G=this.renderer.gl;G.viewport(0,0,this.width,this.height),G.disable(G.SCISSOR_TEST)},clear:function(){var G=this.renderer,D=G.gl;G.pushFramebuffer(this.framebuffer),D.disable(D.SCISSOR_TEST),D.clearColor(0,0,0,0),D.clear(D.COLOR_BUFFER_BIT),G.popFramebuffer(),G.resetScissor()},unbind:function(G){G===void 0&&(G=!1);var D=this.renderer;return G&&D.flush(),D.popFramebuffer()},destroy:function(){var G=this.renderer;G.deleteFramebuffer(this.framebuffer),G.deleteTexture(this.texture),G.off(j.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O;if(j)typeof j=="string"?O=document.getElementById(j):typeof j=="object"&&j.nodeType===1&&(O=j);else if(R.parentElement||j===null)return R;return O||(O=document.body),O.appendChild(R),R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(77),O=y(9),G=y(70),D=y(22),F=y(1),B=y(207),W=y(428),U=new R({Extends:O,initialize:function(K){O.call(this),this.game=K,this.jsonCache=K.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,K.events.on(D.BLUR,this.onGameBlur,this),K.events.on(D.FOCUS,this.onGameFocus,this),K.events.on(D.PRE_STEP,this.update,this),K.events.once(D.DESTROY,this.destroy,this)},add:F,addAudioSprite:function(X,K){K===void 0&&(K={});var J=this.add(X,K);J.spritemap=this.jsonCache.get(X).spritemap;for(var Z in J.spritemap)if(!!J.spritemap.hasOwnProperty(Z)){var Q=j(K),q=J.spritemap[Z];Q.loop=q.hasOwnProperty("loop")?q.loop:!1,J.addMarker({name:Z,start:q.start,duration:q.end-q.start,config:Q})}return J},get:function(X){return W(this.sounds,"key",X)},getAll:function(X){return B(this.sounds,"key",X)},play:function(X,K){var J=this.add(X);return J.once(G.COMPLETE,J.destroy,J),K?K.name?(J.addMarker(K),J.play(K.name)):J.play(K):J.play()},playAudioSprite:function(X,K,J){var Z=this.addAudioSprite(X);return Z.once(G.COMPLETE,Z.destroy,Z),Z.play(K,J)},remove:function(X){var K=this.sounds.indexOf(X);return K!==-1?(X.destroy(),this.sounds.splice(K,1),!0):!1},removeAll:function(){this.sounds.forEach(function(X){X.destroy()}),this.sounds.length=0},removeByKey:function(X){for(var K=0,J=this.sounds.length-1;J>=0;J--){var Z=this.sounds[J];Z.key===X&&(Z.destroy(),this.sounds.splice(J,1),K++)}return K},pauseAll:function(){this.forEachActiveSound(function(X){X.pause()}),this.emit(G.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(X){X.resume()}),this.emit(G.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(X){X.stop()}),this.emit(G.STOP_ALL,this)},stopByKey:function(X){var K=0;return this.getAll(X).forEach(function(J){J.stop()&&K++}),K},unlock:F,onBlur:F,onFocus:F,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(X,K){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(G.UNLOCKED,this));for(var J=this.sounds.length-1;J>=0;J--)this.sounds[J].pendingRemove&&this.sounds.splice(J,1);this.sounds.forEach(function(Z){Z.update(X,K)})},destroy:function(){this.game.events.off(D.BLUR,this.onGameBlur,this),this.game.events.off(D.FOCUS,this.onGameFocus,this),this.game.events.off(D.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(X,K){var J=this;this.sounds.forEach(function(Z,Q){Z&&!Z.pendingRemove&&X.call(K||J,Z,Q,J.sounds)})},setRate:function(X){return this.rate=X,this},rate:{get:function(){return this._rate},set:function(X){this._rate=X,this.forEachActiveSound(function(K){K.calculateRate()}),this.emit(G.GLOBAL_RATE,this,X)}},setDetune:function(X){return this.detune=X,this},detune:{get:function(){return this._detune},set:function(X){this._detune=X,this.forEachActiveSound(function(K){K.calculateRate()}),this.emit(G.GLOBAL_DETUNE,this,X)}}});Y.exports=U},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(9),O=y(70),G=y(17),D=y(1),F=new R({Extends:j,initialize:function(W,U,X){j.call(this),this.manager=W,this.key=U,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=G(this.config,X),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(B){return!B||!B.name||typeof B.name!="string"?!1:this.markers[B.name]?(console.error("addMarker "+B.name+" already exists in Sound"),!1):(B=G(!0,{name:"",start:0,duration:this.totalDuration-(B.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},B),this.markers[B.name]=B,!0)},updateMarker:function(B){return!B||!B.name||typeof B.name!="string"?!1:this.markers[B.name]?(this.markers[B.name]=G(!0,this.markers[B.name],B),!0):(console.warn("Audio Marker: "+B.name+" missing in Sound: "+this.key),!1)},removeMarker:function(B){var W=this.markers[B];return W?(this.markers[B]=null,W):null},play:function(B,W){if(B===void 0&&(B=""),typeof B=="object"&&(W=B,B=""),typeof B!="string")return!1;if(!B)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[B])return console.warn("Marker: "+B+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[B],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=G(this.currentConfig,W),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:D,calculateRate:function(){var B=1.0005777895065548,W=this.currentConfig.detune+this.manager.detune,U=Math.pow(B,W);this.totalRate=this.currentConfig.rate*this.manager.rate*U},destroy:function(){this.pendingRemove||(this.emit(O.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(209),j=y(435),O=function(G,D){if(D===void 0&&(D=90),!R(G))return null;if(typeof D!="string"&&(D=(D%360+360)%360),D===90||D===-270||D==="rotateLeft")G=j(G),G.reverse();else if(D===-90||D===270||D==="rotateRight")G.reverse(),G=j(G);else if(Math.abs(D)===180||D==="rotate180"){for(var F=0;F<G.length;F++)G[F].reverse();G.reverse()}return G};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(18),O=y(11),G=y(15),D=y(1043),F=y(1044),B=y(212),W=y(10),U=y(1045),X=new R({Extends:G,Mixins:[O.Alpha,O.BlendMode,O.Depth,O.Mask,O.Origin,O.Pipeline,O.ScrollFactor,O.Texture,O.Tint,O.Transform,O.Visible,U],initialize:function(J,Z,Q,q,et,rt,nt){et===void 0&&(et=""),nt===void 0&&(nt=0),G.call(this,J,"BitmapText"),this.font=q;var ot=this.scene.sys.cache.bitmapFont.get(q);ot||console.warn("Invalid BitmapText key: "+q),this.fontData=ot.data,this._text="",this._fontSize=rt||this.fontData.size,this._letterSpacing=0,this._align=nt,this._bounds=D(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=ot.fromAtlas,this.setTexture(ot.texture,ot.frame),this.setPosition(Z,Q),this.setOrigin(0,0),this.initPipeline(),this.setText(et)},setLeftAlign:function(){return this._align=X.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=X.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=X.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(K){return this._fontSize=K,this._dirty=!0,this},setLetterSpacing:function(K){return K===void 0&&(K=0),this._letterSpacing=K,this._dirty=!0,this},setText:function(K){return!K&&K!==0&&(K=""),Array.isArray(K)&&(K=K.join(`
`)),K!==this.text&&(this._text=K.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(K,J,Z,Q){return K===void 0&&(K=0),J===void 0&&(J=0),Z===void 0&&(Z=0),Q===void 0&&(Q=.5),this.dropShadowX=K,this.dropShadowY=J,this.dropShadowColor=Z,this.dropShadowAlpha=Q,this},setCharacterTint:function(K,J,Z,Q,q,et,rt){K===void 0&&(K=0),J===void 0&&(J=1),Z===void 0&&(Z=!1),Q===void 0&&(Q=-1),q===void 0&&(q=Q,et=Q,rt=Q);var nt=this.text.length;J===-1&&(J=nt),K<0&&(K=nt+K),K=j(K,0,nt-1);for(var ot=j(K+J,K,nt),ht=this.charColors,ut=K;ut<ot;ut++){var ct=ht[ut];if(Q===-1)ht[ut]=null;else{var ft=Z?1:0;ct?(ct.tintEffect=ft,ct.tintTL=Q,ct.tintTR=q,ct.tintBL=et,ct.tintBR=rt):ht[ut]={tintEffect:ft,tintTL:Q,tintTR:q,tintBL:et,tintBR:rt}}}return this},setWordTint:function(K,J,Z,Q,q,et,rt){J===void 0&&(J=1);for(var nt=this.getTextBounds(),ot=nt.words,ht=typeof K=="number",ut=0,ct=0;ct<ot.length;ct++){var ft=ot[ct];if((ht&&ct===K||!ht&&ft.word===K)&&(this.setCharacterTint(ft.i,ft.word.length,Z,Q,q,et,rt),ut++,ut===J))return this}return this},getTextBounds:function(K){var J=this._bounds;return(this._dirty||K||this.scaleX!==J.scaleX||this.scaleY!==J.scaleY)&&(D(this,K,!0,J),this._dirty=!1),J},getCharacterAt:function(K,J,Z){for(var Q=this.getLocalPoint(K,J,null,Z),q=this.getTextBounds(),et=q.characters,rt=new W,nt=0;nt<et.length;nt++){var ot=et[nt];if(rt.setTo(ot.x,ot.t,ot.r-ot.x,ot.b),rt.contains(Q.x,Q.y))return ot}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(K,J,Z){if(J===void 0&&(J=this._fontSize),Z===void 0&&(Z=this._align),K!==this.font){var Q=this.scene.sys.cache.bitmapFont.get(K);Q&&(this.font=K,this.fontData=Q.data,this._fontSize=J,this._align=Z,this.fromAtlas=Q.fromAtlas===!0,this.setTexture(Q.texture,Q.frame),D(this,!1,!0,this._bounds))}return this},setMaxWidth:function(K,J){return this._maxWidth=K,this._dirty=!0,J!==void 0&&(this.wordWrapCharCode=J),this},align:{set:function(K){this._align=K,this._dirty=!0},get:function(){return this._align}},text:{set:function(K){this.setText(K)},get:function(){return this._text}},fontSize:{set:function(K){this._fontSize=K,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(K){this._letterSpacing=K,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(K){this._maxWidth=K,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var K=O.ToJSON(this),J={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return K.data=J,K},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});X.ALIGN_LEFT=0,X.ALIGN_CENTER=1,X.ALIGN_RIGHT=2,X.ParseFromAtlas=F,X.ParseXMLBitmapFont=B,Y.exports=X},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G){if(this.entries=[],Array.isArray(G))for(var D=0;D<G.length;D++)this.set(G[D])},set:function(O){return this.entries.indexOf(O)===-1&&this.entries.push(O),this},get:function(O,G){for(var D=0;D<this.entries.length;D++){var F=this.entries[D];if(F[O]===G)return F}},getArray:function(){return this.entries.slice(0)},delete:function(O){var G=this.entries.indexOf(O);return G>-1&&this.entries.splice(G,1),this},dump:function(){console.group("Set");for(var O=0;O<this.entries.length;O++){var G=this.entries[O];console.log(G)}console.groupEnd()},each:function(O,G){var D,F=this.entries.slice(),B=F.length;if(G)for(D=0;D<B&&O.call(G,F[D],D)!==!1;D++);else for(D=0;D<B&&O(F[D],D)!==!1;D++);return this},iterate:function(O,G){var D,F=this.entries.length;if(G)for(D=0;D<F&&O.call(G,this.entries[D],D)!==!1;D++);else for(D=0;D<F&&O(this.entries[D],D)!==!1;D++);return this},iterateLocal:function(O){var G,D=[];for(G=1;G<arguments.length;G++)D.push(arguments[G]);var F=this.entries.length;for(G=0;G<F;G++){var B=this.entries[G];B[O].apply(B,D)}return this},clear:function(){return this.entries.length=0,this},contains:function(O){return this.entries.indexOf(O)>-1},union:function(O){var G=new j;return O.entries.forEach(function(D){G.set(D)}),this.entries.forEach(function(D){G.set(D)}),G},intersect:function(O){var G=new j;return this.entries.forEach(function(D){O.contains(D)&&G.set(D)}),G},difference:function(O){var G=new j;return this.entries.forEach(function(D){O.contains(D)||G.set(D)}),G},size:{get:function(){return this.entries.length},set:function(O){return O<this.entries.length?this.entries.length=O:this.entries.length}}});Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(11),O=y(15),G=y(189),D=y(92),F=y(1182),B=new R({Extends:O,Mixins:[j.AlphaSingle,j.BlendMode,j.Depth,j.GetBounds,j.Mask,j.Pipeline,j.ScrollFactor,j.Transform,j.Visible,F],initialize:function(U,X,K,J,Z,Q,q){J===void 0&&(J=16777215),Z===void 0&&(Z=128),Q===void 0&&(Q=1),q===void 0&&(q=.1),O.call(this,U,"PointLight"),this.initPipeline(D.POINTLIGHT_PIPELINE),this.setPosition(X,K),this.color=G(J),this.intensity=Q,this.attenuation=q,this.width=Z*2,this.height=Z*2,this._radius=Z},radius:{get:function(){return this._radius},set:function(W){this._radius=W,this.width=W*2,this.height=W*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});Y.exports=B},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=j.width/2,G=j.height/2,D=Math.abs(R.x-j.x-O),F=Math.abs(R.y-j.y-G),B=O+R.radius,W=G+R.radius;if(D>B||F>W)return!1;if(D<=O||F<=G)return!0;var U=D-O,X=F-G,K=U*U,J=X*X,Z=R.radius*R.radius;return K+J<=Z};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.width<=0||R.height<=0||j.width<=0||j.height<=0?!1:!(R.right<j.x||R.bottom<j.y||R.x>j.right||R.y>j.bottom)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(6),j={},O={};O.register=function(G,D,F,B,W){j[G]={plugin:D,mapping:F,settingsKey:B,configKey:W}},O.getPlugin=function(G){return j[G]},O.install=function(G){var D=G.scene.sys,F=D.settings.input,B=D.game.config;for(var W in j){var U=j[W].plugin,X=j[W].mapping,K=j[W].settingsKey,J=j[W].configKey;R(F,K,B[J])&&(G[X]=new U(G))}},O.remove=function(G){j.hasOwnProperty(G)&&delete j[G]},Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ANY_KEY_DOWN:y(1323),ANY_KEY_UP:y(1324),COMBO_MATCH:y(1325),DOWN:y(1326),KEY_DOWN:y(1327),KEY_UP:y(1328),UP:y(1329)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.url?R.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?R.url:j+R.url:!1};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D,F){return R===void 0&&(R=""),j===void 0&&(j=!0),O===void 0&&(O=""),G===void 0&&(G=""),D===void 0&&(D=0),F===void 0&&(F=!1),{responseType:R,async:j,user:O,password:G,timeout:D,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:F}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(243),O=y(73),G=new R({Extends:O,Mixins:[j.Acceleration,j.Angular,j.Bounce,j.Debug,j.Drag,j.Enable,j.Friction,j.Gravity,j.Immovable,j.Mass,j.Pushable,j.Size,j.Velocity],initialize:function(F,B,W,U,X){O.call(this,F,B,W,U,X),this.body=null}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(119),j=function(O,G,D,F){if(D===void 0&&(D=!1),R(O,G,F)){var B=F.data[G][O]||null;return B?B.index===-1?D?B:null:B:null}else return null};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=R.data,F=R.width,B=R.height,W=R.tilemapLayer,U=Math.max(0,j.left),X=Math.min(F,j.right),K=Math.max(0,j.top),J=Math.min(B,j.bottom),Z,Q,q;if(O===0)for(Q=K;Q<J;Q++)for(Z=U;D[Q]&&Z<X;Z++)q=D[Q][Z],!(!q||q.index===-1||!q.visible||q.alpha===0)&&G.push(q);else if(O===1)for(Q=K;Q<J;Q++)for(Z=X;D[Q]&&Z>=U;Z--)q=D[Q][Z],!(!q||q.index===-1||!q.visible||q.alpha===0)&&G.push(q);else if(O===2)for(Q=J;Q>=K;Q--)for(Z=U;D[Q]&&Z<X;Z++)q=D[Q][Z],!(!q||q.index===-1||!q.visible||q.alpha===0)&&G.push(q);else if(O===3)for(Q=J;Q>=K;Q--)for(Z=X;D[Q]&&Z>=U;Z--)q=D[Q][Z],!(!q||q.index===-1||!q.visible||q.alpha===0)&&G.push(q);return W.tilesDrawn=G.length,W.tilesTotal=F*B,G};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=O.collideIndexes.indexOf(R);j&&G===-1?O.collideIndexes.push(R):!j&&G!==-1&&O.collideIndexes.splice(G,1)};Y.exports=y},function(Y,tt,y){/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(2),j=function(O,G,D){if(!G)return{i:0,layers:O.layers,name:"",opacity:1,visible:!0,x:0,y:0};var F=G.x+R(G,"startx",0)*O.tilewidth+R(G,"offsetx",0),B=G.y+R(G,"starty",0)*O.tileheight+R(G,"offsety",0);return{i:0,layers:G.layers,name:D.name+G.name+"/",opacity:D.opacity*G.opacity,visible:D.visible&&G.visible,x:D.x+F,y:D.y+B}};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G;if(R.hasOwnProperty(j)){var D=typeof R[j];D==="function"?G=function(F,B,W,U,X,K){return R[j](F,B,W,U,X,K)}:G=function(){return R[j]}}else typeof O=="function"?G=O:G=function(){return O};return G};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(265),j=y(13),O=y(99),G=y(80),D=y(162),F=y(583),B=y(263),W=y(6),U=y(264),X=y(266),K=y(268),J=function(Z,Q,q){q===void 0&&(q=R);for(var et=q.targets?q.targets:B(Q),rt=F(Q),nt=D(Q,"delay",q.delay),ot=D(Q,"duration",q.duration),ht=W(Q,"easeParams",q.easeParams),ut=G(W(Q,"ease",q.ease),ht),ct=D(Q,"hold",q.hold),ft=D(Q,"repeat",q.repeat),dt=D(Q,"repeatDelay",q.repeatDelay),pt=O(Q,"yoyo",q.yoyo),yt=O(Q,"flipX",q.flipX),St=O(Q,"flipY",q.flipY),At=[],Ct=0;Ct<rt.length;Ct++)for(var Pt=rt[Ct].key,Rt=rt[Ct].value,mt=0;mt<et.length;mt++){var vt=U(Pt,Rt),xt=K(et[mt],mt,Pt,vt.getEnd,vt.getStart,vt.getActive,G(W(Rt,"ease",ut),W(Rt,"easeParams",ht)),D(Rt,"delay",nt),D(Rt,"duration",ot),O(Rt,"yoyo",pt),D(Rt,"hold",ct),D(Rt,"repeat",ft),D(Rt,"repeatDelay",dt),O(Rt,"flipX",yt),O(Rt,"flipY",St));At.push(xt)}var Tt=new X(Z,At,et);Tt.offset=j(Q,"offset",null),Tt.completeDelay=j(Q,"completeDelay",0),Tt.loop=Math.round(j(Q,"loop",0)),Tt.loopDelay=Math.round(j(Q,"loopDelay",0)),Tt.paused=O(Q,"paused",!1),Tt.useFrames=O(Q,"useFrames",!1);for(var Et=W(Q,"callbackScope",Tt),Ot=[Tt,null],Mt=X.TYPES,Ft=0;Ft<Mt.length;Ft++){var It=Mt[Ft],Dt=W(Q,It,!1);if(Dt){var bt=W(Q,It+"Scope",Et),wt=W(Q,It+"Params",[]);Tt.setCallback(It,Dt,Ot.concat(wt),bt)}}return Tt};Y.exports=J},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(102),O=y(2),G=y(132),D=y(185),F=new R({initialize:function(W){this.parent=W,this.animationManager=W.scene.sys.anims,this.animationManager.on(G.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(B){var W=this.parent;if(B===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,W;Array.isArray(B)||(B=[B]);for(var U=0;U<B.length;U++){var X=B[U];this.nextAnim===null?this.nextAnim=X:this.nextAnimsQueue.push(X)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(B){this.isPlaying&&this.stop();var W=this.animationManager,U=typeof B=="string"?B:O(B,"key",null),X=this.exists(U)?this.get(U):W.get(U);if(!X)console.warn("Missing animation: "+U);else{this.currentAnim=X;var K=X.getTotalFrames(),J=O(B,"frameRate",X.frameRate),Z=O(B,"duration",X.duration);X.calculateDuration(this,K,Z,J),this.delay=O(B,"delay",X.delay),this.repeat=O(B,"repeat",X.repeat),this.repeatDelay=O(B,"repeatDelay",X.repeatDelay),this.yoyo=O(B,"yoyo",X.yoyo),this.showOnStart=O(B,"showOnStart",X.showOnStart),this.hideOnComplete=O(B,"hideOnComplete",X.hideOnComplete),this.skipMissedFrames=O(B,"skipMissedFrames",X.skipMissedFrames),this.timeScale=O(B,"timeScale",this.timeScale);var Q=O(B,"startFrame",0);Q>X.getTotalFrames()&&(Q=0);var q=X.frames[Q];Q===0&&!this.forward&&(q=X.getLastFrame()),this.currentFrame=q}return this.parent},pause:function(B){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),B!==void 0&&this.setCurrentFrame(B),this.parent},resume:function(B){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),B!==void 0&&this.setCurrentFrame(B),this.parent},playAfterDelay:function(B,W){if(!this.isPlaying)this.delayCounter=W,this.play(B,!0);else{var U=this.nextAnim,X=this.nextAnimsQueue;U&&X.unshift(U),this.nextAnim=B,this._pendingStop=1,this._pendingStopValue=W}return this.parent},playAfterRepeat:function(B,W){if(W===void 0&&(W=1),!this.isPlaying)this.play(B);else{var U=this.nextAnim,X=this.nextAnimsQueue;U&&X.unshift(U),this.repeatCounter!==-1&&W>this.repeatCounter&&(W=this.repeatCounter),this.nextAnim=B,this._pendingStop=2,this._pendingStopValue=W}return this.parent},play:function(B,W){W===void 0&&(W=!1);var U=this.currentAnim,X=this.parent,K=typeof B=="string"?B:B.key;if(W&&this.isPlaying&&U.key===K)return X;if(U&&this.isPlaying){var J=this.animationManager.getMix(U.key,B);if(J>0)return this.playAfterDelay(B,J)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(B)},playReverse:function(B,W){W===void 0&&(W=!1);var U=typeof B=="string"?B:B.key;return W&&this.isPlaying&&this.currentAnim.key===U?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(B))},startAnimation:function(B){this.load(B);var W=this.currentAnim,U=this.parent;return W&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,W.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0&&this.handleStart()),U},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(G.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(G.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(G.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(G.ANIMATION_COMPLETE,G.ANIMATION_COMPLETE_KEY)},emitEvents:function(B,W){var U=this.currentAnim,X=this.currentFrame,K=this.parent,J=X.textureFrame;K.emit(B,U,X,K,J),W&&K.emit(W+U.key,U,X,K,J)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var B=this.currentFrame;if(!B)return 0;var W=B.progress;return this.inReverse&&(W*=-1),W},setProgress:function(B){return this.forward||(B=1-B),this.setCurrentFrame(this.currentAnim.getFrameByProgress(B)),this.parent},setRepeat:function(B){return this.repeatCounter=B===-1?Number.MAX_VALUE:B,this.parent},globalRemove:function(B,W){W===void 0&&(W=this.currentAnim),this.isPlaying&&W.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(B,W){B===void 0&&(B=!1),W===void 0&&(W=!1);var U=this.currentAnim,X=this.parent;return U?(W&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),U.getFirstTick(this),this.emitEvents(G.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!B,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(U.frames[0]),this.parent):X},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var B=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(B)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var B=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(B)}return this.parent},stopAfterDelay:function(B){return this._pendingStop=1,this._pendingStopValue=B,this.parent},stopAfterRepeat:function(B){return B===void 0&&(B=1),this.repeatCounter!==-1&&B>this.repeatCounter&&(B=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=B,this.parent},stopOnFrame:function(B){return this._pendingStop=3,this._pendingStopValue=B,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(B,W){var U=this.currentAnim;if(!(!this.isPlaying||!U||U.paused)){if(this.accumulator+=W*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=W,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?U.nextFrame(this):U.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var X=0;do this.forward?U.nextFrame(this):U.previousFrame(this),X++;while(this.isPlaying&&this.accumulator>this.nextTick&&X<60)}}},setCurrentFrame:function(B){var W=this.parent;return this.currentFrame=B,W.texture=B.frame.texture,W.frame=B.frame,W.isCropped&&W.frame.updateCropUVs(W._crop,W.flipX,W.flipY),B.setAlpha&&(W.alpha=B.alpha),W.setSizeToFrame(),W._originComponent&&(B.frame.customPivot?W.setOrigin(B.frame.pivotX,B.frame.pivotY):W.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(G.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===B&&this.stop()),W},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(B){return this.anims?this.anims.get(B):null},exists:function(B){return this.anims?this.anims.has(B):!1},create:function(B){var W=B.key,U=!1;return W&&(U=this.get(W),U||(U=new D(this,W,B),this.anims||(this.anims=new j),this.anims.set(W,U))),U},generateFrameNames:function(B,W){return this.animationManager.generateFrameNames(B,W)},generateFrameNumbers:function(B,W){return this.animationManager.generateFrameNumbers(B,W)},remove:function(B){var W=this.get(B);return W&&(this.currentAnim===W&&this.stop(),this.anims.delete(B)),W},destroy:function(){this.animationManager.off(G.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});Y.exports=F},function(Y,tt,y){var R={};Y.exports=R;var j=y(166);(function(){R._motionWakeThreshold=.18,R._motionSleepThreshold=.08,R._minBias=.9,R.update=function(O,G){for(var D=G*G*G,F=0;F<O.length;F++){var B=O[F],W=B.speed*B.speed+B.angularSpeed*B.angularSpeed;if(B.force.x!==0||B.force.y!==0){R.set(B,!1);continue}var U=Math.min(B.motion,W),X=Math.max(B.motion,W);B.motion=R._minBias*U+(1-R._minBias)*X,B.sleepThreshold>0&&B.motion<R._motionSleepThreshold*D?(B.sleepCounter+=1,B.sleepCounter>=B.sleepThreshold&&R.set(B,!0)):B.sleepCounter>0&&(B.sleepCounter-=1)}},R.afterCollisions=function(O,G){for(var D=G*G*G,F=0;F<O.length;F++){var B=O[F];if(!!B.isActive){var W=B.collision,U=W.bodyA.parent,X=W.bodyB.parent;if(!(U.isSleeping&&X.isSleeping||U.isStatic||X.isStatic)&&(U.isSleeping||X.isSleeping)){var K=U.isSleeping&&!U.isStatic?U:X,J=K===U?X:U;!K.isStatic&&J.motion>R._motionWakeThreshold*D&&R.set(K,!1)}}}},R.set=function(O,G){var D=O.isSleeping;G?(O.isSleeping=!0,O.sleepCounter=O.sleepThreshold,O.positionImpulse.x=0,O.positionImpulse.y=0,O.positionPrev.x=O.position.x,O.positionPrev.y=O.position.y,O.anglePrev=O.angle,O.speed=0,O.angularSpeed=0,O.motion=0,D||j.trigger(O,"sleepStart")):(O.isSleeping=!1,O.sleepCounter=0,D&&j.trigger(O,"sleepEnd"))}})()},function(Y,tt,y){var R={};Y.exports=R;var j=y(32);(function(){R.on=function(O,G,D){for(var F=G.split(" "),B,W=0;W<F.length;W++)B=F[W],O.events=O.events||{},O.events[B]=O.events[B]||[],O.events[B].push(D);return D},R.off=function(O,G,D){if(!G){O.events={};return}typeof G=="function"&&(D=G,G=j.keys(O.events).join(" "));for(var F=G.split(" "),B=0;B<F.length;B++){var W=O.events[F[B]],U=[];if(D&&W)for(var X=0;X<W.length;X++)W[X]!==D&&U.push(W[X]);O.events[F[B]]=U}},R.trigger=function(O,G,D){var F,B,W,U,X=O.events;if(X&&j.keys(X).length>0){D||(D={}),F=G.split(" ");for(var K=0;K<F.length;K++)if(B=F[K],W=X[B],W){U=j.clone(D,!1),U.name=B,U.source=O;for(var J=0;J<W.length;J++)W[J].apply(O,[U])}}}})()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(175),j=y(92),O=y(74),G={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(D){D===void 0&&(D=j.MULTI_PIPELINE);var F=this.scene.sys.renderer;if(!F)return!1;var B=F.pipelines;if(this.postPipelines=[],this.pipelineData={},B){var W=B.get(D);if(W)return this.defaultPipeline=W,this.pipeline=W,!0}return!1},setPipeline:function(D,F,B){var W=this.scene.sys.renderer;if(!W)return this;var U=W.pipelines;if(U){var X=U.get(D);X&&(this.pipeline=X),F&&(this.pipelineData=B?R(F):F)}return this},setPostPipeline:function(D,F,B){var W=this.scene.sys.renderer;if(!W)return this;var U=W.pipelines;if(U){Array.isArray(D)||(D=[D]);for(var X=0;X<D.length;X++){var K=U.getPostPipeline(D[X],this);K&&this.postPipelines.push(K)}F&&(this.pipelineData=B?R(F):F)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(D,F){var B=this.pipelineData;return F===void 0?delete B[D]:B[D]=F,this},getPostPipeline:function(D){for(var F=this.postPipelines,B=[],W=0;W<F.length;W++){var U=F[W];(typeof D=="string"&&U.name===D||U instanceof D)&&B.push(U)}return B.length===1?B[0]:B},resetPipeline:function(D,F){return D===void 0&&(D=!1),F===void 0&&(F=!1),this.pipeline=this.defaultPipeline,D&&(this.postPipelines=[],this.hasPostPipeline=!1),F&&(this.pipelineData={}),this.pipeline!==null},resetPostPipeline:function(D){D===void 0&&(D=!1);for(var F=this.postPipelines,B=0;B<F.length;B++)F[B].destroy();this.postPipelines=[],this.hasPostPipeline=!1,D&&(this.pipelineData={})},removePostPipeline:function(D){for(var F=this.postPipelines,B=F.length-1;B>=0;B--){var W=F[B];(typeof D=="string"&&W.name===D||typeof D!="string"&&W instanceof D)&&(W.destroy(),O(F,B))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DEFAULT:0,LINEAR:0,NEAREST:1};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G,D){return D===void 0&&(D=new R),D.x=O.x+O.radius*Math.cos(G),D.y=O.y+O.radius*Math.sin(G),D};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G){G===void 0&&(G=new R);var D=2*Math.PI*Math.random(),F=Math.random()+Math.random(),B=F>1?2-F:F,W=B*Math.cos(D),U=B*Math.sin(D);return G.x=O.x+W*O.radius,G.y=O.y+U*O.radius,G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(130),j=y(4),O=function(G,D,F){if(F===void 0&&(F=new j),D<=0||D>=1)return F.x=G.x,F.y=G.y,F;var B=R(G)*D;return D>.5?(B-=G.width+G.height,B<=G.width?(F.x=G.right-B,F.y=G.bottom):(F.x=G.x,F.y=G.bottom-(B-G.width))):B<=G.width?(F.x=G.x+B,F.y=G.y):(F.x=G.right,F.y=G.y+(B-G.width)),F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(67),j=y(4),O=function(G,D,F,B){B===void 0&&(B=[]),!D&&F>0&&(D=R(G)/F);for(var W=G.x1,U=G.y1,X=G.x2,K=G.y2,J=0;J<D;J++){var Z=J/D,Q=W+(X-W)*Z,q=U+(K-U)*Z;B.push(new j(Q,q))}return B};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G){G===void 0&&(G=new R);var D=Math.random();return G.x=O.x1+D*(O.x2-O.x1),G.y=O.y1+D*(O.y2-O.y1),G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G){return G===void 0&&(G=new R),G.x=O.x+Math.random()*O.width,G.y=O.y+Math.random()*O.height,G};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j,O,G;if(typeof R!="object"||R===null)return R;j=Array.isArray(R)?[]:{};for(G in R)O=R[G],j[G]=y(O);return j};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j={name:R.name,type:R.type,x:R.x,y:R.y,depth:R.depth,scale:{x:R.scaleX,y:R.scaleY},origin:{x:R.originX,y:R.originY},flipX:R.flipX,flipY:R.flipY,rotation:R.rotation,alpha:R.alpha,visible:R.visible,blendMode:R.blendMode,textureKey:"",frameKey:"",data:{}};return R.texture&&(j.textureKey=R.texture.key,j.frameKey=R.frame.name),j};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(3),j=function(O,G,D,F,B,W,U,X){X===void 0&&(X=new R);var K=Math.sin(B),J=Math.cos(B),Z=J*W,Q=K*W,q=-K*U,et=J*U,rt=1/(Z*et+q*-Q);return X.x=et*rt*O+-q*rt*G+(F*q-D*et)*rt,X.y=Z*rt*G+-Q*rt*O+(-F*Z+D*Q)*rt,X};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j===void 0&&(j=1);for(var O=null,G=0;G<j;G++)O=R.shift(),R.push(O);return O};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j===void 0&&(j=1);for(var O=null,G=0;G<j;G++)O=R.pop(),R.unshift(O);return O};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G){G===void 0&&(G=new R);var D=Math.random()*Math.PI*2,F=Math.sqrt(Math.random());return G.x=O.x+F*Math.cos(D)*O.width/2,G.y=O.y+F*Math.sin(D)*O.height/2,G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G){G===void 0&&(G=new R);var D=O.x2-O.x1,F=O.y2-O.y1,B=O.x3-O.x1,W=O.y3-O.y1,U=Math.random(),X=Math.random();return U+X>=1&&(U=1-U,X=1-X),G.x=O.x1+(D*U+B*X),G.y=O.y1+(F*U+W*X),G};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D){var F=G+Math.atan2(R.y-O,R.x-j);return R.x=j+D*Math.cos(F),R.y=O+D*Math.sin(F),R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R=Math.max(0,Math.min(1,(R-j)/(O-j))),R*R*R*(R*(R*6-15)+10)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R<=j?0:R>=O?1:(R=(R-j)/(O-j),R*R*(3-2*R))};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=y(0),O=y(132),G=y(318),D=y(319),F=y(6),B=y(320),W=new j({initialize:function(X,K,J){this.manager=X,this.key=K,this.type="frame",this.frames=this.getFrames(X.textureManager,F(J,"frames",[]),F(J,"defaultTextureKey",null),F(J,"sortFrames",!0)),this.frameRate=F(J,"frameRate",null),this.duration=F(J,"duration",null),this.msPerFrame,this.skipMissedFrames=F(J,"skipMissedFrames",!0),this.delay=F(J,"delay",0),this.repeat=F(J,"repeat",0),this.repeatDelay=F(J,"repeatDelay",0),this.yoyo=F(J,"yoyo",!1),this.showOnStart=F(J,"showOnStart",!1),this.hideOnComplete=F(J,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(O.PAUSE_ALL,this.pause,this),this.manager.on(O.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(U,X,K,J){K===null&&J===null?(U.frameRate=24,U.duration=24/X*1e3):K&&J===null?(U.duration=K,U.frameRate=X/(K/1e3)):(U.frameRate=J,U.duration=X/J*1e3),U.msPerFrame=1e3/U.frameRate},addFrame:function(U){return this.addFrameAt(this.frames.length,U)},addFrameAt:function(U,X){var K=this.getFrames(this.manager.textureManager,X);if(K.length>0){if(U===0)this.frames=K.concat(this.frames);else if(U===this.frames.length)this.frames=this.frames.concat(K);else{var J=this.frames.slice(0,U),Z=this.frames.slice(U);this.frames=J.concat(K,Z)}this.updateFrameSequence()}return this},checkFrame:function(U){return U>=0&&U<this.frames.length},getFirstTick:function(U){U.accumulator=0,U.nextTick=U.msPerFrame+U.currentFrame.duration},getFrameAt:function(U){return this.frames[U]},getFrames:function(U,X,K,J){J===void 0&&(J=!0);var Z=[],Q,q,et=1,rt,nt;if(typeof X=="string"){nt=X;var ot=U.get(nt),ht=ot.getFrameNames();J&&B(ht),X=[],ht.forEach(function(yt){X.push({key:nt,frame:yt})})}if(!Array.isArray(X)||X.length===0)return Z;for(rt=0;rt<X.length;rt++){var ut=X[rt],ct=F(ut,"key",K);if(!!ct){var ft=F(ut,"frame",0),dt=U.getFrame(ct,ft);q=new D(ct,ft,et,dt),q.duration=F(ut,"duration",0),q.isFirst=!Q,Q&&(Q.nextFrame=q,q.prevFrame=Q),Z.push(q),Q=q,et++}}if(Z.length>0){q.isLast=!0,q.nextFrame=Z[0],Z[0].prevFrame=q;var pt=1/(Z.length-1);for(rt=0;rt<Z.length;rt++)Z[rt].progress=rt*pt}return Z},getNextTick:function(U){U.accumulator-=U.nextTick,U.nextTick=U.msPerFrame+U.currentFrame.duration},getFrameByProgress:function(U){return U=R(U,0,1),G(U,this.frames,"progress")},nextFrame:function(U){var X=U.currentFrame;X.isLast?U.yoyo?this.handleYoyoFrame(U,!1):U.repeatCounter>0?U.inReverse&&U.forward?U.forward=!1:this.repeatAnimation(U):U.complete():this.updateAndGetNextTick(U,X.nextFrame)},handleYoyoFrame:function(U,X){if(X||(X=!1),U.inReverse===!X&&U.repeatCounter>0){(U.repeatDelay===0||U.pendingRepeat)&&(U.forward=X),this.repeatAnimation(U);return}if(U.inReverse!==X&&U.repeatCounter===0){U.complete();return}U.forward=X;var K=X?U.currentFrame.nextFrame:U.currentFrame.prevFrame;this.updateAndGetNextTick(U,K)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(U){var X=U.currentFrame;X.isFirst?U.yoyo?this.handleYoyoFrame(U,!0):U.repeatCounter>0?U.inReverse&&!U.forward?this.repeatAnimation(U):(U.forward=!0,this.repeatAnimation(U)):U.complete():this.updateAndGetNextTick(U,X.prevFrame)},updateAndGetNextTick:function(U,X){U.setCurrentFrame(X),this.getNextTick(U)},removeFrame:function(U){var X=this.frames.indexOf(U);return X!==-1&&this.removeFrameAt(X),this},removeFrameAt:function(U){return this.frames.splice(U,1),this.updateFrameSequence(),this},repeatAnimation:function(U){if(U._pendingStop===2){if(U._pendingStopValue===0)return U.stop();U._pendingStopValue--}U.repeatDelay>0&&!U.pendingRepeat?(U.pendingRepeat=!0,U.accumulator-=U.nextTick,U.nextTick+=U.repeatDelay):(U.repeatCounter--,U.forward?U.setCurrentFrame(U.currentFrame.nextFrame):U.setCurrentFrame(U.currentFrame.prevFrame),U.isPlaying&&(this.getNextTick(U),U.handleRepeat()))},toJSON:function(){var U={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(X){U.frames.push(X.toJSON())}),U},updateFrameSequence:function(){for(var U=this.frames.length,X=1/(U-1),K,J=0;J<U;J++)K=this.frames[J],K.index=J+1,K.isFirst=!1,K.isLast=!1,K.progress=J*X,J===0?(K.isFirst=!0,U===1?(K.isLast=!0,K.nextFrame=K,K.prevFrame=K):(K.isLast=!1,K.prevFrame=this.frames[U-1],K.nextFrame=this.frames[J+1])):J===U-1&&U>1?(K.isLast=!0,K.prevFrame=this.frames[U-2],K.nextFrame=this.frames[0]):U>1&&(K.prevFrame=this.frames[J-1],K.nextFrame=this.frames[J+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(O.PAUSE_ALL,this.pause,this),this.manager.off(O.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var U=0;U<this.frames.length;U++)this.frames[U].destroy();this.frames=[],this.manager=null}});Y.exports=W},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){j===void 0&&(j=0),O===void 0&&(O=" "),G===void 0&&(G=3),R=R.toString();var D=0;if(j+1>=R.length)switch(G){case 1:R=new Array(j+1-R.length).join(O)+R;break;case 3:var F=Math.ceil((D=j-R.length)/2),B=D-F;R=new Array(B+1).join(O)+R+new Array(F+1).join(O);break;default:R=R+new Array(j+1-R.length).join(O);break}return R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(327),j=y(189),O=y(331),G=y(332),D=function(F){var B=typeof F;switch(B){case"string":return F.substr(0,3).toLowerCase()==="rgb"?G(F):R(F);case"number":return j(F);case"object":return O(F)}};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(103);function j(G,D,F,B){var W=(G+D*6)%6,U=Math.min(W,4-W,1);return Math.round(255*(B-B*F*Math.max(0,U)))}var O=function(G,D,F,B){D===void 0&&(D=1),F===void 0&&(F=1);var W=j(5,G,D,F),U=j(3,G,D,F),X=j(1,G,D,F);return B?B.setTo?B.setTo(W,U,X,B.alpha,!1):(B.r=W,B.g=U,B.b=X,B.color=R(W,U,X),B):{r:W,g:U,b:X,color:R(W,U,X)}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(38),j=y(330),O=function(G){var D=j(G);return new R(D.r,D.g,D.b,D.a)};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R.x=j-R.width/2,R.y=O-R.height/2,R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(105),j=y(136),O=y(31),G={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function D(){var B=new ArrayBuffer(4),W=new Uint8Array(B),U=new Uint32Array(B);return W[0]=161,W[1]=178,W[2]=195,W[3]=212,U[0]===3569595041?!0:U[0]===2712847316?!1:null}function F(){if(typeof importScripts=="function")return G;G.canvas=!!window.CanvasRenderingContext2D;try{G.localStorage=!!localStorage.getItem}catch{G.localStorage=!1}G.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,G.fileSystem=!!window.requestFileSystem;var B=!1,W=function(){if(window.WebGLRenderingContext)try{var U=O.createWebGL(this),X=U.getContext("webgl")||U.getContext("experimental-webgl"),K=O.create2D(this),J=K.getContext("2d"),Z=J.createImageData(1,1);return B=Z.data instanceof Uint8ClampedArray,O.remove(U),O.remove(K),!!X}catch{return!1}return!1};return G.webGL=W(),G.worker=!!window.Worker,G.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,G.getUserMedia=G.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,j.firefox&&j.firefoxVersion<21&&(G.getUserMedia=!1),!R.iOS&&(j.ie||j.firefox||j.chrome)&&(G.canvasBitBltShift=!0),(j.safari||j.mobileSafari)&&(G.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(G.vibration=!0),typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint32Array!="undefined"&&(G.littleEndian=D()),G.support32bit=typeof ArrayBuffer!="undefined"&&typeof Uint8ClampedArray!="undefined"&&typeof Int32Array!="undefined"&&G.littleEndian!==null&&B,G}Y.exports=F()},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="",R=function(){var j=function(F){for(var B=["i","webkitI","msI","mozI","oI"],W=0;W<B.length;W++){var U=B[W]+"mageSmoothingEnabled";if(U in F)return U}return null},O=function(F){return y===""&&(y=j(F)),y&&(F[y]=!0),F},G=function(F){return y===""&&(y=j(F)),y&&(F[y]=!1),F},D=function(F){return y!==null?F[y]:null};return{disable:G,enable:O,getPrefix:j,isEnabled:D}};Y.exports=R()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(14),j=y(17),O={Angle:y(812),Distance:y(821),Easing:y(826),Fuzzy:y(827),Interpolation:y(830),Pow2:y(835),Snap:y(837),RandomDataGenerator:y(839),Average:y(840),Bernstein:y(356),Between:y(195),CatmullRom:y(194),CeilTo:y(841),Clamp:y(18),DegToRad:y(36),Difference:y(842),Euler:y(843),Factorial:y(357),FloatBetween:y(137),FloorTo:y(844),FromPercent:y(98),GetSpeed:y(845),IsEven:y(846),IsEvenStrict:y(847),Linear:y(135),MaxAdd:y(848),Median:y(849),MinSub:y(850),Percent:y(851),RadToDeg:y(196),RandomXY:y(852),RandomXYZ:y(853),RandomXYZW:y(854),Rotate:y(362),RotateAround:y(308),RotateAroundDistance:y(182),RotateTo:y(855),RoundAwayFromZero:y(363),RoundTo:y(856),SinCosTableGenerator:y(857),SmootherStep:y(183),SmoothStep:y(184),ToXY:y(858),TransformXY:y(177),Within:y(859),Wrap:y(68),Vector2:y(3),Vector3:y(39),Vector4:y(140),Matrix3:y(364),Matrix4:y(69),Quaternion:y(365),RotateVec3:y(860)};O=j(!1,O,R),Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D){var F=(G-j)*.5,B=(D-O)*.5,W=R*R,U=R*W;return(2*O-2*G+F+B)*U+(-3*O+3*G-2*F-B)*W+F*R+O};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return Math.floor(Math.random()*(j-R+1)+R)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(14),j=function(O){return O*R.RAD_TO_DEG};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0,this._data},set:function(O){return this._matrix=O,this._dirty=!0,this},reset:function(){var O=this._matrix;return O[0]=1,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=0,O[6]=1,O[7]=0,O[8]=0,O[9]=0,O[10]=0,O[11]=0,O[12]=1,O[13]=0,O[14]=0,O[15]=0,O[16]=0,O[17]=0,O[18]=1,O[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var O=new Float32Array(this._matrix);O[4]/=255,O[9]/=255,O[14]/=255,O[19]/=255,this._data=O,this._dirty=!1}return this._data},brightness:function(O,G){O===void 0&&(O=0),G===void 0&&(G=!1);var D=O;return this.multiply([D,0,0,0,0,0,D,0,0,0,0,0,D,0,0,0,0,0,1,0],G)},saturate:function(O,G){O===void 0&&(O=0),G===void 0&&(G=!1);var D=O*2/3+1,F=(D-1)*-.5;return this.multiply([D,F,F,0,0,F,D,F,0,0,F,F,D,0,0,0,0,0,1,0],G)},desaturate:function(O){return O===void 0&&(O=!1),this.saturate(-1,O)},hue:function(O,G){O===void 0&&(O=0),G===void 0&&(G=!1),O=O/180*Math.PI;var D=Math.cos(O),F=Math.sin(O),B=.213,W=.715,U=.072;return this.multiply([B+D*(1-B)+F*-B,W+D*-W+F*-W,U+D*-U+F*(1-U),0,0,B+D*-B+F*.143,W+D*(1-W)+F*.14,U+D*-U+F*-.283,0,0,B+D*-B+F*-(1-B),W+D*-W+F*W,U+D*(1-U)+F*U,0,0,0,0,0,1,0],G)},grayscale:function(O,G){return O===void 0&&(O=1),G===void 0&&(G=!1),this.saturate(-O,G)},blackWhite:function(O){return O===void 0&&(O=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],O)},contrast:function(O,G){O===void 0&&(O=0),G===void 0&&(G=!1);var D=O+1,F=-.5*(D-1);return this.multiply([D,0,0,0,F,0,D,0,0,F,0,0,D,0,F,0,0,0,1,0],G)},negative:function(O){return O===void 0&&(O=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],O)},desaturateLuminance:function(O){return O===void 0&&(O=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],O)},sepia:function(O){return O===void 0&&(O=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],O)},night:function(O,G){return O===void 0&&(O=.1),G===void 0&&(G=!1),this.multiply([O*-2,-O,0,0,0,-O,0,O,0,0,0,O,O*2,0,0,0,0,0,1,0],G)},lsd:function(O){return O===void 0&&(O=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],O)},brown:function(O){return O===void 0&&(O=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],O)},vintagePinhole:function(O){return O===void 0&&(O=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],O)},kodachrome:function(O){return O===void 0&&(O=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],O)},technicolor:function(O){return O===void 0&&(O=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],O)},polaroid:function(O){return O===void 0&&(O=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],O)},shiftToBGR:function(O){return O===void 0&&(O=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],O)},multiply:function(O,G){G||this.reset();for(var D=this._matrix,F=[],B=0;B<20;B++)F[B]=D[B];return D[0]=F[0]*O[0]+F[1]*O[5]+F[2]*O[10]+F[3]*O[15],D[1]=F[0]*O[1]+F[1]*O[6]+F[2]*O[11]+F[3]*O[16],D[2]=F[0]*O[2]+F[1]*O[7]+F[2]*O[12]+F[3]*O[17],D[3]=F[0]*O[3]+F[1]*O[8]+F[2]*O[13]+F[3]*O[18],D[4]=F[0]*O[4]+F[1]*O[9]+F[2]*O[14]+F[3]*O[19]+F[4],D[5]=F[5]*O[0]+F[6]*O[5]+F[7]*O[10]+F[8]*O[15],D[6]=F[5]*O[1]+F[6]*O[6]+F[7]*O[11]+F[8]*O[16],D[7]=F[5]*O[2]+F[6]*O[7]+F[7]*O[12]+F[8]*O[17],D[8]=F[5]*O[3]+F[6]*O[8]+F[7]*O[13]+F[8]*O[18],D[9]=F[5]*O[4]+F[6]*O[9]+F[7]*O[14]+F[8]*O[19]+F[9],D[10]=F[10]*O[0]+F[11]*O[5]+F[12]*O[10]+F[13]*O[15],D[11]=F[10]*O[1]+F[11]*O[6]+F[12]*O[11]+F[13]*O[16],D[12]=F[10]*O[2]+F[11]*O[7]+F[12]*O[12]+F[13]*O[17],D[13]=F[10]*O[3]+F[11]*O[8]+F[12]*O[13]+F[13]*O[18],D[14]=F[10]*O[4]+F[11]*O[9]+F[12]*O[14]+F[13]*O[19]+F[14],D[15]=F[15]*O[0]+F[16]*O[5]+F[17]*O[10]+F[18]*O[15],D[16]=F[15]*O[1]+F[16]*O[6]+F[17]*O[11]+F[18]*O[16],D[17]=F[15]*O[2]+F[16]*O[7]+F[17]*O[12]+F[18]*O[17],D[18]=F[15]*O[3]+F[16]*O[8]+F[17]*O[13]+F[18]*O[18],D[19]=F[15]*O[4]+F[16]*O[9]+F[17]*O[14]+F[18]*O[19]+F[19],this._dirty=!0,this}});Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=y(14),O=function(G,D){if(D===void 0&&(D=new R),G.length===0)return D;for(var F=Number.MAX_VALUE,B=Number.MAX_VALUE,W=j.MIN_SAFE_INTEGER,U=j.MIN_SAFE_INTEGER,X,K,J,Z=0;Z<G.length;Z++)X=G[Z],Array.isArray(X)?(K=X[0],J=X[1]):(K=X.x,J=X.y),F=Math.min(F,K),B=Math.min(B,J),W=Math.max(W,K),U=Math.max(U,J);return D.x=F,D.y=B,D.width=W-F,D.height=U-B,D};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(1),O=new R({initialize:function(D,F,B){this._rgb=[0,0,0],this.onChangeCallback=j,this.dirty=!1,this.set(D,F,B)},set:function(G,D,F){return G===void 0&&(G=0),D===void 0&&(D=0),F===void 0&&(F=0),this._rgb=[G,D,F],this.onChange(),this},equals:function(G,D,F){var B=this._rgb;return B.r===G&&B.g===D&&B.b===F},onChange:function(){this.dirty=!0;var G=this._rgb;this.onChangeCallback.call(this,G[0],G[1],G[2])},r:{get:function(){return this._rgb[0]},set:function(G){this._rgb[0]=G,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(G){this._rgb[1]=G,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(G){this._rgb[2]=G,this.onChange()}},destroy:function(){this.onChangeCallback=null}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R={CENTER:y(403),ORIENTATION:y(404),SCALE_MODE:y(405),ZOOM:y(406)};Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){R.parentNode&&R.parentNode.removeChild(R)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(144),O=y(197),G=y(20),D=y(419),F=y(420),B=y(33),W=y(1),U=y(421),X=new R({initialize:function(J,Z){this.scene=J,this.game,this.renderer,this.config=Z,this.settings=U.create(Z),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=W},init:function(K){this.settings.status=j.INIT,this.sceneUpdate=W,this.game=K,this.renderer=K.renderer,this.canvas=K.canvas,this.context=K.context;var J=K.plugins;this.plugins=J,J.addToScene(this,O.Global,[O.CoreScene,F(this),D(this)]),this.events.emit(G.BOOT,this),this.settings.isBooted=!0},step:function(K,J){var Z=this.events;Z.emit(G.PRE_UPDATE,K,J),Z.emit(G.UPDATE,K,J),this.sceneUpdate.call(this.scene,K,J),Z.emit(G.POST_UPDATE,K,J)},render:function(K){var J=this.displayList;J.depthSort(),this.events.emit(G.PRE_RENDER,K),this.cameras.render(K,J),this.events.emit(G.RENDER,K)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(K){var J=this.events,Z=this.settings;return this.settings.active&&(Z.status=j.PAUSED,Z.active=!1,J.emit(G.PAUSE,this,K)),this},resume:function(K){var J=this.events,Z=this.settings;return this.settings.active||(Z.status=j.RUNNING,Z.active=!0,J.emit(G.RESUME,this,K)),this},sleep:function(K){var J=this.events,Z=this.settings;return Z.status=j.SLEEPING,Z.active=!1,Z.visible=!1,J.emit(G.SLEEP,this,K),this},wake:function(K){var J=this.events,Z=this.settings;return Z.status=j.RUNNING,Z.active=!0,Z.visible=!0,J.emit(G.WAKE,this,K),Z.isTransition&&J.emit(G.TRANSITION_WAKE,Z.transitionFrom,Z.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===j.SLEEPING},isActive:function(){return this.settings.status===j.RUNNING},isPaused:function(){return this.settings.status===j.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(K){return this.settings.visible=K,this},setActive:function(K,J){return K?this.resume(J):this.pause(J)},start:function(K){var J=this.events,Z=this.settings;K&&(Z.data=K),Z.status=j.START,Z.active=!0,Z.visible=!0,J.emit(G.START,this),J.emit(G.READY,this,K)},shutdown:function(K){var J=this.events,Z=this.settings;J.off(G.TRANSITION_INIT),J.off(G.TRANSITION_START),J.off(G.TRANSITION_COMPLETE),J.off(G.TRANSITION_OUT),Z.status=j.SHUTDOWN,Z.active=!1,Z.visible=!1,this.renderer===B.WEBGL&&this.renderer.resetTextures(!0),J.emit(G.SHUTDOWN,this,K)},destroy:function(){var K=this.events,J=this.settings;J.status=j.DESTROYED,J.active=!1,J.visible=!1,K.emit(G.DESTROY,this),K.removeAllListeners();for(var Z=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],Q=0;Q<Z.length;Q++)this[Z[Q]]=null}});Y.exports=X},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R&&R[0].toUpperCase()+R.slice(1)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(33),j=y(0),O=y(109),G=y(424),D="Texture.frame missing: ",F=new j({initialize:function(W,U,X,K,J){Array.isArray(X)||(X=[X]),this.manager=W,this.key=U,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var Z=0;Z<X.length;Z++)this.source.push(new G(this,X[Z],K,J))},add:function(B,W,U,X,K,J){if(this.has(B))return null;var Z=new O(this,B,W,U,X,K,J);return this.frames[B]=Z,this.firstFrame==="__BASE"&&(this.firstFrame=B),this.frameTotal++,Z},remove:function(B){if(this.has(B)){var W=this.get(B);return W.destroy(),delete this.frames[B],!0}return!1},has:function(B){return this.frames[B]},get:function(B){B||(B=this.firstFrame);var W=this.frames[B];return W||(console.warn(D+B),W=this.frames[this.firstFrame]),W},getTextureSourceIndex:function(B){for(var W=0;W<this.source.length;W++)if(this.source[W]===B)return W;return-1},getFramesFromTextureSource:function(B,W){W===void 0&&(W=!1);var U=[];for(var X in this.frames)if(!(X==="__BASE"&&!W)){var K=this.frames[X];K.sourceIndex===B&&U.push(K)}return U},getFrameNames:function(B){B===void 0&&(B=!1);var W=Object.keys(this.frames);if(!B){var U=W.indexOf("__BASE");U!==-1&&W.splice(U,1)}return W},getSourceImage:function(B){(B==null||this.frameTotal===1)&&(B="__BASE");var W=this.frames[B];return W?W.source.image:(console.warn(D+B),this.frames.__BASE.source.image)},getDataSourceImage:function(B){(B==null||this.frameTotal===1)&&(B="__BASE");var W=this.frames[B],U;return W?U=W.sourceIndex:(console.warn(D+B),U=this.frames.__BASE.sourceIndex),this.dataSource[U].image},setDataSource:function(B){Array.isArray(B)||(B=[B]);for(var W=0;W<B.length;W++){var U=this.source[W];this.dataSource.push(new G(this,B[W],U.width,U.height))}},setFilter:function(B){var W;for(W=0;W<this.source.length;W++)this.source[W].setFilter(B);for(W=0;W<this.dataSource.length;W++)this.dataSource[W].setFilter(B)},destroy:function(){var B;for(B=0;B<this.source.length;B++)this.source[B].destroy();for(B=0;B<this.dataSource.length;B++)this.dataSource[B].destroy();for(var W in this.frames){var U=this.frames[W];U.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var X=this.manager.game.renderer;X&&X.type===R.WEBGL&&X.resetTextures(!0),this.manager=null}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(78),j=function(O,G,D,F,B){F===void 0&&(F=0),B===void 0&&(B=O.length);var W=[];if(R(O,F,B))for(var U=F;U<B;U++){var X=O[U];(!G||G&&D===void 0&&X.hasOwnProperty(G)||G&&D!==void 0&&X[G]===D)&&W.push(X)}return W};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Matrix:y(1013),Add:y(1021),AddAt:y(1022),BringToTop:y(1023),CountAllMatching:y(1024),Each:y(1025),EachInRange:y(1026),FindClosestInSorted:y(318),GetAll:y(207),GetFirst:y(428),GetRandom:y(210),MoveDown:y(1027),MoveTo:y(1028),MoveUp:y(1029),MoveAbove:y(1030),MoveBelow:y(1031),NumberArray:y(322),NumberArrayStep:y(1032),QuickSelect:y(436),Range:y(437),Remove:y(93),RemoveAt:y(1033),RemoveBetween:y(1034),RemoveRandomElement:y(1035),Replace:y(1036),RotateLeft:y(178),RotateRight:y(179),SafeRange:y(78),SendToBack:y(1037),SetAll:y(1038),Shuffle:y(131),SortByDigits:y(320),SpliceOne:y(74),StableSort:y(79),Swap:y(1039)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){if(!Array.isArray(R)||R.length<2||!Array.isArray(R[0]))return!1;for(var j=R[0].length,O=1;O<R.length;O++)if(R[O].length!==j)return!1;return!0};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){j===void 0&&(j=0),O===void 0&&(O=R.length);var G=j+Math.floor(Math.random()*O);return R[G]===void 0?null:R[G]};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(9),O=y(438),G=new R({Extends:j,initialize:function(){j.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(D){return this._pending.push(D),this._toProcess++,D},remove:function(D){return this._destroy.push(D),this._toProcess++,D},removeAll:function(){for(var D=this._active,F=this._destroy,B=D.length;B--;)F.push(D[B]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var D=this._destroy,F=this._active,B,W;for(B=0;B<D.length;B++){W=D[B];var U=F.indexOf(W);U!==-1&&(F.splice(U,1),this.emit(O.PROCESS_QUEUE_REMOVE,W))}for(D.length=0,D=this._pending,B=0;B<D.length;B++)W=D[B],(!this.checkQueue||this.checkQueue&&F.indexOf(W)===-1)&&(F.push(W),this.emit(O.PROCESS_QUEUE_ADD,W));return D.length=0,this._toProcess=0,F},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(j,O){return parseInt(j.getAttribute(O),10)}var R=function(j,O,G,D,F){G===void 0&&(G=0),D===void 0&&(D=0);var B=O.cutX,W=O.cutY,U=O.source.width,X=O.source.height,K=O.sourceIndex,J={},Z=j.getElementsByTagName("info")[0],Q=j.getElementsByTagName("common")[0];J.font=Z.getAttribute("face"),J.size=y(Z,"size"),J.lineHeight=y(Q,"lineHeight")+D,J.chars={};var q=j.getElementsByTagName("char"),et=O!==void 0&&O.trimmed;if(et)var rt=O.height,nt=O.width;for(var ot=0;ot<q.length;ot++){var ht=q[ot],ut=y(ht,"id"),ct=String.fromCharCode(ut),ft=y(ht,"x"),dt=y(ht,"y"),pt=y(ht,"width"),yt=y(ht,"height");et&&(ft<nt&&(nt=ft),dt<rt&&(rt=dt)),et&&rt!==0&&nt!==0&&(ft-=O.x,dt-=O.y);var St=(B+ft)/U,At=(W+dt)/X,Ct=(B+ft+pt)/U,Pt=(W+dt+yt)/X;if(J.chars[ut]={x:ft,y:dt,width:pt,height:yt,centerX:Math.floor(pt/2),centerY:Math.floor(yt/2),xOffset:y(ht,"xoffset"),yOffset:y(ht,"yoffset"),xAdvance:y(ht,"xadvance")+G,data:{},kerning:{},u0:St,v0:At,u1:Ct,v1:Pt},F&&pt!==0&&yt!==0){var Rt=F.add(ct,K,ft,dt,pt,yt);Rt&&Rt.setUVs(pt,yt,St,At,Ct,Pt)}}var mt=j.getElementsByTagName("kerning");for(ot=0;ot<mt.length;ot++){var vt=mt[ot],xt=y(vt,"first"),Tt=y(vt,"second"),Et=y(vt,"amount");J.chars[Tt].kerning[xt]=Et}return J};Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1049),j=y(440),O=y(0),G=y(11),D=y(109),F=y(15),B=y(110),W=new O({Extends:F,Mixins:[G.Alpha,G.BlendMode,G.Depth,G.Mask,G.Pipeline,G.ScrollFactor,G.Size,G.Texture,G.Transform,G.Visible,R],initialize:function(X,K,J,Z,Q){F.call(this,X,"Blitter"),this.setTexture(Z,Q),this.setPosition(K,J),this.initPipeline(),this.children=new B,this.renderList=[],this.dirty=!1},create:function(U,X,K,J,Z){J===void 0&&(J=!0),Z===void 0&&(Z=this.children.length),K===void 0?K=this.frame:K instanceof D||(K=this.texture.get(K));var Q=new j(this,U,X,K,J);return this.children.addAt(Q,Z,!1),this.dirty=!0,Q},createFromCallback:function(U,X,K,J){for(var Z=this.createMultiple(X,K,J),Q=0;Q<Z.length;Q++){var q=Z[Q];U.call(this,q,Q)}return Z},createMultiple:function(U,X,K){X===void 0&&(X=this.frame.name),K===void 0&&(K=!0),Array.isArray(X)||(X=[X]);var J=[],Z=this;return X.forEach(function(Q){for(var q=0;q<U;q++)J.push(Z.create(0,0,Q,K))}),J},childCanRender:function(U){return U.visible&&U.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(208),j=y(35),O=y(0),G=y(11),D=y(75),F=y(15),B=y(10),W=y(1052),U=y(441),X=y(3),K=new O({Extends:F,Mixins:[G.AlphaSingle,G.BlendMode,G.ComputedSize,G.Depth,G.Mask,G.Pipeline,G.Transform,G.Visible,W],initialize:function(Z,Q,q,et){F.call(this,Z,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new G.TransformMatrix,this.tempTransformMatrix=new G.TransformMatrix,this._sortKey="",this._sysEvents=Z.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(Q,q),this.clearAlpha(),this.setBlendMode(j.SKIP_CHECK),et&&this.add(et)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(J){return J===void 0&&(J=!0),this.exclusive=J,this},getBounds:function(J){if(J===void 0&&(J=new B),J.setTo(this.x,this.y,0,0),this.parentContainer){var Z=this.parentContainer.getBoundsTransformMatrix(),Q=Z.transformPoint(this.x,this.y);J.setTo(Q.x,Q.y,0,0)}if(this.list.length>0){var q=this.list,et=new B,rt=!1;J.setEmpty();for(var nt=0;nt<q.length;nt++){var ot=q[nt];ot.getBounds&&(ot.getBounds(et),rt?U(et,J,J):(J.setTo(et.x,et.y,et.width,et.height),rt=!0))}}return J},addHandler:function(J){J.once(D.DESTROY,this.remove,this),this.exclusive&&(J.parentContainer&&J.parentContainer.remove(J),J.removeFromDisplayList(),J.parentContainer=this)},removeHandler:function(J){J.off(D.DESTROY,this.remove),this.exclusive&&(J.parentContainer=null,J.addToDisplayList())},pointToContainer:function(J,Z){Z===void 0&&(Z=new X),this.parentContainer?this.parentContainer.pointToContainer(J,Z):Z=new X(J.x,J.y);var Q=this.tempTransformMatrix;return Q.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),Q.invert(),Q.transformPoint(J.x,J.y,Z),Z},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(J){return R.Add(this.list,J,this.maxSize,this.addHandler,this),this},addAt:function(J,Z){return R.AddAt(this.list,J,Z,this.maxSize,this.addHandler,this),this},getAt:function(J){return this.list[J]},getIndex:function(J){return this.list.indexOf(J)},sort:function(J,Z){return J?(Z===void 0&&(Z=function(Q,q){return Q[J]-q[J]}),R.StableSort(this.list,Z),this):this},getByName:function(J){return R.GetFirst(this.list,"name",J)},getRandom:function(J,Z){return R.GetRandom(this.list,J,Z)},getFirst:function(J,Z,Q,q){return R.GetFirst(this.list,J,Z,Q,q)},getAll:function(J,Z,Q,q){return R.GetAll(this.list,J,Z,Q,q)},count:function(J,Z,Q,q){return R.CountAllMatching(this.list,J,Z,Q,q)},swap:function(J,Z){return R.Swap(this.list,J,Z),this},moveTo:function(J,Z){return R.MoveTo(this.list,J,Z),this},moveAbove:function(J,Z){return R.MoveAbove(this.list,J,Z),this},moveBelow:function(J,Z){return R.MoveBelow(this.list,J,Z),this},remove:function(J,Z){var Q=R.Remove(this.list,J,this.removeHandler,this);if(Z&&Q){Array.isArray(Q)||(Q=[Q]);for(var q=0;q<Q.length;q++)Q[q].destroy()}return this},removeAt:function(J,Z){var Q=R.RemoveAt(this.list,J,this.removeHandler,this);return Z&&Q&&Q.destroy(),this},removeBetween:function(J,Z,Q){var q=R.RemoveBetween(this.list,J,Z,this.removeHandler,this);if(Q)for(var et=0;et<q.length;et++)q[et].destroy();return this},removeAll:function(J){var Z=R.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(J)for(var Q=0;Q<Z.length;Q++)Z[Q].destroy();return this},bringToTop:function(J){return R.BringToTop(this.list,J),this},sendToBack:function(J){return R.SendToBack(this.list,J),this},moveUp:function(J){return R.MoveUp(this.list,J),this},moveDown:function(J){return R.MoveDown(this.list,J),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return R.Shuffle(this.list),this},replace:function(J,Z,Q){var q=R.Replace(this.list,J,Z);return q&&(this.addHandler(Z),this.removeHandler(J),Q&&J.destroy()),this},exists:function(J){return this.list.indexOf(J)>-1},setAll:function(J,Z,Q,q){return R.SetAll(this.list,J,Z,Q,q),this},each:function(J,Z){var Q=[null],q,et=this.list.slice(),rt=et.length;for(q=2;q<arguments.length;q++)Q.push(arguments[q]);for(q=0;q<rt;q++)Q[0]=et[q],J.apply(Z,Q);return this},iterate:function(J,Z){var Q=[null],q;for(q=2;q<arguments.length;q++)Q.push(arguments[q]);for(q=0;q<this.list.length;q++)Q[0]=this.list[q],J.apply(Z,Q);return this},setScrollFactor:function(J,Z,Q){return Z===void 0&&(Z=J),Q===void 0&&(Q=!1),this.scrollFactorX=J,this.scrollFactorY=Z,Q&&(R.SetAll(this.list,"scrollFactorX",J),R.SetAll(this.list,"scrollFactorY",Z)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});Y.exports=K},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(148),j=y(0),O=y(1057),G=new j({Extends:R,Mixins:[O],initialize:function(F,B,W,U,X,K,J){R.call(this,F,B,W,U,X,K,J),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(D,F){return this.cropWidth=D,this.cropHeight=F,this},setDisplayCallback:function(D){return this.displayCallback=D,this},setScrollX:function(D){return this.scrollX=D,this},setScrollY:function(D){return this.scrollY=D,this}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(133),j=y(0),O=y(217),G=y(303),D=y(304),F=y(305),B=y(309),W=y(167),U=y(312),X=y(313),K=y(314),J=y(111),Z=y(15),Q=y(2),q=y(6),et=y(14),rt=y(1063),nt=new j({Extends:Z,Mixins:[G,D,F,B,W,X,K,U,rt],initialize:function(ht,ut){var ct=q(ut,"x",0),ft=q(ut,"y",0);Z.call(this,ht,"Graphics"),this.setPosition(ct,ft),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(ut)},setDefaultStyles:function(ot){return q(ot,"lineStyle",null)&&(this.defaultStrokeWidth=q(ot,"lineStyle.width",1),this.defaultStrokeColor=q(ot,"lineStyle.color",16777215),this.defaultStrokeAlpha=q(ot,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),q(ot,"fillStyle",null)&&(this.defaultFillColor=q(ot,"fillStyle.color",16777215),this.defaultFillAlpha=q(ot,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(ot,ht,ut){return ut===void 0&&(ut=1),this.commandBuffer.push(O.LINE_STYLE,ot,ht,ut),this._lineWidth=ot,this},fillStyle:function(ot,ht){return ht===void 0&&(ht=1),this.commandBuffer.push(O.FILL_STYLE,ot,ht),this},fillGradientStyle:function(ot,ht,ut,ct,ft,dt,pt,yt){return ft===void 0&&(ft=1),dt===void 0&&(dt=ft),pt===void 0&&(pt=ft),yt===void 0&&(yt=ft),this.commandBuffer.push(O.GRADIENT_FILL_STYLE,ft,dt,pt,yt,ot,ht,ut,ct),this},lineGradientStyle:function(ot,ht,ut,ct,ft,dt){return dt===void 0&&(dt=1),this.commandBuffer.push(O.GRADIENT_LINE_STYLE,ot,dt,ht,ut,ct,ft),this},beginPath:function(){return this.commandBuffer.push(O.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(O.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(O.FILL_PATH),this},fill:function(){return this.commandBuffer.push(O.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(O.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(O.STROKE_PATH),this},fillCircleShape:function(ot){return this.fillCircle(ot.x,ot.y,ot.radius)},strokeCircleShape:function(ot){return this.strokeCircle(ot.x,ot.y,ot.radius)},fillCircle:function(ot,ht,ut){return this.beginPath(),this.arc(ot,ht,ut,0,et.PI2),this.fillPath(),this},strokeCircle:function(ot,ht,ut){return this.beginPath(),this.arc(ot,ht,ut,0,et.PI2),this.strokePath(),this},fillRectShape:function(ot){return this.fillRect(ot.x,ot.y,ot.width,ot.height)},strokeRectShape:function(ot){return this.strokeRect(ot.x,ot.y,ot.width,ot.height)},fillRect:function(ot,ht,ut,ct){return this.commandBuffer.push(O.FILL_RECT,ot,ht,ut,ct),this},strokeRect:function(ot,ht,ut,ct){var ft=this._lineWidth/2,dt=ot-ft,pt=ot+ft;return this.beginPath(),this.moveTo(ot,ht),this.lineTo(ot,ht+ct),this.strokePath(),this.beginPath(),this.moveTo(ot+ut,ht),this.lineTo(ot+ut,ht+ct),this.strokePath(),this.beginPath(),this.moveTo(dt,ht),this.lineTo(pt+ut,ht),this.strokePath(),this.beginPath(),this.moveTo(dt,ht+ct),this.lineTo(pt+ut,ht+ct),this.strokePath(),this},fillRoundedRect:function(ot,ht,ut,ct,ft){ft===void 0&&(ft=20);var dt=ft,pt=ft,yt=ft,St=ft;return typeof ft!="number"&&(dt=Q(ft,"tl",20),pt=Q(ft,"tr",20),yt=Q(ft,"bl",20),St=Q(ft,"br",20)),this.beginPath(),this.moveTo(ot+dt,ht),this.lineTo(ot+ut-pt,ht),this.arc(ot+ut-pt,ht+pt,pt,-et.TAU,0),this.lineTo(ot+ut,ht+ct-St),this.arc(ot+ut-St,ht+ct-St,St,0,et.TAU),this.lineTo(ot+yt,ht+ct),this.arc(ot+yt,ht+ct-yt,yt,et.TAU,Math.PI),this.lineTo(ot,ht+dt),this.arc(ot+dt,ht+dt,dt,-Math.PI,-et.TAU),this.fillPath(),this},strokeRoundedRect:function(ot,ht,ut,ct,ft){ft===void 0&&(ft=20);var dt=ft,pt=ft,yt=ft,St=ft;return typeof ft!="number"&&(dt=Q(ft,"tl",20),pt=Q(ft,"tr",20),yt=Q(ft,"bl",20),St=Q(ft,"br",20)),this.beginPath(),this.moveTo(ot+dt,ht),this.lineTo(ot+ut-pt,ht),this.moveTo(ot+ut-pt,ht),this.arc(ot+ut-pt,ht+pt,pt,-et.TAU,0),this.lineTo(ot+ut,ht+ct-St),this.moveTo(ot+ut,ht+ct-St),this.arc(ot+ut-St,ht+ct-St,St,0,et.TAU),this.lineTo(ot+yt,ht+ct),this.moveTo(ot+yt,ht+ct),this.arc(ot+yt,ht+ct-yt,yt,et.TAU,Math.PI),this.lineTo(ot,ht+dt),this.moveTo(ot,ht+dt),this.arc(ot+dt,ht+dt,dt,-Math.PI,-et.TAU),this.strokePath(),this},fillPointShape:function(ot,ht){return this.fillPoint(ot.x,ot.y,ht)},fillPoint:function(ot,ht,ut){return!ut||ut<1?ut=1:(ot-=ut/2,ht-=ut/2),this.commandBuffer.push(O.FILL_RECT,ot,ht,ut,ut),this},fillTriangleShape:function(ot){return this.fillTriangle(ot.x1,ot.y1,ot.x2,ot.y2,ot.x3,ot.y3)},strokeTriangleShape:function(ot){return this.strokeTriangle(ot.x1,ot.y1,ot.x2,ot.y2,ot.x3,ot.y3)},fillTriangle:function(ot,ht,ut,ct,ft,dt){return this.commandBuffer.push(O.FILL_TRIANGLE,ot,ht,ut,ct,ft,dt),this},strokeTriangle:function(ot,ht,ut,ct,ft,dt){return this.commandBuffer.push(O.STROKE_TRIANGLE,ot,ht,ut,ct,ft,dt),this},strokeLineShape:function(ot){return this.lineBetween(ot.x1,ot.y1,ot.x2,ot.y2)},lineBetween:function(ot,ht,ut,ct){return this.beginPath(),this.moveTo(ot,ht),this.lineTo(ut,ct),this.strokePath(),this},lineTo:function(ot,ht){return this.commandBuffer.push(O.LINE_TO,ot,ht),this},moveTo:function(ot,ht){return this.commandBuffer.push(O.MOVE_TO,ot,ht),this},strokePoints:function(ot,ht,ut,ct){ht===void 0&&(ht=!1),ut===void 0&&(ut=!1),ct===void 0&&(ct=ot.length),this.beginPath(),this.moveTo(ot[0].x,ot[0].y);for(var ft=1;ft<ct;ft++)this.lineTo(ot[ft].x,ot[ft].y);return ht&&this.lineTo(ot[0].x,ot[0].y),ut&&this.closePath(),this.strokePath(),this},fillPoints:function(ot,ht,ut,ct){ht===void 0&&(ht=!1),ut===void 0&&(ut=!1),ct===void 0&&(ct=ot.length),this.beginPath(),this.moveTo(ot[0].x,ot[0].y);for(var ft=1;ft<ct;ft++)this.lineTo(ot[ft].x,ot[ft].y);return ht&&this.lineTo(ot[0].x,ot[0].y),ut&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(ot,ht){ht===void 0&&(ht=32);var ut=ot.getPoints(ht);return this.strokePoints(ut,!0)},strokeEllipse:function(ot,ht,ut,ct,ft){ft===void 0&&(ft=32);var dt=new J(ot,ht,ut,ct),pt=dt.getPoints(ft);return this.strokePoints(pt,!0)},fillEllipseShape:function(ot,ht){ht===void 0&&(ht=32);var ut=ot.getPoints(ht);return this.fillPoints(ut,!0)},fillEllipse:function(ot,ht,ut,ct,ft){ft===void 0&&(ft=32);var dt=new J(ot,ht,ut,ct),pt=dt.getPoints(ft);return this.fillPoints(pt,!0)},arc:function(ot,ht,ut,ct,ft,dt,pt){return dt===void 0&&(dt=!1),pt===void 0&&(pt=0),this.commandBuffer.push(O.ARC,ot,ht,ut,ct,ft,dt,pt),this},slice:function(ot,ht,ut,ct,ft,dt,pt){return dt===void 0&&(dt=!1),pt===void 0&&(pt=0),this.commandBuffer.push(O.BEGIN_PATH),this.commandBuffer.push(O.MOVE_TO,ot,ht),this.commandBuffer.push(O.ARC,ot,ht,ut,ct,ft,dt,pt),this.commandBuffer.push(O.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(O.SAVE),this},restore:function(){return this.commandBuffer.push(O.RESTORE),this},translateCanvas:function(ot,ht){return this.commandBuffer.push(O.TRANSLATE,ot,ht),this},scaleCanvas:function(ot,ht){return this.commandBuffer.push(O.SCALE,ot,ht),this},rotateCanvas:function(ot){return this.commandBuffer.push(O.ROTATE,ot),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(ot,ht,ut){var ct=this.scene.sys,ft=ct.game.renderer;ht===void 0&&(ht=ct.scale.width),ut===void 0&&(ut=ct.scale.height),nt.TargetCamera.setScene(this.scene),nt.TargetCamera.setViewport(0,0,ht,ut),nt.TargetCamera.scrollX=this.x,nt.TargetCamera.scrollY=this.y;var dt,pt;if(typeof ot=="string")if(ct.textures.exists(ot)){dt=ct.textures.get(ot);var yt=dt.getSourceImage();yt instanceof HTMLCanvasElement&&(pt=yt.getContext("2d"))}else dt=ct.textures.createCanvas(ot,ht,ut),pt=dt.getSourceImage().getContext("2d");else ot instanceof HTMLCanvasElement&&(pt=ot.getContext("2d"));return pt&&(this.renderCanvas(ft,this,nt.TargetCamera,null,pt,!1),dt&&dt.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});nt.TargetCamera=new R,Y.exports=nt},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G,D){D===void 0&&(D=new R);var F=O.width/2,B=O.height/2;return D.x=O.x+F*Math.cos(G),D.y=O.y+B*Math.sin(G),D};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(35),j=y(0),O=y(11),G=y(176),D=y(101),F=y(9),B=y(75),W=y(110),U=y(1071),X=y(20),K=y(79),J=new j({Extends:W,Mixins:[O.AlphaSingle,O.BlendMode,O.Depth,O.Mask,O.Pipeline,O.Visible,F,U],initialize:function(Q,q){W.call(this,Q),F.call(this),this.scene=Q,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=Q.sys,this.events=Q.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(R.SKIP_CHECK),q&&this.add(q),Q.sys.queueDepthSort()},setActive:function(Z){return this.active=Z,this},setName:function(Z){return this.name=Z,this},setState:function(Z){return this.state=Z,this},setDataEnabled:function(){return this.data||(this.data=new D(this)),this},setData:function(Z,Q){return this.data||(this.data=new D(this)),this.data.set(Z,Q),this},incData:function(Z,Q){return this.data||(this.data=new D(this)),this.data.inc(Z,Q),this},toggleData:function(Z){return this.data||(this.data=new D(this)),this.data.toggle(Z),this},getData:function(Z){return this.data||(this.data=new D(this)),this.data.get(Z)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return G(this)},willRender:function(Z){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&Z.id)},getIndexList:function(){for(var Z=this,Q=this.parentContainer,q=[];Q&&(q.unshift(Q.getIndex(Z)),Z=Q,Q.parentContainer);)Q=Q.parentContainer;return q.unshift(this.displayList.getIndex(Z)),q},addChildCallback:function(Z){Z.displayList&&Z.displayList!==this&&Z.removeFromDisplayList(),Z.displayList||(this.queueDepthSort(),Z.displayList=this,Z.emit(B.ADDED_TO_SCENE,Z,this.scene),this.events.emit(X.ADDED_TO_SCENE,Z,this.scene))},removeChildCallback:function(Z){this.queueDepthSort(),Z.displayList=null,Z.emit(B.REMOVED_FROM_SCENE,Z,this.scene),this.events.emit(X.REMOVED_FROM_SCENE,Z,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(K(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(Z,Q){return Z._depth-Q._depth},getChildren:function(){return this.list},destroy:function(){if(!(!this.scene||this.ignoreDestroy)){this.emit(B.DESTROY,this);for(var Z=this.list.length;Z--;)this.list[Z].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});Y.exports=J},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(11),O=y(15),G=y(450),D=y(110),F=y(452),B=y(1075),W=new R({Extends:O,Mixins:[j.Depth,j.Mask,j.Pipeline,j.Transform,j.Visible,B],initialize:function(X,K,J,Z){if(O.call(this,X,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],J!==null&&(typeof J=="object"||Array.isArray(J))&&(Z=J,J=null),this.setTexture(K,J),this.initPipeline(),this.emitters=new D(this),this.wells=new D(this),Z){Array.isArray(Z)||(Z=[Z]);for(var Q=0;Q<Z.length;Q++)this.createEmitter(Z[Q])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(U,X){return this.texture=this.scene.sys.textures.get(U),this.setFrame(X)},setFrame:function(U){this.frame=this.texture.get(U);var X=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),K=[];return X.forEach(function(J){K.push(J.name)}),this.frameNames=K,this.defaultFrame=this.frame,this},setEmitterFrames:function(U,X){Array.isArray(U)||(U=[U]);var K=X.frames;K.length=0;for(var J=0;J<U.length;J++){var Z=U[J];this.frameNames.indexOf(Z)!==-1&&K.push(this.texture.get(Z))}return K.length>0?X.defaultFrame=K[0]:X.defaultFrame=this.defaultFrame,this},addEmitter:function(U){return this.emitters.add(U)},createEmitter:function(U){return this.addEmitter(new F(this,U))},removeEmitter:function(U){return this.emitters.remove(U,!0)},addGravityWell:function(U){return this.wells.add(U)},createGravityWell:function(U){return this.addGravityWell(new G(U))},emitParticle:function(U,X,K){for(var J=this.emitters.list,Z=0;Z<J.length;Z++){var Q=J[Z];Q.active&&Q.emitParticle(U,X,K)}return this},emitParticleAt:function(U,X,K){return this.emitParticle(K,U,X)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(U,X){X*=this.timeScale;for(var K=this.emitters.list,J=0;J<K.length;J++){var Z=K[J];Z.active&&Z.preUpdate(U,X)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(35),j=y(133),O=y(31),G=y(0),D=y(11),F=y(33),B=y(109),W=y(15),U=y(1),X=y(92),K=y(1079),J=y(141),Z=y(12),Q=y(222),q=new G({Extends:W,Mixins:[D.Alpha,D.BlendMode,D.ComputedSize,D.Crop,D.Depth,D.Flip,D.GetBounds,D.Mask,D.Origin,D.Pipeline,D.ScrollFactor,D.Tint,D.Transform,D.Visible,K],initialize:function(rt,nt,ot,ht,ut,ct,ft){nt===void 0&&(nt=0),ot===void 0&&(ot=0),ht===void 0&&(ht=32),ut===void 0&&(ut=32),W.call(this,rt,"RenderTexture"),this.renderer=rt.sys.renderer,this.textureManager=rt.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,ct===void 0?(this.canvas=O.create2D(this,ht,ut),this.texture=rt.sys.textures.addCanvas(Q(),this.canvas),this.frame=this.texture.get()):(this.texture=rt.sys.textures.get(ct),this.frame=this.texture.get(ft),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new j(0,0,ht,ut),this.renderTarget=null;var dt=this.renderer;dt?dt.type===F.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new J(dt,ht,ut,1,0,!1)):dt.type===F.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=U,this.camera.setScene(rt),this.setPosition(nt,ot),ct===void 0&&this.setSize(ht,ut),this.setOrigin(0,0),this.initPipeline(X.SINGLE_PIPELINE)},setSize:function(et,rt){return this.resize(et,rt)},resize:function(et,rt){rt===void 0&&(rt=et);var nt=this.frame;if(et!==this.width||rt!==this.height){if(nt.name==="__BASE"){this.canvas.width=et,this.canvas.height=rt,this.texture.width=et,this.texture.height=rt;var ot=this.renderTarget;ot&&(ot.resize(et,rt),nt.glTexture=ot.texture,nt.source.isRenderTexture=!0,nt.source.isGLTexture=!0,nt.source.glTexture=ot.texture),this.camera.setSize(et,rt),nt.source.width=et,nt.source.height=rt,nt.setSize(et,rt),this.width=et,this.height=rt}}else{var ht=this.texture.getSourceImage();nt.cutX+et>ht.width&&(et=ht.width-nt.cutX),nt.cutY+rt>ht.height&&(rt=ht.height-nt.cutY),nt.setSize(et,rt,nt.cutX,nt.cutY)}this.updateDisplayOrigin();var ut=this.input;return ut&&!ut.customHitArea&&(ut.hitArea.width=et,ut.hitArea.height=rt),this},setGlobalTint:function(et){return this.globalTint=et,this},setGlobalAlpha:function(et){return this.globalAlpha=et,this},saveTexture:function(et){return this.textureManager.renameTexture(this.texture.key,et),this._saved=!0,this.texture},fill:function(et,rt,nt,ot,ht,ut){var ct=this.frame,ft=this.camera,dt=this.renderer;rt===void 0&&(rt=1),nt===void 0&&(nt=0),ot===void 0&&(ot=0),ht===void 0&&(ht=ct.cutWidth),ut===void 0&&(ut=ct.cutHeight);var pt=(et>>16&255)/255,yt=(et>>8&255)/255,St=(et&255)/255,At=this.renderTarget;if(ft.preRender(),At){At.bind(!0);var Ct=this.pipeline;Ct.manager.set(Ct);var Pt=At.width,Rt=At.height,mt=dt.width,vt=dt.height,xt=mt/Pt,Tt=vt/Rt;Ct.drawFillRect(nt*xt,ot*Tt,ht*xt,ut*Tt,Z.getTintFromFloats(St,yt,pt,1),rt),At.unbind(!0)}else{var Et=this.context;dt.setContext(Et),Et.fillStyle="rgba("+pt+","+yt+","+St+","+rt+")",Et.fillRect(nt+ct.cutX,ot+ct.cutY,ht,ut),dt.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var et=this.renderTarget;if(et)et.clear();else{var rt=this.context;rt.save(),rt.setTransform(1,0,0,1,0,0),rt.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),rt.restore()}this.dirty=!1}return this},erase:function(et,rt,nt){return this._eraseMode=!0,this.draw(et,rt,nt,1,16777215),this._eraseMode=!1,this},draw:function(et,rt,nt,ot,ht){return this.beginDraw(),this.batchDraw(et,rt,nt,ot,ht),this.endDraw(),this},drawFrame:function(et,rt,nt,ot,ht,ut){return this.beginDraw(),this.batchDrawFrame(et,rt,nt,ot,ht,ut),this.endDraw(),this},beginDraw:function(){var et=this.camera,rt=this.renderer,nt=this.renderTarget;return et.preRender(),nt?rt.beginCapture(nt.width,nt.height):rt.setContext(this.context),this},batchDraw:function(et,rt,nt,ot,ht){return ot===void 0&&(ot=this.globalAlpha),ht===void 0?ht=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):ht=(ht>>16)+(ht&65280)+((ht&255)<<16),Array.isArray(et)||(et=[et]),this.batchList(et,rt,nt,ot,ht),this},batchDrawFrame:function(et,rt,nt,ot,ht,ut){nt===void 0&&(nt=0),ot===void 0&&(ot=0),ht===void 0&&(ht=this.globalAlpha),ut===void 0?ut=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):ut=(ut>>16)+(ut&65280)+((ut&255)<<16);var ct=this.textureManager.getFrame(et,rt);return ct&&(this.renderTarget?this.pipeline.batchTextureFrame(ct,nt,ot,ut,ht,this.camera.matrix,null):this.batchTextureFrame(ct,nt+this.frame.cutX,ot+this.frame.cutY,ht,ut)),this},endDraw:function(et){et===void 0&&(et=this._eraseMode);var rt=this.renderer,nt=this.renderTarget;if(nt){var ot=rt.endCapture(),ht=rt.pipelines.setUtility();ht.blitFrame(ot,nt,1,!1,!1,et),rt.resetScissor(),rt.resetViewport()}else rt.setContext();return this.dirty=!0,this},batchList:function(et,rt,nt,ot,ht){for(var ut=0;ut<et.length;ut++){var ct=et[ut];!ct||ct===this||(ct.renderWebGL||ct.renderCanvas?this.drawGameObject(ct,rt,nt):ct.isParent||ct.list?this.batchGroup(ct.getChildren(),rt,nt):typeof ct=="string"?this.batchTextureFrameKey(ct,null,rt,nt,ot,ht):ct instanceof B?this.batchTextureFrame(ct,rt,nt,ot,ht):Array.isArray(ct)&&this.batchList(ct,rt,nt,ot,ht))}},batchGroup:function(et,rt,nt){rt===void 0&&(rt=0),nt===void 0&&(nt=0),rt+=this.frame.cutX,nt+=this.frame.cutY;for(var ot=0;ot<et.length;ot++){var ht=et[ot];if(ht.willRender(this.camera)){var ut=ht.x+rt,ct=ht.y+nt;this.drawGameObject(ht,ut,ct)}}},batchGameObjectWebGL:function(et,rt,nt){rt===void 0&&(rt=et.x),nt===void 0&&(nt=et.y);var ot=et.x,ht=et.y;et.setPosition(rt+this.frame.cutX,nt+this.frame.cutY),et.renderDirect?et.renderDirect(this.renderer,et,this.camera):et.renderWebGL(this.renderer,et,this.camera),et.setPosition(ot,ht)},batchGameObjectCanvas:function(et,rt,nt){rt===void 0&&(rt=et.x),nt===void 0&&(nt=et.y);var ot=et.x,ht=et.y;if(this._eraseMode){var ut=et.blendMode;et.blendMode=R.ERASE}et.setPosition(rt+this.frame.cutX,nt+this.frame.cutY),et.renderCanvas(this.renderer,et,this.camera,null),et.setPosition(ot,ht),this._eraseMode&&(et.blendMode=ut)},batchTextureFrameKey:function(et,rt,nt,ot,ht,ut){var ct=this.textureManager.getFrame(et,rt);ct&&this.batchTextureFrame(ct,nt,ot,ht,ut)},batchTextureFrame:function(et,rt,nt,ot,ht){rt===void 0&&(rt=0),nt===void 0&&(nt=0),rt+=this.frame.cutX,nt+=this.frame.cutY;var ut=this.renderTarget;if(ut)this.pipeline.batchTextureFrame(et,rt,nt,ht,ot,this.camera.matrix,null);else{var ct=this.context,ft=et.canvasData,dt=et.source.image,pt=this.camera.matrix;ct.save(),ct.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",ct.globalAlpha=ot,pt.setToContext(ct),ct.drawImage(dt,ft.x,ft.y,ft.width,ft.height,rt,nt,ft.width,ft.height),ct.restore()}},snapshotArea:function(et,rt,nt,ot,ht,ut,ct){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,ht,!1,et,rt,nt,ot,ut,ct):this.renderer.snapshotCanvas(this.canvas,ht,!1,et,rt,nt,ot,ut,ct),this},snapshot:function(et,rt,nt){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,et,!1,0,0,this.width,this.height,rt,nt):this.renderer.snapshotCanvas(this.canvas,et,!1,0,0,this.width,this.height,rt,nt),this},snapshotPixel:function(et,rt,nt){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,nt,!0,et,rt):this.renderer.snapshotCanvas(this.canvas,nt,!0,et,rt),this},preDestroy:function(){this._saved||(O.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});Y.exports=q},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(R){var j=Math.random()*16|0,O=R==="x"?j:j&3|8;return O.toString(16)})};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(164),j=y(0),O=y(11),G=y(15),D=y(92),F=y(1085),B=y(3),W=new j({Extends:G,Mixins:[O.AlphaSingle,O.BlendMode,O.Depth,O.Flip,O.Mask,O.Pipeline,O.Size,O.Texture,O.Transform,O.Visible,O.ScrollFactor,F],initialize:function(X,K,J,Z,Q,q,et,rt,nt){Z===void 0&&(Z="__DEFAULT"),q===void 0&&(q=2),et===void 0&&(et=!0),G.call(this,X,"Rope"),this.anims=new R(this),this.points=q,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=Z==="__DEFAULT",this.dirty=!1,this.horizontal=et,this._flipX=!1,this._flipY=!1,this._perp=new B,this.debugCallback=null,this.debugGraphic=null,this.setTexture(Z,Q),this.setPosition(K,J),this.setSizeToFrame(),this.initPipeline(D.ROPE_PIPELINE),Array.isArray(q)&&this.resizeArrays(q.length),this.setPoints(q,rt,nt),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(U,X){var K=this.anims.currentFrame;this.anims.update(U,X),this.anims.currentFrame!==K&&(this.updateUVs(),this.updateVertices())},play:function(U,X,K){return this.anims.play(U,X,K),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(U,X,K){return U===void 0&&(U=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(U,X,K))},setVertical:function(U,X,K){return U===void 0&&(U=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(U,X,K)):this},setTintFill:function(U){return U===void 0&&(U=!1),this.tintFill=U,this},setAlphas:function(U,X){var K=this.points.length;if(K<1)return this;var J=this.alphas;U===void 0?U=[1]:!Array.isArray(U)&&X===void 0&&(U=[U]);var Z,Q=0;if(X!==void 0)for(Z=0;Z<K;Z++)Q=Z*2,J[Q]=U,J[Q+1]=X;else if(U.length===K)for(Z=0;Z<K;Z++)Q=Z*2,J[Q]=U[Z],J[Q+1]=U[Z];else{var q=U[0];for(Z=0;Z<K;Z++)Q=Z*2,U.length>Q&&(q=U[Q]),J[Q]=q,U.length>Q+1&&(q=U[Q+1]),J[Q+1]=q}return this},setColors:function(U){var X=this.points.length;if(X<1)return this;var K=this.colors;U===void 0?U=[16777215]:Array.isArray(U)||(U=[U]);var J,Z=0;if(U.length===X)for(J=0;J<X;J++)Z=J*2,K[Z]=U[J],K[Z+1]=U[J];else{var Q=U[0];for(J=0;J<X;J++)Z=J*2,U.length>Z&&(Q=U[Z]),K[Z]=Q,U.length>Z+1&&(Q=U[Z+1]),K[Z+1]=Q}return this},setPoints:function(U,X,K){if(U===void 0&&(U=2),typeof U=="number"){var J=U;J<2&&(J=2),U=[];var Z,Q,q;if(this.horizontal)for(q=-this.frame.halfWidth,Q=this.frame.width/(J-1),Z=0;Z<J;Z++)U.push({x:q+Z*Q,y:0});else for(q=-this.frame.halfHeight,Q=this.frame.height/(J-1),Z=0;Z<J;Z++)U.push({x:0,y:q+Z*Q})}var et=U.length,rt=this.points.length;return et<1?(console.warn("Rope: Not enough points given"),this):(et===1&&(U.unshift({x:0,y:0}),et++),rt!==et&&this.resizeArrays(et),this.points=U,this.updateUVs(),X!=null&&this.setColors(X),K!=null&&this.setAlphas(K),this)},updateUVs:function(){for(var U=this.uv,X=this.points.length,K=this.frame.u0,J=this.frame.v0,Z=this.frame.u1,Q=this.frame.v1,q=(Z-K)/(X-1),et=(Q-J)/(X-1),rt=0;rt<X;rt++){var nt=rt*4,ot,ht,ut,ct;this.horizontal?(this._flipX?(ot=Z-rt*q,ut=Z-rt*q):(ot=K+rt*q,ut=K+rt*q),this._flipY?(ht=Q,ct=J):(ht=J,ct=Q)):(this._flipX?(ot=K,ut=Z):(ot=Z,ut=K),this._flipY?(ht=Q-rt*et,ct=Q-rt*et):(ht=J+rt*et,ct=J+rt*et)),U[nt+0]=ot,U[nt+1]=ht,U[nt+2]=ut,U[nt+3]=ct}return this},resizeArrays:function(U){var X=this.colors,K=this.alphas;this.vertices=new Float32Array(U*4),this.uv=new Float32Array(U*4),X=new Uint32Array(U*2),K=new Float32Array(U*2);for(var J=0;J<U*2;J++)X[J]=16777215,K[J]=1;return this.colors=X,this.alphas=K,this.dirty=!0,this},updateVertices:function(){var U=this._perp,X=this.points,K=this.vertices,J=X.length;if(this.dirty=!1,!(J<1)){for(var Z,Q=X[0],q=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,et=0;et<J;et++){var rt=X[et],nt=et*4;et<J-1?Z=X[et+1]:Z=rt,U.x=Z.y-Q.y,U.y=-(Z.x-Q.x);var ot=U.length();U.x/=ot,U.y/=ot,U.x*=q,U.y*=q,K[nt]=rt.x+U.x,K[nt+1]=rt.y+U.y,K[nt+2]=rt.x-U.x,K[nt+3]=rt.y-U.y,Q=rt}return this}},setDebug:function(U,X){return this.debugGraphic=U,!U&&!X?this.debugCallback=null:X?this.debugCallback=X:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(U,X,K){var J=U.debugGraphic,Z=K[0],Q=K[1],q=K[2],et=K[3];J.lineBetween(Z,Q,q,et);for(var rt=4;rt<X;rt+=4){var nt=K[rt+0],ot=K[rt+1],ht=K[rt+2],ut=K[rt+3];J.lineBetween(Z,Q,nt,ot),J.lineBetween(q,et,ht,ut),J.lineBetween(q,et,nt,ot),J.lineBetween(nt,ot,ht,ut),Z=nt,Q=ot,q=ht,et=ut}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(U){return this._flipX=U,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(U){return this._flipY=U,this.updateUVs()}}});Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(142),j=y(31),O=y(0),G=y(11),D=y(22),F=y(15),B=y(458),W=y(6),U=y(202),X=y(1088),K=y(459),J=new O({Extends:F,Mixins:[G.Alpha,G.BlendMode,G.ComputedSize,G.Crop,G.Depth,G.Flip,G.GetBounds,G.Mask,G.Origin,G.Pipeline,G.ScrollFactor,G.Tint,G.Transform,G.Visible,X],initialize:function(Q,q,et,rt,nt){q===void 0&&(q=0),et===void 0&&(et=0),F.call(this,Q,"Text"),this.renderer=Q.sys.renderer,this.setPosition(q,et),this.setOrigin(0,0),this.initPipeline(),this.canvas=j.create(this),this.context=this.canvas.getContext("2d"),this.style=new K(this,nt),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=Q.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(rt),nt&&nt.padding&&this.setPadding(nt.padding),nt&&nt.lineSpacing&&this.setLineSpacing(nt.lineSpacing),Q.sys.game.events.on(D.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",R(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(Z){var Q=this.style;if(Q.wordWrapCallback){var q=Q.wordWrapCallback.call(Q.wordWrapCallbackScope,Z,this);return Array.isArray(q)&&(q=q.join(`
`)),q}else return Q.wordWrapWidth?Q.wordWrapUseAdvanced?this.advancedWordWrap(Z,this.context,this.style.wordWrapWidth):this.basicWordWrap(Z,this.context,this.style.wordWrapWidth):Z},advancedWordWrap:function(Z,Q,q){for(var et="",rt=Z.replace(/ +/gi," ").split(this.splitRegExp),nt=rt.length,ot=0;ot<nt;ot++){var ht=rt[ot],ut="";ht=ht.replace(/^ *|\s*$/gi,"");var ct=Q.measureText(ht).width;if(ct<q){et+=ht+`
`;continue}for(var ft=q,dt=ht.split(" "),pt=0;pt<dt.length;pt++){var yt=dt[pt],St=yt+" ",At=Q.measureText(St).width;if(At>ft){if(pt===0){for(var Ct=St;Ct.length&&(Ct=Ct.slice(0,-1),At=Q.measureText(Ct).width,!(At<=ft)););if(!Ct.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var Pt=yt.substr(Ct.length);dt[pt]=Pt,ut+=Ct}var Rt=dt[pt].length?pt:pt+1,mt=dt.slice(Rt).join(" ").replace(/[ \n]*$/gi,"");rt[ot+1]=mt+" "+(rt[ot+1]||""),nt=rt.length;break}else ut+=St,ft-=At}et+=ut.replace(/[ \n]*$/gi,"")+`
`}return et=et.replace(/[\s|\n]*$/gi,""),et},basicWordWrap:function(Z,Q,q){for(var et="",rt=Z.split(this.splitRegExp),nt=rt.length-1,ot=Q.measureText(" ").width,ht=0;ht<=nt;ht++){for(var ut=q,ct=rt[ht].split(" "),ft=ct.length-1,dt=0;dt<=ft;dt++){var pt=ct[dt],yt=Q.measureText(pt).width,St=yt;dt<ft&&(St+=ot),St>ut&&dt>0&&(et+=`
`,ut=q),et+=pt,dt<ft?(et+=" ",ut-=St):ut-=yt}ht<nt&&(et+=`
`)}return et},getWrappedText:function(Z){Z===void 0&&(Z=this._text),this.style.syncFont(this.canvas,this.context);var Q=this.runWordWrap(Z);return Q.split(this.splitRegExp)},setText:function(Z){return!Z&&Z!==0&&(Z=""),Array.isArray(Z)&&(Z=Z.join(`
`)),Z!==this._text&&(this._text=Z.toString(),this.updateText()),this},setStyle:function(Z){return this.style.setStyle(Z)},setFont:function(Z){return this.style.setFont(Z)},setFontFamily:function(Z){return this.style.setFontFamily(Z)},setFontSize:function(Z){return this.style.setFontSize(Z)},setFontStyle:function(Z){return this.style.setFontStyle(Z)},setFixedSize:function(Z,Q){return this.style.setFixedSize(Z,Q)},setBackgroundColor:function(Z){return this.style.setBackgroundColor(Z)},setFill:function(Z){return this.style.setFill(Z)},setColor:function(Z){return this.style.setColor(Z)},setStroke:function(Z,Q){return this.style.setStroke(Z,Q)},setShadow:function(Z,Q,q,et,rt,nt){return this.style.setShadow(Z,Q,q,et,rt,nt)},setShadowOffset:function(Z,Q){return this.style.setShadowOffset(Z,Q)},setShadowColor:function(Z){return this.style.setShadowColor(Z)},setShadowBlur:function(Z){return this.style.setShadowBlur(Z)},setShadowStroke:function(Z){return this.style.setShadowStroke(Z)},setShadowFill:function(Z){return this.style.setShadowFill(Z)},setWordWrapWidth:function(Z,Q){return this.style.setWordWrapWidth(Z,Q)},setWordWrapCallback:function(Z,Q){return this.style.setWordWrapCallback(Z,Q)},setAlign:function(Z){return this.style.setAlign(Z)},setResolution:function(Z){return this.style.setResolution(Z)},setLineSpacing:function(Z){return this.lineSpacing=Z,this.updateText()},setPadding:function(Z,Q,q,et){if(typeof Z=="object"){var rt=Z,nt=W(rt,"x",null);nt!==null?(Z=nt,q=nt):(Z=W(rt,"left",0),q=W(rt,"right",Z));var ot=W(rt,"y",null);ot!==null?(Q=ot,et=ot):(Q=W(rt,"top",0),et=W(rt,"bottom",Q))}else Z===void 0&&(Z=0),Q===void 0&&(Q=Z),q===void 0&&(q=Z),et===void 0&&(et=Q);return this.padding.left=Z,this.padding.top=Q,this.padding.right=q,this.padding.bottom=et,this.updateText()},setMaxLines:function(Z){return this.style.setMaxLines(Z)},updateText:function(){var Z=this.canvas,Q=this.context,q=this.style,et=q.resolution,rt=q.metrics;q.syncFont(Z,Q);var nt=this._text;(q.wordWrapWidth||q.wordWrapCallback)&&(nt=this.runWordWrap(this._text));var ot=nt.split(this.splitRegExp),ht=B(this,rt,ot),ut=this.padding,ct;q.fixedWidth===0?(this.width=ht.width+ut.left+ut.right,ct=ht.width):(this.width=q.fixedWidth,ct=this.width-ut.left-ut.right,ct<ht.width&&(ct=ht.width)),q.fixedHeight===0?this.height=ht.height+ut.top+ut.bottom:this.height=q.fixedHeight;var ft=this.width,dt=this.height;this.updateDisplayOrigin(),ft*=et,dt*=et,ft=Math.max(ft,1),dt=Math.max(dt,1),Z.width!==ft||Z.height!==dt?(Z.width=ft,Z.height=dt,this.frame.setSize(ft,dt),q.syncFont(Z,Q)):Q.clearRect(0,0,ft,dt),Q.save(),Q.scale(et,et),q.backgroundColor&&(Q.fillStyle=q.backgroundColor,Q.fillRect(0,0,ft,dt)),q.syncStyle(Z,Q),Q.textBaseline="alphabetic",Q.translate(ut.left,ut.top);for(var pt,yt,St=0;St<ht.lines;St++){if(pt=q.strokeThickness/2,yt=q.strokeThickness/2+St*ht.lineHeight+rt.ascent,St>0&&(yt+=ht.lineSpacing*St),q.rtl)pt=ft-pt;else if(q.align==="right")pt+=ct-ht.lineWidths[St];else if(q.align==="center")pt+=(ct-ht.lineWidths[St])/2;else if(q.align==="justify"){var At=.85;if(ht.lineWidths[St]/ht.width>=At){var Ct=ht.width-ht.lineWidths[St],Pt=Q.measureText(" ").width,Rt=ot[St].trim(),mt=Rt.split(" ");Ct+=(ot[St].length-Rt.length)*Pt;for(var vt=Math.floor(Ct/Pt),xt=0;vt>0;)mt[xt]+=" ",xt=(xt+1)%(mt.length-1||1),--vt;ot[St]=mt.join(" ")}}this.autoRound&&(pt=Math.round(pt),yt=Math.round(yt)),q.strokeThickness&&(this.style.syncShadow(Q,q.shadowStroke),Q.strokeText(ot[St],pt,yt)),q.color&&(this.style.syncShadow(Q,q.shadowFill),Q.fillText(ot[St],pt,yt))}Q.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(Z,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var Tt=this.input;return Tt&&!Tt.customHitArea&&(Tt.hitArea.width=this.width,Tt.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(Z){this.setText(Z)}},toJSON:function(){var Z=G.ToJSON(this),Q={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return Z.data=Q,Z},preDestroy:function(){this.style.rtl&&U(this.canvas),j.remove(this.canvas),this.texture.destroy()}});Y.exports=J},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(31),j=y(0),O=y(11),G=y(22),D=y(15),F=y(361),B=y(192),W=y(1091),U=y(3),X=8,K=new j({Extends:D,Mixins:[O.Alpha,O.BlendMode,O.ComputedSize,O.Crop,O.Depth,O.Flip,O.GetBounds,O.Mask,O.Origin,O.Pipeline,O.ScrollFactor,O.Tint,O.Transform,O.Visible,W],initialize:function(Z,Q,q,et,rt,nt,ot){var ht=Z.sys.renderer;D.call(this,Z,"TileSprite");var ut=Z.sys.textures.get(nt),ct=ut.get(ot);!et||!rt?(et=ct.width,rt=ct.height):(et=Math.floor(et),rt=Math.floor(rt)),this._tilePosition=new U,this._tileScale=new U(1,1),this.dirty=!1,this.renderer=ht,this.canvas=R.create(this,et,rt),this.context=this.canvas.getContext("2d"),this.displayTexture=ut,this.displayFrame=ct,this._crop=this.resetCropObject(),this.texture=Z.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=F(ct.width),this.potHeight=F(ct.height),this.fillCanvas=R.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(Q,q),this.setSize(et,rt),this.setFrame(ot),this.setOriginFromFrame(),this.initPipeline(),Z.sys.game.events.on(G.CONTEXT_RESTORED,function(ft){if(!!ft){var dt=ft.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=ft.createTexture2D(0,dt.LINEAR,dt.LINEAR,dt.REPEAT,dt.REPEAT,dt.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}},this)},setTexture:function(J,Z){return this.displayTexture=this.scene.sys.textures.get(J),this.setFrame(Z)},setFrame:function(J){var Z=this.displayTexture.get(J);return this.potWidth=F(Z.width),this.potHeight=F(Z.height),this.canvas.width=0,!Z.cutWidth||!Z.cutHeight?this.renderFlags&=~X:this.renderFlags|=X,this.displayFrame=Z,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(J,Z){return J!==void 0&&(this.tilePositionX=J),Z!==void 0&&(this.tilePositionY=Z),this},setTileScale:function(J,Z){return J===void 0&&(J=this.tileScaleX),Z===void 0&&(Z=J),this.tileScaleX=J,this.tileScaleY=Z,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var J=this.displayFrame;if(J.source.isRenderTexture||J.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var Z=this.fillContext,Q=this.fillCanvas,q=this.potWidth,et=this.potHeight;(!this.renderer||!this.renderer.gl)&&(q=J.cutWidth,et=J.cutHeight),Z.clearRect(0,0,q,et),Q.width=q,Q.height=et,Z.drawImage(J.source.image,J.cutX,J.cutY,J.cutWidth,J.cutHeight,0,0,q,et),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(Q,this.fillPattern):this.fillPattern=Z.createPattern(Q,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var J=this.canvas;if((J.width!==this.width||J.height!==this.height)&&(J.width=this.width,J.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var Z=this.context;this.scene.sys.game.config.antialias||B.disable(Z);var Q=this._tileScale.x,q=this._tileScale.y,et=this._tilePosition.x,rt=this._tilePosition.y;Z.clearRect(0,0,this.width,this.height),Z.save(),Z.scale(Q,q),Z.translate(-et,-rt),Z.fillStyle=this.fillPattern,Z.fillRect(et,rt,this.width/Q,this.height/q),Z.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),R.remove(this.canvas),R.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(J){this._tilePosition.x=J,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(J){this._tilePosition.y=J,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(J){this._tileScale.x=J,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(J){this._tileScale.y=J,this.dirty=!0}}});Y.exports=K},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(18),O=y(11),G=y(75),D=y(22),F=y(51),B=y(15),W=y(70),U=y(222),X=y(1094),K=y(14),J=new R({Extends:B,Mixins:[O.Alpha,O.BlendMode,O.Depth,O.Flip,O.GetBounds,O.Mask,O.Origin,O.Pipeline,O.ScrollFactor,O.Size,O.TextureCrop,O.Tint,O.Transform,O.Visible,X],initialize:function(Q,q,et,rt){B.call(this,Q,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=U(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=K.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(q,et),this.initPipeline(),rt&&this.changeSource(rt,!1);var nt=Q.sys.game.events;nt.on(D.PAUSE,this.globalPause,this),nt.on(D.RESUME,this.globalResume,this);var ot=Q.sys.sound;ot&&ot.on(W.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(Z,Q,q){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var et=this.video;if(!et)return console.warn("Video not loaded"),this;Z===void 0&&(Z=et.loop);var rt=this.scene.sys.sound;rt&&rt.mute&&this.setMute(!0),isNaN(Q)||(this._markerIn=Q),!isNaN(q)&&q>Q&&(this._markerOut=q),et.loop=Z;var nt=this._callbacks,ot=et.play();return ot!==void 0?ot.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(et.addEventListener("playing",nt.play,!0),et.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),et.addEventListener("ended",nt.end,!0),et.addEventListener("timeupdate",nt.time,!0),et.addEventListener("seeking",nt.seeking,!0),et.addEventListener("seeked",nt.seeked,!0),this},changeSource:function(Z,Q,q,et,rt){Q===void 0&&(Q=!0);var nt=this.video;nt&&this.stop();var ot=this.scene.sys.cache.video.get(Z);return ot?(this.video=ot,this._cacheKey=Z,this._codePaused=ot.paused,this._codeMuted=ot.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,ot,ot.videoWidth,ot.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,ot.videoWidth,ot.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(G.VIDEO_CREATED,this,ot.videoWidth,ot.videoHeight)):this.updateTexture(),ot.currentTime=0,this._lastUpdate=0,Q&&this.play(q,et,rt)):this.video=null,this},addMarker:function(Z,Q,q){return!isNaN(Q)&&Q>=0&&!isNaN(q)&&(this.markers[Z]=[Q,q]),this},playMarker:function(Z,Q){var q=this.markers[Z];return q&&this.play(Q,q[0],q[1]),this},removeMarker:function(Z){return delete this.markers[Z],this},snapshot:function(Z,Q){return Z===void 0&&(Z=this.width),Q===void 0&&(Q=this.height),this.snapshotArea(0,0,this.width,this.height,Z,Q)},snapshotArea:function(Z,Q,q,et,rt,nt){Z===void 0&&(Z=0),Q===void 0&&(Q=0),q===void 0&&(q=this.width),et===void 0&&(et=this.height),rt===void 0&&(rt=q),nt===void 0&&(nt=et);var ot=this.video,ht=this.snapshotTexture;return ht?(ht.setSize(rt,nt),ot&&ht.context.drawImage(ot,Z,Q,q,et,0,0,rt,nt)):(ht=this.scene.sys.textures.createCanvas(U(),rt,nt),this.snapshotTexture=ht,ot&&ht.context.drawImage(ot,Z,Q,q,et,0,0,rt,nt)),ht.update()},saveSnapshotTexture:function(Z){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,Z):this.snapshotTexture=this.scene.sys.textures.createCanvas(Z,this.width,this.height),this.snapshotTexture},loadURL:function(Z,Q,q){q===void 0&&(q=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var et=document.createElement("video");return et.controls=!1,q&&(et.muted=!0,et.defaultMuted=!0,et.setAttribute("autoplay","autoplay")),et.setAttribute("playsinline","playsinline"),et.setAttribute("preload","auto"),et.addEventListener("error",this._callbacks.error,!0),et.src=Z,et.load(),this.video=et,this},loadMediaStream:function(Z,Q,q){q===void 0&&(q=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var et=document.createElement("video");et.controls=!1,q&&(et.muted=!0,et.defaultMuted=!0,et.setAttribute("autoplay","autoplay")),et.setAttribute("playsinline","playsinline"),et.setAttribute("preload","auto"),et.addEventListener("error",this._callbacks.error,!0);try{et.srcObject=Z}catch{et.src=window.URL.createObjectURL(Z)}return et.load(),this.video=et,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(G.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(Z){this.scene.sys.input.once(F.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(G.VIDEO_ERROR,this,Z)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(G.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(Z){this.stop(),this.emit(G.VIDEO_ERROR,this,Z)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(G.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(G.VIDEO_PLAY,this)},completeHandler:function(){this.emit(G.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(G.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var Z=this.video;if(Z){var Q=Z.currentTime;Q!==this._lastUpdate&&(this._lastUpdate=Q,this.updateTexture(),Q>=this._markerOut&&(Z.loop?(Z.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=Q,this.emit(G.VIDEO_LOOP,this)):(this.emit(G.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(G.VIDEO_TIMEOUT,this))},updateTexture:function(){var Z=this.video,Q=Z.videoWidth,q=Z.videoHeight;if(!this.videoTexture)this.videoTexture=this.scene.sys.textures.create(this._key,Z,Q,q),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,Q,q),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(G.VIDEO_CREATED,this,Q,q);else{var et=this.videoTextureSource;et.source!==Z&&(et.source=Z,et.width=Q,et.height=q),et.update()}},getVideoKey:function(){return this._cacheKey},seekTo:function(Z){var Q=this.video;if(Q){var q=Q.duration;if(q!==1/0&&!isNaN(q)){var et=q*Z;this.setCurrentTime(et)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(Z){var Q=this.video;if(Q){if(typeof Z=="string"){var q=Z[0],et=parseFloat(Z.substr(1));q==="+"?Z=Q.currentTime+et:q==="-"&&(Z=Q.currentTime-et)}Q.currentTime=Z,this._lastUpdate=Z}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(G.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(G.VIDEO_SEEKED,this);var Z=this.video;Z&&this.updateTexture()},getProgress:function(){var Z=this.video;if(Z){var Q=Z.currentTime,q=Z.duration;if(q!==1/0&&!isNaN(q))return Q/q}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(Z){Z===void 0&&(Z=!0),this._codeMuted=Z;var Q=this.video;return Q&&(Q.muted=this._systemMuted?!0:Z),this},isMuted:function(){return this._codeMuted},globalMute:function(Z,Q){this._systemMuted=Q;var q=this.video;q&&(q.muted=this._codeMuted?!0:Q)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(Z){Z===void 0&&(Z=!0);var Q=this.video;return this._codePaused=Z,Q&&(Z?Q.paused||Q.pause():Z||Q.paused&&!this._systemPaused&&Q.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(Z){return Z===void 0&&(Z=1),this.video&&(this.video.volume=j(Z,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(Z){return this.video&&(this.video.playbackRate=Z),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(Z){return Z===void 0&&(Z=!0),this.video&&(this.video.loop=Z),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(Z,Q){return Q===void 0&&(Q=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,Z),this._key=Z,this.flipY=Q,this.videoTextureSource&&this.videoTextureSource.setFlipY(Q),this.videoTexture},stop:function(){var Z=this.video;if(Z){var Q=this._callbacks;for(var q in Q)Z.removeEventListener(q,Q[q],!0);Z.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(G.VIDEO_STOP,this),this},removeVideoElement:function(){var Z=this.video;if(!!Z){for(Z.parentNode&&Z.parentNode.removeChild(Z);Z.hasChildNodes();)Z.removeChild(Z.firstChild);Z.removeAttribute("autoplay"),Z.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var Z=this.scene.sys.game.events;Z.off(D.PAUSE,this.globalPause,this),Z.off(D.RESUME,this.globalResume,this);var Q=this.scene.sys.sound;Q&&Q.off(W.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});Y.exports=J},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(228),O=y(470),G=y(56),D=new R({initialize:function(B){this.type=G.POLYGON,this.area=0,this.points=[],B&&this.setTo(B)},contains:function(F,B){return j(this,F,B)},setTo:function(F){if(this.area=0,this.points=[],typeof F=="string"&&(F=F.split(" ")),!Array.isArray(F))return this;for(var B,W=Number.MAX_VALUE,U=0;U<F.length;U++)B={x:0,y:0},typeof F[U]=="number"||typeof F[U]=="string"?(B.x=parseFloat(F[U]),B.y=parseFloat(F[U+1]),U++):Array.isArray(F[U])?(B.x=F[U][0],B.y=F[U][1]):(B.x=F[U].x,B.y=F[U].y),this.points.push(B),B.y<W&&(W=B.y);return this.calculateArea(W),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var F=0,B,W,U=0;U<this.points.length-1;U++)B=this.points[U],W=this.points[U+1],F+=(W.x-B.x)*(B.y+W.y);return B=this.points[0],W=this.points[this.points.length-1],F+=(B.x-W.x)*(W.y+B.y),this.area=-F*.5,this.area},getPoints:function(F,B,W){return O(this,F,B,W)}});Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){for(var G=!1,D=-1,F=R.points.length-1;++D<R.points.length;F=D){var B=R.points[D].x,W=R.points[D].y,U=R.points[F].x,X=R.points[F].y;(W<=O&&O<X||X<=O&&O<W)&&j<(U-B)*(O-W)/(X-W)+B&&(G=!G)}return G};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(11),O=y(15),G=y(2),D=y(17),F=y(478),B=y(1176),W=y(25),U=new R({Extends:O,Mixins:[j.ComputedSize,j.Depth,j.GetBounds,j.Mask,j.Origin,j.ScrollFactor,j.Transform,j.Visible,B],initialize:function(K,J,Z,Q,q,et,rt,nt){Z===void 0&&(Z=0),Q===void 0&&(Q=0),q===void 0&&(q=128),et===void 0&&(et=128),O.call(this,K,"Shader"),this.blendMode=-1,this.shader;var ot=K.sys.renderer;this.renderer=ot,this.gl=ot.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=ot.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new W,this._tempMatrix2=new W,this._tempMatrix3=new W,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=ot.width,this._rendererHeight=ot.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(Z,Q),this.setSize(q,et),this.setOrigin(.5,.5),this.setShader(J,rt,nt)},willRender:function(X){return this.renderToTexture?!0:!(O.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&X.id)},setRenderToTexture:function(X,K){if(K===void 0&&(K=!1),!this.renderToTexture){var J=this.width,Z=this.height,Q=this.renderer;this.glTexture=Q.createTextureFromSource(null,J,Z,0),this.glTexture.flipY=K,this.framebuffer=Q.createFramebuffer(J,Z,this.glTexture,!1),this._rendererWidth=J,this._rendererHeight=Z,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),X&&(this.texture=this.scene.sys.textures.addGLTexture(X,this.glTexture,J,Z))}return this.shader&&(Q.pipelines.clear(),this.load(),this.flush(),Q.pipelines.rebind()),this},setShader:function(X,K,J){if(K===void 0&&(K=[]),typeof X=="string"){var Z=this.scene.sys.cache.shader;if(!Z.has(X))return console.warn("Shader missing: "+X),this;this.shader=Z.get(X)}else this.shader=X;var Q=this.gl,q=this.renderer;this.program&&Q.deleteProgram(this.program);var et=q.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);Q.uniformMatrix4fv(Q.getUniformLocation(et,"uViewMatrix"),!1,this.viewMatrix),Q.uniformMatrix4fv(Q.getUniformLocation(et,"uProjectionMatrix"),!1,this.projectionMatrix),Q.uniform2f(Q.getUniformLocation(et,"uResolution"),this.width,this.height),this.program=et;var rt=new Date,nt={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[rt.getFullYear(),rt.getMonth(),rt.getDate(),rt.getHours()*60*60+rt.getMinutes()*60+rt.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=D(!0,{},this.shader.uniforms,nt):this.uniforms=nt;for(var ot=0;ot<4;ot++)K[ot]&&this.setSampler2D("iChannel"+ot,K[ot],ot,J);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(X){return this.pointer=X,this},projOrtho:function(X,K,J,Z){var Q=-1e3,q=1e3,et=1/(X-K),rt=1/(J-Z),nt=1/(Q-q),ot=this.projectionMatrix;ot[0]=-2*et,ot[5]=-2*rt,ot[10]=2*nt,ot[12]=(X+K)*et,ot[13]=(Z+J)*rt,ot[14]=(q+Q)*nt;var ht=this.program,ut=this.gl,ct=this.renderer;ct.setProgram(ht),ut.uniformMatrix4fv(ut.getUniformLocation(ht,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=K,this._rendererHeight=J},initUniforms:function(){var X=this.gl,K=this.renderer.glFuncMap,J=this.program;this._textureCount=0;for(var Z in this.uniforms){var Q=this.uniforms[Z],q=Q.type,et=K[q];Q.uniformLocation=X.getUniformLocation(J,Z),q!=="sampler2D"&&(Q.glMatrix=et.matrix,Q.glValueLength=et.length,Q.glFunc=et.func)}},setSampler2DBuffer:function(X,K,J,Z,Q,q){Q===void 0&&(Q=0),q===void 0&&(q={});var et=this.uniforms[X];return et.value=K,q.width=J,q.height=Z,et.textureData=q,this._textureCount=Q,this.initSampler2D(et),this},setSampler2D:function(X,K,J,Z){J===void 0&&(J=0);var Q=this.scene.sys.textures;if(Q.exists(K)){var q=Q.getFrame(K);if(q.glTexture&&q.glTexture.isRenderTexture)return this.setSampler2DBuffer(X,q.glTexture,q.width,q.height,J,Z);var et=this.uniforms[X],rt=q.source;et.textureKey=K,et.source=rt.image,et.value=q.glTexture,rt.isGLTexture&&(Z||(Z={}),Z.width=rt.width,Z.height=rt.height),Z&&(et.textureData=Z),this._textureCount=J,this.initSampler2D(et)}return this},setUniform:function(X,K){return F(this.uniforms,X,K),this},getUniform:function(X){return G(this.uniforms,X,null)},setChannel0:function(X,K){return this.setSampler2D("iChannel0",X,0,K)},setChannel1:function(X,K){return this.setSampler2D("iChannel1",X,1,K)},setChannel2:function(X,K){return this.setSampler2D("iChannel2",X,2,K)},setChannel3:function(X,K){return this.setSampler2D("iChannel3",X,3,K)},initSampler2D:function(X){if(!!X.value){var K=this.gl;K.activeTexture(K.TEXTURE0+this._textureCount),K.bindTexture(K.TEXTURE_2D,X.value);var J=X.textureData;if(J&&!X.value.isRenderTexture){var Z=K[G(J,"magFilter","linear").toUpperCase()],Q=K[G(J,"minFilter","linear").toUpperCase()],q=K[G(J,"wrapS","repeat").toUpperCase()],et=K[G(J,"wrapT","repeat").toUpperCase()],rt=K[G(J,"format","rgba").toUpperCase()];if(J.repeat&&(q=K.REPEAT,et=K.REPEAT),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,!!J.flipY),J.width){var nt=G(J,"width",512),ot=G(J,"height",2),ht=G(J,"border",0);K.texImage2D(K.TEXTURE_2D,0,rt,nt,ot,ht,rt,K.UNSIGNED_BYTE,null)}else K.texImage2D(K.TEXTURE_2D,0,rt,K.RGBA,K.UNSIGNED_BYTE,X.source);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,Z),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,Q),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_S,q),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_WRAP_T,et)}this.renderer.setProgram(this.program),K.uniform1i(X.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var X=this.gl,K=this.uniforms,J,Z,Q,q,et,rt=0;for(var nt in K)J=K[nt],Q=J.glFunc,Z=J.glValueLength,q=J.uniformLocation,et=J.value,et!==null&&(Z===1?J.glMatrix?Q.call(X,q,J.transpose,et):Q.call(X,q,et):Z===2?Q.call(X,q,et.x,et.y):Z===3?Q.call(X,q,et.x,et.y,et.z):Z===4?Q.call(X,q,et.x,et.y,et.z,et.w):J.type==="sampler2D"&&(X.activeTexture(X.TEXTURE0+rt),X.bindTexture(X.TEXTURE_2D,et),X.uniform1i(q,rt),rt++))},load:function(X){var K=this.gl,J=this.width,Z=this.height,Q=this.renderer,q=this.program,et=this.viewMatrix;if(!this.renderToTexture){var rt=-this._displayOriginX,nt=-this._displayOriginY;et[0]=X[0],et[1]=X[1],et[4]=X[2],et[5]=X[3],et[8]=X[4],et[9]=X[5],et[12]=et[0]*rt+et[4]*nt,et[13]=et[1]*rt+et[5]*nt}K.useProgram(q),K.uniformMatrix4fv(K.getUniformLocation(q,"uViewMatrix"),!1,et),K.uniform2f(K.getUniformLocation(q,"uResolution"),this.width,this.height);var ot=this.uniforms,ht=ot.resolution;ht.value.x=J,ht.value.y=Z,ot.time.value=Q.game.loop.getDuration();var ut=this.pointer;if(ut){var ct=ot.mouse,ft=ut.x/J,dt=1-ut.y/Z;ct.value.x=ft.toFixed(2),ct.value.y=dt.toFixed(2)}this.syncUniforms()},flush:function(){var X=this.width,K=this.height,J=this.program,Z=this.gl,Q=this.vertexBuffer,q=this.renderer,et=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(q.setFramebuffer(this.framebuffer),Z.clearColor(0,0,0,0),Z.clear(Z.COLOR_BUFFER_BIT)),Z.bindBuffer(Z.ARRAY_BUFFER,Q);var rt=Z.getAttribLocation(J,"inPosition");rt!==-1&&(Z.enableVertexAttribArray(rt),Z.vertexAttribPointer(rt,2,Z.FLOAT,!1,et,0));var nt=this.vertexViewF32;nt[3]=K,nt[4]=X,nt[5]=K,nt[8]=X,nt[9]=K,nt[10]=X;var ot=6;Z.bufferSubData(Z.ARRAY_BUFFER,0,this.bytes.subarray(0,ot*et)),Z.drawArrays(Z.TRIANGLES,0,ot),this.renderToTexture&&q.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var X=this.gl;X.deleteProgram(this.program),X.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});Y.exports=U},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(11),O=y(36),G=y(116),D=y(15),F=y(479),B=y(480),W=y(19),U=y(69),X=y(1179),K=y(79),J=y(39),Z=y(117),Q=new R({Extends:D,Mixins:[j.AlphaSingle,j.BlendMode,j.Depth,j.Mask,j.Pipeline,j.Size,j.Texture,j.Transform,j.Visible,j.ScrollFactor,X],initialize:function(et,rt,nt,ot,ht,ut,ct,ft,dt,pt,yt,St){rt===void 0&&(rt=0),nt===void 0&&(nt=0),ot===void 0&&(ot="__WHITE"),D.call(this,et,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new J,this.modelScale=new J(1,1,1),this.modelRotation=new J,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new U,this.viewPosition=new J,this.viewMatrix=new U,this.projectionMatrix=new U,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var At=et.sys.renderer;this.setPosition(rt,nt),this.setTexture(ot,ht),this.setSize(At.width,At.height),this.initPipeline(),this.setPerspective(At.width,At.height),ut&&this.addVertices(ut,ct,ft,dt,pt,yt,St)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(q){return this.viewPosition.addScale(J.LEFT,q),this.dirtyCache[10]=1,this},panY:function(q){return this.viewPosition.y+=J.DOWN.y*q,this.dirtyCache[10]=1,this},panZ:function(q){return this.viewPosition.z+=q,this.dirtyCache[10]=1,this},setPerspective:function(q,et,rt,nt,ot){return rt===void 0&&(rt=45),nt===void 0&&(nt=.01),ot===void 0&&(ot=1e3),this.projectionMatrix.perspective(O(rt),q/et,nt,ot),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(q,et,rt,nt){return q===void 0&&(q=this.scene.sys.renderer.getAspectRatio()),et===void 0&&(et=1),rt===void 0&&(rt=-1e3),nt===void 0&&(nt=1e3),this.projectionMatrix.ortho(-q,q,-et,et,rt,nt),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(q){q.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(q,et,rt,nt,ot,ht,ut,ct,ft){var dt=this.scene.sys.cache.obj.get(q);return dt&&B(dt,this,et,rt,nt,ot,ht,ut,ct,ft),this},sortByDepth:function(q,et){return q.depth-et.depth},depthSort:function(){return K(this.faces,this.sortByDepth),this},addVertex:function(q,et,rt,nt,ot,ht,ut){var ct=new Z(q,et,rt,nt,ot,ht,ut);return this.vertices.push(ct),ct},addFace:function(q,et,rt){var nt=new G(q,et,rt);return this.faces.push(nt),this.dirtyCache[9]=-1,nt},addVertices:function(q,et,rt,nt,ot,ht,ut){var ct=F(q,et,rt,nt,ot,ht,ut);return ct&&(this.faces=this.faces.concat(ct.faces),this.vertices=this.vertices.concat(ct.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(q){return this.faces[q]},getFaceAt:function(q,et,rt){rt===void 0&&(rt=this.scene.sys.cameras.main);for(var nt=W(this,rt).calc,ot=this.faces,ht=[],ut=0;ut<ot.length;ut++){var ct=ot[ut];ct.contains(q,et,nt)&&ht.push(ct)}return K(ht,this.sortByDepth)},setDebug:function(q,et){return this.debugGraphic=q,!q&&!et?this.debugCallback=null:et?this.debugCallback=et:this.debugCallback=this.renderDebug,this},isDirty:function(){var q=this.modelPosition,et=this.modelRotation,rt=this.modelScale,nt=this.dirtyCache,ot=q.x,ht=q.y,ut=q.z,ct=et.x,ft=et.y,dt=et.z,pt=rt.x,yt=rt.y,St=rt.z,At=this.getFaceCount(),Ct=nt[0],Pt=nt[1],Rt=nt[2],mt=nt[3],vt=nt[4],xt=nt[5],Tt=nt[6],Et=nt[7],Ot=nt[8],Mt=nt[9];return nt[0]=ot,nt[1]=ht,nt[2]=ut,nt[3]=ct,nt[4]=ft,nt[5]=dt,nt[6]=pt,nt[7]=yt,nt[8]=St,nt[9]=At,Ct!==ot||Pt!==ht||Rt!==ut||mt!==ct||vt!==ft||xt!==dt||Tt!==pt||Et!==yt||Ot!==St||Mt!==At},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var q=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!q[10]&&!this.isDirty())){var et=this.width,rt=this.height,nt=this.viewMatrix,ot=this.viewPosition;q[10]&&(nt.identity(),nt.translate(ot),nt.invert(),q[10]=0);var ht=this.transformMatrix;ht.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var ut=ot.z,ct=this.faces,ft=0;ft<ct.length;ft++)ct[ft].transformCoordinatesLocal(ht,et,rt,ut);this.depthSort()}},renderDebug:function(q,et){for(var rt=q.debugGraphic,nt=0;nt<et.length;nt++){var ot=et[nt],ht=ot.vertex1.tx,ut=ot.vertex1.ty,ct=ot.vertex2.tx,ft=ot.vertex2.ty,dt=ot.vertex3.tx,pt=ot.vertex3.ty;rt.strokeTriangle(ht,ut,ct,ft,dt,pt)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});Y.exports=Q},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(50),j=function(O,G){return R(O.x,O.y,G.x,G.y)<=O.radius+G.radius};Y.exports=j},function(Y,tt,y){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=y(233),O=function(G,D,F){if(F===void 0&&(F=[]),j(G,D)){var B=G.x1,W=G.y1,U=G.x2,X=G.y2,K=D.x,J=D.y,Z=D.radius,Q=U-B,q=X-W,et=B-K,rt=W-J,nt=Q*Q+q*q,ot=2*(Q*et+q*rt),ht=et*et+rt*rt-Z*Z,ut=ot*ot-4*nt*ht,ct,ft;if(ut===0){var dt=-ot/(2*nt);ct=B+dt*Q,ft=W+dt*q,dt>=0&&dt<=1&&F.push(new R(ct,ft))}else if(ut>0){var pt=(-ot-Math.sqrt(ut))/(2*nt);ct=B+pt*Q,ft=W+pt*q,pt>=0&&pt<=1&&F.push(new R(ct,ft));var yt=(-ot+Math.sqrt(ut))/(2*nt);ct=B+yt*Q,ft=W+yt*q,yt>=0&&yt<=1&&F.push(new R(ct,ft))}}return F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(66),j=y(4),O=new j,G=function(D,F,B){if(B===void 0&&(B=O),R(F,D.x1,D.y1))return B.x=D.x1,B.y=D.y1,!0;if(R(F,D.x2,D.y2))return B.x=D.x2,B.y=D.y2,!0;var W=D.x2-D.x1,U=D.y2-D.y1,X=F.x-D.x1,K=F.y-D.y1,J=W*W+U*U,Z=W,Q=U;if(J>0){var q=(X*W+K*U)/J;Z*=q,Q*=q}B.x=D.x1+Z,B.y=D.y1+Q;var et=Z*Z+Q*Q;return et<=J&&Z*W+Q*U>=0&&R(F,B.x,B.y)};Y.exports=G},function(Y,tt,y){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=y(96),O=y(488),G=function(D,F,B){if(B===void 0&&(B=[]),O(D,F))for(var W=F.getLineA(),U=F.getLineB(),X=F.getLineC(),K=F.getLineD(),J=[new R,new R,new R,new R],Z=[j(W,D,J[0]),j(U,D,J[1]),j(X,D,J[2]),j(K,D,J[3])],Q=0;Q<4;Q++)Z[Q]&&B.push(J[Q]);return B};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){O===void 0&&(O=!1),G===void 0&&(G=[]);for(var D=R.x3-R.x1,F=R.y3-R.y1,B=R.x2-R.x1,W=R.y2-R.y1,U=D*D+F*F,X=D*B+F*W,K=B*B+W*W,J=U*K-X*X,Z=J===0?0:1/J,Q,q,et,rt,nt,ot,ht=R.x1,ut=R.y1,ct=0;ct<j.length&&(et=j[ct].x-ht,rt=j[ct].y-ut,nt=D*et+F*rt,ot=B*et+W*rt,Q=(K*nt-X*ot)*Z,q=(U*ot-X*nt)*Z,!(Q>=0&&q>=0&&Q+q<1&&(G.push({x:j[ct].x,y:j[ct].y}),O)));ct++);return G};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=Math.cos(G),F=Math.sin(G),B=R.x1-j,W=R.y1-O;return R.x1=B*D-W*F+j,R.y1=B*F+W*D+O,B=R.x2-j,W=R.y2-O,R.x2=B*D-W*F+j,R.y2=B*F+W*D+O,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.height===0?NaN:R.width/R.height};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=Math.cos(G),F=Math.sin(G),B=R.x1-j,W=R.y1-O;return R.x1=B*D-W*F+j,R.y1=B*F+W*D+O,B=R.x2-j,W=R.y2-O,R.x2=B*D-W*F+j,R.y2=B*F+W*D+O,B=R.x3-j,W=R.y3-O,R.x3=B*D-W*F+j,R.y3=B*F+W*D+O,R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={BUTTON_DOWN:y(1310),BUTTON_UP:y(1311),CONNECTED:y(1312),DISCONNECTED:y(1313),GAMEPAD_BUTTON_DOWN:y(1314),GAMEPAD_BUTTON_UP:y(1315)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(17),j=y(156),O=function(G,D){var F=G===void 0?j():R({},G);if(D)for(var B in D)D[B]!==void 0&&(F[B]=D[B]);return F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=y(408),W=new R({Extends:O,initialize:function(X,K,J,Z){var Q="xml";if(F(K)){var q=K;K=D(q,"key"),J=D(q,"url"),Z=D(q,"xhrSettings"),Q=D(q,"extension",Q)}var et={type:"xml",cache:X.cacheManager.xml,extension:Q,responseType:"text",key:K,url:J,xhrSettings:Z};O.call(this,X,et)},onProcess:function(){this.state=j.FILE_PROCESSING,this.data=B(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});G.register("xml",function(U,X,K){if(Array.isArray(U))for(var J=0;J<U.length;J++)this.addFile(new W(this,U[J]));else this.addFile(new W(this,U,X,K));return this}),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=new R({Extends:O,initialize:function(U,X,K,J){var Z="text",Q="txt",q=U.cacheManager.text;if(F(X)){var et=X;X=D(et,"key"),K=D(et,"url"),J=D(et,"xhrSettings"),Q=D(et,"extension",Q),Z=D(et,"type",Z),q=D(et,"cache",q)}var rt={type:Z,cache:q,extension:Q,responseType:"text",key:X,url:K,xhrSettings:J};O.call(this,U,rt)},onProcess:function(){this.state=j.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});G.register("text",function(W,U,X){if(Array.isArray(W))for(var K=0;K<W.length;K++)this.addFile(new B(this,W[K]));else this.addFile(new B(this,W,U,X));return this}),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Acceleration:y(1368),Angular:y(1369),Bounce:y(1370),Debug:y(1371),Drag:y(1372),Enable:y(1373),Friction:y(1374),Gravity:y(1375),Immovable:y(1376),Mass:y(1377),OverlapCirc:y(523),OverlapRect:y(244),Pushable:y(1378),Size:y(1379),Velocity:y(1380)}},function(Y,tt){var y=function(R,j,O,G,D,F,B){F===void 0&&(F=!0),B===void 0&&(B=!1);var W=[],U=[],X=R.treeMinMax;if(X.minX=j,X.minY=O,X.maxX=j+G,X.maxY=O+D,B&&(U=R.staticTree.search(X)),F&&R.useTree)W=R.tree.search(X);else if(F){var K=R.bodies,J={position:{x:j,y:O},left:j,top:O,right:j+G,bottom:O+D,isCircle:!1},Z=R.intersects;K.iterate(function(Q){Z(Q,J)&&W.push(Q)})}return U.concat(W)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={COLLIDE:y(1381),OVERLAP:y(1382),PAUSE:y(1383),RESUME:y(1384),TILE_COLLIDE:y(1385),TILE_OVERLAP:y(1386),WORLD_BOUNDS:y(1387),WORLD_STEP:y(1388)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(62),j=function(O,G,D,F){var B=0,W=O.deltaAbsX()+G.deltaAbsX()+F;return O._dx===0&&G._dx===0?(O.embedded=!0,G.embedded=!0):O._dx>G._dx?(B=O.right-G.x,B>W&&!D||O.checkCollision.right===!1||G.checkCollision.left===!1?B=0:(O.touching.none=!1,O.touching.right=!0,G.touching.none=!1,G.touching.left=!0,G.physicsType===R.STATIC_BODY&&!D&&(O.blocked.none=!1,O.blocked.right=!0),O.physicsType===R.STATIC_BODY&&!D&&(G.blocked.none=!1,G.blocked.left=!0))):O._dx<G._dx&&(B=O.x-G.width-G.x,-B>W&&!D||O.checkCollision.left===!1||G.checkCollision.right===!1?B=0:(O.touching.none=!1,O.touching.left=!0,G.touching.none=!1,G.touching.right=!0,G.physicsType===R.STATIC_BODY&&!D&&(O.blocked.none=!1,O.blocked.left=!0),O.physicsType===R.STATIC_BODY&&!D&&(G.blocked.none=!1,G.blocked.right=!0))),O.overlapX=B,G.overlapX=B,B};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(62),j=function(O,G,D,F){var B=0,W=O.deltaAbsY()+G.deltaAbsY()+F;return O._dy===0&&G._dy===0?(O.embedded=!0,G.embedded=!0):O._dy>G._dy?(B=O.bottom-G.y,B>W&&!D||O.checkCollision.down===!1||G.checkCollision.up===!1?B=0:(O.touching.none=!1,O.touching.down=!0,G.touching.none=!1,G.touching.up=!0,G.physicsType===R.STATIC_BODY&&!D&&(O.blocked.none=!1,O.blocked.down=!0),O.physicsType===R.STATIC_BODY&&!D&&(G.blocked.none=!1,G.blocked.up=!0))):O._dy<G._dy&&(B=O.y-G.bottom,-B>W&&!D||O.checkCollision.up===!1||G.checkCollision.down===!1?B=0:(O.touching.none=!1,O.touching.up=!0,G.touching.none=!1,G.touching.down=!0,G.physicsType===R.STATIC_BODY&&!D&&(O.blocked.none=!1,O.blocked.up=!0),O.physicsType===R.STATIC_BODY&&!D&&(G.blocked.none=!1,G.blocked.down=!0))),O.overlapY=B,G.overlapY=B,B};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return!(j.right<=R.left||j.bottom<=R.top||j.position.x>=R.right||j.position.y>=R.bottom)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Bounce:y(1495),Collision:y(1496),Force:y(1497),Friction:y(1498),Gravity:y(1499),Mass:y(1500),Sensor:y(1501),SetBody:y(1502),Sleep:y(1503),Static:y(1520),Transform:y(1521),Velocity:y(1522)}},function(Y,tt){var y={};Y.exports=y,function(){y.create=function(R,j){var O=R.bodyA,G=R.bodyB,D={id:y.id(O,G),bodyA:O,bodyB:G,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:O.isSensor||G.isSensor,timeCreated:j,timeUpdated:j,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return y.update(D,R,j),D},y.update=function(R,j,O){if(R.collision=j,j.collided){var G=j.supports,D=R.activeContacts,F=j.parentA,B=j.parentB;R.inverseMass=F.inverseMass+B.inverseMass,R.friction=Math.min(F.friction,B.friction),R.frictionStatic=Math.max(F.frictionStatic,B.frictionStatic),R.restitution=Math.max(F.restitution,B.restitution),R.slop=Math.max(F.slop,B.slop);for(var W=0;W<G.length;W++)D[W]=G[W].contact;var U=G.length;U<D.length&&(D.length=U),R.separation=j.depth,y.setActive(R,!0,O)}else R.isActive===!0&&y.setActive(R,!1,O)},y.setActive=function(R,j,O){j?(R.isActive=!0,R.timeUpdated=O):(R.isActive=!1,R.activeContacts.length=0)},y.id=function(R,j){return R.id<j.id?"A"+R.id+"B"+j.id:"A"+j.id+"B"+R.id}}()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={CalculateFacesAt:y(252),CalculateFacesWithin:y(63),CheckIsoBounds:y(541),Copy:y(1420),CreateFromTiles:y(1421),CullBounds:y(543),CullTiles:y(544),Fill:y(1422),FilterTiles:y(1423),FindByIndex:y(1424),FindTile:y(1425),ForEachTile:y(1426),GetCullTilesFunction:y(1427),GetTileAt:y(158),GetTileAtWorldXY:y(1428),GetTilesWithin:y(26),GetTilesWithinShape:y(1429),GetTilesWithinWorldXY:y(529),GetTileToWorldXFunction:y(1430),GetTileToWorldXYFunction:y(1431),GetTileToWorldYFunction:y(1432),GetWorldToTileXFunction:y(1433),GetWorldToTileXYFunction:y(1434),GetWorldToTileYFunction:y(1435),HasTileAt:y(562),HasTileAtWorldXY:y(1436),HexagonalCullBounds:y(546),HexagonalCullTiles:y(545),HexagonalTileToWorldXY:y(550),HexagonalTileToWorldY:y(554),HexagonalWorldToTileXY:y(556),HexagonalWorldToTileY:y(560),IsInLayerBounds:y(119),IsometricCullTiles:y(547),IsometricTileToWorldXY:y(551),IsometricWorldToTileXY:y(557),PutTileAt:y(257),PutTileAtWorldXY:y(1437),PutTilesAt:y(1438),Randomize:y(1439),RemoveTileAt:y(563),RemoveTileAtWorldXY:y(1440),RenderDebug:y(1441),ReplaceByIndex:y(542),RunCull:y(159),SetCollision:y(1442),SetCollisionBetween:y(1443),SetCollisionByExclusion:y(1444),SetCollisionByProperty:y(1445),SetCollisionFromCollisionGroup:y(1446),SetLayerCollisionIndex:y(160),SetTileCollision:y(72),SetTileIndexCallback:y(1447),SetTileLocationCallback:y(1448),Shuffle:y(1449),StaggeredCullBounds:y(549),StaggeredCullTiles:y(548),StaggeredTileToWorldXY:y(552),StaggeredTileToWorldY:y(555),StaggeredWorldToTileXY:y(558),StaggeredWorldToTileY:y(561),SwapByIndex:y(1450),TileToWorldX:y(253),TileToWorldXY:y(553),TileToWorldY:y(254),WeightedRandomize:y(1451),WorldToTileX:y(255),WorldToTileXY:y(559),WorldToTileY:y(256)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(158),j=function(O,G,D){var F=R(O,G,!0,D),B=R(O,G-1,!0,D),W=R(O,G+1,!0,D),U=R(O-1,G,!0,D),X=R(O+1,G,!0,D),K=F&&F.collides;return K&&(F.faceTop=!0,F.faceBottom=!0,F.faceLeft=!0,F.faceRight=!0),B&&B.collides&&(K&&(F.faceTop=!1),B.faceBottom=!K),W&&W.collides&&(K&&(F.faceBottom=!1),W.faceTop=!K),U&&U.collides&&(K&&(F.faceLeft=!1),U.faceRight=!K),X&&X.collides&&(K&&(F.faceRight=!1),X.faceLeft=!K),F&&!F.collides&&F.resetFaces(),F};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=O.baseTileWidth,D=O.tilemapLayer,F=0;return D&&(j||(j=D.scene.cameras.main),F=D.x+j.scrollX*(1-D.scrollFactorX),G*=D.scaleX),F+R*G};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=O.baseTileHeight,D=O.tilemapLayer,F=0;return D&&(j||(j=D.scene.cameras.main),F=D.y+j.scrollY*(1-D.scrollFactorY),G*=D.scaleY),F+R*G};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){j===void 0&&(j=!0);var D=G.baseTileWidth,F=G.tilemapLayer;return F&&(O||(O=F.scene.cameras.main),R=R-(F.x+O.scrollX*(1-F.scrollFactorX)),D*=F.scaleX),j?Math.floor(R/D):R/D};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){j===void 0&&(j=!0);var D=G.baseTileHeight,F=G.tilemapLayer;return F&&(O||(O=F.scene.cameras.main),R=R-(F.y+O.scrollY*(1-F.scrollFactorY)),D*=F.scaleY),j?Math.floor(R/D):R/D};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(85),j=y(119),O=y(252),G=y(72),D=function(F,B,W,U,X){if(U===void 0&&(U=!0),!j(B,W,X))return null;var K=X.data[W][B],J=K&&K.collides;if(F instanceof R)X.data[W][B]===null&&(X.data[W][B]=new R(X,F.index,B,W,X.tileWidth,X.tileHeight)),X.data[W][B].copy(F);else{var Z=F;X.data[W][B]===null?X.data[W][B]=new R(X,Z,B,W,X.tileWidth,X.tileHeight):X.data[W][B].index=Z}var Q=X.data[W][B],q=X.collideIndexes.indexOf(Q.index)!==-1;return G(Q,q),U&&J!==Q.collides&&O(B,W,X),Q};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(29),j=function(O){return O=O.toLowerCase(),O==="isometric"?R.ISOMETRIC:O==="staggered"?R.STAGGERED:O==="hexagonal"?R.HEXAGONAL:R.ORTHOGONAL};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(40),j=y(120),O=y(121),G=y(85),D=function(F,B,W,U,X){for(var K=new j({tileWidth:W,tileHeight:U}),J=new O({name:F,tileWidth:W,tileHeight:U,format:R.ARRAY_2D,layers:[K]}),Z=[],Q=B.length,q=0,et=0;et<B.length;et++){Z[et]=[];for(var rt=B[et],nt=0;nt<rt.length;nt++){var ot=parseInt(rt[nt],10);isNaN(ot)||ot===-1?Z[et][nt]=X?null:new G(K,-1,nt,et,W,U):Z[et][nt]=new G(K,ot,nt,et,W,U)}q===0&&(q=rt.length)}return J.width=K.width=q,J.height=K.height=Q,J.widthInPixels=K.widthInPixels=q*W,J.heightInPixels=K.heightInPixels=Q*U,K.data=Z,J};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(571),j=y(261),O=function(F){return{x:F.x,y:F.y}},G=["id","name","type","rotation","properties","visible","x","y","width","height"],D=function(F,B,W){B===void 0&&(B=0),W===void 0&&(W=0);var U=R(F,G);if(U.x+=B,U.y+=W,F.gid){var X=j(F.gid);U.gid=X.gid,U.flippedHorizontal=X.flippedHorizontal,U.flippedVertical=X.flippedVertical,U.flippedAntiDiagonal=X.flippedAntiDiagonal}else F.polyline?U.polyline=F.polyline.map(O):F.polygon?U.polygon=F.polygon.map(O):F.ellipse?U.ellipse=F.ellipse:F.text?U.text=F.text:F.point?U.point=!0:U.rectangle=!0;return U};Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=2147483648,R=1073741824,j=536870912,O=function(G){var D=Boolean(G&y),F=Boolean(G&R),B=Boolean(G&j);G=G&~(y|R|j);var W=0,U=!1;return D&&F&&B?(W=Math.PI/2,U=!0):D&&F&&!B?(W=Math.PI,U=!1):D&&!F&&B?(W=Math.PI/2,U=!1):D&&!F&&!B?(W=0,U=!0):!D&&F&&B?(W=3*Math.PI/2,U=!1):!D&&F&&!B?(W=Math.PI,U=!0):!D&&!F&&B?(W=3*Math.PI/2,U=!0):!D&&!F&&!B&&(W=0,U=!1),{gid:G,flippedHorizontal:D,flippedVertical:F,flippedAntiDiagonal:B,rotation:W,flipped:U}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(40),j=y(121),O=y(564),G=y(580),D=function(F,B,W,U,X,K,J,Z){W===void 0&&(W=32),U===void 0&&(U=32),X===void 0&&(X=10),K===void 0&&(K=10),Z===void 0&&(Z=!1);var Q=null;if(Array.isArray(J)){var q=B!==void 0?B:"map";Q=O(q,R.ARRAY_2D,J,W,U,Z)}else if(B!==void 0){var et=F.cache.tilemap.get(B);et?Q=O(B,et.format,et.data,W,U,Z):console.warn("No map data found for key "+B)}return Q===null&&(Q=new j({tileWidth:W,tileHeight:U,width:X,height:K})),new G(F,Q)};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(6),j=function(O){var G=R(O,"targets",null);return G===null||(typeof G=="function"&&(G=G.call()),Array.isArray(G)||(G=[G])),G};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(D){return!!D.getActive&&typeof D.getActive=="function"}function R(D){return!!D.getStart&&typeof D.getStart=="function"}function j(D){return!!D.getEnd&&typeof D.getEnd=="function"}function O(D){return R(D)||j(D)||y(D)}var G=function(D,F){var B,W=function(ot,ht,ut){return ut},U=function(ot,ht,ut){return ut},X=null,K=typeof F;if(K==="number")W=function(){return F};else if(K==="string"){var J=F[0],Z=parseFloat(F.substr(2));switch(J){case"+":W=function(ot,ht,ut){return ut+Z};break;case"-":W=function(ot,ht,ut){return ut-Z};break;case"*":W=function(ot,ht,ut){return ut*Z};break;case"/":W=function(ot,ht,ut){return ut/Z};break;default:W=function(){return parseFloat(F)}}}else if(K==="function")W=F;else if(K==="object")if(O(F))y(F)&&(X=F.getActive),j(F)&&(W=F.getEnd),R(F)&&(U=F.getStart);else if(F.hasOwnProperty("value"))B=G(D,F.value);else{var Q=F.hasOwnProperty("to"),q=F.hasOwnProperty("from"),et=F.hasOwnProperty("start");if(Q&&(q||et)){if(B=G(D,F.to),et){var rt=G(D,F.start);B.getActive=rt.getEnd}if(q){var nt=G(D,F.from);B.getStart=nt.getEnd}}}return B||(B={getActive:X,getEnd:W,getStart:U}),B};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(9),O=y(267),G=y(16),D=y(5),F=y(100),B=y(14),W=new R({Extends:j,initialize:function(X,K,J){j.call(this),this.parent=X,this.parentIsTimeline=X.hasOwnProperty("isTimeline"),this.data=K,this.totalData=K.length,this.targets=J,this.totalTargets=J.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=F.PENDING_ADD,this._pausedState=F.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(U){return U===void 0&&(U=0),this.data[U].current},setTimeScale:function(U){return this.timeScale=U,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===F.ACTIVE},isPaused:function(){return this.state===F.PAUSED},hasTarget:function(U){return this.targets.indexOf(U)!==-1},updateTo:function(U,X,K){K===void 0&&(K=!1);for(var J=0;J<this.totalData;J++){var Z=this.data[J];Z.key===U&&(Z.end=X,K&&(Z.start=Z.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===F.ACTIVE?this.seek(0):this.state===F.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===F.PENDING_ADD?this:this.play()},calcDuration:function(){for(var U=0,X=B.MAX_SAFE_INTEGER,K=this.data,J=0;J<this.totalData;J++){var Z=K[J];Z.t1=Z.duration+Z.hold,Z.yoyo&&(Z.t1+=Z.duration),Z.t2=Z.t1+Z.repeatDelay,Z.totalDuration=Z.delay+Z.t1,Z.repeat===-1?Z.totalDuration+=Z.t2*999999999999:Z.repeat>0&&(Z.totalDuration+=Z.t2*Z.repeat),Z.totalDuration>U&&(U=Z.totalDuration),Z.delay<X&&(X=Z.delay)}this.duration=Math.max(U,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=X},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=F.PENDING_ADD,this._pausedState=F.INIT,!1;for(var U=this.data,X=this.totalTargets,K=0;K<this.totalData;K++){var J=U[K],Z=J.target,Q=J.gen,q=J.key,et=J.index;J.delay=Q.delay(Z,q,0,et,X,this),J.duration=Math.max(Q.duration(Z,q,0,et,X,this),.001),J.hold=Q.hold(Z,q,0,et,X,this),J.repeat=Q.repeat(Z,q,0,et,X,this),J.repeatDelay=Q.repeatDelay(Z,q,0,et,X,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=F.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(O.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=F.LOOP_DELAY):(this.state=F.ACTIVE,this.dispatchTweenEvent(O.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=F.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=F.PENDING_REMOVE,this.dispatchTweenEvent(O.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===F.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=F.PAUSED,this)},play:function(U){U===void 0&&(U=!1);var X=this.state;return X===F.INIT&&!this.parentIsTimeline?(this.resetTweenData(!1),this.state=F.ACTIVE,this):X===F.ACTIVE||X===F.PENDING_ADD&&this._pausedState===F.PENDING_ADD?this:!this.parentIsTimeline&&(X===F.PENDING_REMOVE||X===F.REMOVED)?(this.seek(0),this.parent.makeActive(this),this):(this.parentIsTimeline?(this.resetTweenData(U),this.calculatedOffset===0?this.state=F.ACTIVE:(this.countdown=this.calculatedOffset,this.state=F.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(U),this.state=F.ACTIVE,this.makeActive()),this)},resetTweenData:function(U){for(var X=this.data,K=this.totalData,J=this.totalTargets,Z=0;Z<K;Z++){var Q=X[Z],q=Q.target,et=Q.key,rt=Q.index;Q.progress=0,Q.elapsed=0,Q.repeatCounter=Q.repeat===-1?999999999999:Q.repeat,U?(Q.start=Q.getStartValue(q,et,Q.start,rt,J,this),Q.end=Q.getEndValue(q,et,Q.end,rt,J,this),Q.current=Q.start,Q.state=F.PLAYING_FORWARD):Q.state=F.PENDING_RENDER,Q.delay>0&&(Q.elapsed=Q.delay,Q.state=F.DELAY),Q.getActiveValue&&(q[et]=Q.getActiveValue(Q.target,Q.key,Q.start))}},resume:function(){return this.state===F.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(U,X){X===void 0&&(X=16.6),this.state===F.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var K=this.data,J=this.totalTargets,Z=0;Z<this.totalData;Z++){var Q=K[Z],q=Q.target,et=Q.gen,rt=Q.key,nt=Q.index;Q.progress=0,Q.elapsed=0,Q.repeatCounter=Q.repeat===-1?999999999999:Q.repeat,Q.delay=et.delay(q,rt,0,nt,J,this),Q.duration=Math.max(et.duration(q,rt,0,nt,J,this),.001),Q.hold=et.hold(q,rt,0,nt,J,this),Q.repeat=et.repeat(q,rt,0,nt,J,this),Q.repeatDelay=et.repeatDelay(q,rt,0,nt,J,this),Q.current=Q.start,Q.state=F.PLAYING_FORWARD,this.updateTweenData(this,Q,0,nt,J),Q.delay>0&&(Q.elapsed=Q.delay,Q.state=F.DELAY)}this.calcDuration();var ot=!1;this.state===F.PAUSED&&(ot=!0,this.state=F.ACTIVE),this.isSeeking=!0;do this.update(0,X);while(this.totalProgress<U);return this.isSeeking=!1,ot&&(this.state=F.PAUSED),this},setCallback:function(U,X,K,J){return this.callbacks[U]={func:X,scope:J,params:K},this},complete:function(U){return U===void 0&&(U=0),U?(this.state=F.COMPLETE_DELAY,this.countdown=U):(this.state=F.PENDING_REMOVE,this.dispatchTweenEvent(O.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(U){return this.state===F.ACTIVE&&U!==void 0&&this.seek(U),this.state!==F.REMOVED&&((this.state===F.PAUSED||this.state===F.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(O.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=F.PENDING_REMOVE),this},update:function(U,X){if(this.state===F.PAUSED)return!1;switch(this.useFrames&&(X=1*this.parent.timeScale),X*=this.timeScale,this.elapsed+=X,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=X,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case F.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=X,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(O.TWEEN_START,this.callbacks.onStart)));for(var K=!1,J=0;J<this.totalData;J++){var Z=this.data[J];this.updateTweenData(this,Z,X)&&(K=!0)}K||this.nextState();break;case F.LOOP_DELAY:this.countdown-=X,this.countdown<=0&&(this.state=F.ACTIVE,this.dispatchTweenEvent(O.TWEEN_LOOP,this.callbacks.onLoop));break;case F.OFFSET_DELAY:this.countdown-=X,this.countdown<=0&&(this.state=F.ACTIVE);break;case F.COMPLETE_DELAY:this.countdown-=X,this.countdown<=0&&(this.state=F.PENDING_REMOVE,this.dispatchTweenEvent(O.TWEEN_COMPLETE,this.callbacks.onComplete));break}return this.state===F.PENDING_REMOVE},dispatchTweenDataEvent:function(U,X,K){this.isSeeking||(this.emit(U,this,K.key,K.target,K.current,K.previous),X&&(X.params[1]=K.target,X.func.apply(X.scope,X.params)))},dispatchTweenEvent:function(U,X){this.isSeeking||(this.emit(U,this,this.targets),X&&(X.params[1]=this.targets,X.func.apply(X.scope,X.params)))},setStateFromEnd:function(U,X,K){return X.yoyo?(X.elapsed=K,X.progress=K/X.duration,X.flipX&&X.target.toggleFlipX(),X.flipY&&X.target.toggleFlipY(),this.dispatchTweenDataEvent(O.TWEEN_YOYO,U.callbacks.onYoyo,X),X.start=X.getStartValue(X.target,X.key,X.start,X.index,U.totalTargets,U),F.PLAYING_BACKWARD):X.repeatCounter>0?(X.repeatCounter--,X.elapsed=K,X.progress=K/X.duration,X.flipX&&X.target.toggleFlipX(),X.flipY&&X.target.toggleFlipY(),X.start=X.getStartValue(X.target,X.key,X.start,X.index,U.totalTargets,U),X.end=X.getEndValue(X.target,X.key,X.start,X.index,U.totalTargets,U),X.repeatDelay>0?(X.elapsed=X.repeatDelay-K,X.current=X.start,X.target[X.key]=X.current,F.REPEAT_DELAY):(this.dispatchTweenDataEvent(O.TWEEN_REPEAT,U.callbacks.onRepeat,X),F.PLAYING_FORWARD)):F.COMPLETE},setStateFromStart:function(U,X,K){return X.repeatCounter>0?(X.repeatCounter--,X.elapsed=K,X.progress=K/X.duration,X.flipX&&X.target.toggleFlipX(),X.flipY&&X.target.toggleFlipY(),X.end=X.getEndValue(X.target,X.key,X.start,X.index,U.totalTargets,U),X.repeatDelay>0?(X.elapsed=X.repeatDelay-K,X.current=X.start,X.target[X.key]=X.current,F.REPEAT_DELAY):(this.dispatchTweenDataEvent(O.TWEEN_REPEAT,U.callbacks.onRepeat,X),F.PLAYING_FORWARD)):F.COMPLETE},updateTweenData:function(U,X,K){var J=X.target;switch(X.state){case F.PLAYING_FORWARD:case F.PLAYING_BACKWARD:if(!J){X.state=F.COMPLETE;break}var Z=X.elapsed,Q=X.duration,q=0;Z+=K,Z>Q&&(q=Z-Q,Z=Q);var et=X.state===F.PLAYING_FORWARD,rt=Z/Q;if(X.elapsed=Z,X.progress=rt,X.previous=X.current,rt===1)et?(X.current=X.end,J[X.key]=X.end,X.hold>0?(X.elapsed=X.hold-q,X.state=F.HOLD_DELAY):X.state=this.setStateFromEnd(U,X,q)):(X.current=X.start,J[X.key]=X.start,X.state=this.setStateFromStart(U,X,q));else{var nt=et?X.ease(rt):X.ease(1-rt);X.current=X.start+(X.end-X.start)*nt,J[X.key]=X.current}this.dispatchTweenDataEvent(O.TWEEN_UPDATE,U.callbacks.onUpdate,X);break;case F.DELAY:X.elapsed-=K,X.elapsed<=0&&(X.elapsed=Math.abs(X.elapsed),X.state=F.PENDING_RENDER);break;case F.REPEAT_DELAY:X.elapsed-=K,X.elapsed<=0&&(X.elapsed=Math.abs(X.elapsed),X.state=F.PLAYING_FORWARD,this.dispatchTweenDataEvent(O.TWEEN_REPEAT,U.callbacks.onRepeat,X));break;case F.HOLD_DELAY:X.elapsed-=K,X.elapsed<=0&&(X.state=this.setStateFromEnd(U,X,Math.abs(X.elapsed)));break;case F.PENDING_RENDER:J?(X.start=X.getStartValue(J,X.key,J[X.key],X.index,U.totalTargets,U),X.end=X.getEndValue(J,X.key,X.start,X.index,U.totalTargets,U),X.current=X.start,J[X.key]=X.start,X.state=F.PLAYING_FORWARD):X.state=F.COMPLETE;break}return X.state!==F.COMPLETE}});W.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],D.register("tween",function(U){return this.scene.sys.tweens.add(U)}),G.register("tween",function(U){return this.scene.sys.tweens.create(U)}),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={TIMELINE_COMPLETE:y(1466),TIMELINE_LOOP:y(1467),TIMELINE_PAUSE:y(1468),TIMELINE_RESUME:y(1469),TIMELINE_START:y(1470),TIMELINE_UPDATE:y(1471),TWEEN_ACTIVE:y(1472),TWEEN_COMPLETE:y(1473),TWEEN_LOOP:y(1474),TWEEN_REPEAT:y(1475),TWEEN_START:y(1476),TWEEN_STOP:y(1477),TWEEN_UPDATE:y(1478),TWEEN_YOYO:y(1479)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D,F,B,W,U,X,K,J,Z,Q,q){return{target:R,index:j,key:O,getActiveValue:F,getEndValue:G,getStartValue:D,ease:B,duration:0,totalDuration:0,delay:0,yoyo:X,hold:0,repeat:0,repeatDelay:0,flipX:Q,flipY:q,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:W,duration:U,hold:K,repeat:J,repeatDelay:Z},state:0}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(68),j=function(O){return R(O,-Math.PI,Math.PI)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(68),j=function(O){return R(O,-180,180)};Y.exports=j},function(Y,tt,y){var R={};Y.exports=R;var j=y(83),O=y(32);(function(){R.fromVertices=function(G){for(var D={},F=0;F<G.length;F++){var B=(F+1)%G.length,W=j.normalise({x:G[B].y-G[F].y,y:G[F].x-G[B].x}),U=W.y===0?1/0:W.x/W.y;U=U.toFixed(3).toString(),D[U]=W}return O.values(D)},R.rotate=function(G,D){if(D!==0)for(var F=Math.cos(D),B=Math.sin(D),W=0;W<G.length;W++){var U=G[W],X;X=U.x*F-U.y*B,U.y=U.x*B+U.y*F,U.x=X}}})()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={AFTER_ADD:y(1504),AFTER_REMOVE:y(1505),AFTER_UPDATE:y(1506),BEFORE_ADD:y(1507),BEFORE_REMOVE:y(1508),BEFORE_UPDATE:y(1509),COLLISION_ACTIVE:y(1510),COLLISION_END:y(1511),COLLISION_START:y(1512),DRAG_END:y(1513),DRAG:y(1514),DRAG_START:y(1515),PAUSE:y(1516),RESUME:y(1517),SLEEP_END:y(1518),SLEEP_START:y(1519)}},function(Y,tt,y){var R={};Y.exports=R;var j=y(274),O=y(250),G=y(84);(function(){R.collisions=function(D,F){for(var B=[],W=F.pairs.table,U=F.metrics,X=0;X<D.length;X++){var K=D[X][0],J=D[X][1];if(!((K.isStatic||K.isSleeping)&&(J.isStatic||J.isSleeping))&&!!R.canCollide(K.collisionFilter,J.collisionFilter)&&(U.midphaseTests+=1,G.overlaps(K.bounds,J.bounds)))for(var Z=K.parts.length>1?1:0;Z<K.parts.length;Z++)for(var Q=K.parts[Z],q=J.parts.length>1?1:0;q<J.parts.length;q++){var et=J.parts[q];if(Q===K&&et===J||G.overlaps(Q.bounds,et.bounds)){var rt=O.id(Q,et),nt=W[rt],ot;nt&&nt.isActive?ot=nt.collision:ot=null;var ht=j.collides(Q,et,ot);U.narrowphaseTests+=1,ht.reused&&(U.narrowReuseCount+=1),ht.collided&&(B.push(ht),U.narrowDetections+=1)}}}return B},R.canCollide=function(D,F){return D.group===F.group&&D.group!==0?D.group>0:(D.mask&F.category)!=0&&(F.mask&D.category)!=0}})()},function(Y,tt,y){var R={};Y.exports=R;var j=y(64),O=y(83);(function(){R.collides=function(G,D,F){var B,W,U,X,K=!1;if(F){var J=G.parent,Z=D.parent,Q=J.speed*J.speed+J.angularSpeed*J.angularSpeed+Z.speed*Z.speed+Z.angularSpeed*Z.angularSpeed;K=F&&F.collided&&Q<.2,X=F}else X={collided:!1,bodyA:G,bodyB:D};if(F&&K){var q=X.axisBody,et=q===G?D:G,rt=[q.axes[F.axisNumber]];if(U=R._overlapAxes(q.vertices,et.vertices,rt),X.reused=!0,U.overlap<=0)return X.collided=!1,X}else{if(B=R._overlapAxes(G.vertices,D.vertices,G.axes),B.overlap<=0||(W=R._overlapAxes(D.vertices,G.vertices,D.axes),W.overlap<=0))return X.collided=!1,X;B.overlap<W.overlap?(U=B,X.axisBody=G):(U=W,X.axisBody=D),X.axisNumber=U.axisNumber}X.bodyA=G.id<D.id?G:D,X.bodyB=G.id<D.id?D:G,X.collided=!0,X.depth=U.overlap,X.parentA=X.bodyA.parent,X.parentB=X.bodyB.parent,G=X.bodyA,D=X.bodyB,O.dot(U.axis,O.sub(D.position,G.position))<0?X.normal={x:U.axis.x,y:U.axis.y}:X.normal={x:-U.axis.x,y:-U.axis.y},X.tangent=O.perp(X.normal),X.penetration=X.penetration||{},X.penetration.x=X.normal.x*X.depth,X.penetration.y=X.normal.y*X.depth;var nt=R._findSupports(G,D,X.normal),ot=[];if(j.contains(G.vertices,nt[0])&&ot.push(nt[0]),j.contains(G.vertices,nt[1])&&ot.push(nt[1]),ot.length<2){var ht=R._findSupports(D,G,O.neg(X.normal));j.contains(D.vertices,ht[0])&&ot.push(ht[0]),ot.length<2&&j.contains(D.vertices,ht[1])&&ot.push(ht[1])}return ot.length<1&&(ot=[nt[0]]),X.supports=ot,X},R._overlapAxes=function(G,D,F){for(var B=O._temp[0],W=O._temp[1],U={overlap:Number.MAX_VALUE},X,K,J=0;J<F.length;J++){if(K=F[J],R._projectToAxis(B,G,K),R._projectToAxis(W,D,K),X=Math.min(B.max-W.min,W.max-B.min),X<=0)return U.overlap=X,U;X<U.overlap&&(U.overlap=X,U.axis=K,U.axisNumber=J)}return U},R._projectToAxis=function(G,D,F){for(var B=O.dot(D[0],F),W=B,U=1;U<D.length;U+=1){var X=O.dot(D[U],F);X>W?W=X:X<B&&(B=X)}G.min=B,G.max=W},R._findSupports=function(G,D,F){for(var B=Number.MAX_VALUE,W=O._temp[0],U=D.vertices,X=G.position,K,J,Z,Q,q=0;q<U.length;q++)J=U[q],W.x=J.x-X.x,W.y=J.y-X.y,K=-O.dot(F,W),K<B&&(B=K,Z=J);var et=Z.index-1>=0?Z.index-1:U.length-1;J=U[et],W.x=J.x-X.x,W.y=J.y-X.y,B=-O.dot(F,W),Q=J;var rt=(Z.index+1)%U.length;return J=U[rt],W.x=J.x-X.x,W.y=J.y-X.y,K=-O.dot(F,W),K<B&&(Q=J),[Z,Q]}})()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={AlignTo:y(601),Angle:y(602),Call:y(603),GetFirst:y(604),GetLast:y(605),GridAlign:y(606),IncAlpha:y(678),IncX:y(679),IncXY:y(680),IncY:y(681),PlaceOnCircle:y(682),PlaceOnEllipse:y(683),PlaceOnLine:y(684),PlaceOnRectangle:y(685),PlaceOnTriangle:y(686),PlayAnimation:y(687),PropertyValueInc:y(46),PropertyValueSet:y(27),RandomCircle:y(688),RandomEllipse:y(689),RandomLine:y(690),RandomRectangle:y(691),RandomTriangle:y(692),Rotate:y(693),RotateAround:y(694),RotateAroundDistance:y(695),ScaleX:y(696),ScaleXY:y(697),ScaleY:y(698),SetAlpha:y(699),SetBlendMode:y(700),SetDepth:y(701),SetHitArea:y(702),SetOrigin:y(703),SetRotation:y(704),SetScale:y(705),SetScaleX:y(706),SetScaleY:y(707),SetScrollFactor:y(708),SetScrollFactorX:y(709),SetScrollFactorY:y(710),SetTint:y(711),SetVisible:y(712),SetX:y(713),SetXY:y(714),SetY:y(715),ShiftPosition:y(716),Shuffle:y(717),SmootherStep:y(718),SmoothStep:y(719),Spread:y(720),ToggleVisible:y(721),WrapInRectangle:y(722)}},function(Y,tt,y){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(123),j=[];j[R.BOTTOM_CENTER]=y(277),j[R.BOTTOM_LEFT]=y(278),j[R.BOTTOM_RIGHT]=y(279),j[R.LEFT_BOTTOM]=y(280),j[R.LEFT_CENTER]=y(281),j[R.LEFT_TOP]=y(282),j[R.RIGHT_BOTTOM]=y(283),j[R.RIGHT_CENTER]=y(284),j[R.RIGHT_TOP]=y(285),j[R.TOP_CENTER]=y(286),j[R.TOP_LEFT]=y(287),j[R.TOP_RIGHT]=y(288);var O=function(G,D,F,B,W){return j[F](G,D,B,W)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(42),j=y(87),O=y(88),G=y(52),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),O(F,j(B)+W),G(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(42),j=y(43),O=y(53),G=y(52),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),O(F,j(B)-W),G(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(42),j=y(44),O=y(54),G=y(52),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),O(F,j(B)+W),G(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(42),j=y(43),O=y(55),G=y(54),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,j(B)-W),O(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(89),j=y(43),O=y(90),G=y(54),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,j(B)-W),O(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(43),j=y(45),O=y(54),G=y(52),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),O(F,R(B)-W),G(F,j(B)-U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(42),j=y(44),O=y(55),G=y(53),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,j(B)+W),O(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(89),j=y(44),O=y(90),G=y(53),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,j(B)+W),O(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(44),j=y(45),O=y(53),G=y(52),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),O(F,R(B)+W),G(F,j(B)-U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(87),j=y(45),O=y(55),G=y(88),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,R(B)+W),O(F,j(B)-U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(43),j=y(45),O=y(55),G=y(53),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,R(B)-W),O(F,j(B)-U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(44),j=y(45),O=y(55),G=y(54),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,R(B)+W),O(F,j(B)-U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(123),j=[];j[R.BOTTOM_CENTER]=y(290),j[R.BOTTOM_LEFT]=y(291),j[R.BOTTOM_RIGHT]=y(292),j[R.CENTER]=y(293),j[R.LEFT_CENTER]=y(295),j[R.RIGHT_CENTER]=y(296),j[R.TOP_CENTER]=y(297),j[R.TOP_LEFT]=y(298),j[R.TOP_RIGHT]=y(299),j[R.LEFT_BOTTOM]=j[R.BOTTOM_LEFT],j[R.LEFT_TOP]=j[R.TOP_LEFT],j[R.RIGHT_BOTTOM]=j[R.BOTTOM_RIGHT],j[R.RIGHT_TOP]=j[R.TOP_RIGHT];var O=function(G,D,F,B,W){return j[F](G,D,B,W)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(42),j=y(87),O=y(55),G=y(88),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,j(B)+W),O(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(42),j=y(43),O=y(55),G=y(53),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,j(B)-W),O(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(42),j=y(44),O=y(55),G=y(54),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,j(B)+W),O(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(294),j=y(87),O=y(89),G=function(D,F,B,W){return B===void 0&&(B=0),W===void 0&&(W=0),R(D,j(F)+B,O(F)+W),D};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(88),j=y(90),O=function(G,D,F){return R(G,D),j(G,F)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(89),j=y(43),O=y(90),G=y(53),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,j(B)-W),O(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(89),j=y(44),O=y(90),G=y(54),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),G(F,j(B)+W),O(F,R(B)+U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(87),j=y(45),O=y(88),G=y(52),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),O(F,R(B)+W),G(F,j(B)-U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(43),j=y(45),O=y(53),G=y(52),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),O(F,R(B)-W),G(F,j(B)-U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(44),j=y(45),O=y(54),G=y(52),D=function(F,B,W,U){return W===void 0&&(W=0),U===void 0&&(U=0),O(F,R(B)+W),G(F,j(B)-U),F};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(169),j=y(98),O=y(14),G=y(4),D=function(F,B,W){W===void 0&&(W=new G);var U=j(B,0,O.PI2);return R(F,U,W)};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(302),j=y(169),O=y(98),G=y(14),D=function(F,B,W,U){U===void 0&&(U=[]),!B&&W>0&&(B=R(F)/W);for(var X=0;X<B;X++){var K=O(X/B,0,G.PI2);U.push(j(F,K))}return U};Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return 2*(Math.PI*R.radius)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=2,O={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(G){return G===void 0&&(G=1),this.alpha=G,this},alpha:{get:function(){return this._alpha},set:function(G){var D=R(G,0,1);this._alpha=D,D===0?this.renderFlags&=~j:this.renderFlags|=j}}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(35),j={_blendMode:R.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(O){typeof O=="string"&&(O=R[O]),O|=0,O>=-1&&(this._blendMode=O)}},setBlendMode:function(O){return this.blendMode=O,this}};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_depth:0,depth:{get:function(){return this._depth},set:function(R){this.displayList&&this.displayList.queueDepthSort(),this._depth=R}},setDepth:function(R){return R===void 0&&(R=0),this.depth=R,this}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(171),j=y(130),O=function(G,D,F,B){B===void 0&&(B=[]),!D&&F>0&&(D=j(G)/F);for(var W=0;W<D;W++){var U=W/D;B.push(R(G,U))}return B};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G,D){return D===void 0&&(D=new R),D.x=O.x1+(O.x2-O.x1)*G,D.y=O.y1+(O.y2-O.y1)*G,D};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=Math.cos(G),F=Math.sin(G),B=R.x-j,W=R.y-O;return R.x=B*D-W*F+j,R.y=B*F+W*D+O,R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(310),j=y(311),O={mask:null,setMask:function(G){return this.mask=G,this},clearMask:function(G){return G===void 0&&(G=!1),G&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(G){return G===void 0&&(this.texture||this.shader)&&(G=this),new R(this.scene,G)},createGeometryMask:function(G){return G===void 0&&this.type==="Graphics"&&(G=this),new j(this.scene,G)}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(22),O=y(91),G=new R({initialize:function(F,B){var W=F.sys.renderer;this.renderer=W,this.bitmapMask=B,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),F.sys.game.events.on(j.CONTEXT_RESTORED,this.createMask,this),W&&W.on(O.RESIZE,this.createMask,this)},createMask:function(){var D=this.renderer;if(!(!D||!D.gl)){this.mainTexture&&this.clearMask();var F=D.width,B=D.height,W=(F&F-1)==0&&(B&B-1)==0,U=D.gl,X=W?U.REPEAT:U.CLAMP_TO_EDGE,K=U.LINEAR;this.mainTexture=D.createTexture2D(0,K,K,X,X,U.RGBA,null,F,B),this.maskTexture=D.createTexture2D(0,K,K,X,X,U.RGBA,null,F,B),this.mainFramebuffer=D.createFramebuffer(F,B,this.mainTexture,!0),this.maskFramebuffer=D.createFramebuffer(F,B,this.maskTexture,!0)}},clearMask:function(){var D=this.renderer;!D||!D.gl||!this.mainTexture||(D.deleteTexture(this.mainTexture),D.deleteTexture(this.maskTexture),D.deleteFramebuffer(this.mainFramebuffer),D.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(D){this.bitmapMask=D},preRenderWebGL:function(D,F,B){D.pipelines.BITMAPMASK_PIPELINE.beginMask(this,F,B)},postRenderWebGL:function(D,F){D.pipelines.BITMAPMASK_PIPELINE.endMask(this,F)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(O.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D){this.geometryMask=D,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(O){return this.geometryMask=O,this},setInvertAlpha:function(O){return O===void 0&&(O=!0),this.invertAlpha=O,this},preRenderWebGL:function(O,G,D){var F=O.gl;O.flush(),O.maskStack.length===0&&(F.enable(F.STENCIL_TEST),F.clear(F.STENCIL_BUFFER_BIT),O.maskCount=0),O.currentCameraMask.mask!==this&&(O.currentMask.mask=this),O.maskStack.push({mask:this,camera:D}),this.applyStencil(O,D,!0),O.maskCount++},applyStencil:function(O,G,D){var F=O.gl,B=this.geometryMask,W=O.maskCount;F.colorMask(!1,!1,!1,!1),D?(F.stencilFunc(F.EQUAL,W,255),F.stencilOp(F.KEEP,F.KEEP,F.INCR)):(F.stencilFunc(F.EQUAL,W+1,255),F.stencilOp(F.KEEP,F.KEEP,F.DECR)),B.renderWebGL(O,B,G),O.flush(),F.colorMask(!0,!0,!0,!0),F.stencilOp(F.KEEP,F.KEEP,F.KEEP),D?this.invertAlpha?F.stencilFunc(F.NOTEQUAL,W+1,255):F.stencilFunc(F.EQUAL,W+1,255):this.invertAlpha?F.stencilFunc(F.NOTEQUAL,W,255):F.stencilFunc(F.EQUAL,W,255)},postRenderWebGL:function(O){var G=O.gl;O.maskStack.pop(),O.maskCount--,O.flush();var D=O.currentMask;if(O.maskStack.length===0)D.mask=null,G.disable(G.STENCIL_TEST);else{var F=O.maskStack[O.maskStack.length-1];F.mask.applyStencil(O,F.camera,!1),O.currentCameraMask.mask!==F.mask?(D.mask=F.mask,D.camera=F.camera):D.mask=null}},preRenderCanvas:function(O,G,D){var F=this.geometryMask;O.currentContext.save(),F.renderCanvas(O,F,D,null,null,!0),O.currentContext.clip()},postRenderCanvas:function(O){O.currentContext.restore()},destroy:function(){this.geometryMask=null}});Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(R,j){return j===void 0&&(j=R),this.scrollFactorX=R,this.scrollFactorY=j,this}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(14),j=y(25),O=y(177),G=y(269),D=y(270),F=y(3),B=4,W={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(U){this._scaleX=U,this._scaleY=U,U===0?this.renderFlags&=~B:this.renderFlags|=B}},scaleX:{get:function(){return this._scaleX},set:function(U){this._scaleX=U,U===0?this.renderFlags&=~B:this.renderFlags|=B}},scaleY:{get:function(){return this._scaleY},set:function(U){this._scaleY=U,U===0?this.renderFlags&=~B:this.renderFlags|=B}},angle:{get:function(){return D(this._rotation*R.RAD_TO_DEG)},set:function(U){this.rotation=D(U)*R.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(U){this._rotation=G(U)}},setPosition:function(U,X,K,J){return U===void 0&&(U=0),X===void 0&&(X=U),K===void 0&&(K=0),J===void 0&&(J=0),this.x=U,this.y=X,this.z=K,this.w=J,this},copyPosition:function(U){return U.x!==void 0&&(this.x=U.x),U.y!==void 0&&(this.y=U.y),U.z!==void 0&&(this.z=U.z),U.w!==void 0&&(this.w=U.w),this},setRandomPosition:function(U,X,K,J){return U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=this.scene.sys.scale.width),J===void 0&&(J=this.scene.sys.scale.height),this.x=U+Math.random()*K,this.y=X+Math.random()*J,this},setRotation:function(U){return U===void 0&&(U=0),this.rotation=U,this},setAngle:function(U){return U===void 0&&(U=0),this.angle=U,this},setScale:function(U,X){return U===void 0&&(U=1),X===void 0&&(X=U),this.scaleX=U,this.scaleY=X,this},setX:function(U){return U===void 0&&(U=0),this.x=U,this},setY:function(U){return U===void 0&&(U=0),this.y=U,this},setZ:function(U){return U===void 0&&(U=0),this.z=U,this},setW:function(U){return U===void 0&&(U=0),this.w=U,this},getLocalTransformMatrix:function(U){return U===void 0&&(U=new j),U.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(U,X){U===void 0&&(U=new j),X===void 0&&(X=new j);var K=this.parentContainer;if(!K)return this.getLocalTransformMatrix(U);for(U.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);K;)X.applyITRS(K.x,K.y,K._rotation,K._scaleX,K._scaleY),X.multiply(U,U),K=K.parentContainer;return U},getLocalPoint:function(U,X,K,J){K||(K=new F),J||(J=this.scene.sys.cameras.main);var Z=J.scrollX,Q=J.scrollY,q=U+Z*this.scrollFactorX-Z,et=X+Q*this.scrollFactorY-Q;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(q,et,K):O(q,et,this.x,this.y,this.rotation,this.scaleX,this.scaleY,K),this._originComponent&&(K.x+=this._displayOriginX,K.y+=this._displayOriginY),K},getParentRotation:function(){for(var U=0,X=this.parentContainer;X;)U+=X.rotation,X=X.parentContainer;return U}};Y.exports=W},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=1,R={_visible:!0,visible:{get:function(){return this._visible},set:function(j){j?(this._visible=!0,this.renderFlags|=y):(this._visible=!1,this.renderFlags&=~y)}},setVisible:function(j){return this.visible=j,this}};Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={CHANGE_DATA:y(638),CHANGE_DATA_KEY:y(639),DESTROY:y(640),REMOVE_DATA:y(641),SET_DATA:y(642)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(130),j=y(4),O=function(G,D,F,B){if(B===void 0&&(B=[]),!D&&!F)return B;D?F=Math.round(R(G)/D):D=R(G)/F;for(var W=G.x,U=G.y,X=0,K=0;K<F;K++)switch(B.push(new j(W,U)),X){case 0:W+=D,W>=G.right&&(X=1,U+=W-G.right,W=G.right);break;case 1:U+=D,U>=G.bottom&&(X=2,W-=U-G.bottom,U=G.bottom);break;case 2:W-=D,W<=G.left&&(X=3,U-=G.left-W,W=G.left);break;case 3:U-=D,U<=G.top&&(X=0,U=G.top);break}return B};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){j===void 0&&(j=1),O===void 0&&(O=[]);var G=Math.round(R.x1),D=Math.round(R.y1),F=Math.round(R.x2),B=Math.round(R.y2),W=Math.abs(F-G),U=Math.abs(B-D),X=G<F?1:-1,K=D<B?1:-1,J=W-U;O.push({x:G,y:D});for(var Z=1;!(G===F&&D===B);){var Q=J<<1;Q>-U&&(J-=U,G+=X),Q<W&&(J+=W,D+=K),Z%j==0&&O.push({x:G,y:D}),Z++}return O};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(j.length){if(j.length===1)return j[0]}else return NaN;var G=1,D,F;if(O){if(R<j[0][O])return j[0];for(;j[G][O]<R;)G++}else for(;j[G]<R;)G++;return G>j.length&&(G=j.length),O?(D=j[G-1][O],F=j[G][O],F-R<=R-D?j[G]:j[G-1]):(D=j[G-1],F=j[G],F-R<=R-D?F:D)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D,F,B,W){W===void 0&&(W=!1),this.textureKey=G,this.textureFrame=D,this.index=F,this.frame=B,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=W},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j=/\D/g;return R.sort(function(O,G){return parseInt(O.replace(j,""),10)-parseInt(G.replace(j,""),10)}),R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(185),j=y(0),O=y(102),G=y(9),D=y(132),F=y(22),B=y(2),W=y(6),U=y(186),X=y(322),K=new j({Extends:G,initialize:function(Z){G.call(this),this.game=Z,this.textureManager=null,this.globalTimeScale=1,this.anims=new O,this.mixes=new O,this.paused=!1,this.name="AnimationManager",Z.events.once(F.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(F.DESTROY,this.destroy,this)},addMix:function(J,Z,Q){var q=this.anims,et=this.mixes,rt=typeof J=="string"?J:J.key,nt=typeof Z=="string"?Z:Z.key;if(q.has(rt)&&q.has(nt)){var ot=et.get(rt);ot||(ot={}),ot[nt]=Q,et.set(rt,ot)}return this},removeMix:function(J,Z){var Q=this.mixes,q=typeof J=="string"?J:J.key,et=Q.get(q);if(et)if(Z){var rt=typeof Z=="string"?Z:Z.key;et.hasOwnProperty(rt)&&delete et[rt]}else Z||Q.delete(q);return this},getMix:function(J,Z){var Q=this.mixes,q=typeof J=="string"?J:J.key,et=typeof Z=="string"?Z:Z.key,rt=Q.get(q);return rt&&rt.hasOwnProperty(et)?rt[et]:0},add:function(J,Z){return this.anims.has(J)?(console.warn("Animation key exists: "+J),this):(Z.key=J,this.anims.set(J,Z),this.emit(D.ADD_ANIMATION,J,Z),this)},exists:function(J){return this.anims.has(J)},createFromAseprite:function(J,Z){var Q=[],q=this.game.cache.json.get(J);if(!q)return Q;var et=this,rt=W(q,"meta",null),nt=W(q,"frames",null);if(rt&&nt){var ot=W(rt,"frameTags",[]);ot.forEach(function(ht){var ut=[],ct=B(ht,"name",null),ft=B(ht,"from",0),dt=B(ht,"to",0),pt=B(ht,"direction","forward");if(!!ct&&(!Z||Z&&Z.indexOf(ct)>-1)){for(var yt=[],St=Number.MAX_SAFE_INTEGER,At=ft;At<=dt;At++){var Ct=At.toString(),Pt=nt[Ct];if(Pt){var Rt=B(Pt,"duration",Number.MAX_SAFE_INTEGER);Rt<St&&(St=Rt),yt.push({frame:Ct,duration:Rt})}}yt.forEach(function(Tt){ut.push({key:J,frame:Tt.frame,duration:St-Tt.duration})});var mt=St*ut.length;pt==="reverse"&&(ut=ut.reverse());var vt={key:ct,frames:ut,duration:mt,yoyo:pt==="pingpong"},xt=et.create(vt);xt&&Q.push(xt)}})}return Q},create:function(J){var Z=J.key,Q=!1;return Z&&(Q=this.get(Z),Q||(Q=new R(this,Z,J),this.anims.set(Z,Q),this.emit(D.ADD_ANIMATION,Z,Q))),Q},fromJSON:function(J,Z){Z===void 0&&(Z=!1),Z&&this.anims.clear(),typeof J=="string"&&(J=JSON.parse(J));var Q=[];if(J.hasOwnProperty("anims")&&Array.isArray(J.anims)){for(var q=0;q<J.anims.length;q++)Q.push(this.create(J.anims[q]));J.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=J.globalTimeScale)}else J.hasOwnProperty("key")&&J.type==="frame"&&Q.push(this.create(J));return Q},generateFrameNames:function(J,Z){var Q=W(Z,"prefix",""),q=W(Z,"start",0),et=W(Z,"end",0),rt=W(Z,"suffix",""),nt=W(Z,"zeroPad",0),ot=W(Z,"outputArray",[]),ht=W(Z,"frames",!1),ut=this.textureManager.get(J);if(!ut)return ot;var ct;if(Z)for(ht||(ht=X(q,et)),ct=0;ct<ht.length;ct++){var ft=Q+U(ht[ct],nt,"0",1)+rt;ut.has(ft)?ot.push({key:J,frame:ft}):console.warn("generateFrameNames: Frame missing: "+ft+" from texture: "+J)}else for(ht=ut.getFrameNames(),ct=0;ct<ht.length;ct++)ot.push({key:J,frame:ht[ct]});return ot},generateFrameNumbers:function(J,Z){var Q=W(Z,"start",0),q=W(Z,"end",-1),et=W(Z,"first",!1),rt=W(Z,"outputArray",[]),nt=W(Z,"frames",!1),ot=this.textureManager.get(J);if(!ot)return rt;et&&ot.has(et)&&rt.push({key:J,frame:et}),nt||(q===-1&&(q=ot.frameTotal-2),nt=X(Q,q));for(var ht=0;ht<nt.length;ht++)ot.has(nt[ht])?rt.push({key:J,frame:nt[ht]}):console.warn("generateFrameNumbers: Frame "+ht+" missing from texture: "+J);return rt},get:function(J){return this.anims.get(J)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(D.PAUSE_ALL)),this},play:function(J,Z){Array.isArray(Z)||(Z=[Z]);for(var Q=0;Q<Z.length;Q++)Z[Q].anims.play(J);return this},staggerPlay:function(J,Z,Q,q){Q===void 0&&(Q=0),q===void 0&&(q=!0),Array.isArray(Z)||(Z=[Z]);var et=Z.length;q||et--;for(var rt=0;rt<Z.length;rt++){var nt=Q<0?Math.abs(Q)*(et-rt):Q*rt;Z[rt].anims.playAfterDelay(J,nt)}return this},remove:function(J){var Z=this.get(J);return Z&&(this.emit(D.REMOVE_ANIMATION,J,Z),this.anims.delete(J),this.removeMix(J)),Z},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(D.RESUME_ALL)),this},toJSON:function(J){var Z={anims:[],globalTimeScale:this.globalTimeScale};return J!==void 0&&J!==""?Z.anims.push(this.anims.get(J).toJSON()):this.anims.each(function(Q,q){Z.anims.push(q.toJSON())}),Z},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});Y.exports=K},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=[],F,B=!1;if((O||G)&&(B=!0,O||(O=""),G||(G="")),j<R)for(F=R;F>=j;F--)B?D.push(O+F.toString()+G):D.push(F);else for(F=R;F<=j;F++)B?D.push(O+F.toString()+G):D.push(F);return D};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(102),O=y(9),G=y(324),D=new R({initialize:function(){this.entries=new j,this.events=new O},add:function(F,B){return this.entries.set(F,B),this.events.emit(G.ADD,this,F,B),this},has:function(F){return this.entries.has(F)},exists:function(F){return this.entries.has(F)},get:function(F){return this.entries.get(F)},remove:function(F){var B=this.get(F);return B&&(this.entries.delete(F),this.events.emit(G.REMOVE,this,F,B.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ADD:y(736),REMOVE:y(737)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(323),j=y(0),O=y(22),G=new j({initialize:function(F){this.game=F,this.binary=new R,this.bitmapFont=new R,this.json=new R,this.physics=new R,this.shader=new R,this.audio=new R,this.video=new R,this.text=new R,this.html=new R,this.obj=new R,this.tilemap=new R,this.xml=new R,this.custom={},this.game.events.once(O.DESTROY,this.destroy,this)},addCustom:function(D){return this.custom.hasOwnProperty(D)||(this.custom[D]=new R),this.custom[D]},destroy:function(){for(var D=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],F=0;F<D.length;F++)this[D[F]].destroy(),this[D[F]]=null;for(var B in this.custom)this.custom[B].destroy();this.custom=null,this.game=null}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(133),j=y(190),O=y(18),G=y(0),D=y(11),F=y(333),B=y(37),W=y(135),U=y(10),X=y(3),K=new G({Extends:R,Mixins:[D.Flip,D.Tint,D.Pipeline],initialize:function(Z,Q,q,et){R.call(this,Z,Q,q,et),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new F.Fade(this),this.flashEffect=new F.Flash(this),this.shakeEffect=new F.Shake(this),this.panEffect=new F.Pan(this),this.rotateToEffect=new F.RotateTo(this),this.zoomEffect=new F.Zoom(this),this.lerp=new X(1,1),this.followOffset=new X,this.deadzone=null,this._follow=null},setDeadzone:function(J,Z){if(J===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=J,this.deadzone.height=Z):this.deadzone=new U(0,0,J,Z),this._follow){var Q=this.width/2,q=this.height/2,et=this._follow.x-this.followOffset.x,rt=this._follow.y-this.followOffset.y;this.midPoint.set(et,rt),this.scrollX=et-Q,this.scrollY=rt-q}j(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(J,Z,Q,q,et,rt){return this.fadeEffect.start(!1,J,Z,Q,q,!0,et,rt)},fadeOut:function(J,Z,Q,q,et,rt){return this.fadeEffect.start(!0,J,Z,Q,q,!0,et,rt)},fadeFrom:function(J,Z,Q,q,et,rt,nt){return this.fadeEffect.start(!1,J,Z,Q,q,et,rt,nt)},fade:function(J,Z,Q,q,et,rt,nt){return this.fadeEffect.start(!0,J,Z,Q,q,et,rt,nt)},flash:function(J,Z,Q,q,et,rt,nt){return this.flashEffect.start(J,Z,Q,q,et,rt,nt)},shake:function(J,Z,Q,q,et){return this.shakeEffect.start(J,Z,Q,q,et)},pan:function(J,Z,Q,q,et,rt,nt){return this.panEffect.start(J,Z,Q,q,et,rt,nt)},rotateTo:function(J,Z,Q,q,et,rt,nt){return this.rotateToEffect.start(J,Z,Q,q,et,rt,nt)},zoomTo:function(J,Z,Q,q,et,rt){return this.zoomEffect.start(J,Z,Q,q,et,rt)},preRender:function(){this.renderList.length=0;var J=this.width,Z=this.height,Q=J*.5,q=Z*.5,et=this.zoom,rt=this.matrix,nt=J*this.originX,ot=Z*this.originY,ht=this._follow,ut=this.deadzone,ct=this.scrollX,ft=this.scrollY;ut&&j(ut,this.midPoint.x,this.midPoint.y);var dt=!1;if(ht&&!this.panEffect.isRunning){var pt=ht.x-this.followOffset.x,yt=ht.y-this.followOffset.y;ut?(pt<ut.x?ct=W(ct,ct-(ut.x-pt),this.lerp.x):pt>ut.right&&(ct=W(ct,ct+(pt-ut.right),this.lerp.x)),yt<ut.y?ft=W(ft,ft-(ut.y-yt),this.lerp.y):yt>ut.bottom&&(ft=W(ft,ft+(yt-ut.bottom),this.lerp.y))):(ct=W(ct,pt-nt,this.lerp.x),ft=W(ft,yt-ot,this.lerp.y)),dt=!0}this.useBounds&&(ct=this.clampX(ct),ft=this.clampY(ft)),this.roundPixels&&(nt=Math.round(nt),ot=Math.round(ot),ct=Math.round(ct),ft=Math.round(ft)),this.scrollX=ct,this.scrollY=ft;var St=ct+Q,At=ft+q;this.midPoint.set(St,At);var Ct=J/et,Pt=Z/et,Rt=St-Ct/2,mt=At-Pt/2;this.roundPixels&&(Rt=Math.round(Rt),mt=Math.round(mt)),this.worldView.setTo(Rt,mt,Ct,Pt),rt.applyITRS(this.x+nt,this.y+ot,this.rotation,et,et),rt.translate(-nt,-ot),this.shakeEffect.preRender(),dt&&this.emit(B.FOLLOW_UPDATE,this,ht)},setLerp:function(J,Z){return J===void 0&&(J=1),Z===void 0&&(Z=J),this.lerp.set(J,Z),this},setFollowOffset:function(J,Z){return J===void 0&&(J=0),Z===void 0&&(Z=0),this.followOffset.set(J,Z),this},startFollow:function(J,Z,Q,q,et,rt){Z===void 0&&(Z=!1),Q===void 0&&(Q=1),q===void 0&&(q=Q),et===void 0&&(et=0),rt===void 0&&(rt=et),this._follow=J,this.roundPixels=Z,Q=O(Q,0,1),q=O(q,0,1),this.lerp.set(Q,q),this.followOffset.set(et,rt);var nt=this.width/2,ot=this.height/2,ht=J.x-et,ut=J.y-rt;return this.midPoint.set(ht,ut),this.scrollX=ht-nt,this.scrollY=ut-ot,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(J,Z){this.visible&&(this.rotateToEffect.update(J,Z),this.panEffect.update(J,Z),this.zoomEffect.update(J,Z),this.shakeEffect.update(J,Z),this.flashEffect.update(J,Z),this.fadeEffect.update(J,Z))},destroy:function(){this.resetFX(),R.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});Y.exports=K},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(38),j=function(O){var G=new R;O=O.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(U,X,K,J){return X+X+K+K+J+J});var D=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(O);if(D){var F=parseInt(D[1],16),B=parseInt(D[2],16),W=parseInt(D[3],16);G.setTo(F,B,W)}return G};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){return G<<24|R<<16|j<<8|O};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){G===void 0&&(G={h:0,s:0,v:0}),R/=255,j/=255,O/=255;var D=Math.min(R,j,O),F=Math.max(R,j,O),B=F-D,W=0,U=F===0?0:B/F,X=F;return F!==D&&(F===R?W=(j-O)/B+(j<O?6:0):F===j?W=(O-R)/B+2:F===O&&(W=(R-j)/B+4),W/=6),G.hasOwnProperty("_h")?(G._h=W,G._s=U,G._v=X):(G.h=W,G.s=U,G.v=X),G};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R>16777215?{a:R>>>24,r:R>>16&255,g:R>>8&255,b:R&255}:{a:255,r:R>>16&255,g:R>>8&255,b:R&255}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(38),j=function(O){return new R(O.r,O.g,O.b,O.a)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(38),j=function(O){var G=new R,D=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(O.toLowerCase());if(D){var F=parseInt(D[1],10),B=parseInt(D[2],10),W=parseInt(D[3],10),U=D[4]!==void 0?parseFloat(D[4]):1;G.setTo(F,B,W,U*255)}return G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Fade:y(761),Flash:y(762),Pan:y(763),Shake:y(796),RotateTo:y(797),Zoom:y(798)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={In:y(764),Out:y(765),InOut:y(766)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={In:y(767),Out:y(768),InOut:y(769)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={In:y(770),Out:y(771),InOut:y(772)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={In:y(773),Out:y(774),InOut:y(775)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={In:y(776),Out:y(777),InOut:y(778)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={In:y(779),Out:y(780),InOut:y(781)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports=y(782)},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={In:y(783),Out:y(784),InOut:y(785)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={In:y(786),Out:y(787),InOut:y(788)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={In:y(789),Out:y(790),InOut:y(791)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={In:y(792),Out:y(793),InOut:y(794)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports=y(795)},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(33),O=y(347),G=y(2),D=y(6),F=y(7),B=y(193),W=y(1),U=y(197),X=y(187),K=new R({initialize:function(Z){Z===void 0&&(Z={});var Q=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],q="#ffffff";this.width=D(Z,"width",1024),this.height=D(Z,"height",768),this.zoom=D(Z,"zoom",1),this.parent=D(Z,"parent",void 0),this.scaleMode=D(Z,"scaleMode",0),this.expandParent=D(Z,"expandParent",!0),this.autoRound=D(Z,"autoRound",!1),this.autoCenter=D(Z,"autoCenter",0),this.resizeInterval=D(Z,"resizeInterval",500),this.fullscreenTarget=D(Z,"fullscreenTarget",null),this.minWidth=D(Z,"minWidth",0),this.maxWidth=D(Z,"maxWidth",0),this.minHeight=D(Z,"minHeight",0),this.maxHeight=D(Z,"maxHeight",0);var et=D(Z,"scale",null);et&&(this.width=D(et,"width",this.width),this.height=D(et,"height",this.height),this.zoom=D(et,"zoom",this.zoom),this.parent=D(et,"parent",this.parent),this.scaleMode=D(et,"mode",this.scaleMode),this.expandParent=D(et,"expandParent",this.expandParent),this.autoRound=D(et,"autoRound",this.autoRound),this.autoCenter=D(et,"autoCenter",this.autoCenter),this.resizeInterval=D(et,"resizeInterval",this.resizeInterval),this.fullscreenTarget=D(et,"fullscreenTarget",this.fullscreenTarget),this.minWidth=D(et,"min.width",this.minWidth),this.maxWidth=D(et,"max.width",this.maxWidth),this.minHeight=D(et,"min.height",this.minHeight),this.maxHeight=D(et,"max.height",this.maxHeight)),this.renderType=D(Z,"type",j.AUTO),this.canvas=D(Z,"canvas",null),this.context=D(Z,"context",null),this.canvasStyle=D(Z,"canvasStyle",null),this.customEnvironment=D(Z,"customEnvironment",!1),this.sceneConfig=D(Z,"scene",null),this.seed=D(Z,"seed",[(Date.now()*Math.random()).toString()]),B.RND=new B.RandomDataGenerator(this.seed),this.gameTitle=D(Z,"title",""),this.gameURL=D(Z,"url","https://phaser.io"),this.gameVersion=D(Z,"version",""),this.autoFocus=D(Z,"autoFocus",!0),this.domCreateContainer=D(Z,"dom.createContainer",!1),this.domBehindCanvas=D(Z,"dom.behindCanvas",!1),this.domPointerEvents=D(Z,"dom.pointerEvents","none"),this.inputKeyboard=D(Z,"input.keyboard",!0),this.inputKeyboardEventTarget=D(Z,"input.keyboard.target",window),this.inputKeyboardCapture=D(Z,"input.keyboard.capture",[]),this.inputMouse=D(Z,"input.mouse",!0),this.inputMouseEventTarget=D(Z,"input.mouse.target",null),this.inputMousePreventDefaultDown=D(Z,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=D(Z,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=D(Z,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=D(Z,"input.mouse.preventDefaultWheel",!0),this.inputTouch=D(Z,"input.touch",O.input.touch),this.inputTouchEventTarget=D(Z,"input.touch.target",null),this.inputTouchCapture=D(Z,"input.touch.capture",!0),this.inputActivePointers=D(Z,"input.activePointers",1),this.inputSmoothFactor=D(Z,"input.smoothFactor",0),this.inputWindowEvents=D(Z,"input.windowEvents",!0),this.inputGamepad=D(Z,"input.gamepad",!1),this.inputGamepadEventTarget=D(Z,"input.gamepad.target",window),this.disableContextMenu=D(Z,"disableContextMenu",!1),this.audio=D(Z,"audio",{}),this.hideBanner=D(Z,"banner",null)===!1,this.hidePhaser=D(Z,"banner.hidePhaser",!1),this.bannerTextColor=D(Z,"banner.text",q),this.bannerBackgroundColor=D(Z,"banner.background",Q),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=D(Z,"fps",null);var rt=D(Z,"render",Z);this.pipeline=D(rt,"pipeline",null),this.antialias=D(rt,"antialias",!0),this.antialiasGL=D(rt,"antialiasGL",!0),this.mipmapFilter=D(rt,"mipmapFilter","LINEAR"),this.desynchronized=D(rt,"desynchronized",!1),this.roundPixels=D(rt,"roundPixels",!1),this.pixelArt=D(rt,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=D(rt,"transparent",!1),this.clearBeforeRender=D(rt,"clearBeforeRender",!0),this.preserveDrawingBuffer=D(rt,"preserveDrawingBuffer",!1),this.premultipliedAlpha=D(rt,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=D(rt,"failIfMajorPerformanceCaveat",!1),this.powerPreference=D(rt,"powerPreference","default"),this.batchSize=D(rt,"batchSize",4096),this.maxTextures=D(rt,"maxTextures",-1),this.maxLights=D(rt,"maxLights",10);var nt=D(Z,"backgroundColor",0);this.backgroundColor=X(nt),this.transparent&&(this.backgroundColor=X(0),this.backgroundColor.alpha=0),this.preBoot=D(Z,"callbacks.preBoot",W),this.postBoot=D(Z,"callbacks.postBoot",W),this.physics=D(Z,"physics",{}),this.defaultPhysicsSystem=D(this.physics,"default",!1),this.loaderBaseURL=D(Z,"loader.baseURL",""),this.loaderPath=D(Z,"loader.path","");var ot=O.os.android?6:32;this.loaderMaxParallelDownloads=D(Z,"loader.maxParallelDownloads",ot),this.loaderCrossOrigin=D(Z,"loader.crossOrigin",void 0),this.loaderResponseType=D(Z,"loader.responseType",""),this.loaderAsync=D(Z,"loader.async",!0),this.loaderUser=D(Z,"loader.user",""),this.loaderPassword=D(Z,"loader.password",""),this.loaderTimeout=D(Z,"loader.timeout",0),this.loaderWithCredentials=D(Z,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var ht=D(Z,"plugins",null),ut=U.DefaultScene;ht&&(Array.isArray(ht)?this.defaultPlugins=ht:F(ht)&&(this.installGlobalPlugins=G(ht,"global",[]),this.installScenePlugins=G(ht,"scene",[]),Array.isArray(ht.default)?ut=ht.default:Array.isArray(ht.defaultMerge)&&(ut=ut.concat(ht.defaultMerge)))),this.defaultPlugins=ut;var ct="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=D(Z,"images.default",ct+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=D(Z,"images.missing",ct+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=D(Z,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=j.WEBGL:window.FORCE_CANVAS&&(this.renderType=j.CANVAS))}});Y.exports=K},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={os:y(105),browser:y(136),features:y(191),input:y(808),audio:y(809),video:y(810),fullscreen:y(811),canvasFeatures:y(348)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(31),j={supportInverseAlpha:!1,supportNewBlendModes:!1};function O(){var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",B="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",W=new Image;return W.onload=function(){var U=new Image;U.onload=function(){var X=R.create(U,6,1),K=X.getContext("2d");if(K.globalCompositeOperation="multiply",K.drawImage(W,0,0),K.drawImage(U,2,0),!K.getImageData(2,0,1,1))return!1;var J=K.getImageData(2,0,1,1).data;R.remove(U),j.supportNewBlendModes=J[0]===255&&J[1]===0&&J[2]===0},U.src=F+"/wCKxvRF"+B},W.src=F+"AP804Oa6"+B,!1}function G(){var F=R.create(this,2,1),B=F.getContext("2d");B.fillStyle="rgba(10, 20, 30, 0.5)",B.fillRect(0,0,1,1);var W=B.getImageData(0,0,1,1);if(W===null)return!1;B.putImageData(W,1,0);var U=B.getImageData(1,0,1,1);return U.data[0]===W.data[0]&&U.data[1]===W.data[1]&&U.data[2]===W.data[2]&&U.data[3]===W.data[3]}function D(){return typeof importScripts!="function"&&document!==void 0&&(j.supportNewBlendModes=O(),j.supportInverseAlpha=G()),j}Y.exports=D()},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){return Math.atan2(G-j,O-R)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return Math.atan2(j.y-R.y,j.x-R.x)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R=R%(2*Math.PI),R>=0?R:R+2*Math.PI};Y.exports=y},function(Y,tt){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.x-j.x,G=R.y-j.y;return Math.sqrt(O*O+G*G)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=R-O,F=j-G;return D*D+F*F};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return O===void 0&&(O=1e-4),R>j-O};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return O===void 0&&(O=1e-4),R<j+O};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(357),j=function(O,G){return R(O)/R(G)/R(O-G)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){if(R===0)return 1;for(var j=R;--R;)j*=R;return j};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(D,F){var B=1-D;return B*B*B*F}function R(D,F){var B=1-D;return 3*B*B*D*F}function j(D,F){return 3*(1-D)*D*D*F}function O(D,F){return D*D*D*F}var G=function(D,F,B,W,U){return y(D,F)+R(D,B)+j(D,W)+O(D,U)};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(G,D){var F=1-G;return F*F*D}function R(G,D){return 2*(1-G)*G*D}function j(G,D){return G*G*D}var O=function(G,D,F,B){return y(G,D)+R(G,F)+j(G,B)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(184),j=function(O,G,D){return G+(D-G)*R(O,0,1)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j=Math.log(R)/.6931471805599453;return 1<<Math.ceil(j)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.x,G=R.y;return R.x=O*Math.cos(j)-G*Math.sin(j),R.y=O*Math.sin(j)+G*Math.cos(j),R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R>0?Math.ceil(R):Math.floor(R)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G){this.val=new Float32Array(9),G?this.copy(G):this.identity()},clone:function(){return new j(this)},set:function(O){return this.copy(O)},copy:function(O){var G=this.val,D=O.val;return G[0]=D[0],G[1]=D[1],G[2]=D[2],G[3]=D[3],G[4]=D[4],G[5]=D[5],G[6]=D[6],G[7]=D[7],G[8]=D[8],this},fromMat4:function(O){var G=O.val,D=this.val;return D[0]=G[0],D[1]=G[1],D[2]=G[2],D[3]=G[4],D[4]=G[5],D[5]=G[6],D[6]=G[8],D[7]=G[9],D[8]=G[10],this},fromArray:function(O){var G=this.val;return G[0]=O[0],G[1]=O[1],G[2]=O[2],G[3]=O[3],G[4]=O[4],G[5]=O[5],G[6]=O[6],G[7]=O[7],G[8]=O[8],this},identity:function(){var O=this.val;return O[0]=1,O[1]=0,O[2]=0,O[3]=0,O[4]=1,O[5]=0,O[6]=0,O[7]=0,O[8]=1,this},transpose:function(){var O=this.val,G=O[1],D=O[2],F=O[5];return O[1]=O[3],O[2]=O[6],O[3]=G,O[5]=O[7],O[6]=D,O[7]=F,this},invert:function(){var O=this.val,G=O[0],D=O[1],F=O[2],B=O[3],W=O[4],U=O[5],X=O[6],K=O[7],J=O[8],Z=J*W-U*K,Q=-J*B+U*X,q=K*B-W*X,et=G*Z+D*Q+F*q;return et?(et=1/et,O[0]=Z*et,O[1]=(-J*D+F*K)*et,O[2]=(U*D-F*W)*et,O[3]=Q*et,O[4]=(J*G-F*X)*et,O[5]=(-U*G+F*B)*et,O[6]=q*et,O[7]=(-K*G+D*X)*et,O[8]=(W*G-D*B)*et,this):null},adjoint:function(){var O=this.val,G=O[0],D=O[1],F=O[2],B=O[3],W=O[4],U=O[5],X=O[6],K=O[7],J=O[8];return O[0]=W*J-U*K,O[1]=F*K-D*J,O[2]=D*U-F*W,O[3]=U*X-B*J,O[4]=G*J-F*X,O[5]=F*B-G*U,O[6]=B*K-W*X,O[7]=D*X-G*K,O[8]=G*W-D*B,this},determinant:function(){var O=this.val,G=O[0],D=O[1],F=O[2],B=O[3],W=O[4],U=O[5],X=O[6],K=O[7],J=O[8];return G*(J*W-U*K)+D*(-J*B+U*X)+F*(K*B-W*X)},multiply:function(O){var G=this.val,D=G[0],F=G[1],B=G[2],W=G[3],U=G[4],X=G[5],K=G[6],J=G[7],Z=G[8],Q=O.val,q=Q[0],et=Q[1],rt=Q[2],nt=Q[3],ot=Q[4],ht=Q[5],ut=Q[6],ct=Q[7],ft=Q[8];return G[0]=q*D+et*W+rt*K,G[1]=q*F+et*U+rt*J,G[2]=q*B+et*X+rt*Z,G[3]=nt*D+ot*W+ht*K,G[4]=nt*F+ot*U+ht*J,G[5]=nt*B+ot*X+ht*Z,G[6]=ut*D+ct*W+ft*K,G[7]=ut*F+ct*U+ft*J,G[8]=ut*B+ct*X+ft*Z,this},translate:function(O){var G=this.val,D=O.x,F=O.y;return G[6]=D*G[0]+F*G[3]+G[6],G[7]=D*G[1]+F*G[4]+G[7],G[8]=D*G[2]+F*G[5]+G[8],this},rotate:function(O){var G=this.val,D=G[0],F=G[1],B=G[2],W=G[3],U=G[4],X=G[5],K=Math.sin(O),J=Math.cos(O);return G[0]=J*D+K*W,G[1]=J*F+K*U,G[2]=J*B+K*X,G[3]=J*W-K*D,G[4]=J*U-K*F,G[5]=J*X-K*B,this},scale:function(O){var G=this.val,D=O.x,F=O.y;return G[0]=D*G[0],G[1]=D*G[1],G[2]=D*G[2],G[3]=F*G[3],G[4]=F*G[4],G[5]=F*G[5],this},fromQuat:function(O){var G=O.x,D=O.y,F=O.z,B=O.w,W=G+G,U=D+D,X=F+F,K=G*W,J=G*U,Z=G*X,Q=D*U,q=D*X,et=F*X,rt=B*W,nt=B*U,ot=B*X,ht=this.val;return ht[0]=1-(Q+et),ht[3]=J+ot,ht[6]=Z-nt,ht[1]=J-ot,ht[4]=1-(K+et),ht[7]=q+rt,ht[2]=Z+nt,ht[5]=q-rt,ht[8]=1-(K+Q),this},normalFromMat4:function(O){var G=O.val,D=this.val,F=G[0],B=G[1],W=G[2],U=G[3],X=G[4],K=G[5],J=G[6],Z=G[7],Q=G[8],q=G[9],et=G[10],rt=G[11],nt=G[12],ot=G[13],ht=G[14],ut=G[15],ct=F*K-B*X,ft=F*J-W*X,dt=F*Z-U*X,pt=B*J-W*K,yt=B*Z-U*K,St=W*Z-U*J,At=Q*ot-q*nt,Ct=Q*ht-et*nt,Pt=Q*ut-rt*nt,Rt=q*ht-et*ot,mt=q*ut-rt*ot,vt=et*ut-rt*ht,xt=ct*vt-ft*mt+dt*Rt+pt*Pt-yt*Ct+St*At;return xt?(xt=1/xt,D[0]=(K*vt-J*mt+Z*Rt)*xt,D[1]=(J*Pt-X*vt-Z*Ct)*xt,D[2]=(X*mt-K*Pt+Z*At)*xt,D[3]=(W*mt-B*vt-U*Rt)*xt,D[4]=(F*vt-W*Pt+U*Ct)*xt,D[5]=(B*Pt-F*mt-U*At)*xt,D[6]=(ot*St-ht*yt+ut*pt)*xt,D[7]=(ht*dt-nt*St-ut*ft)*xt,D[8]=(nt*yt-ot*dt+ut*ct)*xt,this):null}});Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(364),O=y(1),G=y(39),D=1e-6,F=new Int8Array([1,2,0]),B=new Float32Array([0,0,0]),W=new G(1,0,0),U=new G(0,1,0),X=new G,K=new j,J=new R({initialize:function(Q,q,et,rt){this.onChangeCallback=O,this.set(Q,q,et,rt)},x:{get:function(){return this._x},set:function(Z){this._x=Z,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(Z){this._y=Z,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(Z){this._z=Z,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(Z){this._w=Z,this.onChangeCallback(this)}},copy:function(Z){return this.set(Z)},set:function(Z,Q,q,et,rt){return rt===void 0&&(rt=!0),typeof Z=="object"?(this._x=Z.x||0,this._y=Z.y||0,this._z=Z.z||0,this._w=Z.w||0):(this._x=Z||0,this._y=Q||0,this._z=q||0,this._w=et||0),rt&&this.onChangeCallback(this),this},add:function(Z){return this._x+=Z.x,this._y+=Z.y,this._z+=Z.z,this._w+=Z.w,this.onChangeCallback(this),this},subtract:function(Z){return this._x-=Z.x,this._y-=Z.y,this._z-=Z.z,this._w-=Z.w,this.onChangeCallback(this),this},scale:function(Z){return this._x*=Z,this._y*=Z,this._z*=Z,this._w*=Z,this.onChangeCallback(this),this},length:function(){var Z=this.x,Q=this.y,q=this.z,et=this.w;return Math.sqrt(Z*Z+Q*Q+q*q+et*et)},lengthSq:function(){var Z=this.x,Q=this.y,q=this.z,et=this.w;return Z*Z+Q*Q+q*q+et*et},normalize:function(){var Z=this.x,Q=this.y,q=this.z,et=this.w,rt=Z*Z+Q*Q+q*q+et*et;return rt>0&&(rt=1/Math.sqrt(rt),this._x=Z*rt,this._y=Q*rt,this._z=q*rt,this._w=et*rt),this.onChangeCallback(this),this},dot:function(Z){return this.x*Z.x+this.y*Z.y+this.z*Z.z+this.w*Z.w},lerp:function(Z,Q){Q===void 0&&(Q=0);var q=this.x,et=this.y,rt=this.z,nt=this.w;return this.set(q+Q*(Z.x-q),et+Q*(Z.y-et),rt+Q*(Z.z-rt),nt+Q*(Z.w-nt))},rotationTo:function(Z,Q){var q=Z.x*Q.x+Z.y*Q.y+Z.z*Q.z;return q<-.999999?(X.copy(W).cross(Z).length()<D&&X.copy(U).cross(Z),X.normalize(),this.setAxisAngle(X,Math.PI)):q>.999999?this.set(0,0,0,1):(X.copy(Z).cross(Q),this._x=X.x,this._y=X.y,this._z=X.z,this._w=1+q,this.normalize())},setAxes:function(Z,Q,q){var et=K.val;return et[0]=Q.x,et[3]=Q.y,et[6]=Q.z,et[1]=q.x,et[4]=q.y,et[7]=q.z,et[2]=-Z.x,et[5]=-Z.y,et[8]=-Z.z,this.fromMat3(K).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(Z,Q){Q=Q*.5;var q=Math.sin(Q);return this.set(q*Z.x,q*Z.y,q*Z.z,Math.cos(Q))},multiply:function(Z){var Q=this.x,q=this.y,et=this.z,rt=this.w,nt=Z.x,ot=Z.y,ht=Z.z,ut=Z.w;return this.set(Q*ut+rt*nt+q*ht-et*ot,q*ut+rt*ot+et*nt-Q*ht,et*ut+rt*ht+Q*ot-q*nt,rt*ut-Q*nt-q*ot-et*ht)},slerp:function(Z,Q){var q=this.x,et=this.y,rt=this.z,nt=this.w,ot=Z.x,ht=Z.y,ut=Z.z,ct=Z.w,ft=q*ot+et*ht+rt*ut+nt*ct;ft<0&&(ft=-ft,ot=-ot,ht=-ht,ut=-ut,ct=-ct);var dt=1-Q,pt=Q;if(1-ft>D){var yt=Math.acos(ft),St=Math.sin(yt);dt=Math.sin((1-Q)*yt)/St,pt=Math.sin(Q*yt)/St}return this.set(dt*q+pt*ot,dt*et+pt*ht,dt*rt+pt*ut,dt*nt+pt*ct)},invert:function(){var Z=this.x,Q=this.y,q=this.z,et=this.w,rt=Z*Z+Q*Q+q*q+et*et,nt=rt?1/rt:0;return this.set(-Z*nt,-Q*nt,-q*nt,et*nt)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(Z){Z*=.5;var Q=this.x,q=this.y,et=this.z,rt=this.w,nt=Math.sin(Z),ot=Math.cos(Z);return this.set(Q*ot+rt*nt,q*ot+et*nt,et*ot-q*nt,rt*ot-Q*nt)},rotateY:function(Z){Z*=.5;var Q=this.x,q=this.y,et=this.z,rt=this.w,nt=Math.sin(Z),ot=Math.cos(Z);return this.set(Q*ot-et*nt,q*ot+rt*nt,et*ot+Q*nt,rt*ot-q*nt)},rotateZ:function(Z){Z*=.5;var Q=this.x,q=this.y,et=this.z,rt=this.w,nt=Math.sin(Z),ot=Math.cos(Z);return this.set(Q*ot+q*nt,q*ot-Q*nt,et*ot+rt*nt,rt*ot-et*nt)},calculateW:function(){var Z=this.x,Q=this.y,q=this.z;return this.w=-Math.sqrt(1-Z*Z-Q*Q-q*q),this},setFromEuler:function(Z,Q){var q=Z.x/2,et=Z.y/2,rt=Z.z/2,nt=Math.cos(q),ot=Math.cos(et),ht=Math.cos(rt),ut=Math.sin(q),ct=Math.sin(et),ft=Math.sin(rt);switch(Z.order){case"XYZ":{this.set(ut*ot*ht+nt*ct*ft,nt*ct*ht-ut*ot*ft,nt*ot*ft+ut*ct*ht,nt*ot*ht-ut*ct*ft,Q);break}case"YXZ":{this.set(ut*ot*ht+nt*ct*ft,nt*ct*ht-ut*ot*ft,nt*ot*ft-ut*ct*ht,nt*ot*ht+ut*ct*ft,Q);break}case"ZXY":{this.set(ut*ot*ht-nt*ct*ft,nt*ct*ht+ut*ot*ft,nt*ot*ft+ut*ct*ht,nt*ot*ht-ut*ct*ft,Q);break}case"ZYX":{this.set(ut*ot*ht-nt*ct*ft,nt*ct*ht+ut*ot*ft,nt*ot*ft-ut*ct*ht,nt*ot*ht+ut*ct*ft,Q);break}case"YZX":{this.set(ut*ot*ht+nt*ct*ft,nt*ct*ht+ut*ot*ft,nt*ot*ft-ut*ct*ht,nt*ot*ht-ut*ct*ft,Q);break}case"XZY":{this.set(ut*ot*ht-nt*ct*ft,nt*ct*ht-ut*ot*ft,nt*ot*ft+ut*ct*ht,nt*ot*ht+ut*ct*ft,Q);break}}return this},setFromRotationMatrix:function(Z){var Q=Z.val,q=Q[0],et=Q[4],rt=Q[8],nt=Q[1],ot=Q[5],ht=Q[9],ut=Q[2],ct=Q[6],ft=Q[10],dt=q+ot+ft,pt;return dt>0?(pt=.5/Math.sqrt(dt+1),this.set((ct-ht)*pt,(rt-ut)*pt,(nt-et)*pt,.25/pt)):q>ot&&q>ft?(pt=2*Math.sqrt(1+q-ot-ft),this.set(.25*pt,(et+nt)/pt,(rt+ut)/pt,(ct-ht)/pt)):ot>ft?(pt=2*Math.sqrt(1+ot-q-ft),this.set((et+nt)/pt,.25*pt,(ht+ct)/pt,(rt-ut)/pt)):(pt=2*Math.sqrt(1+ft-q-ot),this.set((rt+ut)/pt,(ht+ct)/pt,.25*pt,(nt-et)/pt)),this},fromMat3:function(Z){var Q=Z.val,q=Q[0]+Q[4]+Q[8],et;if(q>0)et=Math.sqrt(q+1),this.w=.5*et,et=.5/et,this._x=(Q[7]-Q[5])*et,this._y=(Q[2]-Q[6])*et,this._z=(Q[3]-Q[1])*et;else{var rt=0;Q[4]>Q[0]&&(rt=1),Q[8]>Q[rt*3+rt]&&(rt=2);var nt=F[rt],ot=F[nt];et=Math.sqrt(Q[rt*3+rt]-Q[nt*3+nt]-Q[ot*3+ot]+1),B[rt]=.5*et,et=.5/et,B[nt]=(Q[nt*3+rt]+Q[rt*3+nt])*et,B[ot]=(Q[ot*3+rt]+Q[rt*3+ot])*et,this._x=B[0],this._y=B[1],this._z=B[2],this._w=(Q[ot*3+nt]-Q[nt*3+ot])*et}return this.onChangeCallback(this),this}});Y.exports=J},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(367),j=y(31),O=y(33),G=y(191),D=function(F){var B=F.config;if((B.customEnvironment||B.canvas)&&B.renderType===O.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!B.customEnvironment&&!B.canvas&&B.renderType!==O.HEADLESS)if(B.renderType===O.CANVAS||B.renderType!==O.CANVAS&&!G.webGL)if(G.canvas)B.renderType=O.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else B.renderType=O.WEBGL;B.antialias||j.disableSmoothing();var W=F.scale.baseSize,U=W.width,X=W.height;if(B.canvas?(F.canvas=B.canvas,F.canvas.width=U,F.canvas.height=X):F.canvas=j.create(F,U,X,B.renderType),B.canvasStyle&&(F.canvas.style=B.canvasStyle),B.antialias||R.setCrisp(F.canvas),B.renderType!==O.HEADLESS){var K,J;K=y(368),J=y(371),B.renderType===O.WEBGL?F.renderer=new J(F):(F.renderer=new K(F),F.context=F.renderer.gameContext)}};Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCrisp:function(R){var j=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return j.forEach(function(O){R.style["image-rendering"]=O}),R.style.msInterpolationMode="nearest-neighbor",R},setBicubic:function(R){return R.style["image-rendering"]="auto",R.style.msInterpolationMode="bicubic",R}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(37),j=y(369),O=y(0),G=y(33),D=y(9),F=y(91),B=y(370),W=y(104),U=y(106),X=y(25),K=new O({Extends:D,initialize:function(Z){D.call(this);var Q=Z.config;this.config={clearBeforeRender:Q.clearBeforeRender,backgroundColor:Q.backgroundColor,antialias:Q.antialias,roundPixels:Q.roundPixels},this.game=Z,this.type=G.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=Z.canvas;var q={alpha:Z.config.transparent,desynchronized:Z.config.desynchronized};this.gameContext=Q.context?Q.context:this.gameCanvas.getContext("2d",q),this.currentContext=this.gameContext,this.antialias=Z.config.antialias,this.blendModes=B(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new X,this._tempMatrix2=new X,this._tempMatrix3=new X,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(U.READY,this.boot,this)},boot:function(){var J=this.game,Z=J.scale.baseSize;this.width=Z.width,this.height=Z.height,this.isBooted=!0,J.scale.on(W.RESIZE,this.onResize,this),this.resize(Z.width,Z.height)},onResize:function(J,Z){(Z.width!==this.width||Z.height!==this.height)&&this.resize(Z.width,Z.height)},resize:function(J,Z){this.width=J,this.height=Z,this.emit(F.RESIZE,J,Z)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(J){return this.currentContext.globalCompositeOperation=J,this},setContext:function(J){return this.currentContext=J||this.gameContext,this},setAlpha:function(J){return this.currentContext.globalAlpha=J,this},preRender:function(){var J=this.gameContext,Z=this.config,Q=this.width,q=this.height;J.globalAlpha=1,J.globalCompositeOperation="source-over",J.setTransform(1,0,0,1,0,0),Z.clearBeforeRender&&(J.clearRect(0,0,Q,q),Z.transparent||(J.fillStyle=Z.backgroundColor.rgba,J.fillRect(0,0,Q,q))),J.save(),this.drawCount=0,this.emit(F.PRE_RENDER)},render:function(J,Z,Q){var q=Z.length;this.emit(F.RENDER,J,Q);var et=Q.x,rt=Q.y,nt=Q.width,ot=Q.height,ht=Q.renderToTexture?Q.context:J.sys.context;ht.save(),this.game.scene.customViewports&&(ht.beginPath(),ht.rect(et,rt,nt,ot),ht.clip()),this.currentContext=ht;var ut=Q.mask;ut&&ut.preRenderCanvas(this,null,Q._maskCamera),Q.transparent||(ht.fillStyle=Q.backgroundColor.rgba,ht.fillRect(et,rt,nt,ot)),ht.globalAlpha=Q.alpha,ht.globalCompositeOperation="source-over",this.drawCount+=q,Q.renderToTexture&&Q.emit(R.PRE_RENDER,Q),Q.matrix.copyToContext(ht);for(var ct=0;ct<q;ct++){var ft=Z[ct];ft.mask&&ft.mask.preRenderCanvas(this,ft,Q),ft.renderCanvas(this,ft,Q),ft.mask&&ft.mask.postRenderCanvas(this,ft,Q)}ht.setTransform(1,0,0,1,0,0),ht.globalCompositeOperation="source-over",ht.globalAlpha=1,Q.flashEffect.postRenderCanvas(ht),Q.fadeEffect.postRenderCanvas(ht),Q.dirty=!1,ut&&ut.postRenderCanvas(this),ht.restore(),Q.renderToTexture&&(Q.emit(R.POST_RENDER,Q),Q.renderToGame&&J.sys.context.drawImage(Q.canvas,et,rt))},postRender:function(){var J=this.gameContext;J.restore(),this.emit(F.POST_RENDER);var Z=this.snapshotState;Z.callback&&(j(this.gameCanvas,Z),Z.callback=null)},snapshotCanvas:function(J,Z,Q,q,et,rt,nt,ot,ht){Q===void 0&&(Q=!1),this.snapshotArea(q,et,rt,nt,Z,ot,ht);var ut=this.snapshotState;return ut.getPixel=Q,j(this.canvas,ut),ut.callback=null,this},snapshot:function(J,Z,Q){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,J,Z,Q)},snapshotArea:function(J,Z,Q,q,et,rt,nt){var ot=this.snapshotState;return ot.callback=et,ot.type=rt,ot.encoder=nt,ot.getPixel=!1,ot.x=J,ot.y=Z,ot.width=Math.min(Q,this.gameCanvas.width),ot.height=Math.min(q,this.gameCanvas.height),this},snapshotPixel:function(J,Z,Q){return this.snapshotArea(J,Z,1,1,Q),this.snapshotState.getPixel=!0,this},batchSprite:function(J,Z,Q,q){var et=Q.alpha*J.alpha;if(et!==0){var rt=this.currentContext,nt=this._tempMatrix1,ot=this._tempMatrix2,ht=Z.canvasData,ut=ht.x,ct=ht.y,ft=Z.cutWidth,dt=Z.cutHeight,pt=Z.customPivot,yt=Z.source.resolution,St=J.displayOriginX,At=J.displayOriginY,Ct=-St+Z.x,Pt=-At+Z.y;if(J.isCropped){var Rt=J._crop;(Rt.flipX!==J.flipX||Rt.flipY!==J.flipY)&&Z.updateCropUVs(Rt,J.flipX,J.flipY),ft=Rt.cw,dt=Rt.ch,ut=Rt.cx,ct=Rt.cy,Ct=-St+Rt.x,Pt=-At+Rt.y,J.flipX&&(Ct>=0?Ct=-(Ct+ft):Ct<0&&(Ct=Math.abs(Ct)-ft)),J.flipY&&(Pt>=0?Pt=-(Pt+dt):Pt<0&&(Pt=Math.abs(Pt)-dt))}var mt=1,vt=1;J.flipX&&(pt||(Ct+=-Z.realWidth+St*2),mt=-1),J.flipY&&(pt||(Pt+=-Z.realHeight+At*2),vt=-1),ot.applyITRS(J.x,J.y,J.rotation,J.scaleX*mt,J.scaleY*vt),nt.copyFrom(Q.matrix),q?(nt.multiplyWithOffset(q,-Q.scrollX*J.scrollFactorX,-Q.scrollY*J.scrollFactorY),ot.e=J.x,ot.f=J.y):(ot.e-=Q.scrollX*J.scrollFactorX,ot.f-=Q.scrollY*J.scrollFactorY),nt.multiply(ot),rt.save(),nt.setToContext(rt),rt.globalCompositeOperation=this.blendModes[J.blendMode],rt.globalAlpha=et,rt.imageSmoothingEnabled=!(!this.antialias||Z.source.scaleMode),J.mask&&J.mask.preRenderCanvas(this,J,Q),rt.drawImage(Z.source.image,ut,ct,ft,dt,Ct,Pt,ft/yt,dt/yt),J.mask&&J.mask.postRenderCanvas(this,J,Q),rt.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});Y.exports=K},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(31),j=y(38),O=y(2),G=function(D,F){var B=O(F,"callback"),W=O(F,"type","image/png"),U=O(F,"encoder",.92),X=Math.abs(Math.round(O(F,"x",0))),K=Math.abs(Math.round(O(F,"y",0))),J=O(F,"width",D.width),Z=O(F,"height",D.height),Q=O(F,"getPixel",!1);if(Q){var q=D.getContext("2d"),et=q.getImageData(X,K,1,1),rt=et.data;B.call(null,new j(rt[0],rt[1],rt[2],rt[3]/255))}else if(X!==0||K!==0||J!==D.width||Z!==D.height){var nt=R.createWebGL(this,J,Z),ot=nt.getContext("2d");ot.drawImage(D,X,K,J,Z,0,0,J,Z);var ht=new Image;ht.onerror=function(){B.call(null),R.remove(nt)},ht.onload=function(){B.call(null,ht),R.remove(nt)},ht.src=nt.toDataURL(W,U)}else{var ut=new Image;ut.onerror=function(){B.call(null)},ut.onload=function(){B.call(null,ut)},ut.src=D.toDataURL(W,U)}};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(35),j=y(348),O=function(){var G=[],D=j.supportNewBlendModes,F="source-over";return G[R.NORMAL]=F,G[R.ADD]="lighter",G[R.MULTIPLY]=D?"multiply":F,G[R.SCREEN]=D?"screen":F,G[R.OVERLAY]=D?"overlay":F,G[R.DARKEN]=D?"darken":F,G[R.LIGHTEN]=D?"lighten":F,G[R.COLOR_DODGE]=D?"color-dodge":F,G[R.COLOR_BURN]=D?"color-burn":F,G[R.HARD_LIGHT]=D?"hard-light":F,G[R.SOFT_LIGHT]=D?"soft-light":F,G[R.DIFFERENCE]=D?"difference":F,G[R.EXCLUSION]=D?"exclusion":F,G[R.HUE]=D?"hue":F,G[R.SATURATION]=D?"saturation":F,G[R.COLOR]=D?"color":F,G[R.LUMINOSITY]=D?"luminosity":F,G[R.ERASE]="destination-out",G[R.SOURCE_IN]="source-in",G[R.SOURCE_OUT]="source-out",G[R.SOURCE_ATOP]="source-atop",G[R.DESTINATION_OVER]="destination-over",G[R.DESTINATION_IN]="destination-in",G[R.DESTINATION_OUT]="destination-out",G[R.DESTINATION_ATOP]="destination-atop",G[R.LIGHTER]="lighter",G[R.COPY]="copy",G[R.XOR]="xor",G};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(93),j=y(37),O=y(0),G=y(33),D=y(9),F=y(91),B=y(22),W=y(138),U=y(69),X=y(1),K=y(372),J=y(141),Z=y(104),Q=y(106),q=y(12),et=y(383),rt=new O({Extends:D,initialize:function(ot){D.call(this);var ht=ot.config,ut={alpha:ht.transparent,desynchronized:ht.desynchronized,depth:!1,antialias:ht.antialiasGL,premultipliedAlpha:ht.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:ht.failIfMajorPerformanceCaveat,powerPreference:ht.powerPreference,preserveDrawingBuffer:ht.preserveDrawingBuffer};this.config={clearBeforeRender:ht.clearBeforeRender,antialias:ht.antialias,backgroundColor:ht.backgroundColor,contextCreation:ut,roundPixels:ht.roundPixels,maxTextures:ht.maxTextures,maxTextureSize:ht.maxTextureSize,batchSize:ht.batchSize,maxLights:ht.maxLights,mipmapFilter:ht.mipmapFilter},this.game=ot,this.type=G.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=ot.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.textureIndexes,this.tempTextures,this.textureZero,this.normalTexture,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=X,this.contextRestoredHandler=X,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(nt){var ot,ht=this.game,ut=this.canvas,ct=nt.backgroundColor;if(ht.config.context?ot=ht.config.context:ot=ut.getContext("webgl",nt.contextCreation)||ut.getContext("experimental-webgl",nt.contextCreation),!ot||ot.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=ot;var ft=this;this.contextLostHandler=function(xt){ft.contextLost=!0,ft.game.events.emit(B.CONTEXT_LOST,ft),xt.preventDefault()},this.contextRestoredHandler=function(){ft.contextLost=!1,ft.init(ft.config),ft.game.events.emit(B.CONTEXT_RESTORED,ft)},ut.addEventListener("webglcontextlost",this.contextLostHandler,!1),ut.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),ht.context=ot;for(var dt=0;dt<=27;dt++)this.blendModes.push({func:[ot.ONE,ot.ONE_MINUS_SRC_ALPHA],equation:ot.FUNC_ADD});this.blendModes[1].func=[ot.ONE,ot.DST_ALPHA],this.blendModes[2].func=[ot.DST_COLOR,ot.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[ot.ONE,ot.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[ot.ZERO,ot.ONE_MINUS_SRC_ALPHA],equation:ot.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=ot.BYTE,this.glFormats[1]=ot.SHORT,this.glFormats[2]=ot.UNSIGNED_BYTE,this.glFormats[3]=ot.UNSIGNED_SHORT,this.glFormats[4]=ot.FLOAT,this.glFuncMap={mat2:{func:ot.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:ot.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:ot.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:ot.uniform1f,length:1},"1fv":{func:ot.uniform1fv,length:1},"1i":{func:ot.uniform1i,length:1},"1iv":{func:ot.uniform1iv,length:1},"2f":{func:ot.uniform2f,length:2},"2fv":{func:ot.uniform2fv,length:1},"2i":{func:ot.uniform2i,length:2},"2iv":{func:ot.uniform2iv,length:1},"3f":{func:ot.uniform3f,length:3},"3fv":{func:ot.uniform3fv,length:1},"3i":{func:ot.uniform3i,length:3},"3iv":{func:ot.uniform3iv,length:1},"4f":{func:ot.uniform4f,length:4},"4fv":{func:ot.uniform4fv,length:1},"4i":{func:ot.uniform4i,length:4},"4iv":{func:ot.uniform4iv,length:1}};var pt=ot.getSupportedExtensions();(!nt.maxTextures||nt.maxTextures===-1)&&(nt.maxTextures=ot.getParameter(ot.MAX_TEXTURE_IMAGE_UNITS)),nt.maxTextureSize||(nt.maxTextureSize=ot.getParameter(ot.MAX_TEXTURE_SIZE));var yt="WEBGL_compressed_texture_",St="WEBKIT_"+yt;this.compression.ETC1=ot.getExtension(yt+"etc1")||ot.getExtension(St+"etc1"),this.compression.PVRTC=ot.getExtension(yt+"pvrtc")||ot.getExtension(St+"pvrtc"),this.compression.S3TC=ot.getExtension(yt+"s3tc")||ot.getExtension(St+"s3tc"),this.supportedExtensions=pt;var At="ANGLE_instanced_arrays";this.instancedArraysExtension=pt.indexOf(At)>-1?ot.getExtension(At):null;var Ct="OES_vertex_array_object";this.vaoExtension=pt.indexOf(Ct)>-1?ot.getExtension(Ct):null,ot.disable(ot.DEPTH_TEST),ot.disable(ot.CULL_FACE),ot.enable(ot.BLEND),ot.clearColor(ct.redGL,ct.greenGL,ct.blueGL,ct.alphaGL),this.mipmapFilter=ot[nt.mipmapFilter],this.maxTextures=q.checkShaderMax(ot,nt.maxTextures),this.textureIndexes=[];var Pt=this.tempTextures;if(Array.isArray(Pt))for(var Rt=0;dt<this.maxTextures;Rt++)ot.deleteTexture(Pt[Rt]);else Pt=new Array(this.maxTextures);for(var mt=0;mt<this.maxTextures;mt++){var vt=ot.createTexture();ot.activeTexture(ot.TEXTURE0+mt),ot.bindTexture(ot.TEXTURE_2D,vt),ot.texImage2D(ot.TEXTURE_2D,0,ot.RGBA,1,1,0,ot.RGBA,ot.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),Pt[mt]=vt,this.textureIndexes.push(mt)}return this.tempTextures=Pt,this.currentActiveTexture=1,this.startActiveTexture++,ot.activeTexture(ot.TEXTURE1),this.pipelines=new K(this),this.setBlendMode(G.BlendModes.NORMAL),this.projectionMatrix=new U().identity(),ht.textures.once(Q.READY,this.boot,this),this},boot:function(){var nt=this.game,ot=this.pipelines,ht=nt.scale.baseSize;this.width=ht.width,this.height=ht.height,this.isBooted=!0,this.renderTarget=new J(this,this.width,this.height,1,0,!0,!0),ot.boot(nt.config.pipeline),this.blankTexture=nt.textures.getFrame("__DEFAULT"),this.whiteTexture=nt.textures.getFrame("__WHITE");var ut=this.gl;ut.bindFramebuffer(ut.FRAMEBUFFER,null),ut.enable(ut.SCISSOR_TEST),nt.scale.on(Z.RESIZE,this.onResize,this),this.resize(ht.width,ht.height)},onResize:function(nt,ot){(ot.width!==this.width||ot.height!==this.height)&&this.resize(ot.width,ot.height)},beginCapture:function(nt,ot){nt===void 0&&(nt=this.width),ot===void 0&&(ot=this.height),this.renderTarget.bind(!0,nt,ot),this.setProjectionMatrix(nt,ot),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(nt,ot){var ht=this.gl;return this.width=nt,this.height=ot,this.setProjectionMatrix(nt,ot),ht.viewport(0,0,nt,ot),this.drawingBufferHeight=ht.drawingBufferHeight,ht.scissor(0,ht.drawingBufferHeight-ot,nt,ot),this.defaultScissor[2]=nt,this.defaultScissor[3]=ot,this.emit(F.RESIZE,nt,ot),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(nt,ot){return(nt!==this.projectionWidth||ot!==this.projectionHeight)&&(this.projectionWidth=nt,this.projectionHeight=ot,this.projectionMatrix.ortho(0,nt,ot,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(nt){return this.supportedExtensions?this.supportedExtensions.indexOf(nt):!1},getExtension:function(nt){return this.hasExtension(nt)?(nt in this.extensions||(this.extensions[nt]=this.gl.getExtension(nt)),this.extensions[nt]):null},flush:function(){this.pipelines.flush()},pushScissor:function(nt,ot,ht,ut,ct){ct===void 0&&(ct=this.drawingBufferHeight);var ft=this.scissorStack,dt=[nt,ot,ht,ut];return ft.push(dt),this.setScissor(nt,ot,ht,ut,ct),this.currentScissor=dt,dt},setScissor:function(nt,ot,ht,ut,ct){ct===void 0&&(ct=this.drawingBufferHeight);var ft=this.gl,dt=this.currentScissor,pt=ht>0&&ut>0;if(dt&&pt){var yt=dt[0],St=dt[1],At=dt[2],Ct=dt[3];pt=yt!==nt||St!==ot||At!==ht||Ct!==ut}pt&&(this.flush(),ft.scissor(nt,ct-ot-ut,ht,ut))},resetScissor:function(){var nt=this.gl;nt.enable(nt.SCISSOR_TEST);var ot=this.currentScissor;if(ot){var ht=ot[0],ut=ot[1],ct=ot[2],ft=ot[3];ct>0&&ft>0&&nt.scissor(ht,this.drawingBufferHeight-ut-ft,ct,ft)}},popScissor:function(){var nt=this.scissorStack;nt.pop();var ot=nt[nt.length-1];ot&&this.setScissor(ot[0],ot[1],ot[2],ot[3]),this.currentScissor=ot},hasActiveStencilMask:function(){var nt=this.currentMask.mask,ot=this.currentCameraMask.mask;return nt&&nt.isStencil||ot&&ot.isStencil},resetViewport:function(){var nt=this.gl;nt.viewport(0,0,this.width,this.height),this.drawingBufferHeight=nt.drawingBufferHeight},setBlendMode:function(nt,ot){ot===void 0&&(ot=!1);var ht=this.gl,ut=this.blendModes[nt];return ot||nt!==G.BlendModes.SKIP_CHECK&&this.currentBlendMode!==nt?(this.flush(),ht.enable(ht.BLEND),ht.blendEquation(ut.equation),ut.func.length>2?ht.blendFuncSeparate(ut.func[0],ut.func[1],ut.func[2],ut.func[3]):ht.blendFunc(ut.func[0],ut.func[1]),this.currentBlendMode=nt,!0):!1},addBlendMode:function(nt,ot){var ht=this.blendModes.push({func:nt,equation:ot});return ht-1},updateBlendMode:function(nt,ot,ht){return this.blendModes[nt]&&(this.blendModes[nt].func=ot,ht&&(this.blendModes[nt].equation=ht)),this},removeBlendMode:function(nt){return nt>17&&this.blendModes[nt]&&this.blendModes.splice(nt,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(nt){if(this.pipelines.forceZero())return this.setTextureZero(nt.glTexture,!0),0;var ot=this.gl,ht=this.currentActiveTexture;return nt.glIndexCounter<this.startActiveTexture&&(nt.glIndexCounter=this.startActiveTexture,ht<this.maxTextures?(nt.glIndex=ht,ot.activeTexture(ot.TEXTURE0+ht),ot.bindTexture(ot.TEXTURE_2D,nt.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,nt.glIndexCounter=this.startActiveTexture,nt.glIndex=1,ot.activeTexture(ot.TEXTURE1),ot.bindTexture(ot.TEXTURE_2D,nt.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,nt.glIndex},isNewNormalMap:function(nt,ot){return this.textureZero!==nt||this.normalTexture!==ot},setTextureZero:function(nt,ot){if(this.textureZero!==nt){ot&&this.flush();var ht=this.gl;ht.activeTexture(ht.TEXTURE0),ht.bindTexture(ht.TEXTURE_2D,nt),this.textureZero=nt}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(nt){if(this.normalTexture!==nt){var ot=this.gl;ot.activeTexture(ot.TEXTURE1),ot.bindTexture(ot.TEXTURE_2D,nt),this.normalTexture=nt,this.currentActiveTexture===1&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var nt=this.gl,ot=this.tempTextures,ht=0;ht<ot.length;ht++)nt.activeTexture(nt.TEXTURE0+ht),nt.bindTexture(nt.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(nt){if(nt===void 0&&(nt=!1),!this.isTextureClean){this.flush();var ot=this.gl,ht=this.tempTextures;if(nt){for(var ut=0;ut<ht.length;ut++)ot.activeTexture(ot.TEXTURE0+ut),ot.bindTexture(ot.TEXTURE_2D,ht[ut]);ot.activeTexture(ot.TEXTURE1),ot.bindTexture(ot.TEXTURE_2D,ht[1]),this.isTextureClean=!0}else ot.activeTexture(ot.TEXTURE0),ot.bindTexture(ot.TEXTURE_2D,ht[0]),ot.activeTexture(ot.TEXTURE1),ot.bindTexture(ot.TEXTURE_2D,ht[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(nt){if(this.pipelines.forceZero())return this.setTextureZero(nt,!0),0;var ot=this.gl,ht=this.currentActiveTexture;return nt.glIndexCounter<this.startActiveTexture&&(nt.glIndexCounter=this.startActiveTexture,ht<this.maxTextures?(nt.glIndex=ht,ot.activeTexture(ot.TEXTURE0+ht),ot.bindTexture(ot.TEXTURE_2D,nt),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,nt.glIndexCounter=this.startActiveTexture,nt.glIndex=1,ot.activeTexture(ot.TEXTURE1),ot.bindTexture(ot.TEXTURE_2D,nt),this.currentActiveTexture=2)),this.isTextureClean=!1,nt.glIndex},pushFramebuffer:function(nt,ot,ht,ut){return nt===this.currentFramebuffer?this:(this.fboStack.push(nt),this.setFramebuffer(nt,ot,ht,ut))},setFramebuffer:function(nt,ot,ht,ut){if(ot===void 0&&(ot=!1),ht===void 0&&(ht=!1),ut===void 0&&(ut=!0),nt===this.currentFramebuffer)return this;var ct=this.gl,ft=this.width,dt=this.height;return nt&&nt.renderTexture&&ut?(ft=nt.renderTexture.width,dt=nt.renderTexture.height):this.flush(),ct.bindFramebuffer(ct.FRAMEBUFFER,nt),ut&&ct.viewport(0,0,ft,dt),ot&&(nt?(this.drawingBufferHeight=dt,this.pushScissor(0,0,ft,dt)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=nt,ht&&this.resetTextures(),this},popFramebuffer:function(nt,ot,ht){nt===void 0&&(nt=!1),ot===void 0&&(ot=!1),ht===void 0&&(ht=!0);var ut=this.fboStack;ut.pop();var ct=ut[ut.length-1];return ct||(ct=null),this.setFramebuffer(ct,nt,ot,ht),ct},setProgram:function(nt){return nt!==this.currentProgram?(this.flush(),this.gl.useProgram(nt),this.currentProgram=nt,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(nt,ot,ht,ut){var ct=this.gl,ft=ct.NEAREST,dt=ct.NEAREST,pt=ct.CLAMP_TO_EDGE,yt=null;ot=nt?nt.width:ot,ht=nt?nt.height:ht;var St=W(ot,ht);return St&&(pt=ct.REPEAT),ut===G.ScaleModes.LINEAR&&this.config.antialias&&(ft=St?this.mipmapFilter:ct.LINEAR,dt=ct.LINEAR),!nt&&typeof ot=="number"&&typeof ht=="number"?yt=this.createTexture2D(0,ft,dt,pt,pt,ct.RGBA,null,ot,ht):yt=this.createTexture2D(0,ft,dt,pt,pt,ct.RGBA,nt),yt},createTexture2D:function(nt,ot,ht,ut,ct,ft,dt,pt,yt,St,At,Ct){St=St==null?!0:St,At===void 0&&(At=!1),Ct===void 0&&(Ct=!1);var Pt=this.gl,Rt=Pt.createTexture();Pt.activeTexture(Pt.TEXTURE0);var mt=Pt.getParameter(Pt.TEXTURE_BINDING_2D);return Pt.bindTexture(Pt.TEXTURE_2D,Rt),Pt.texParameteri(Pt.TEXTURE_2D,Pt.TEXTURE_MIN_FILTER,ot),Pt.texParameteri(Pt.TEXTURE_2D,Pt.TEXTURE_MAG_FILTER,ht),Pt.texParameteri(Pt.TEXTURE_2D,Pt.TEXTURE_WRAP_S,ct),Pt.texParameteri(Pt.TEXTURE_2D,Pt.TEXTURE_WRAP_T,ut),Pt.pixelStorei(Pt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,St),Pt.pixelStorei(Pt.UNPACK_FLIP_Y_WEBGL,Ct),dt==null?Pt.texImage2D(Pt.TEXTURE_2D,nt,ft,pt,yt,0,ft,Pt.UNSIGNED_BYTE,null):(At||(pt=dt.width,yt=dt.height),Pt.texImage2D(Pt.TEXTURE_2D,nt,ft,ft,Pt.UNSIGNED_BYTE,dt)),W(pt,yt)&&Pt.generateMipmap(Pt.TEXTURE_2D),mt&&Pt.bindTexture(Pt.TEXTURE_2D,mt),Rt.isAlphaPremultiplied=St,Rt.isRenderTexture=!1,Rt.width=pt,Rt.height=yt,Rt.glIndex=0,Rt.glIndexCounter=-1,Rt},createFramebuffer:function(nt,ot,ht,ut){var ct=this.gl,ft=ct.createFramebuffer(),dt=0;if(this.setFramebuffer(ft),ut){var pt=ct.createRenderbuffer();ct.bindRenderbuffer(ct.RENDERBUFFER,pt),ct.renderbufferStorage(ct.RENDERBUFFER,ct.DEPTH_STENCIL,nt,ot),ct.framebufferRenderbuffer(ct.FRAMEBUFFER,ct.DEPTH_STENCIL_ATTACHMENT,ct.RENDERBUFFER,pt)}if(ht.isRenderTexture=!0,ht.isAlphaPremultiplied=!1,ct.framebufferTexture2D(ct.FRAMEBUFFER,ct.COLOR_ATTACHMENT0,ct.TEXTURE_2D,ht,0),dt=ct.checkFramebufferStatus(ct.FRAMEBUFFER),dt!==ct.FRAMEBUFFER_COMPLETE){var yt={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+yt[dt])}return ft.renderTexture=ht,this.setFramebuffer(null),this.resetTextures(),ft},createProgram:function(nt,ot){var ht=this.gl,ut=ht.createProgram(),ct=ht.createShader(ht.VERTEX_SHADER),ft=ht.createShader(ht.FRAGMENT_SHADER);if(ht.shaderSource(ct,nt),ht.shaderSource(ft,ot),ht.compileShader(ct),ht.compileShader(ft),!ht.getShaderParameter(ct,ht.COMPILE_STATUS))throw new Error(`Vertex Shader failed:
`+ht.getShaderInfoLog(ct));if(!ht.getShaderParameter(ft,ht.COMPILE_STATUS))throw new Error(`Fragment Shader failed:
`+ht.getShaderInfoLog(ft));if(ht.attachShader(ut,ct),ht.attachShader(ut,ft),ht.linkProgram(ut),!ht.getProgramParameter(ut,ht.LINK_STATUS))throw new Error(`Link Program failed:
`+ht.getProgramInfoLog(ut));return ht.useProgram(ut),ut},createVertexBuffer:function(nt,ot){var ht=this.gl,ut=ht.createBuffer();return ht.bindBuffer(ht.ARRAY_BUFFER,ut),ht.bufferData(ht.ARRAY_BUFFER,nt,ot),ht.bindBuffer(ht.ARRAY_BUFFER,null),ut},createIndexBuffer:function(nt,ot){var ht=this.gl,ut=ht.createBuffer();return ht.bindBuffer(ht.ELEMENT_ARRAY_BUFFER,ut),ht.bufferData(ht.ELEMENT_ARRAY_BUFFER,nt,ot),ht.bindBuffer(ht.ELEMENT_ARRAY_BUFFER,null),ut},deleteTexture:function(nt,ot){return ot&&this.resetTextures(!0),nt&&this.gl.deleteTexture(nt),this},deleteFramebuffer:function(nt){return nt&&(this.gl.deleteFramebuffer(nt),R(this.fboStack,nt),this.currentFramebuffer===nt&&(this.currentFramebuffer=null)),this},deleteProgram:function(nt){return nt&&this.gl.deleteProgram(nt),this},deleteBuffer:function(nt){return this.gl.deleteBuffer(nt),this},preRenderCamera:function(nt){var ot=nt.x,ht=nt.y,ut=nt.width,ct=nt.height,ft=nt.backgroundColor;if(nt.emit(j.PRE_RENDER,nt),this.pipelines.preBatchCamera(nt),this.pushScissor(ot,ht,ut,ct),nt.mask&&(this.currentCameraMask.mask=nt.mask,this.currentCameraMask.camera=nt._maskCamera,nt.mask.preRenderWebGL(this,nt,nt._maskCamera)),ft.alphaGL>0){var dt=this.pipelines.setMulti();dt.drawFillRect(ot,ht,ut,ct,q.getTintFromFloats(ft.blueGL,ft.greenGL,ft.redGL,1),ft.alphaGL)}},getCurrentStencilMask:function(){var nt=null,ot=this.maskStack,ht=this.currentCameraMask;return ot.length>0?nt=ot[ot.length-1]:ht.mask&&ht.mask.isStencil&&(nt=ht),nt},postRenderCamera:function(nt){var ot=nt.flashEffect,ht=nt.fadeEffect;if(ot.isRunning||ht.isRunning||ht.isComplete){var ut=this.pipelines.setMulti();ot.postRenderWebGL(ut,q.getTintFromFloats),ht.postRenderWebGL(ut,q.getTintFromFloats)}nt.dirty=!1,this.popScissor(),nt.mask&&(this.currentCameraMask.mask=null,nt.mask.postRenderWebGL(this,nt._maskCamera)),this.pipelines.postBatchCamera(nt),nt.emit(j.POST_RENDER,nt)},preRender:function(){if(!this.contextLost){var nt=this.gl;if(nt.bindFramebuffer(nt.FRAMEBUFFER,null),this.config.clearBeforeRender){var ot=this.config.backgroundColor;nt.clearColor(ot.redGL,ot.greenGL,ot.blueGL,ot.alphaGL),nt.clear(nt.COLOR_BUFFER_BIT|nt.DEPTH_BUFFER_BIT|nt.STENCIL_BUFFER_BIT)}nt.enable(nt.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&nt.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(F.PRE_RENDER)}},render:function(nt,ot,ht){if(!this.contextLost){var ut=ot.length;if(this.emit(F.RENDER,nt,ht),this.preRenderCamera(ht),ut===0){this.setBlendMode(G.BlendModes.NORMAL),this.postRenderCamera(ht);return}this.currentType="";for(var ct=this.currentMask,ft=0;ft<ut;ft++){this.finalType=ft===ut-1;var dt=ot[ft],pt=dt.mask;ct=this.currentMask,ct.mask&&ct.mask!==pt&&ct.mask.postRenderWebGL(this,ct.camera),pt&&ct.mask!==pt&&pt.preRenderWebGL(this,dt,ht),dt.blendMode!==this.currentBlendMode&&this.setBlendMode(dt.blendMode);var yt=dt.type;yt!==this.currentType&&(this.newType=!0,this.currentType=yt),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=ot[ft+1].type===this.currentType,dt.renderWebGL(this,dt,ht),this.newType=!1}ct=this.currentMask,ct.mask&&ct.mask.postRenderWebGL(this,ct.camera),this.setBlendMode(G.BlendModes.NORMAL),this.postRenderCamera(ht)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(F.POST_RENDER);var nt=this.snapshotState;nt.callback&&(et(this.canvas,nt),nt.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(nt,ot,ht){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,nt,ot,ht)},snapshotArea:function(nt,ot,ht,ut,ct,ft,dt){var pt=this.snapshotState;return pt.callback=ct,pt.type=ft,pt.encoder=dt,pt.getPixel=!1,pt.x=nt,pt.y=ot,pt.width=Math.min(ht,this.gl.drawingBufferWidth),pt.height=Math.min(ut,this.gl.drawingBufferHeight),this},snapshotPixel:function(nt,ot,ht){return this.snapshotArea(nt,ot,1,1,ht),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(nt,ot,ht,ut,ct,ft,dt,pt,yt,St,At){ct===void 0&&(ct=!1),ft===void 0&&(ft=0),dt===void 0&&(dt=0),pt===void 0&&(pt=ot),yt===void 0&&(yt=ht);var Ct=this.currentFramebuffer;this.snapshotArea(ft,dt,pt,yt,ut,St,At);var Pt=this.snapshotState;return Pt.getPixel=ct,Pt.isFramebuffer=!0,Pt.bufferWidth=ot,Pt.bufferHeight=ht,this.setFramebuffer(nt),et(this.canvas,Pt),this.setFramebuffer(Ct),Pt.callback=null,Pt.isFramebuffer=!1,this},canvasToTexture:function(nt,ot,ht,ut){return ht===void 0&&(ht=!1),ut===void 0&&(ut=!1),ot?this.updateCanvasTexture(nt,ot,ut):this.createCanvasTexture(nt,ht,ut)},createCanvasTexture:function(nt,ot,ht){ot===void 0&&(ot=!1),ht===void 0&&(ht=!1);var ut=this.gl,ct=ut.NEAREST,ft=ut.NEAREST,dt=nt.width,pt=nt.height,yt=ut.CLAMP_TO_EDGE,St=W(dt,pt);return!ot&&St&&(yt=ut.REPEAT),this.config.antialias&&(ct=St?this.mipmapFilter:ut.LINEAR,ft=ut.LINEAR),this.createTexture2D(0,ct,ft,yt,yt,ut.RGBA,nt,dt,pt,!0,!1,ht)},updateCanvasTexture:function(nt,ot,ht){ht===void 0&&(ht=!1);var ut=this.gl,ct=nt.width,ft=nt.height;if(ct>0&&ft>0){ut.activeTexture(ut.TEXTURE0);var dt=ut.getParameter(ut.TEXTURE_BINDING_2D);ut.bindTexture(ut.TEXTURE_2D,ot),ut.pixelStorei(ut.UNPACK_FLIP_Y_WEBGL,ht),ut.pixelStorei(ut.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),ut.texImage2D(ut.TEXTURE_2D,0,ut.RGBA,ut.RGBA,ut.UNSIGNED_BYTE,nt),ot.width=ct,ot.height=ft,dt&&ut.bindTexture(ut.TEXTURE_2D,dt)}return ot},createVideoTexture:function(nt,ot,ht){ot===void 0&&(ot=!1),ht===void 0&&(ht=!1);var ut=this.gl,ct=ut.NEAREST,ft=ut.NEAREST,dt=nt.videoWidth,pt=nt.videoHeight,yt=ut.CLAMP_TO_EDGE,St=W(dt,pt);return!ot&&St&&(yt=ut.REPEAT),this.config.antialias&&(ct=St?this.mipmapFilter:ut.LINEAR,ft=ut.LINEAR),this.createTexture2D(0,ct,ft,yt,yt,ut.RGBA,nt,dt,pt,!0,!0,ht)},updateVideoTexture:function(nt,ot,ht){ht===void 0&&(ht=!1);var ut=this.gl,ct=nt.videoWidth,ft=nt.videoHeight;if(ct>0&&ft>0){ut.activeTexture(ut.TEXTURE0);var dt=ut.getParameter(ut.TEXTURE_BINDING_2D);ut.bindTexture(ut.TEXTURE_2D,ot),ut.pixelStorei(ut.UNPACK_FLIP_Y_WEBGL,ht),ut.texImage2D(ut.TEXTURE_2D,0,ut.RGBA,ut.RGBA,ut.UNSIGNED_BYTE,nt),ot.width=ct,ot.height=ft,dt&&ut.bindTexture(ut.TEXTURE_2D,dt)}return ot},setTextureFilter:function(nt,ot){var ht=this.gl,ut=[ht.LINEAR,ht.NEAREST][ot];ht.activeTexture(ht.TEXTURE0);var ct=ht.getParameter(ht.TEXTURE_BINDING_2D);return ht.bindTexture(ht.TEXTURE_2D,nt),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_MIN_FILTER,ut),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_MAG_FILTER,ut),ct&&ht.bindTexture(ht.TEXTURE_2D,ct),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var nt=this.gl,ot=this.tempTextures,ht=0;ht<ot.length;ht++)nt.deleteTexture(ot[ht]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});Y.exports=rt},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(92),O=y(102),G=y(373),D=y(376),F=y(377),B=y(108),W=y(378),U=y(379),X=y(380),K=y(381),J=new R({initialize:function(Q){this.game=Q.game,this.renderer=Q,this.classes=new O([[j.UTILITY_PIPELINE,K],[j.MULTI_PIPELINE,B],[j.BITMAPMASK_PIPELINE,G],[j.SINGLE_PIPELINE,X],[j.ROPE_PIPELINE,U],[j.LIGHT_PIPELINE,F],[j.POINTLIGHT_PIPELINE,W],[j.GRAPHICS_PIPELINE,D]]),this.postPipelineClasses=new O,this.pipelines=new O,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(Z){var Q,q,et=this,rt=this.game;if(this.classes.each(function(ot,ht){Q=et.add(ot,new ht({game:rt})),ot===j.UTILITY_PIPELINE&&(et.UTILITY_PIPELINE=Q,et.fullFrame1=Q.fullFrame1,et.fullFrame2=Q.fullFrame2,et.halfFrame1=Q.halfFrame1,et.halfFrame2=Q.halfFrame2)}),this.MULTI_PIPELINE=this.get(j.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(j.BITMAPMASK_PIPELINE),Z)for(q in Z){var nt=Z[q];Q=new nt(rt),Q.isPostFX?this.postPipelineClasses.set(q,nt):this.has(q)||(this.classes.set(q,nt),this.add(q,Q))}},add:function(Z,Q){if(Q.isPostFX){console.warn(Z+" is a Post Pipeline. Use `addPostPipeline` instead");return}var q=this.pipelines,et=this.renderer;return q.has(Z)?console.warn("Pipeline exists: "+Z):(Q.name=Z,Q.manager=this,q.set(Z,Q)),Q.hasBooted||Q.boot(),et.width!==0&&et.height!==0&&Q.resize(et.width,et.height),Q},addPostPipeline:function(Z,Q){this.postPipelineClasses.has(Z)||this.postPipelineClasses.set(Z,Q)},flush:function(){this.current&&this.current.flush()},has:function(Z){var Q=this.pipelines;return typeof Z=="string"?Q.has(Z):!!Q.contains(Z)},get:function(Z){var Q=this.pipelines;if(typeof Z=="string")return Q.get(Z);if(Q.contains(Z))return Z},getPostPipeline:function(Z,Q){var q=this.postPipelineClasses,et;if(typeof Z=="string"?et=q.get(Z):typeof Z=="function"?q.contains(Z)&&(et=Z):typeof Z=="object"&&(et=q.get(Z.name)),et){var rt=new et(this.game);return Q&&(rt.gameObject=Q),rt}},remove:function(Z,Q,q){Q===void 0&&(Q=!0),q===void 0&&(q=!0),this.pipelines.delete(Z),Q&&this.classes.delete(Z),q&&this.postPipelineClasses.delete(Z)},set:function(Z,Q,q){if(!Z.isPostFX)return this.isCurrent(Z,q)||(this.flush(),this.current&&this.current.unbind(),this.current=Z,Z.bind(q)),Z.updateProjectionMatrix(),Z.onBind(Q),Z},preBatch:function(Z){if(Z.hasPostPipeline){this.flush();for(var Q=Z.postPipelines,q=Q.length-1;q>=0;q--){var et=Q[q];et.active&&et.preBatch(Z)}}},postBatch:function(Z){if(Z.hasPostPipeline){this.flush();for(var Q=Z.postPipelines,q=0;q<Q.length;q++){var et=Q[q];et.active&&et.postBatch(Z)}}},preBatchCamera:function(Z){if(Z.hasPostPipeline){this.flush();for(var Q=Z.postPipelines,q=Q.length-1;q>=0;q--){var et=Q[q];et.active&&et.preBatch(Z)}}},postBatchCamera:function(Z){if(Z.hasPostPipeline){this.flush();for(var Q=Z.postPipelines,q=0;q<Q.length;q++){var et=Q[q];et.active&&et.postBatch(Z)}}},isCurrent:function(Z,Q){var q=this.renderer,et=this.current;return et&&!Q&&(Q=et.currentShader),!(et!==Z||Q.program!==q.currentProgram)},copyFrame:function(Z,Q,q,et,rt){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(Z,Q,q,et,rt),this},copyToGame:function(Z){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(Z),this},drawFrame:function(Z,Q,q,et){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(Z,Q,q,et),this},blendFrames:function(Z,Q,q,et,rt){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(Z,Q,q,et,rt),this},blendFramesAdditive:function(Z,Q,q,et,rt){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(Z,Q,q,et,rt),this},clearFrame:function(Z,Q){return this.UTILITY_PIPELINE.clearFrame(Z,Q),this},blitFrame:function(Z,Q,q,et,rt,nt){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(Z,Q,q,et,rt,nt),this},copyFrameRect:function(Z,Q,q,et,rt,nt,ot,ht){return this.UTILITY_PIPELINE.copyFrameRect(Z,Q,q,et,rt,nt,ot,ht),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(Z){return this.UTILITY_PIPELINE.bind(Z)},rebind:function(Z){Z===void 0&&this.previous&&(Z=this.previous);var Q=this.renderer,q=Q.gl;q.disable(q.DEPTH_TEST),q.disable(q.CULL_FACE),Q.hasActiveStencilMask()?q.clear(q.DEPTH_BUFFER_BIT):(q.disable(q.STENCIL_TEST),q.clear(q.DEPTH_BUFFER_BIT|q.STENCIL_BUFFER_BIT)),q.viewport(0,0,Q.width,Q.height),Q.currentProgram=null,Q.setBlendMode(0,!0);var et=this.pipelines.entries;for(var rt in et)et[rt].glReset=!0;Z&&(this.current=Z,Z.rebind()),Q.resetTextures()},clear:function(){var Z=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,Z.currentProgram=null,Z.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});Y.exports=J},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(2),O=y(866),G=y(867),D=y(107),F=y(58),B=new R({Extends:F,initialize:function(U){U.fragShader=j(U,"fragShader",O),U.vertShader=j(U,"vertShader",G),U.batchSize=j(U,"batchSize",1),U.vertices=j(U,"vertices",[-1,1,-1,-7,7,1]),U.attributes=j(U,"attributes",[{name:"inPosition",size:2,type:D.FLOAT}]),F.call(this,U)},boot:function(){F.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(W,U){F.prototype.resize.call(this,W,U),this.set2f("uResolution",W,U)},beginMask:function(W,U,X){var K=this.gl;if(W.bitmapMask&&K){var J=this.renderer;J.flush(),J.pushFramebuffer(W.mainFramebuffer),K.disable(K.STENCIL_TEST),K.clearColor(0,0,0,0),K.clear(K.COLOR_BUFFER_BIT),J.currentCameraMask.mask!==W&&(J.currentMask.mask=W,J.currentMask.camera=X)}},endMask:function(W,U){var X=this.gl,K=this.renderer,J=W.bitmapMask;if(J&&X){K.flush(),K.pushFramebuffer(W.maskFramebuffer),X.clearColor(0,0,0,0),X.clear(X.COLOR_BUFFER_BIT),K.setBlendMode(0,!0),J.renderWebGL(K,J,U),K.flush(),K.popFramebuffer(),K.popFramebuffer();var Z=K.getCurrentStencilMask();Z?(X.enable(X.STENCIL_TEST),Z.mask.applyStencil(K,Z.camera,!0)):K.currentMask.mask=null,K.pipelines.set(this),X.activeTexture(X.TEXTURE1),X.bindTexture(X.TEXTURE_2D,W.maskTexture),X.activeTexture(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,W.mainTexture),this.set1i("uInvertMaskAlpha",W.invertAlpha),X.drawArrays(this.topology,0,3),K.resetTextures()}}});Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={AFTER_FLUSH:y(868),BEFORE_FLUSH:y(869),BIND:y(870),BOOT:y(871),DESTROY:y(872),REBIND:y(873),RESIZE:y(874)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(2),O=y(107),G=new R({initialize:function(F,B,W,U,X){this.pipeline=F,this.name=B,this.renderer=F.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(W,U),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(X),this.createUniforms()},createAttributes:function(D){var F=0,B=0,W=[];this.vertexComponentCount=0;for(var U=0;U<D.length;U++){var X=D[U],K=X.name,J=j(X,"size",1),Z=j(X,"type",O.FLOAT),Q=Z.enum,q=Z.size,et=!!X.normalized;W.push({name:K,size:J,type:Q,normalized:et,offset:B,enabled:!1,location:-1}),q===4?F+=J:F++,B+=J*q}this.vertexSize=B,this.vertexComponentCount=F,this.attributes=W},bind:function(D,F){return D===void 0&&(D=!1),F===void 0&&(F=!1),F&&this.pipeline.flush(),this.renderer.setProgram(this.program),D&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(D){D===void 0&&(D=!1);for(var F=this.gl,B=this.vertexSize,W=this.attributes,U=this.program,X=0;X<W.length;X++){var K=W[X],J=K.size,Z=K.type,Q=K.offset,q=K.enabled,et=K.location,rt=!!K.normalized;if(D){var nt=F.getAttribLocation(U,K.name);nt>=0?(F.enableVertexAttribArray(nt),F.vertexAttribPointer(nt,J,Z,rt,B,Q),K.enabled=!0,K.location=nt):nt!==-1&&F.disableVertexAttribArray(nt)}else q?F.vertexAttribPointer(et,J,Z,rt,B,Q):!q&&et>-1&&(F.disableVertexAttribArray(et),K.location=-1)}return this},createUniforms:function(){var D=this.gl,F=this.program,B=this.uniforms,W,U,X,K=D.getProgramParameter(F,D.ACTIVE_UNIFORMS);for(W=0;W<K;W++){var J=D.getActiveUniform(F,W);if(J){U=J.name,X=D.getUniformLocation(F,U),X!==null&&(B[U]={name:U,location:X,value1:null,value2:null,value3:null,value4:null});var Z=U.indexOf("[");Z>0&&(U=U.substr(0,Z),B.hasOwnProperty(U)||(X=D.getUniformLocation(F,U),X!==null&&(B[U]={name:U,location:X,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(D){return this.uniforms.hasOwnProperty(D)},resetUniform:function(D){var F=this.uniforms[D];return F&&(F.value1=null,F.value2=null,F.value3=null,F.value4=null),this},setUniform1:function(D,F,B,W){var U=this.uniforms[F];return U?((W||U.value1!==B)&&(U.value1=B,this.renderer.setProgram(this.program),D.call(this.gl,U.location,B),this.pipeline.currentShader=this),this):this},setUniform2:function(D,F,B,W,U){var X=this.uniforms[F];return X?((U||X.value1!==B||X.value2!==W)&&(X.value1=B,X.value2=W,this.renderer.setProgram(this.program),D.call(this.gl,X.location,B,W),this.pipeline.currentShader=this),this):this},setUniform3:function(D,F,B,W,U,X){var K=this.uniforms[F];return K?((X||K.value1!==B||K.value2!==W||K.value3!==U)&&(K.value1=B,K.value2=W,K.value3=U,this.renderer.setProgram(this.program),D.call(this.gl,K.location,B,W,U),this.pipeline.currentShader=this),this):this},setUniform4:function(D,F,B,W,U,X,K){var J=this.uniforms[F];return J?((K||J.value1!==B||J.value2!==W||J.value3!==U||J.value4!==X)&&(J.value1=B,J.value2=W,J.value3=U,J.value4=X,this.renderer.setProgram(this.program),D.call(this.gl,J.location,B,W,U,X),this.pipeline.currentShader=this),this):this},set1f:function(D,F){return this.setUniform1(this.gl.uniform1f,D,F)},set2f:function(D,F,B){return this.setUniform2(this.gl.uniform2f,D,F,B)},set3f:function(D,F,B,W){return this.setUniform3(this.gl.uniform3f,D,F,B,W)},set4f:function(D,F,B,W,U){return this.setUniform4(this.gl.uniform4f,D,F,B,W,U)},set1fv:function(D,F){return this.setUniform1(this.gl.uniform1fv,D,F,!0)},set2fv:function(D,F){return this.setUniform1(this.gl.uniform2fv,D,F,!0)},set3fv:function(D,F){return this.setUniform1(this.gl.uniform3fv,D,F,!0)},set4fv:function(D,F){return this.setUniform1(this.gl.uniform4fv,D,F,!0)},set1iv:function(D,F){return this.setUniform1(this.gl.uniform1iv,D,F,!0)},set2iv:function(D,F){return this.setUniform1(this.gl.uniform2iv,D,F,!0)},set3iv:function(D,F){return this.setUniform1(this.gl.uniform3iv,D,F,!0)},set4iv:function(D,F){return this.setUniform1(this.gl.uniform4iv,D,F,!0)},set1i:function(D,F){return this.setUniform1(this.gl.uniform1i,D,F)},set2i:function(D,F,B){return this.setUniform2(this.gl.uniform2i,D,F,B)},set3i:function(D,F,B,W){return this.setUniform3(this.gl.uniform3i,D,F,B,W)},set4i:function(D,F,B,W,U){return this.setUniform4(this.gl.uniform4i,D,F,B,W,U)},setMatrix2fv:function(D,F,B){return this.setUniform2(this.gl.uniformMatrix2fv,D,F,B,!0)},setMatrix3fv:function(D,F,B){return this.setUniform2(this.gl.uniformMatrix3fv,D,F,B,!0)},setMatrix4fv:function(D,F,B){return this.setUniform2(this.gl.uniformMatrix4fv,D,F,B,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(59),O=y(2),G=y(875),D=y(876),F=y(25),B=y(107),W=y(58),U=new R({Extends:W,initialize:function(K){K.fragShader=O(K,"fragShader",G),K.vertShader=O(K,"vertShader",D),K.attributes=O(K,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:B.UNSIGNED_BYTE,normalized:!0}]),W.call(this,K),this.calcMatrix=new F,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(X,K,J,Z,Q,q){this.renderer.pipelines.set(this);var et=this.calcMatrix;q&&q.multiply(Q,et);var rt=X+J,nt=K+Z,ot=et.getX(X,K),ht=et.getY(X,K),ut=et.getX(X,nt),ct=et.getY(X,nt),ft=et.getX(rt,nt),dt=et.getY(rt,nt),pt=et.getX(rt,K),yt=et.getY(rt,K),St=this.fillTint;this.batchQuad(ot,ht,ut,ct,ft,dt,pt,yt,St.TL,St.TR,St.BL,St.BR)},batchFillTriangle:function(X,K,J,Z,Q,q,et,rt){this.renderer.pipelines.set(this);var nt=this.calcMatrix;rt&&rt.multiply(et,nt);var ot=nt.getX(X,K),ht=nt.getY(X,K),ut=nt.getX(J,Z),ct=nt.getY(J,Z),ft=nt.getX(Q,q),dt=nt.getY(Q,q),pt=this.fillTint;this.batchTri(ot,ht,ut,ct,ft,dt,pt.TL,pt.TR,pt.BL)},batchStrokeTriangle:function(X,K,J,Z,Q,q,et,rt,nt){var ot=this.tempTriangle;ot[0].x=X,ot[0].y=K,ot[0].width=et,ot[1].x=J,ot[1].y=Z,ot[1].width=et,ot[2].x=Q,ot[2].y=q,ot[2].width=et,ot[3].x=X,ot[3].y=K,ot[3].width=et,this.batchStrokePath(ot,et,!1,rt,nt)},batchFillPath:function(X,K,J){this.renderer.pipelines.set(this);var Z=this.calcMatrix;J&&J.multiply(K,Z);for(var Q=X.length,q=this.polygonCache,et,rt,nt=this.fillTint.TL,ot=this.fillTint.TR,ht=this.fillTint.BL,ut=0;ut<Q;++ut)rt=X[ut],q.push(rt.x,rt.y);et=j(q),Q=et.length;for(var ct=0;ct<Q;ct+=3){var ft=et[ct+0]*2,dt=et[ct+1]*2,pt=et[ct+2]*2,yt=q[ft+0],St=q[ft+1],At=q[dt+0],Ct=q[dt+1],Pt=q[pt+0],Rt=q[pt+1],mt=Z.getX(yt,St),vt=Z.getY(yt,St),xt=Z.getX(At,Ct),Tt=Z.getY(At,Ct),Et=Z.getX(Pt,Rt),Ot=Z.getY(Pt,Rt);this.batchTri(mt,vt,xt,Tt,Et,Ot,nt,ot,ht)}q.length=0},batchStrokePath:function(X,K,J,Z,Q){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var q=X.length-1,et=0;et<q;et++){var rt=X[et],nt=X[et+1];this.batchLine(rt.x,rt.y,nt.x,nt.y,rt.width/2,nt.width/2,K,et,!J&&et===q-1,Z,Q)}},batchLine:function(X,K,J,Z,Q,q,et,rt,nt,ot,ht){this.renderer.pipelines.set(this);var ut=this.calcMatrix;ht&&ht.multiply(ot,ut);var ct=J-X,ft=Z-K,dt=Math.sqrt(ct*ct+ft*ft),pt=Q*(Z-K)/dt,yt=Q*(X-J)/dt,St=q*(Z-K)/dt,At=q*(X-J)/dt,Ct=J-St,Pt=Z-At,Rt=X-pt,mt=K-yt,vt=J+St,xt=Z+At,Tt=X+pt,Et=K+yt,Ot=ut.getX(Ct,Pt),Mt=ut.getY(Ct,Pt),Ft=ut.getX(Rt,mt),It=ut.getY(Rt,mt),Dt=ut.getX(vt,xt),bt=ut.getY(vt,xt),wt=ut.getX(Tt,Et),$t=ut.getY(Tt,Et),Ut=this.strokeTint,Nt=Ut.TL,Yt=Ut.TR,Ht=Ut.BL,Xt=Ut.BR;if(this.batchQuad(wt,$t,Ft,It,Ot,Mt,Dt,bt,Nt,Yt,Ht,Xt),!(et<=2)){var zt=this.prevQuad,Bt=this.firstQuad;rt>0&&zt[4]?this.batchQuad(wt,$t,Ft,It,zt[0],zt[1],zt[2],zt[3],Nt,Yt,Ht,Xt):(Bt[0]=wt,Bt[1]=$t,Bt[2]=Ft,Bt[3]=It,Bt[4]=1),nt&&Bt[4]?this.batchQuad(Ot,Mt,Dt,bt,Bt[0],Bt[1],Bt[2],Bt[3],Nt,Yt,Ht,Xt):(zt[0]=Ot,zt[1]=Mt,zt[2]=Dt,zt[3]=bt,zt[4]=1)}},batchVert:function(X,K,J){var Z=this.vertexViewF32,Q=this.vertexViewU32,q=this.vertexCount*this.currentShader.vertexComponentCount-1;Z[++q]=X,Z[++q]=K,Q[++q]=J,this.vertexCount++},batchQuad:function(X,K,J,Z,Q,q,et,rt,nt,ot,ht,ut){var ct=!1;return this.shouldFlush(6)&&(this.flush(),ct=!0),this.batchVert(X,K,nt),this.batchVert(J,Z,ht),this.batchVert(Q,q,ut),this.batchVert(X,K,nt),this.batchVert(Q,q,ut),this.batchVert(et,rt,ot),ct},batchTri:function(X,K,J,Z,Q,q,et,rt,nt){var ot=!1;return this.shouldFlush(3)&&(this.flush(),ot=!0),this.batchVert(X,K,et),this.batchVert(J,Z,rt),this.batchVert(Q,q,nt),ot},destroy:function(){return W.prototype.destroy.call(this),this.polygonCache=null,this}});Y.exports=U},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(2),O=y(877),G=y(108),D=y(3),F=y(58),B=10,W=new D,U=new R({Extends:G,initialize:function(K){B=K.game.renderer.config.maxLights;for(var J=j(K,"fragShader",O),Z=[],Q=1;Q<=B;Q++)Z.push({name:"lights"+Q,fragShader:J.replace("%LIGHT_COUNT%",Q.toString())});K.shaders=Z,G.call(this,K),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.lightsActive=!0},boot:function(){F.prototype.boot.call(this);var X=this.gl,K=X.createTexture();X.activeTexture(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,K),X.texImage2D(X.TEXTURE_2D,0,X.RGBA,1,1,0,X.RGBA,X.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:K};for(var J=0;J<this.shaders.length;J++)this["lightShader"+(J+1)]=this.shaders[J]},onRender:function(X,K){var J=X.sys.lights;if(this.lightsActive=!1,!(!J||!J.active)){var Z=J.getLights(K),Q=Z.length;if(Q!==0){this.lightsActive=!0,this.setShader(this["lightShader"+Q],!0);var q,et=this.renderer,rt=et.height,nt=K.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",K.x,K.y,K.rotation,K.zoom),this.set3f("uAmbientLightColor",J.ambientColor.r,J.ambientColor.g,J.ambientColor.b),q=0;q<Q;q++){var ot=Z[q].light,ht=ot.color,ut="uLights["+q+"].";nt.transformPoint(ot.x,ot.y,W),this.set2f(ut+"position",W.x-K.scrollX*ot.scrollFactorX*K.zoom,rt-(W.y-K.scrollY*ot.scrollFactorY*K.zoom)),this.set3f(ut+"color",ht.r,ht.g,ht.b),this.set1f(ut+"intensity",ot.intensity),this.set1f(ut+"radius",ot.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(X){if(X!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var K=this.inverseRotationMatrix;if(X){var J=-X,Z=Math.cos(J),Q=Math.sin(J);K[1]=Q,K[3]=-Q,K[0]=K[4]=Z}else K[0]=K[4]=1,K[1]=K[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,K),this.currentNormalMapRotation=X}},setTexture2D:function(X,K){var J=this.renderer;X===void 0&&(X=J.tempTextures[0]);var Z=this.getNormalMap(K);J.isNewNormalMap(X,Z)&&(this.flush(),J.setTextureZero(X),J.setNormalMap(Z));var Q=K?K.rotation:0;return this.setNormalMapRotation(Q),this.currentUnit=0,0},setGameObject:function(X,K){K===void 0&&(K=X.frame);var J=this.renderer,Z=K.glTexture,Q=this.getNormalMap(X);return J.isNewNormalMap()&&(this.flush(),J.setTextureZero(Z),J.setNormalMap(Q)),this.setNormalMapRotation(X.rotation),this.currentUnit=0,0},getNormalMap:function(X){var K;return X?X.displayTexture?K=X.displayTexture.dataSource[X.displayFrame.sourceIndex]:X.texture?K=X.texture.dataSource[X.frame.sourceIndex]:X.tileset&&(Array.isArray(X.tileset)?K=X.tileset[0].image.dataSource[0]:K=X.tileset.image.dataSource[0]):K=this.defaultNormalMap,K||(K=this.defaultNormalMap),K.glTexture},batchSprite:function(X,K,J){this.lightsActive&&G.prototype.batchSprite.call(this,X,K,J)},batchTexture:function(X,K,J,Z,Q,q,et,rt,nt,ot,ht,ut,ct,ft,dt,pt,yt,St,At,Ct,Pt,Rt,mt,vt,xt,Tt,Et,Ot,Mt,Ft,It,Dt){this.lightsActive&&G.prototype.batchTexture.call(this,X,K,J,Z,Q,q,et,rt,nt,ot,ht,ut,ct,ft,dt,pt,yt,St,At,Ct,Pt,Rt,mt,vt,xt,Tt,Et,Ot,Mt,Ft,It,Dt)},batchTextureFrame:function(X,K,J,Z,Q,q,et){this.lightsActive&&G.prototype.batchTextureFrame.call(this,X,K,J,Z,Q,q,et)}});U.LIGHT_COUNT=B,Y.exports=U},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(2),O=y(880),G=y(881),D=y(58),F=new R({Extends:D,initialize:function(W){W.vertShader=j(W,"vertShader",G),W.fragShader=j(W,"fragShader",O),W.attributes=j(W,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),D.call(this,W)},onRender:function(B,W){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",W.zoom)},batchPointLight:function(B,W,U,X,K,J,Z,Q,q,et,rt,nt){var ot=B.color,ht=B.intensity,ut=B.radius,ct=B.attenuation,ft=ot.r*ht,dt=ot.g*ht,pt=ot.b*ht,yt=W.alpha*B.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(U,X,rt,nt,ut,ct,ft,dt,pt,yt),this.batchLightVert(K,J,rt,nt,ut,ct,ft,dt,pt,yt),this.batchLightVert(Z,Q,rt,nt,ut,ct,ft,dt,pt,yt),this.batchLightVert(U,X,rt,nt,ut,ct,ft,dt,pt,yt),this.batchLightVert(Z,Q,rt,nt,ut,ct,ft,dt,pt,yt),this.batchLightVert(q,et,rt,nt,ut,ct,ft,dt,pt,yt)},batchLightVert:function(B,W,U,X,K,J,Z,Q,q,et){var rt=this.vertexViewF32,nt=this.vertexCount*this.currentShader.vertexComponentCount-1;rt[++nt]=B,rt[++nt]=W,rt[++nt]=U,rt[++nt]=X,rt[++nt]=K,rt[++nt]=J,rt[++nt]=Z,rt[++nt]=Q,rt[++nt]=q,rt[++nt]=et,this.vertexCount++}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(2),O=y(108),G=new R({Extends:O,initialize:function(F){F.topology=5,F.batchSize=j(F,"batchSize",256),O.call(this,F)}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(2),O=y(108),G=y(882),D=y(883),F=y(58),B=new R({Extends:O,initialize:function(U){U.fragShader=j(U,"fragShader",G),U.vertShader=j(U,"vertShader",D),U.forceZero=!0,O.call(this,U)},boot:function(){F.prototype.boot.call(this),this.set1i("uMainSampler",0)}});Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(884),j=y(35),O=y(0),G=y(198),D=y(885),F=y(886),B=y(2),W=y(887),U=y(382),X=y(58),K=new O({Extends:X,initialize:function(Z){Z.renderTarget=B(Z,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),Z.vertShader=B(Z,"vertShader",U),Z.shaders=B(Z,"shaders",[{name:"Copy",fragShader:F},{name:"AddBlend",fragShader:R},{name:"LinearBlend",fragShader:W},{name:"ColorMatrix",fragShader:D}]),Z.attributes=B(Z,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),Z.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],Z.batchSize=1,X.call(this,Z),this.colorMatrix=new G,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){X.prototype.boot.call(this);var J=this.shaders,Z=this.renderTargets;this.copyShader=J[0],this.addShader=J[1],this.linearShader=J[2],this.colorMatrixShader=J[3],this.fullFrame1=Z[0],this.fullFrame2=Z[1],this.halfFrame1=Z[2],this.halfFrame2=Z[3]},copyFrame:function(J,Z,Q,q,et){Q===void 0&&(Q=1),q===void 0&&(q=!0),et===void 0&&(et=!0);var rt=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",Q),rt.activeTexture(rt.TEXTURE0),rt.bindTexture(rt.TEXTURE_2D,J.texture),Z?(rt.viewport(0,0,Z.width,Z.height),rt.bindFramebuffer(rt.FRAMEBUFFER,Z.framebuffer),rt.framebufferTexture2D(rt.FRAMEBUFFER,rt.COLOR_ATTACHMENT0,rt.TEXTURE_2D,Z.texture,0)):rt.viewport(0,0,J.width,J.height),q&&(et?rt.clearColor(0,0,0,0):rt.clearColor(0,0,0,1),rt.clear(rt.COLOR_BUFFER_BIT)),rt.bufferData(rt.ARRAY_BUFFER,this.vertexData,rt.STATIC_DRAW),rt.drawArrays(rt.TRIANGLES,0,6),rt.bindFramebuffer(rt.FRAMEBUFFER,null),rt.bindTexture(rt.TEXTURE_2D,null)},blitFrame:function(J,Z,Q,q,et,rt){Q===void 0&&(Q=1),q===void 0&&(q=!0),et===void 0&&(et=!0),rt===void 0&&(rt=!1);var nt=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",Q),nt.activeTexture(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,J.texture),J.height>Z.height)nt.viewport(0,0,J.width,J.height),this.setTargetUVs(J,Z);else{var ot=Z.height-J.height;nt.viewport(0,ot,J.width,J.height)}if(nt.bindFramebuffer(nt.FRAMEBUFFER,Z.framebuffer),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,Z.texture,0),q&&(et?nt.clearColor(0,0,0,0):nt.clearColor(0,0,0,1),nt.clear(nt.COLOR_BUFFER_BIT)),rt){var ht=this.renderer.currentBlendMode;this.renderer.setBlendMode(j.ERASE)}nt.bufferData(nt.ARRAY_BUFFER,this.vertexData,nt.STATIC_DRAW),nt.drawArrays(nt.TRIANGLES,0,6),rt&&this.renderer.setBlendMode(ht),nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.bindTexture(nt.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(J,Z,Q,q,et,rt,nt,ot){nt===void 0&&(nt=!0),ot===void 0&&(ot=!0);var ht=this.gl;ht.bindFramebuffer(ht.FRAMEBUFFER,J.framebuffer),ht.framebufferTexture2D(ht.FRAMEBUFFER,ht.COLOR_ATTACHMENT0,ht.TEXTURE_2D,J.texture,0),nt&&(ot?ht.clearColor(0,0,0,0):ht.clearColor(0,0,0,1),ht.clear(ht.COLOR_BUFFER_BIT)),ht.activeTexture(ht.TEXTURE0),ht.bindTexture(ht.TEXTURE_2D,Z.texture),ht.copyTexSubImage2D(ht.TEXTURE_2D,0,0,0,Q,q,et,rt),ht.bindFramebuffer(ht.FRAMEBUFFER,null),ht.bindTexture(ht.TEXTURE_2D,null)},copyToGame:function(J){var Z=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),Z.activeTexture(Z.TEXTURE0),Z.bindTexture(Z.TEXTURE_2D,J.texture),Z.bufferData(Z.ARRAY_BUFFER,this.vertexData,Z.STATIC_DRAW),Z.drawArrays(Z.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(J,Z,Q,q){Q===void 0&&(Q=!0),q===void 0&&(q=this.colorMatrix);var et=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",q.getData()),this.set1f("uAlpha",q.alpha),et.activeTexture(et.TEXTURE0),et.bindTexture(et.TEXTURE_2D,J.texture),Z?(et.viewport(0,0,Z.width,Z.height),et.bindFramebuffer(et.FRAMEBUFFER,Z.framebuffer),et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,Z.texture,0)):et.viewport(0,0,J.width,J.height),Q?et.clearColor(0,0,0,0):et.clearColor(0,0,0,1),et.clear(et.COLOR_BUFFER_BIT),et.bufferData(et.ARRAY_BUFFER,this.vertexData,et.STATIC_DRAW),et.drawArrays(et.TRIANGLES,0,6),et.bindFramebuffer(et.FRAMEBUFFER,null),et.bindTexture(et.TEXTURE_2D,null)},blendFrames:function(J,Z,Q,q,et,rt){q===void 0&&(q=1),et===void 0&&(et=!0),rt===void 0&&(rt=this.linearShader);var nt=this.gl;this.setShader(rt),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",q),nt.activeTexture(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,J.texture),nt.activeTexture(nt.TEXTURE1),nt.bindTexture(nt.TEXTURE_2D,Z.texture),Q?(nt.bindFramebuffer(nt.FRAMEBUFFER,Q.framebuffer),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,Q.texture,0),nt.viewport(0,0,Q.width,Q.height)):nt.viewport(0,0,J.width,J.height),et?nt.clearColor(0,0,0,0):nt.clearColor(0,0,0,1),nt.clear(nt.COLOR_BUFFER_BIT),nt.bufferData(nt.ARRAY_BUFFER,this.vertexData,nt.STATIC_DRAW),nt.drawArrays(nt.TRIANGLES,0,6),nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.bindTexture(nt.TEXTURE_2D,null)},blendFramesAdditive:function(J,Z,Q,q,et){this.blendFrames(J,Z,Q,q,et,this.addShader)},clearFrame:function(J,Z){Z===void 0&&(Z=!0);var Q=this.gl;Q.viewport(0,0,J.width,J.height),Q.bindFramebuffer(Q.FRAMEBUFFER,J.framebuffer),Z?Q.clearColor(0,0,0,0):Q.clearColor(0,0,0,1),Q.clear(Q.COLOR_BUFFER_BIT);var q=this.renderer.currentFramebuffer;Q.bindFramebuffer(Q.FRAMEBUFFER,q)},setUVs:function(J,Z,Q,q,et,rt,nt,ot){var ht=this.vertexViewF32;ht[2]=J,ht[3]=Z,ht[6]=Q,ht[7]=q,ht[10]=et,ht[11]=rt,ht[14]=J,ht[15]=Z,ht[18]=et,ht[19]=rt,ht[22]=nt,ht[23]=ot},setTargetUVs:function(J,Z){var Q=Z.height/J.height;Q>.5?Q=.5-(Q-.5):Q=.5+(.5-Q),this.setUVs(0,Q,0,1+Q,1,1+Q,1,Q)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});Y.exports=K},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join(`
`)},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(31),j=y(38),O=y(2),G=function(D,F){var B=D.getContext("experimental-webgl"),W=O(F,"callback"),U=O(F,"type","image/png"),X=O(F,"encoder",.92),K=O(F,"x",0),J=O(F,"y",0),Z=O(F,"getPixel",!1),Q=O(F,"isFramebuffer",!1),q=Q?O(F,"bufferWidth",1):B.drawingBufferWidth,et=Q?O(F,"bufferHeight",1):B.drawingBufferHeight;if(Z){var rt=new Uint8Array(4),nt=Q?J:et-J;B.readPixels(K,nt,1,1,B.RGBA,B.UNSIGNED_BYTE,rt),W.call(null,new j(rt[0],rt[1],rt[2],rt[3]/255))}else{var ot=O(F,"width",q),ht=O(F,"height",et),ut=ot*ht*4,ct=new Uint8Array(ut);B.readPixels(K,et-J-ht,ot,ht,B.RGBA,B.UNSIGNED_BYTE,ct);for(var ft=R.createWebGL(this,ot,ht),dt=ft.getContext("2d"),pt=dt.getImageData(0,0,ot,ht),yt=pt.data,St=0;St<ht;St++)for(var At=0;At<ot;At++){var Ct=((ht-St-1)*ot+At)*4,Pt=(St*ot+At)*4;yt[Pt+0]=ct[Ct+0],yt[Pt+1]=ct[Ct+1],yt[Pt+2]=ct[Ct+2],yt[Pt+3]=ct[Ct+3]}dt.putImageData(pt,0,0);var Rt=new Image;Rt.onerror=function(){W.call(null),R.remove(ft)},Rt.onload=function(){W.call(null,Rt),R.remove(ft)},Rt.src=ft.toDataURL(U,X)}};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(33),j=function(O){var G=O.config;if(!G.hideBanner){var D="WebGL";G.renderType===R.CANVAS?D="Canvas":G.renderType===R.HEADLESS&&(D="Headless");var F=G.audio,B=O.device.audio,W;if(B.webAudio&&!F.disableWebAudio?W="Web Audio":F.noAudio||!B.webAudio&&!B.audioData?W="No Audio":W="HTML5 Audio",O.device.browser.ie)window.console&&console.log("Phaser v"+R.VERSION+" / https://phaser.io");else{var U="",X=[U];if(Array.isArray(G.bannerBackgroundColor)){var K;G.bannerBackgroundColor.forEach(function(Z){U=U.concat("%c "),X.push("background: "+Z),K=Z}),X[X.length-1]="color: "+G.bannerTextColor+"; background: "+K}else U=U.concat("%c "),X.push("color: "+G.bannerTextColor+"; background: "+G.bannerBackgroundColor);X.push("background: transparent"),G.gameTitle&&(U=U.concat(G.gameTitle),G.gameVersion&&(U=U.concat(" v"+G.gameVersion)),G.hidePhaser||(U=U.concat(" / ")));var J="";G.hidePhaser||(U=U.concat("Phaser v"+R.VERSION+J+" ("+D+" | "+W+")")),U=U.concat(" %c "+G.gameURL),X[0]=U,console.log.apply(console,X)}}};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(6),O=y(1),G=y(386),D=new R({initialize:function(B,W){this.game=B,this.raf=new G,this.started=!1,this.running=!1,this.minFps=j(W,"min",5),this.targetFps=j(W,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=O,this.forceSetTimeOut=j(W,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=j(W,"deltaHistory",10),this.panicMax=j(W,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=j(W,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var F=window.performance.now();this.time=F,this.lastTime=F,this.nextFpsUpdate=F+1e3,this.framesThisSecond=0;for(var B=0;B<this.deltaSmoothingMax;B++)this.deltaHistory[B]=Math.min(this._target,this.deltaHistory[B]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(F){if(this.started)return this;this.started=!0,this.running=!0;for(var B=0;B<this.deltaSmoothingMax;B++)this.deltaHistory[B]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=F,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var F=window.performance.now();this.now=F;var B=F-this.lastTime;B<0&&(B=0),this.rawDelta=B;var W=this.deltaIndex,U=this.deltaHistory,X=this.deltaSmoothingMax,K=B,J=B;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,K=Math.min(K,this._target)),K>this._min&&(K=U[W],K=Math.min(K,this._min)),U[W]=K,this.deltaIndex++,this.deltaIndex>X&&(this.deltaIndex=0),J=0;for(var Z=0;Z<X;Z++)J+=U[Z];J/=X}this.delta=J,this.time+=this.rawDelta,F>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=F+1e3,this.framesThisSecond=0),this.framesThisSecond++;var Q=J/this._target;this.callback(F,J,Q),this.lastTime=F,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(F){this.running||(F&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=O,this.raf=null,this.game=null}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(1),O=new R({initialize:function(){this.isRunning=!1,this.callback=j,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var D=this;this.step=function F(){var B=window.performance.now();D.lastTime=D.tick,D.tick=B,D.callback(B),D.timeOutID=window.requestAnimationFrame(F)},this.stepTimeout=function F(){var B=Date.now(),W=Math.min(Math.max(D.target*2+D.tick-B,0),D.target);D.lastTime=D.tick,D.tick=B,D.callback(B),D.timeOutID=window.setTimeout(F,W)}},start:function(G,D,F){this.isRunning||(this.callback=G,this.isSetTimeOut=D,this.target=F,this.isRunning=!0,this.timeOutID=D?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=j}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(22),j=function(O){var G,D=O.events;if(document.hidden!==void 0)G="visibilitychange";else{var F=["webkit","moz","ms"];F.forEach(function(W){document[W+"Hidden"]!==void 0&&(document.hidden=function(){return document[W+"Hidden"]},G=W+"visibilitychange")})}var B=function(W){document.hidden||W.type==="pause"?D.emit(R.HIDDEN):D.emit(R.VISIBLE)};G&&document.addEventListener(G,B,!1),window.onblur=function(){D.emit(R.BLUR)},window.onfocus=function(){D.emit(R.FOCUS)},window.focus&&O.config.autoFocus&&window.focus()};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(389),j=y(31),O=y(6),G=function(D){var F=O(D,"data",[]),B=O(D,"canvas",null),W=O(D,"palette",R),U=O(D,"pixelWidth",1),X=O(D,"pixelHeight",U),K=O(D,"resizeCanvas",!0),J=O(D,"clearCanvas",!0),Z=O(D,"preRender",null),Q=O(D,"postRender",null),q=Math.floor(Math.abs(F[0].length*U)),et=Math.floor(Math.abs(F.length*X));B||(B=j.create2D(this,q,et),K=!1,J=!1),K&&(B.width=q,B.height=et);var rt=B.getContext("2d");J&&rt.clearRect(0,0,q,et),Z&&Z(B,rt);for(var nt=0;nt<F.length;nt++)for(var ot=F[nt],ht=0;ht<ot.length;ht++){var ut=ot[ht];ut!=="."&&ut!==" "&&(rt.fillStyle=W[ut],rt.fillRect(ht*U,nt*X,U,X))}return Q&&Q(B,rt),B};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(358),O=y(94),G=y(3),D=new R({Extends:O,initialize:function(B,W,U,X){O.call(this,"CubicBezierCurve"),Array.isArray(B)&&(X=new G(B[6],B[7]),U=new G(B[4],B[5]),W=new G(B[2],B[3]),B=new G(B[0],B[1])),this.p0=B,this.p1=W,this.p2=U,this.p3=X},getStartPoint:function(F){return F===void 0&&(F=new G),F.copy(this.p0)},getResolution:function(F){return F},getPoint:function(F,B){B===void 0&&(B=new G);var W=this.p0,U=this.p1,X=this.p2,K=this.p3;return B.set(j(F,W.x,U.x,X.x,K.x),j(F,W.y,U.y,X.y,K.y))},draw:function(F,B){B===void 0&&(B=32);var W=this.getPoints(B);F.beginPath(),F.moveTo(this.p0.x,this.p0.y);for(var U=1;U<W.length;U++)F.lineTo(W[U].x,W[U].y);return F.strokePath(),F},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});D.fromJSON=function(F){var B=F.points,W=new G(B[0],B[1]),U=new G(B[2],B[3]),X=new G(B[4],B[5]),K=new G(B[6],B[7]);return new D(W,U,X,K)},Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(94),O=y(36),G=y(6),D=y(196),F=y(3),B=new R({Extends:j,initialize:function(U,X,K,J,Z,Q,q,et){if(typeof U=="object"){var rt=U;U=G(rt,"x",0),X=G(rt,"y",0),K=G(rt,"xRadius",0),J=G(rt,"yRadius",K),Z=G(rt,"startAngle",0),Q=G(rt,"endAngle",360),q=G(rt,"clockwise",!1),et=G(rt,"rotation",0)}else J===void 0&&(J=K),Z===void 0&&(Z=0),Q===void 0&&(Q=360),q===void 0&&(q=!1),et===void 0&&(et=0);j.call(this,"EllipseCurve"),this.p0=new F(U,X),this._xRadius=K,this._yRadius=J,this._startAngle=O(Z),this._endAngle=O(Q),this._clockwise=q,this._rotation=O(et)},getStartPoint:function(W){return W===void 0&&(W=new F),this.getPoint(0,W)},getResolution:function(W){return W*2},getPoint:function(W,U){U===void 0&&(U=new F);for(var X=Math.PI*2,K=this._endAngle-this._startAngle,J=Math.abs(K)<Number.EPSILON;K<0;)K+=X;for(;K>X;)K-=X;K<Number.EPSILON&&(J?K=0:K=X),this._clockwise&&!J&&(K===X?K=-X:K=K-X);var Z=this._startAngle+W*K,Q=this.p0.x+this._xRadius*Math.cos(Z),q=this.p0.y+this._yRadius*Math.sin(Z);if(this._rotation!==0){var et=Math.cos(this._rotation),rt=Math.sin(this._rotation),nt=Q-this.p0.x,ot=q-this.p0.y;Q=nt*et-ot*rt+this.p0.x,q=nt*rt+ot*et+this.p0.y}return U.set(Q,q)},setXRadius:function(W){return this.xRadius=W,this},setYRadius:function(W){return this.yRadius=W,this},setWidth:function(W){return this.xRadius=W/2,this},setHeight:function(W){return this.yRadius=W/2,this},setStartAngle:function(W){return this.startAngle=W,this},setEndAngle:function(W){return this.endAngle=W,this},setClockwise:function(W){return this.clockwise=W,this},setRotation:function(W){return this.rotation=W,this},x:{get:function(){return this.p0.x},set:function(W){this.p0.x=W}},y:{get:function(){return this.p0.y},set:function(W){this.p0.y=W}},xRadius:{get:function(){return this._xRadius},set:function(W){this._xRadius=W}},yRadius:{get:function(){return this._yRadius},set:function(W){this._yRadius=W}},startAngle:{get:function(){return D(this._startAngle)},set:function(W){this._startAngle=O(W)}},endAngle:{get:function(){return D(this._endAngle)},set:function(W){this._endAngle=O(W)}},clockwise:{get:function(){return this._clockwise},set:function(W){this._clockwise=W}},angle:{get:function(){return D(this._rotation)},set:function(W){this._rotation=O(W)}},rotation:{get:function(){return this._rotation},set:function(W){this._rotation=W}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:D(this._startAngle),endAngle:D(this._endAngle),clockwise:this._clockwise,rotation:D(this._rotation)}}});B.fromJSON=function(W){return new B(W)},Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(94),O=y(199),G=y(10),D=y(3),F=new R({Extends:j,initialize:function(W,U){j.call(this,"LineCurve"),Array.isArray(W)&&(U=new D(W[2],W[3]),W=new D(W[0],W[1])),this.p0=W,this.p1=U,this.arcLengthDivisions=1},getBounds:function(B){return B===void 0&&(B=new G),O([this.p0,this.p1],B)},getStartPoint:function(B){return B===void 0&&(B=new D),B.copy(this.p0)},getResolution:function(B){return B===void 0&&(B=1),B},getPoint:function(B,W){return W===void 0&&(W=new D),B===1?W.copy(this.p1):(W.copy(this.p1).subtract(this.p0).scale(B).add(this.p0),W)},getPointAt:function(B,W){return this.getPoint(B,W)},getTangent:function(B,W){return W===void 0&&(W=new D),W.copy(this.p1).subtract(this.p0).normalize(),W},getUtoTmapping:function(B,W,U){var X;if(W){var K=this.getLengths(U),J=K[K.length-1],Z=Math.min(W,J);X=Z/J}else X=B;return X},draw:function(B){return B.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),B},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});F.fromJSON=function(B){var W=B.points,U=new D(W[0],W[1]),X=new D(W[2],W[3]);return new F(U,X)},Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(3),O=new R({initialize:function(D,F){this.active=!1,this.p0=new j(D,F)},getPoint:function(G,D){return D===void 0&&(D=new j),D.copy(this.p0)},getPointAt:function(G,D){return this.getPoint(G,D)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(94),O=y(359),G=y(3),D=new R({Extends:j,initialize:function(B,W,U){j.call(this,"QuadraticBezier"),Array.isArray(B)&&(U=new G(B[4],B[5]),W=new G(B[2],B[3]),B=new G(B[0],B[1])),this.p0=B,this.p1=W,this.p2=U},getStartPoint:function(F){return F===void 0&&(F=new G),F.copy(this.p0)},getResolution:function(F){return F},getPoint:function(F,B){B===void 0&&(B=new G);var W=this.p0,U=this.p1,X=this.p2;return B.set(O(F,W.x,U.x,X.x),O(F,W.y,U.y,X.y))},draw:function(F,B){B===void 0&&(B=32);var W=this.getPoints(B);F.beginPath(),F.moveTo(this.p0.x,this.p0.y);for(var U=1;U<W.length;U++)F.lineTo(W[U].x,W[U].y);return F.strokePath(),F},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});D.fromJSON=function(F){var B=F.points,W=new G(B[0],B[1]),U=new G(B[2],B[3]),X=new G(B[4],B[5]);return new D(W,U,X)},Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(194),j=y(0),O=y(94),G=y(3),D=new j({Extends:O,initialize:function(B){B===void 0&&(B=[]),O.call(this,"SplineCurve"),this.points=[],this.addPoints(B)},addPoints:function(F){for(var B=0;B<F.length;B++){var W=new G;typeof F[B]=="number"?(W.x=F[B],W.y=F[B+1],B++):Array.isArray(F[B])?(W.x=F[B][0],W.y=F[B][1]):(W.x=F[B].x,W.y=F[B].y),this.points.push(W)}return this},addPoint:function(F,B){var W=new G(F,B);return this.points.push(W),W},getStartPoint:function(F){return F===void 0&&(F=new G),F.copy(this.points[0])},getResolution:function(F){return F*this.points.length},getPoint:function(F,B){B===void 0&&(B=new G);var W=this.points,U=(W.length-1)*F,X=Math.floor(U),K=U-X,J=W[X===0?X:X-1],Z=W[X],Q=W[X>W.length-2?W.length-1:X+1],q=W[X>W.length-3?W.length-1:X+2];return B.set(R(K,J.x,Z.x,Q.x,q.x),R(K,J.y,Z.y,Q.y,q.y))},toJSON:function(){for(var F=[],B=0;B<this.points.length;B++)F.push(this.points[B].x),F.push(this.points[B].y);return{type:this.type,points:F}}});D.fromJSON=function(F){return new D(F.points)},Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D,F,B){(!D||D==="")&&(D=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!F||F==="")&&(F=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),B===void 0&&(B=null),this.key=G,this.fragmentSrc=D,this.vertexSrc=F,this.uniforms=B}});Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(38);R.ColorSpectrum=y(909),R.ColorToRGBA=y(910),R.ComponentToHex=y(398),R.GetColor=y(103),R.GetColor32=y(328),R.HexStringToColor=y(327),R.HSLToColor=y(911),R.HSVColorWheel=y(912),R.HSVToRGB=y(188),R.HueToComponent=y(399),R.IntegerToColor=y(189),R.IntegerToRGB=y(330),R.Interpolate=y(913),R.ObjectToColor=y(331),R.RandomRGB=y(914),R.RGBStringToColor=y(332),R.RGBToHSV=y(329),R.RGBToString=y(915),R.ValueToColor=y(187),Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j=R.toString(16);return j.length===1?"0"+j:j};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return O<0&&(O+=1),O>1&&(O-=1),O<1/6?R+(j-R)*6*O:O<1/2?j:O<2/3?R+(j-R)*(2/3-O)*6:R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(105),j=function(O){if(document.readyState==="complete"||document.readyState==="interactive"){O();return}var G=function(){document.removeEventListener("deviceready",G,!0),document.removeEventListener("DOMContentLoaded",G,!0),window.removeEventListener("load",G,!0),O()};document.body?R.cordova?document.addEventListener("deviceready",G,!1):(document.addEventListener("DOMContentLoaded",G,!0),window.addEventListener("load",G,!0)):window.setTimeout(G,20)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){if(!R)return window.innerHeight;var j=Math.abs(window.orientation),O={w:0,h:0},G=document.createElement("div");return G.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(G),O.w=j===90?G.offsetHeight:window.innerWidth,O.h=j===90?window.innerWidth:G.offsetHeight,document.documentElement.removeChild(G),G=null,Math.abs(window.orientation)!==90?O.h:O.w};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(201),j=function(O,G){var D=window.screen,F=D?D.orientation||D.mozOrientation||D.msOrientation:!1;if(F&&typeof F.type=="string")return F.type;if(typeof F=="string")return F;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?R.ORIENTATION.PORTRAIT:R.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return R.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return R.ORIENTATION.LANDSCAPE}else return G>O?R.ORIENTATION.PORTRAIT:R.ORIENTATION.LANDSCAPE};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j;return R!==""&&(typeof R=="string"?j=document.getElementById(R):R&&R.nodeType===1&&(j=R)),j||(j=document.body),j};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j="";try{if(window.DOMParser){var O=new DOMParser;j=O.parseFromString(R,"text/xml")}else j=new ActiveXObject("Microsoft.XMLDOM"),j.loadXML(R)}catch{j=null}return!j||!j.documentElement||j.getElementsByTagName("parsererror").length?null:j};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(203),O=y(9),G=y(51),D=y(22),F=y(410),B=y(411),W=y(412),U=y(413),X=y(25),K=y(177),J=new R({initialize:function(Q,q){this.game=Q,this.scaleManager,this.canvas,this.config=q,this.enabled=!0,this.events=new O,this.isOver=!0,this.defaultCursor="",this.keyboard=q.inputKeyboard?new F(this):null,this.mouse=q.inputMouse?new B(this):null,this.touch=q.inputTouch?new U(this):null,this.pointers=[],this.pointersTotal=q.inputActivePointers,q.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var et=0;et<=this.pointersTotal;et++){var rt=new W(this,et);rt.smoothFactor=q.inputSmoothFactor,this.pointers.push(rt)}this.mousePointer=q.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new X,this._tempMatrix2=new X,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],Q.events.once(D.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(G.MANAGER_BOOT),this.game.events.on(D.PRE_RENDER,this.preRender,this),this.game.events.once(D.DESTROY,this.destroy,this)},setCanvasOver:function(Z){this.isOver=!0,this.events.emit(G.GAME_OVER,Z)},setCanvasOut:function(Z){this.isOver=!1,this.events.emit(G.GAME_OUT,Z)},preRender:function(){var Z=this.game.loop.now,Q=this.game.loop.delta,q=this.game.scene.getScenes(!0,!0);this.time=Z,this.events.emit(G.MANAGER_UPDATE);for(var et=0;et<q.length;et++){var rt=q[et];if(rt.sys.input&&rt.sys.input.updatePoll(Z,Q)&&this.globalTopOnly)return}},setDefaultCursor:function(Z){this.defaultCursor=Z,this.canvas.style.cursor!==Z&&(this.canvas.style.cursor=Z)},setCursor:function(Z){Z.cursor&&(this.canvas.style.cursor=Z.cursor)},resetCursor:function(Z){Z.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(Z){Z===void 0&&(Z=1);var Q=[];this.pointersTotal+Z>10&&(Z=10-this.pointersTotal);for(var q=0;q<Z;q++){var et=this.pointers.length,rt=new W(this,et);rt.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(rt),this.pointersTotal++,Q.push(rt)}return Q},updateInputPlugins:function(Z,Q){var q=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var et=0;et<q.length;et++){var rt=q[et];if(rt.sys.input){var nt=rt.sys.input.update(Z,Q);if(nt&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(Z){for(var Q=this.pointers,q=[],et=0;et<Z.changedTouches.length;et++)for(var rt=Z.changedTouches[et],nt=1;nt<this.pointersTotal;nt++){var ot=Q[nt];if(!ot.active){ot.touchstart(rt,Z),this.activePointer=ot,q.push(ot);break}}this.updateInputPlugins(j.TOUCH_START,q)},onTouchMove:function(Z){for(var Q=this.pointers,q=[],et=0;et<Z.changedTouches.length;et++)for(var rt=Z.changedTouches[et],nt=1;nt<this.pointersTotal;nt++){var ot=Q[nt];if(ot.active&&ot.identifier===rt.identifier){ot.touchmove(rt,Z),this.activePointer=ot,q.push(ot);break}}this.updateInputPlugins(j.TOUCH_MOVE,q)},onTouchEnd:function(Z){for(var Q=this.pointers,q=[],et=0;et<Z.changedTouches.length;et++)for(var rt=Z.changedTouches[et],nt=1;nt<this.pointersTotal;nt++){var ot=Q[nt];if(ot.active&&ot.identifier===rt.identifier){ot.touchend(rt,Z),q.push(ot);break}}this.updateInputPlugins(j.TOUCH_END,q)},onTouchCancel:function(Z){for(var Q=this.pointers,q=[],et=0;et<Z.changedTouches.length;et++)for(var rt=Z.changedTouches[et],nt=1;nt<this.pointersTotal;nt++){var ot=Q[nt];if(ot.active&&ot.identifier===rt.identifier){ot.touchcancel(rt,Z),q.push(ot);break}}this.updateInputPlugins(j.TOUCH_CANCEL,q)},onMouseDown:function(Z){var Q=this.mousePointer;Q.down(Z),Q.updateMotion(),this.activePointer=Q,this.updateInputPlugins(j.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(Z){var Q=this.mousePointer;Q.move(Z),Q.updateMotion(),this.activePointer=Q,this.updateInputPlugins(j.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(Z){var Q=this.mousePointer;Q.up(Z),Q.updateMotion(),this.activePointer=Q,this.updateInputPlugins(j.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(Z){var Q=this.mousePointer;Q.wheel(Z),this.activePointer=Q,this.updateInputPlugins(j.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(Z){var Q=this.mouse.locked;this.mousePointer.locked=Q,this.events.emit(G.POINTERLOCK_CHANGE,Z,Q)},inputCandidate:function(Z,Q){var q=Z.input;if(!q||!q.enabled||!q.alwaysEnabled&&!Z.willRender(Q))return!1;var et=!0,rt=Z.parentContainer;if(rt)do{if(!rt.willRender(Q)){et=!1;break}rt=rt.parentContainer}while(rt);return et},hitTest:function(Z,Q,q,et){et===void 0&&(et=this._tempHitTest);var rt=this._tempPoint,nt=q.scrollX,ot=q.scrollY;et.length=0;var ht=Z.x,ut=Z.y;q.getWorldPoint(ht,ut,rt),Z.worldX=rt.x,Z.worldY=rt.y;for(var ct={x:0,y:0},ft=this._tempMatrix,dt=this._tempMatrix2,pt=0;pt<Q.length;pt++){var yt=Q[pt];if(!!this.inputCandidate(yt,q)){var St=rt.x+nt*yt.scrollFactorX-nt,At=rt.y+ot*yt.scrollFactorY-ot;yt.parentContainer?(yt.getWorldTransformMatrix(ft,dt),ft.applyInverse(St,At,ct)):K(St,At,yt.x,yt.y,yt.rotation,yt.scaleX,yt.scaleY,ct),this.pointWithinHitArea(yt,ct.x,ct.y)&&et.push(yt)}}return et},pointWithinHitArea:function(Z,Q,q){Q+=Z.displayOriginX,q+=Z.displayOriginY;var et=Z.input;return et&&et.hitAreaCallback(et.hitArea,Q,q,Z)?(et.localX=Q,et.localY=q,!0):!1},pointWithinInteractiveObject:function(Z,Q,q){return Z.hitArea?(Q+=Z.gameObject.displayOriginX,q+=Z.gameObject.displayOriginY,Z.localX=Q,Z.localY=q,Z.hitAreaCallback(Z.hitArea,Q,q,Z)):!1},transformPointer:function(Z,Q,q,et){var rt=Z.position,nt=Z.prevPosition;nt.x=rt.x,nt.y=rt.y;var ot=this.scaleManager.transformX(Q),ht=this.scaleManager.transformY(q),ut=Z.smoothFactor;!et||ut===0?(rt.x=ot,rt.y=ht):(rt.x=ot*ut+nt.x*(1-ut),rt.y=ht*ut+nt.y*(1-ut))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(D.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var Z=0;Z<this.pointers.length;Z++)this.pointers[Z].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});Y.exports=J},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(93),j=y(0),O=y(22),G=y(51),D=y(143),F=y(1),B=new j({initialize:function(U){this.manager=U,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=F,this.onKeyUp=F,U.events.once(G.MANAGER_BOOT,this.boot,this)},boot:function(){var W=this.manager.config;this.enabled=W.inputKeyboard,this.target=W.inputKeyboardEventTarget,this.addCapture(W.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(O.POST_STEP,this.postUpdate,this)},startListeners:function(){var W=this;this.onKeyDown=function(X){if(!(X.defaultPrevented||!W.enabled||!W.manager)){W.queue.push(X),W.manager.events.emit(G.MANAGER_PROCESS);var K=X.altKey||X.ctrlKey||X.shiftKey||X.metaKey;W.preventDefault&&!K&&W.captures.indexOf(X.keyCode)>-1&&X.preventDefault()}},this.onKeyUp=function(X){if(!(X.defaultPrevented||!W.enabled||!W.manager)){W.queue.push(X),W.manager.events.emit(G.MANAGER_PROCESS);var K=X.altKey||X.ctrlKey||X.shiftKey||X.metaKey;W.preventDefault&&!K&&W.captures.indexOf(X.keyCode)>-1&&X.preventDefault()}};var U=this.target;U&&(U.addEventListener("keydown",this.onKeyDown,!1),U.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var W=this.target;W.removeEventListener("keydown",this.onKeyDown,!1),W.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(W){typeof W=="string"&&(W=W.split(",")),Array.isArray(W)||(W=[W]);for(var U=this.captures,X=0;X<W.length;X++){var K=W[X];typeof K=="string"&&(K=D[K.trim().toUpperCase()]),U.indexOf(K)===-1&&U.push(K)}this.preventDefault=U.length>0},removeCapture:function(W){typeof W=="string"&&(W=W.split(",")),Array.isArray(W)||(W=[W]);for(var U=this.captures,X=0;X<W.length;X++){var K=W[X];typeof K=="string"&&(K=D[K.toUpperCase()]),R(U,K)}this.preventDefault=U.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(O.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(191),O=y(51),G=y(1),D=new R({initialize:function(B){this.manager=B,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=G,this.onMouseDown=G,this.onMouseUp=G,this.onMouseDownWindow=G,this.onMouseUpWindow=G,this.onMouseOver=G,this.onMouseOut=G,this.onMouseWheel=G,this.pointerLockChange=G,this.isTop=!0,B.events.once(O.MANAGER_BOOT,this.boot,this)},boot:function(){var F=this.manager.config;this.enabled=F.inputMouse,this.target=F.inputMouseEventTarget,this.passive=F.inputMousePassive,this.preventDefaultDown=F.inputMousePreventDefaultDown,this.preventDefaultUp=F.inputMousePreventDefaultUp,this.preventDefaultMove=F.inputMousePreventDefaultMove,this.preventDefaultWheel=F.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,F.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(F){return F.preventDefault(),!1}),this},requestPointerLock:function(){if(j.pointerLock){var F=this.target;F.requestPointerLock=F.requestPointerLock||F.mozRequestPointerLock||F.webkitRequestPointerLock,F.requestPointerLock()}},releasePointerLock:function(){j.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var F=this.target;if(!!F){var B=this,W=this.manager,U=W.canvas,X=window&&window.focus&&W.game.config.autoFocus;this.onMouseMove=function(J){!J.defaultPrevented&&B.enabled&&W&&W.enabled&&(W.onMouseMove(J),B.preventDefaultMove&&J.preventDefault())},this.onMouseDown=function(J){X&&window.focus(),!J.defaultPrevented&&B.enabled&&W&&W.enabled&&(W.onMouseDown(J),B.preventDefaultDown&&J.target===U&&J.preventDefault())},this.onMouseDownWindow=function(J){!J.defaultPrevented&&B.enabled&&W&&W.enabled&&J.target!==U&&W.onMouseDown(J)},this.onMouseUp=function(J){!J.defaultPrevented&&B.enabled&&W&&W.enabled&&(W.onMouseUp(J),B.preventDefaultUp&&J.target===U&&J.preventDefault())},this.onMouseUpWindow=function(J){!J.defaultPrevented&&B.enabled&&W&&W.enabled&&J.target!==U&&W.onMouseUp(J)},this.onMouseOver=function(J){!J.defaultPrevented&&B.enabled&&W&&W.enabled&&W.setCanvasOver(J)},this.onMouseOut=function(J){!J.defaultPrevented&&B.enabled&&W&&W.enabled&&W.setCanvasOut(J)},this.onMouseWheel=function(J){!J.defaultPrevented&&B.enabled&&W&&W.enabled&&W.onMouseWheel(J),B.preventDefaultWheel&&J.target===U&&J.preventDefault()};var K={passive:!0};if(F.addEventListener("mousemove",this.onMouseMove),F.addEventListener("mousedown",this.onMouseDown),F.addEventListener("mouseup",this.onMouseUp),F.addEventListener("mouseover",this.onMouseOver,K),F.addEventListener("mouseout",this.onMouseOut,K),this.preventDefaultWheel?F.addEventListener("wheel",this.onMouseWheel,{passive:!1}):F.addEventListener("wheel",this.onMouseWheel,K),window&&W.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,K),window.top.addEventListener("mouseup",this.onMouseUpWindow,K)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,K),window.addEventListener("mouseup",this.onMouseUpWindow,K),this.isTop=!1}j.pointerLock&&(this.pointerLockChange=function(J){var Z=B.target;B.locked=document.pointerLockElement===Z||document.mozPointerLockElement===Z||document.webkitPointerLockElement===Z,W.onPointerLockChange(J)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var F=this.target;F.removeEventListener("mousemove",this.onMouseMove),F.removeEventListener("mousedown",this.onMouseDown),F.removeEventListener("mouseup",this.onMouseUp),F.removeEventListener("mouseover",this.onMouseOver),F.removeEventListener("mouseout",this.onMouseOut),window&&(F=this.isTop?window.top:window,F.removeEventListener("mousedown",this.onMouseDownWindow),F.removeEventListener("mouseup",this.onMouseUpWindow)),j.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(349),j=y(0),O=y(50),G=y(124),D=y(360),F=y(3),B=y(105),W=new j({initialize:function(X,K){this.manager=X,this.id=K,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new F,this.prevPosition=new F,this.midPoint=new F(-1,-1),this.velocity=new F,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=K===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(U){var X=U.getWorldPoint(this.x,this.y);return this.worldX=X.x,this.worldY=X.y,this},positionToCamera:function(U,X){return U.getWorldPoint(this.x,this.y,X)},updateMotion:function(){var U=this.position.x,X=this.position.y,K=this.midPoint.x,J=this.midPoint.y;if(!(U===K&&X===J)){var Z=D(this.motionFactor,K,U),Q=D(this.motionFactor,J,X);G(Z,U,.1)&&(Z=U),G(Q,X,.1)&&(Q=X),this.midPoint.set(Z,Q);var q=U-Z,et=X-Q;this.velocity.set(q,et),this.angle=R(Z,Q,U,X),this.distance=Math.sqrt(q*q+et*et)}},up:function(U){"buttons"in U&&(this.buttons=U.buttons),this.event=U,this.button=U.button,this.upElement=U.target,this.manager.transformPointer(this,U.pageX,U.pageY,!1),U.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=U.timeStamp,this.wasTouch=!1)},down:function(U){"buttons"in U&&(this.buttons=U.buttons),this.event=U,this.button=U.button,this.downElement=U.target,this.manager.transformPointer(this,U.pageX,U.pageY,!1),U.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),B.macOS&&U.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=U.timeStamp),this.wasTouch=!1},move:function(U){"buttons"in U&&(this.buttons=U.buttons),this.event=U,this.manager.transformPointer(this,U.pageX,U.pageY,!0),this.locked&&(this.movementX=U.movementX||U.mozMovementX||U.webkitMovementX||0,this.movementY=U.movementY||U.mozMovementY||U.webkitMovementY||0),this.moveTime=U.timeStamp,this.wasTouch=!1},wheel:function(U){"buttons"in U&&(this.buttons=U.buttons),this.event=U,this.manager.transformPointer(this,U.pageX,U.pageY,!1),this.deltaX=U.deltaX,this.deltaY=U.deltaY,this.deltaZ=U.deltaZ,this.wasTouch=!1},touchstart:function(U,X){U.pointerId&&(this.pointerId=U.pointerId),this.identifier=U.identifier,this.target=U.target,this.active=!0,this.buttons=1,this.event=X,this.downElement=U.target,this.manager.transformPointer(this,U.pageX,U.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=X.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(U,X){this.event=X,this.manager.transformPointer(this,U.pageX,U.pageY,!0),this.moveTime=X.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(U,X){this.buttons=0,this.event=X,this.upElement=U.target,this.manager.transformPointer(this,U.pageX,U.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=X.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(U,X){this.buttons=0,this.event=X,this.upElement=U.target,this.manager.transformPointer(this,U.pageX,U.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=X.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?O(this.downX,this.downY,this.x,this.y):O(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?R(this.downX,this.downY,this.x,this.y):R(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(U,X){U===void 0&&(U=10),X===void 0&&(X=[]);for(var K=this.prevPosition.x,J=this.prevPosition.y,Z=this.position.x,Q=this.position.y,q=0;q<U;q++){var et=1/U*q;X[q]={x:D(et,K,Z),y:D(et,J,Q)}}return X},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(U){this.position.x=U}},y:{get:function(){return this.position.y},set:function(U){this.position.y=U}},time:{get:function(){return this.event?this.event.timeStamp:0}}});Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(51),O=y(1),G=new R({initialize:function(F){this.manager=F,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=O,this.onTouchStartWindow=O,this.onTouchMove=O,this.onTouchEnd=O,this.onTouchEndWindow=O,this.onTouchCancel=O,this.onTouchCancelWindow=O,this.onTouchOver=O,this.onTouchOut=O,F.events.once(j.MANAGER_BOOT,this.boot,this)},boot:function(){var D=this.manager.config;this.enabled=D.inputTouch,this.target=D.inputTouchEventTarget,this.capture=D.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),D.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(D){return D.preventDefault(),!1}),this},startListeners:function(){var D=this,F=this.manager.canvas,B=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(K){B&&window.focus(),!K.defaultPrevented&&D.enabled&&D.manager&&D.manager.enabled&&(D.manager.onTouchStart(K),D.capture&&K.cancelable&&K.target===F&&K.preventDefault())},this.onTouchStartWindow=function(K){!K.defaultPrevented&&D.enabled&&D.manager&&D.manager.enabled&&K.target!==F&&D.manager.onTouchStart(K)},this.onTouchMove=function(K){!K.defaultPrevented&&D.enabled&&D.manager&&D.manager.enabled&&(D.manager.onTouchMove(K),D.capture&&K.cancelable&&K.preventDefault())},this.onTouchEnd=function(K){!K.defaultPrevented&&D.enabled&&D.manager&&D.manager.enabled&&(D.manager.onTouchEnd(K),D.capture&&K.cancelable&&K.target===F&&K.preventDefault())},this.onTouchEndWindow=function(K){!K.defaultPrevented&&D.enabled&&D.manager&&D.manager.enabled&&K.target!==F&&D.manager.onTouchEnd(K)},this.onTouchCancel=function(K){!K.defaultPrevented&&D.enabled&&D.manager&&D.manager.enabled&&(D.manager.onTouchCancel(K),D.capture&&K.preventDefault())},this.onTouchCancelWindow=function(K){!K.defaultPrevented&&D.enabled&&D.manager&&D.manager.enabled&&D.manager.onTouchCancel(K)},this.onTouchOver=function(K){!K.defaultPrevented&&D.enabled&&D.manager&&D.manager.enabled&&D.manager.setCanvasOver(K)},this.onTouchOut=function(K){!K.defaultPrevented&&D.enabled&&D.manager&&D.manager.enabled&&D.manager.setCanvasOut(K)};var W=this.target;if(!!W){var U={passive:!0},X={passive:!1};W.addEventListener("touchstart",this.onTouchStart,this.capture?X:U),W.addEventListener("touchmove",this.onTouchMove,this.capture?X:U),W.addEventListener("touchend",this.onTouchEnd,this.capture?X:U),W.addEventListener("touchcancel",this.onTouchCancel,this.capture?X:U),W.addEventListener("touchover",this.onTouchOver,this.capture?X:U),W.addEventListener("touchout",this.onTouchOut,this.capture?X:U),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,X),window.addEventListener("touchend",this.onTouchEndWindow,X),window.addEventListener("touchcancel",this.onTouchCancelWindow,X)),this.enabled=!0}},stopListeners:function(){var D=this.target;D.removeEventListener("touchstart",this.onTouchStart),D.removeEventListener("touchmove",this.onTouchMove),D.removeEventListener("touchend",this.onTouchEnd),D.removeEventListener("touchcancel",this.onTouchCancel),D.removeEventListener("touchover",this.onTouchOver),D.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(22),O=y(9),G=y(8),D=y(16),F=y(5),B=y(2),W=y(24),U=y(93),X=new R({Extends:O,initialize:function(J){O.call(this),this.game=J,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],J.isBooted?this.boot():J.events.once(j.BOOT,this.boot,this)},boot:function(){var K,J,Z,Q,q,et,rt,nt=this.game.config,ot=nt.installGlobalPlugins;for(ot=ot.concat(this._pendingGlobal),K=0;K<ot.length;K++)J=ot[K],Z=B(J,"key",null),Q=B(J,"plugin",null),q=B(J,"start",!1),et=B(J,"mapping",null),rt=B(J,"data",null),Z&&(Q?this.install(Z,Q,q,et,rt):console.warn("Missing `plugin` for key: "+Z));for(ot=nt.installScenePlugins,ot=ot.concat(this._pendingScene),K=0;K<ot.length;K++)J=ot[K],Z=B(J,"key",null),Q=B(J,"plugin",null),et=B(J,"mapping",null),Z&&(Q?this.installScenePlugin(Z,Q,et):console.warn("Missing `plugin` for key: "+Z));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(j.DESTROY,this.destroy,this)},addToScene:function(K,J,Z){var Q,q,et,rt=this.game,nt=K.scene,ot=K.settings.map,ht=K.settings.isBooted;for(Q=0;Q<J.length;Q++)q=J[Q],rt[q]?(K[q]=rt[q],ot.hasOwnProperty(q)&&(nt[ot[q]]=K[q])):q==="game"&&ot.hasOwnProperty(q)&&(nt[ot[q]]=rt);for(var ut=0;ut<Z.length;ut++)for(et=Z[ut],Q=0;Q<et.length;Q++)if(q=et[Q],!!W.hasCore(q)){var ct=W.getCore(q),ft=ct.mapping,dt=new ct.plugin(nt,this,ft);K[ft]=dt,ct.custom?nt[ft]=dt:ot.hasOwnProperty(ft)&&(nt[ot[ft]]=dt),ht&&dt.boot()}for(et=this.plugins,Q=0;Q<et.length;Q++){var pt=et[Q];pt.mapping&&(nt[pt.mapping]=pt.plugin)}},getDefaultScenePlugins:function(){var K=this.game.config.defaultPlugins;return K=K.concat(this.scenePlugins),K},installScenePlugin:function(K,J,Z,Q,q){if(q===void 0&&(q=!1),typeof J!="function"){console.warn("Invalid Scene Plugin: "+K);return}if(!W.hasCore(K))W.register(K,J,Z,!0),this.scenePlugins.push(K);else if(!q&&W.hasCore(K)){console.warn("Scene Plugin key in use: "+K);return}if(Q){var et=new J(Q,this,K);Q.sys[K]=et,Z&&Z!==""&&(Q[Z]=et),et.boot()}},install:function(K,J,Z,Q,q){if(Z===void 0&&(Z=!1),Q===void 0&&(Q=null),q===void 0&&(q=null),typeof J!="function")return console.warn("Invalid Plugin: "+K),null;if(W.hasCustom(K))return console.warn("Plugin key in use: "+K),null;if(Q!==null&&(Z=!0),!this.game.isBooted)this._pendingGlobal.push({key:K,plugin:J,start:Z,mapping:Q,data:q});else if(W.registerCustom(K,J,Q,q),Z)return this.start(K);return null},getIndex:function(K){for(var J=this.plugins,Z=0;Z<J.length;Z++){var Q=J[Z];if(Q.key===K)return Z}return-1},getEntry:function(K){var J=this.getIndex(K);if(J!==-1)return this.plugins[J]},isActive:function(K){var J=this.getEntry(K);return J&&J.active},start:function(K,J){J===void 0&&(J=K);var Z=this.getEntry(J);return Z&&!Z.active?(Z.active=!0,Z.plugin.start()):Z||(Z=this.createEntry(K,J)),Z?Z.plugin:null},createEntry:function(K,J){var Z=W.getCustom(K);if(Z){var Q=new Z.plugin(this);Z={key:J,plugin:Q,active:!0,mapping:Z.mapping,data:Z.data},this.plugins.push(Z),Q.init(Z.data),Q.start()}return Z},stop:function(K){var J=this.getEntry(K);return J&&J.active&&(J.active=!1,J.plugin.stop()),this},get:function(K,J){J===void 0&&(J=!0);var Z=this.getEntry(K);if(Z)return Z.plugin;var Q=this.getClass(K);return Q&&J?(Z=this.createEntry(K,K),Z?Z.plugin:null):Q||null},getClass:function(K){return W.getCustomClass(K)},removeGlobalPlugin:function(K){var J=this.getEntry(K);J&&U(this.plugins,J),W.removeCustom(K)},removeScenePlugin:function(K){U(this.scenePlugins,K),W.remove(K)},registerGameObject:function(K,J,Z){return J&&F.register(K,J),Z&&D.register(K,Z),this},removeGameObject:function(K,J,Z){return J===void 0&&(J=!0),Z===void 0&&(Z=!0),J&&F.remove(K),Z&&D.remove(K),this},registerFileType:function(K,J,Z){G.register(K,J),Z&&Z.sys.load&&(Z.sys.load[K]=J)},destroy:function(){for(var K=0;K<this.plugins.length;K++)this.plugins[K].plugin.destroy();W.destroyCustomPlugins(),this.game.noReturn&&W.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});Y.exports=X},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(201),j=y(0),O=y(9),G=y(104),D=y(22),F=y(401),B=y(407),W=y(402),U=y(1),X=y(10),K=y(416),J=y(76),Z=y(3),Q=new j({Extends:O,initialize:function(et){O.call(this),this.game=et,this.canvas,this.canvasBounds=new X,this.parent=null,this.parentIsWindow=!1,this.parentSize=new K,this.gameSize=new K,this.baseSize=new K,this.displaySize=new K,this.scaleMode=R.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new Z(1,1),this.autoRound=!1,this.autoCenter=R.CENTER.NO_CENTER,this.orientation=R.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:U,windowResize:U,fullScreenChange:U,fullScreenError:U}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(D.BOOT,this.boot,this)},boot:function(){var q=this.game;this.canvas=q.canvas,this.fullscreen=q.device.fullscreen,this.scaleMode!==R.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===R.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),q.events.on(D.PRE_STEP,this.step,this),q.events.once(D.READY,this.refresh,this),q.events.once(D.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(q){this.getParent(q),this.getParentBounds();var et=q.width,rt=q.height,nt=q.scaleMode,ot=q.zoom,ht=q.autoRound;if(typeof et=="string"){var ut=this.parentSize.width;ut===0&&(ut=window.innerWidth);var ct=parseInt(et,10)/100;et=Math.floor(ut*ct)}if(typeof rt=="string"){var ft=this.parentSize.height;ft===0&&(ft=window.innerHeight);var dt=parseInt(rt,10)/100;rt=Math.floor(ft*dt)}this.scaleMode=nt,this.autoRound=ht,this.autoCenter=q.autoCenter,this.resizeInterval=q.resizeInterval,ht&&(et=Math.floor(et),rt=Math.floor(rt)),this.gameSize.setSize(et,rt),ot===R.ZOOM.MAX_ZOOM&&(ot=this.getMaxZoom()),this.zoom=ot,ot!==1&&(this._resetZoom=!0),this.baseSize.setSize(et,rt),ht&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),q.minWidth>0&&this.displaySize.setMin(q.minWidth*ot,q.minHeight*ot),q.maxWidth>0&&this.displaySize.setMax(q.maxWidth*ot,q.maxHeight*ot),this.displaySize.setSize(et,rt),this.orientation=W(et,rt)},getParent:function(q){var et=q.parent;if(et!==null){if(this.parent=B(et),this.parentIsWindow=this.parent===document.body,q.expandParent&&q.scaleMode!==R.SCALE_MODE.NONE){var rt=this.parent.getBoundingClientRect();(this.parentIsWindow||rt.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",rt=this.parent.getBoundingClientRect(),!this.parentIsWindow&&rt.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}q.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=B(q.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var q=this.parentSize,et=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(et.height=F(!0));var rt=et.width,nt=et.height;return q.width!==rt||q.height!==nt?(q.setSize(rt,nt),!0):!1},lockOrientation:function(q){var et=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return et?et.call(screen,q):!1},setParentSize:function(q,et){return this.parentSize.setSize(q,et),this.refresh()},setGameSize:function(q,et){var rt=this.autoRound;rt&&(q=Math.floor(q),et=Math.floor(et));var nt=this.width,ot=this.height;return this.gameSize.resize(q,et),this.baseSize.resize(q,et),rt&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(q/et),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(nt,ot)},resize:function(q,et){var rt=this.zoom,nt=this.autoRound;nt&&(q=Math.floor(q),et=Math.floor(et));var ot=this.width,ht=this.height;this.gameSize.resize(q,et),this.baseSize.resize(q,et),nt&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(q*rt,et*rt),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var ut=this.canvas.style,ct=q*rt,ft=et*rt;return nt&&(ct=Math.floor(ct),ft=Math.floor(ft)),(ct!==q||ft!==et)&&(ut.width=ct+"px",ut.height=ft+"px"),this.refresh(ot,ht)},setZoom:function(q){return this.zoom=q,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(q,et){q===void 0&&(q=this.width),et===void 0&&(et=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var rt=this.game.domContainer;if(rt){this.baseSize.setCSS(rt);var nt=this.canvas.style,ot=rt.style;ot.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",ot.marginLeft=nt.marginLeft,ot.marginTop=nt.marginTop}return this.emit(G.RESIZE,this.gameSize,this.baseSize,this.displaySize,q,et),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var q=W(this.width,this.height);q!==this.orientation&&(this.orientation=q,this.emit(G.ORIENTATION_CHANGE,q))}},updateScale:function(){var q=this.canvas.style,et=this.gameSize.width,rt=this.gameSize.height,nt,ot,ht=this.zoom,ut=this.autoRound;this.scaleMode===R.SCALE_MODE.NONE?(this.displaySize.setSize(et*ht,rt*ht),nt=this.displaySize.width,ot=this.displaySize.height,ut&&(nt=Math.floor(nt),ot=Math.floor(ot)),this._resetZoom&&(q.width=nt+"px",q.height=ot+"px",this._resetZoom=!1)):this.scaleMode===R.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),nt=this.displaySize.width,ot=this.displaySize.height,ut&&(nt=Math.floor(nt),ot=Math.floor(ot)),this.canvas.width=nt,this.canvas.height=ot):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),nt=this.displaySize.width,ot=this.displaySize.height,ut&&(nt=Math.floor(nt),ot=Math.floor(ot)),q.width=nt+"px",q.height=ot+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var q=J(this.parentSize.width,this.gameSize.width,0,!0),et=J(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(q,et),1)},updateCenter:function(){var q=this.autoCenter;if(q!==R.CENTER.NO_CENTER){var et=this.canvas,rt=et.style,nt=et.getBoundingClientRect(),ot=nt.width,ht=nt.height,ut=Math.floor((this.parentSize.width-ot)/2),ct=Math.floor((this.parentSize.height-ht)/2);q===R.CENTER.CENTER_HORIZONTALLY?ct=0:q===R.CENTER.CENTER_VERTICALLY&&(ut=0),rt.marginLeft=ut+"px",rt.marginTop=ct+"px"}},updateBounds:function(){var q=this.canvasBounds,et=this.canvas.getBoundingClientRect();q.x=et.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),q.y=et.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),q.width=et.width,q.height=et.height},transformX:function(q){return(q-this.canvasBounds.left)*this.displayScale.x},transformY:function(q){return(q-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(q){q===void 0&&(q={navigationUI:"hide"});var et=this.fullscreen;if(!et.available){this.emit(G.FULLSCREEN_UNSUPPORTED);return}if(!et.active){var rt=this.getFullscreenTarget();et.keyboard?rt[et.request](Element.ALLOW_KEYBOARD_INPUT):rt[et.request](q)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(G.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(q){this.removeFullscreenTarget(),this.emit(G.FULLSCREEN_FAILED,q)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var q=document.createElement("div");q.style.margin="0",q.style.padding="0",q.style.width="100%",q.style.height="100%",this.fullscreenTarget=q,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var et=this.canvas.parentNode;et.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var q=this.fullscreenTarget;if(q&&q.parentNode){var et=q.parentNode;et.insertBefore(this.canvas,q),et.removeChild(q)}}},stopFullscreen:function(){var q=this.fullscreen;if(!q.available)return this.emit(G.FULLSCREEN_UNSUPPORTED),!1;q.active&&document[q.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(G.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(q){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(q)},startListeners:function(){var q=this,et=this.listeners;if(et.orientationChange=function(){q.updateBounds(),q._checkOrientation=!0,q.dirty=!0},et.windowResize=function(){q.updateBounds(),q.dirty=!0},window.addEventListener("orientationchange",et.orientationChange,!1),window.addEventListener("resize",et.windowResize,!1),this.fullscreen.available){et.fullScreenChange=function(nt){return q.onFullScreenChange(nt)},et.fullScreenError=function(nt){return q.onFullScreenError(nt)};var rt=["webkit","moz",""];rt.forEach(function(nt){document.addEventListener(nt+"fullscreenchange",et.fullScreenChange,!1),document.addEventListener(nt+"fullscreenerror",et.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",et.fullScreenChange,!1),document.addEventListener("MSFullscreenError",et.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(q,et){!this.parent||(this._lastCheck+=et,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var q=this.listeners;window.removeEventListener("orientationchange",q.orientationChange,!1),window.removeEventListener("resize",q.windowResize,!1);var et=["webkit","moz",""];et.forEach(function(rt){document.removeEventListener(rt+"fullscreenchange",q.fullScreenChange,!1),document.removeEventListener(rt+"fullscreenerror",q.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",q.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",q.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===R.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===R.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});Y.exports=Q},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=y(0),O=y(76),G=y(3),D=new j({initialize:function(B,W,U,X){B===void 0&&(B=0),W===void 0&&(W=B),U===void 0&&(U=0),X===void 0&&(X=null),this._width=B,this._height=W,this._parent=X,this.aspectMode=U,this.aspectRatio=W===0?1:B/W,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new G},setAspectMode:function(F){return F===void 0&&(F=0),this.aspectMode=F,this.setSize(this._width,this._height)},setSnap:function(F,B){return F===void 0&&(F=0),B===void 0&&(B=F),this.snapTo.set(F,B),this.setSize(this._width,this._height)},setParent:function(F){return this._parent=F,this.setSize(this._width,this._height)},setMin:function(F,B){return F===void 0&&(F=0),B===void 0&&(B=F),this.minWidth=R(F,0,this.maxWidth),this.minHeight=R(B,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(F,B){return F===void 0&&(F=Number.MAX_VALUE),B===void 0&&(B=F),this.maxWidth=R(F,this.minWidth,Number.MAX_VALUE),this.maxHeight=R(B,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(F,B){switch(F===void 0&&(F=0),B===void 0&&(B=F),this.aspectMode){case D.NONE:this._width=this.getNewWidth(O(F,this.snapTo.x)),this._height=this.getNewHeight(O(B,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case D.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(O(F,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case D.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(O(B,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case D.FIT:this.constrain(F,B,!0);break;case D.ENVELOP:this.constrain(F,B,!1);break}return this},setAspectRatio:function(F){return this.aspectRatio=F,this.setSize(this._width,this._height)},resize:function(F,B){return this._width=this.getNewWidth(O(F,this.snapTo.x)),this._height=this.getNewHeight(O(B,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(F,B){return B===void 0&&(B=!0),F=R(F,this.minWidth,this.maxWidth),B&&this._parent&&F>this._parent.width&&(F=Math.max(this.minWidth,this._parent.width)),F},getNewHeight:function(F,B){return B===void 0&&(B=!0),F=R(F,this.minHeight,this.maxHeight),B&&this._parent&&F>this._parent.height&&(F=Math.max(this.minHeight,this._parent.height)),F},constrain:function(F,B,W){F===void 0&&(F=0),B===void 0&&(B=F),W===void 0&&(W=!0),F=this.getNewWidth(F),B=this.getNewHeight(B);var U=this.snapTo,X=B===0?1:F/B;return W&&this.aspectRatio>X||!W&&this.aspectRatio<X?(F=O(F,U.x),B=F/this.aspectRatio,U.y>0&&(B=O(B,U.y),F=B*this.aspectRatio)):(W&&this.aspectRatio<X||!W&&this.aspectRatio>X)&&(B=O(B,U.y),F=B*this.aspectRatio,U.x>0&&(F=O(F,U.x),B=F*(1/this.aspectRatio))),this._width=F,this._height=B,this},fitTo:function(F,B){return this.constrain(F,B,!0)},envelop:function(F,B){return this.constrain(F,B,!1)},setWidth:function(F){return this.setSize(F,this._height)},setHeight:function(F){return this.setSize(this._width,F)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(F){F&&F.style&&(F.style.width=this._width+"px",F.style.height=this._height+"px")},copy:function(F){return F.setAspectMode(this.aspectMode),F.aspectRatio=this.aspectRatio,F.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(F){this.setSize(F,this._height)}},height:{get:function(){return this._height},set:function(F){this.setSize(this._width,F)}}});D.NONE=0,D.WIDTH_CONTROLS_HEIGHT=1,D.HEIGHT_CONTROLS_WIDTH=2,D.FIT=3,D.ENVELOP=4,Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(144),O=y(20),G=y(22),D=y(6),F=y(95),B=y(1),W=y(418),U=y(204),X=new R({initialize:function(J,Z){if(this.game=J,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,Z){Array.isArray(Z)||(Z=[Z]);for(var Q=0;Q<Z.length;Q++)this._pending.push({key:"default",scene:Z[Q],autoStart:Q===0,data:{}})}J.events.once(G.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var K,J,Z,Q;for(K=0;K<this._pending.length;K++){J=this._pending[K],Z=J.key,Q=J.scene;var q;Q instanceof W?q=this.createSceneFromInstance(Z,Q):typeof Q=="object"?q=this.createSceneFromObject(Z,Q):typeof Q=="function"&&(q=this.createSceneFromFunction(Z,Q)),Z=q.sys.settings.key,this.keys[Z]=q,this.scenes.push(q),this._data[Z]&&(q.sys.settings.data=this._data[Z].data,this._data[Z].autoStart&&(J.autoStart=!0)),(J.autoStart||q.sys.settings.active)&&this._start.push(Z)}for(this._pending.length=0,this._data={},this.isBooted=!0,K=0;K<this._start.length;K++)J=this._start[K],this.start(J);this._start.length=0}},processQueue:function(){var K=this._pending.length,J=this._queue.length;if(!(K===0&&J===0)){var Z,Q;if(K){for(Z=0;Z<K;Z++)Q=this._pending[Z],this.add(Q.key,Q.scene,Q.autoStart,Q.data);for(Z=0;Z<this._start.length;Z++)Q=this._start[Z],this.start(Q);this._start.length=0,this._pending.length=0;return}for(Z=0;Z<this._queue.length;Z++)Q=this._queue[Z],this[Q.op](Q.keyA,Q.keyB);this._queue.length=0}},add:function(K,J,Z,Q){if(Z===void 0&&(Z=!1),Q===void 0&&(Q={}),this.isProcessing||!this.isBooted)return this._pending.push({key:K,scene:J,autoStart:Z,data:Q}),this.isBooted||(this._data[K]={data:Q}),null;K=this.getKey(K,J);var q;return J instanceof W?q=this.createSceneFromInstance(K,J):typeof J=="object"?(J.key=K,q=this.createSceneFromObject(K,J)):typeof J=="function"&&(q=this.createSceneFromFunction(K,J)),q.sys.settings.data=Q,K=q.sys.settings.key,this.keys[K]=q,this.scenes.push(q),(Z||q.sys.settings.active)&&(this._pending.length?this._start.push(K):this.start(K)),q},remove:function(K){if(this.isProcessing)this._queue.push({op:"remove",keyA:K,keyB:null});else{var J=this.getScene(K);if(!J||J.sys.isTransitioning())return this;var Z=this.scenes.indexOf(J),Q=J.sys.settings.key;Z>-1&&(delete this.keys[Q],this.scenes.splice(Z,1),this._start.indexOf(Q)>-1&&(Z=this._start.indexOf(Q),this._start.splice(Z,1)),J.sys.destroy())}return this},bootScene:function(K){var J=K.sys,Z=J.settings;J.sceneUpdate=B,K.init&&(K.init.call(K,Z.data),Z.status=j.INIT,Z.isTransition&&J.events.emit(O.TRANSITION_INIT,Z.transitionFrom,Z.transitionDuration));var Q;J.load&&(Q=J.load,Q.reset()),Q&&K.preload?(K.preload.call(K),Q.list.size===0?this.create(K):(Z.status=j.LOADING,Q.once(F.COMPLETE,this.loadComplete,this),Q.start())):this.create(K)},loadComplete:function(K){this.create(K.scene)},payloadComplete:function(K){this.bootScene(K.scene)},update:function(K,J){this.processQueue(),this.isProcessing=!0;for(var Z=this.scenes.length-1;Z>=0;Z--){var Q=this.scenes[Z].sys;Q.settings.status>j.START&&Q.settings.status<=j.RUNNING&&Q.step(K,J)}},render:function(K){for(var J=0;J<this.scenes.length;J++){var Z=this.scenes[J].sys;Z.settings.visible&&Z.settings.status>=j.LOADING&&Z.settings.status<j.SLEEPING&&Z.render(K)}this.isProcessing=!1},create:function(K){var J=K.sys,Z=J.settings;K.create&&(Z.status=j.CREATING,K.create.call(K,Z.data),Z.status===j.DESTROYED)||(Z.isTransition&&J.events.emit(O.TRANSITION_START,Z.transitionFrom,Z.transitionDuration),K.update&&(J.sceneUpdate=K.update),Z.status=j.RUNNING,J.events.emit(O.CREATE,K))},createSceneFromFunction:function(K,J){var Z=new J;if(Z instanceof W){var Q=Z.sys.settings.key;if(Q!==""&&(K=Q),this.keys.hasOwnProperty(K))throw new Error("Cannot add a Scene with duplicate key: "+K);return this.createSceneFromInstance(K,Z)}else return Z.sys=new U(Z),Z.sys.settings.key=K,Z.sys.init(this.game),Z},createSceneFromInstance:function(K,J){var Z=J.sys.settings.key;return Z===""&&(J.sys.settings.key=K),J.sys.init(this.game),J},createSceneFromObject:function(K,J){var Z=new W(J),Q=Z.sys.settings.key;Q!==""?K=Q:Z.sys.settings.key=K,Z.sys.init(this.game);for(var q=["init","preload","create","update","render"],et=0;et<q.length;et++){var rt=D(J,q[et],null);rt&&(Z[q[et]]=rt)}if(J.hasOwnProperty("extend")){for(var nt in J.extend)if(!!J.extend.hasOwnProperty(nt)){var ot=J.extend[nt];nt==="data"&&Z.hasOwnProperty("data")&&typeof ot=="object"?Z.data.merge(ot):nt!=="sys"&&(Z[nt]=ot)}}return Z},getKey:function(K,J){if(K||(K="default"),typeof J=="function")return K;if(J instanceof W?K=J.sys.settings.key:typeof J=="object"&&J.hasOwnProperty("key")&&(K=J.key),this.keys.hasOwnProperty(K))throw new Error("Cannot add a Scene with duplicate key: "+K);return K},getScenes:function(K,J){K===void 0&&(K=!0),J===void 0&&(J=!1);for(var Z=[],Q=this.scenes,q=0;q<Q.length;q++){var et=Q[q];et&&(!K||K&&et.sys.isActive())&&Z.push(et)}return J?Z.reverse():Z},getScene:function(K){if(typeof K=="string"){if(this.keys[K])return this.keys[K]}else for(var J=0;J<this.scenes.length;J++)if(K===this.scenes[J])return K;return null},isActive:function(K){var J=this.getScene(K);return J?J.sys.isActive():null},isPaused:function(K){var J=this.getScene(K);return J?J.sys.isPaused():null},isVisible:function(K){var J=this.getScene(K);return J?J.sys.isVisible():null},isSleeping:function(K){var J=this.getScene(K);return J?J.sys.isSleeping():null},pause:function(K,J){var Z=this.getScene(K);return Z&&Z.sys.pause(J),this},resume:function(K,J){var Z=this.getScene(K);return Z&&Z.sys.resume(J),this},sleep:function(K,J){var Z=this.getScene(K);return Z&&!Z.sys.isTransitioning()&&Z.sys.sleep(J),this},wake:function(K,J){var Z=this.getScene(K);return Z&&Z.sys.wake(J),this},run:function(K,J){var Z=this.getScene(K);if(!Z){for(var Q=0;Q<this._pending.length;Q++)if(this._pending[Q].key===K){this.queueOp("start",K,J);break}return this}Z.sys.isSleeping()?Z.sys.wake(J):Z.sys.isPaused()?Z.sys.resume(J):this.start(K,J)},start:function(K,J){if(!this.isBooted)return this._data[K]={autoStart:!0,data:J},this;var Z=this.getScene(K);if(Z){var Q=Z.sys;if(Q.isActive()||Q.isPaused())Q.shutdown(),Q.sceneUpdate=B,Q.start(J);else{Q.sceneUpdate=B,Q.start(J);var q;if(Q.load&&(q=Q.load),q&&Q.settings.hasOwnProperty("pack")&&(q.reset(),q.addPack({payload:Q.settings.pack})))return Q.settings.status=j.LOADING,q.once(F.COMPLETE,this.payloadComplete,this),q.start(),this}this.bootScene(Z)}return this},stop:function(K,J){var Z=this.getScene(K);return Z&&!Z.sys.isTransitioning()&&Z.sys.shutdown(J),this},switch:function(K,J){var Z=this.getScene(K),Q=this.getScene(J);return Z&&Q&&Z!==Q&&(this.sleep(K),this.isSleeping(J)?this.wake(J):this.start(J)),this},getAt:function(K){return this.scenes[K]},getIndex:function(K){var J=this.getScene(K);return this.scenes.indexOf(J)},bringToTop:function(K){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:K,keyB:null});else{var J=this.getIndex(K);if(J!==-1&&J<this.scenes.length){var Z=this.getScene(K);this.scenes.splice(J,1),this.scenes.push(Z)}}return this},sendToBack:function(K){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:K,keyB:null});else{var J=this.getIndex(K);if(J!==-1&&J>0){var Z=this.getScene(K);this.scenes.splice(J,1),this.scenes.unshift(Z)}}return this},moveDown:function(K){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:K,keyB:null});else{var J=this.getIndex(K);if(J>0){var Z=J-1,Q=this.getScene(K),q=this.getAt(Z);this.scenes[J]=q,this.scenes[Z]=Q}}return this},moveUp:function(K){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:K,keyB:null});else{var J=this.getIndex(K);if(J<this.scenes.length-1){var Z=J+1,Q=this.getScene(K),q=this.getAt(Z);this.scenes[J]=q,this.scenes[Z]=Q}}return this},moveAbove:function(K,J){if(K===J)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:K,keyB:J});else{var Z=this.getIndex(K),Q=this.getIndex(J);if(Z!==-1&&Q!==-1){var q=this.getAt(Q);this.scenes.splice(Q,1),this.scenes.splice(Z+1,0,q)}}return this},moveBelow:function(K,J){if(K===J)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:K,keyB:J});else{var Z=this.getIndex(K),Q=this.getIndex(J);if(Z!==-1&&Q!==-1){var q=this.getAt(Q);this.scenes.splice(Q,1),Z===0?this.scenes.unshift(q):this.scenes.splice(Z,0,q)}}return this},queueOp:function(K,J,Z){return this._queue.push({op:K,keyA:J,keyB:Z}),this},swapPosition:function(K,J){if(K===J)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:K,keyB:J});else{var Z=this.getIndex(K),Q=this.getIndex(J);if(Z!==Q&&Z!==-1&&Q!==-1){var q=this.getAt(Z);this.scenes[Z]=this.scenes[Q],this.scenes[Q]=q}}return this},dump:function(){for(var K=[],J=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],Z=0;Z<this.scenes.length;Z++){var Q=this.scenes[Z].sys,q=Q.settings.visible&&(Q.settings.status===j.RUNNING||Q.settings.status===j.PAUSED)?"[*] ":"[-] ";q+=Q.settings.key+" ("+J[Q.settings.status]+")",K.push(q)}console.log(K.join(`
`))},destroy:function(){for(var K=0;K<this.scenes.length;K++){var J=this.scenes[K].sys;J.destroy()}this.update=B,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});Y.exports=X},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(204),O=new R({initialize:function(D){this.sys=new j(this,D),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(2),j=y(205),O=function(G){var D=G.game.config.defaultPhysicsSystem,F=R(G.settings,"physics",!1);if(!(!D&&!F)){var B=[];if(D&&B.push(j(D+"Physics")),F)for(var W in F)W=j(W.concat("Physics")),B.indexOf(W)===-1&&B.push(W);return B}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(2),j=function(O){var G=O.plugins.getDefaultScenePlugins(),D=R(O.settings,"plugins",!1);return Array.isArray(D)?D:G||[]};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(144),j=y(6),O=y(127),G=y(978),D={create:function(F){return typeof F=="string"?F={key:F}:F===void 0&&(F={}),{status:R.PENDING,key:j(F,"key",""),active:j(F,"active",!1),visible:j(F,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:j(F,"pack",!1),cameras:j(F,"cameras",null),map:j(F,"map",O(G,j(F,"mapAdd",{}))),physics:j(F,"physics",{}),loader:j(F,"loader",{}),plugins:j(F,"plugins",!1),input:j(F,"input",{})}}};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(31),j=y(423),O=y(0),G=y(38),D=y(33),F=y(9),B=y(106),W=y(22),U=y(388),X=y(6),K=y(425),J=y(206),Z=new O({Extends:F,initialize:function(q){F.call(this),this.game=q,this.name="TextureManager",this.list={},this._tempCanvas=R.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,q.events.once(W.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(B.LOAD,this.updatePending,this),this.on(B.ERROR,this.updatePending,this);var Q=this.game.config;this.addBase64("__DEFAULT",Q.defaultImage),this.addBase64("__MISSING",Q.missingImage),this.addBase64("__WHITE",Q.whiteImage),this.game.events.once(W.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(B.LOAD),this.off(B.ERROR),this.emit(B.READY))},checkKey:function(Q){return this.exists(Q)?(console.error("Texture key already in use: "+Q),!1):!0},remove:function(Q){if(typeof Q=="string")if(this.exists(Q))Q=this.get(Q);else return console.warn("No texture found matching key: "+Q),this;return this.list.hasOwnProperty(Q.key)&&(Q.destroy(),this.emit(B.REMOVE,Q.key)),this},removeKey:function(Q){return this.list.hasOwnProperty(Q)&&delete this.list[Q],this},addBase64:function(Q,q){if(this.checkKey(Q)){var et=this,rt=new Image;rt.onerror=function(){et.emit(B.ERROR,Q)},rt.onload=function(){var nt=et.create(Q,rt);K.Image(nt,0),et.emit(B.ADD,Q,nt),et.emit(B.LOAD,Q,nt)},rt.src=q}return this},getBase64:function(Q,q,et,rt){et===void 0&&(et="image/png"),rt===void 0&&(rt=.92);var nt="",ot=this.getFrame(Q,q);if(ot&&(ot.source.isRenderTexture||ot.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(ot){var ht=ot.canvasData,ut=R.create2D(this,ht.width,ht.height),ct=ut.getContext("2d");ct.drawImage(ot.source.image,ht.x,ht.y,ht.width,ht.height,0,0,ht.width,ht.height),nt=ut.toDataURL(et,rt),R.remove(ut)}return nt},addImage:function(Q,q,et){var rt=null;return this.checkKey(Q)&&(rt=this.create(Q,q),K.Image(rt,0),et&&rt.setDataSource(et),this.emit(B.ADD,Q,rt)),rt},addGLTexture:function(Q,q,et,rt){var nt=null;return this.checkKey(Q)&&(et===void 0&&(et=q.width),rt===void 0&&(rt=q.height),nt=this.create(Q,q,et,rt),nt.add("__BASE",0,0,0,et,rt),this.emit(B.ADD,Q,nt)),nt},addRenderTexture:function(Q,q){var et=null;return this.checkKey(Q)&&(et=this.create(Q,q),et.add("__BASE",0,0,0,q.width,q.height),this.emit(B.ADD,Q,et)),et},generate:function(Q,q){if(this.checkKey(Q)){var et=R.create(this,1,1);return q.canvas=et,U(q),this.addCanvas(Q,et)}else return null},createCanvas:function(Q,q,et){if(q===void 0&&(q=256),et===void 0&&(et=256),this.checkKey(Q)){var rt=R.create(this,q,et,D.CANVAS,!0);return this.addCanvas(Q,rt)}return null},addCanvas:function(Q,q,et){et===void 0&&(et=!1);var rt=null;return et?rt=new j(this,Q,q,q.width,q.height):this.checkKey(Q)&&(rt=new j(this,Q,q,q.width,q.height),this.list[Q]=rt,this.emit(B.ADD,Q,rt)),rt},addAtlas:function(Q,q,et,rt){return Array.isArray(et.textures)||Array.isArray(et.frames)?this.addAtlasJSONArray(Q,q,et,rt):this.addAtlasJSONHash(Q,q,et,rt)},addAtlasJSONArray:function(Q,q,et,rt){var nt=null;if(this.checkKey(Q)){if(nt=this.create(Q,q),Array.isArray(et))for(var ot=et.length===1,ht=0;ht<nt.source.length;ht++){var ut=ot?et[0]:et[ht];K.JSONArray(nt,ht,ut)}else K.JSONArray(nt,0,et);rt&&nt.setDataSource(rt),this.emit(B.ADD,Q,nt)}return nt},addAtlasJSONHash:function(Q,q,et,rt){var nt=null;if(this.checkKey(Q)){if(nt=this.create(Q,q),Array.isArray(et))for(var ot=0;ot<et.length;ot++)K.JSONHash(nt,ot,et[ot]);else K.JSONHash(nt,0,et);rt&&nt.setDataSource(rt),this.emit(B.ADD,Q,nt)}return nt},addAtlasXML:function(Q,q,et,rt){var nt=null;return this.checkKey(Q)&&(nt=this.create(Q,q),K.AtlasXML(nt,0,et),rt&&nt.setDataSource(rt),this.emit(B.ADD,Q,nt)),nt},addUnityAtlas:function(Q,q,et,rt){var nt=null;return this.checkKey(Q)&&(nt=this.create(Q,q),K.UnityYAML(nt,0,et),rt&&nt.setDataSource(rt),this.emit(B.ADD,Q,nt)),nt},addSpriteSheet:function(Q,q,et){var rt=null;if(this.checkKey(Q)){rt=this.create(Q,q);var nt=rt.source[0].width,ot=rt.source[0].height;K.SpriteSheet(rt,0,0,0,nt,ot,et),this.emit(B.ADD,Q,rt)}return rt},addSpriteSheetFromAtlas:function(Q,q){if(!this.checkKey(Q))return null;var et=X(q,"atlas",null),rt=X(q,"frame",null);if(!(!et||!rt)){var nt=this.get(et),ot=nt.get(rt);if(ot){var ht=this.create(Q,ot.source.image);return ot.trimmed?K.SpriteSheetFromAtlas(ht,ot,q):K.SpriteSheet(ht,0,ot.cutX,ot.cutY,ot.cutWidth,ot.cutHeight,q),this.emit(B.ADD,Q,ht),ht}}},create:function(Q,q,et,rt){var nt=null;return this.checkKey(Q)&&(nt=new J(this,Q,q,et,rt),this.list[Q]=nt),nt},exists:function(Q){return this.list.hasOwnProperty(Q)},get:function(Q){return Q===void 0&&(Q="__DEFAULT"),this.list[Q]?this.list[Q]:Q instanceof J?Q:this.list.__MISSING},cloneFrame:function(Q,q){if(this.list[Q])return this.list[Q].get(q).clone()},getFrame:function(Q,q){if(this.list[Q])return this.list[Q].get(q)},getTextureKeys:function(){var Q=[];for(var q in this.list)q!=="__DEFAULT"&&q!=="__MISSING"&&Q.push(q);return Q},getPixel:function(Q,q,et,rt){var nt=this.getFrame(et,rt);if(nt){Q-=nt.x,q-=nt.y;var ot=nt.data.cut;if(Q+=ot.x,q+=ot.y,Q>=ot.x&&Q<ot.r&&q>=ot.y&&q<ot.b){var ht=this._tempContext;ht.clearRect(0,0,1,1),ht.drawImage(nt.source.image,Q,q,1,1,0,0,1,1);var ut=ht.getImageData(0,0,1,1);return new G(ut.data[0],ut.data[1],ut.data[2],ut.data[3])}}return null},getPixelAlpha:function(Q,q,et,rt){var nt=this.getFrame(et,rt);if(nt){Q-=nt.x,q-=nt.y;var ot=nt.data.cut;if(Q+=ot.x,q+=ot.y,Q>=ot.x&&Q<ot.r&&q>=ot.y&&q<ot.b){var ht=this._tempContext;ht.clearRect(0,0,1,1),ht.drawImage(nt.source.image,Q,q,1,1,0,0,1,1);var ut=ht.getImageData(0,0,1,1);return ut.data[3]}}return null},setTexture:function(Q,q,et){return this.list[q]&&(Q.texture=this.list[q],Q.frame=Q.texture.get(et)),Q},renameTexture:function(Q,q){var et=this.get(Q);return et&&Q!==q?(et.key=q,this.list[q]=et,delete this.list[Q],!0):!1},each:function(Q,q){for(var et=[null],rt=1;rt<arguments.length;rt++)et.push(arguments[rt]);for(var nt in this.list)et[0]=this.list[nt],Q.apply(q,et)},destroy:function(){for(var Q in this.list)this.list[Q].destroy();this.list={},this.game=null,R.remove(this._tempCanvas)}});Y.exports=Z},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(18),O=y(38),G=y(33),D=y(138),F=y(206),B=new R({Extends:F,initialize:function(U,X,K,J,Z){F.call(this,U,X,K,J,Z),this.add("__BASE",0,0,0,J,Z),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=J,this.height=Z,this.imageData=this.context.getImageData(0,0,J,Z),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===G.WEBGL&&this.refresh(),this},draw:function(W,U,X){return this.context.drawImage(X,W,U),this.update()},drawFrame:function(W,U,X,K){X===void 0&&(X=0),K===void 0&&(K=0);var J=this.manager.getFrame(W,U);if(J){var Z=J.canvasData,Q=J.cutWidth,q=J.cutHeight,et=J.source.resolution;return this.context.drawImage(J.source.image,Z.x,Z.y,Q,q,X,K,Q/et,q/et),this.update()}else return this},setPixel:function(W,U,X,K,J,Z){Z===void 0&&(Z=255),W=Math.abs(Math.floor(W)),U=Math.abs(Math.floor(U));var Q=this.getIndex(W,U);if(Q>-1){var q=this.context.getImageData(W,U,1,1);q.data[0]=X,q.data[1]=K,q.data[2]=J,q.data[3]=Z,this.context.putImageData(q,W,U)}return this},putData:function(W,U,X,K,J,Z,Q){return K===void 0&&(K=0),J===void 0&&(J=0),Z===void 0&&(Z=W.width),Q===void 0&&(Q=W.height),this.context.putImageData(W,U,X,K,J,Z,Q),this},getData:function(W,U,X,K){W=j(Math.floor(W),0,this.width-1),U=j(Math.floor(U),0,this.height-1),X=j(X,1,this.width-W),K=j(K,1,this.height-U);var J=this.context.getImageData(W,U,X,K);return J},getPixel:function(W,U,X){X||(X=new O);var K=this.getIndex(W,U);if(K>-1){var J=this.data,Z=J[K+0],Q=J[K+1],q=J[K+2],et=J[K+3];X.setTo(Z,Q,q,et)}return X},getPixels:function(W,U,X,K){W===void 0&&(W=0),U===void 0&&(U=0),X===void 0&&(X=this.width),K===void 0&&(K=X),W=Math.abs(Math.round(W)),U=Math.abs(Math.round(U));for(var J=j(W,0,this.width),Z=j(W+X,0,this.width),Q=j(U,0,this.height),q=j(U+K,0,this.height),et=new O,rt=[],nt=Q;nt<q;nt++){for(var ot=[],ht=J;ht<Z;ht++)et=this.getPixel(ht,nt,et),ot.push({x:ht,y:nt,color:et.color,alpha:et.alphaGL});rt.push(ot)}return rt},getIndex:function(W,U){return W=Math.abs(Math.round(W)),U=Math.abs(Math.round(U)),W<this.width&&U<this.height?(W+U*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(W,U,X,K){return W===void 0&&(W=0),U===void 0&&(U=0),X===void 0&&(X=this.width),K===void 0&&(K=this.height),this.context.clearRect(W,U,X,K),this.update()},setSize:function(W,U){return U===void 0&&(U=W),(W!==this.width||U!==this.height)&&(this.canvas.width=W,this.canvas.height=U,this._source.width=W,this._source.height=U,this._source.isPowerOf2=D(W,U),this.frames.__BASE.setSize(W,U,0,0),this.width=W,this.height=U,this.refresh()),this},destroy:function(){F.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(31),j=y(0),O=y(138),G=y(168),D=new j({initialize:function(B,W,U,X,K){K===void 0&&(K=!1);var J=B.manager.game;this.renderer=J.renderer,this.texture=B,this.source=W,this.image=W,this.compressionAlgorithm=null,this.resolution=1,this.width=U||W.naturalWidth||W.videoWidth||W.width||0,this.height=X||W.naturalHeight||W.videoHeight||W.height||0,this.scaleMode=G.DEFAULT,this.isCanvas=W instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&W instanceof HTMLVideoElement,this.isRenderTexture=W.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&W instanceof WebGLTexture,this.isPowerOf2=O(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=K,this.init(J)},init:function(F){var B=this.renderer;B&&(B.gl?this.isCanvas?this.glTexture=B.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=B.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=B.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=B.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),F.config.antialias||this.setFilter(1)},setFilter:function(F){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,F),this.scaleMode=F},setFlipY:function(F){return F===void 0&&(F=!0),this.flipY=F,this},update:function(){var F=this.renderer.gl;F&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):F&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&R.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={AtlasXML:y(979),Canvas:y(980),Image:y(981),JSONArray:y(982),JSONHash:y(983),SpriteSheet:y(984),SpriteSheetFromAtlas:y(985),UnityYAML:y(986)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(427),j=y(430),O=y(432),G={create:function(D){var F=D.config.audio,B=D.device.audio;return F.noAudio||!B.webAudio&&!B.audioData?new j(D):B.webAudio&&!F.disableWebAudio?new O(D):new R(D)}};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(145),j=y(0),O=y(70),G=y(429),D=new j({Extends:R,initialize:function(B){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,R.call(this,B)},add:function(F,B){var W=new G(this,F,B);return this.sounds.push(W),W},unlock:function(){this.locked=!1;var F=this;if(this.game.cache.audio.entries.each(function(X,K){for(var J=0;J<K.length;J++)if(K[J].dataset.locked==="true")return F.locked=!0,!1;return!0}),!!this.locked){var B=!1,W=function(){B=!0},U=function(){if(B){B=!1;return}document.body.removeEventListener("touchmove",W),document.body.removeEventListener("touchend",U);var X=[];if(F.game.cache.audio.entries.each(function(J,Z){for(var Q=0;Q<Z.length;Q++){var q=Z[Q];q.dataset.locked==="true"&&X.push(q)}return!0}),X.length!==0){var K=X[X.length-1];K.oncanplaythrough=function(){K.oncanplaythrough=null,X.forEach(function(J){J.dataset.locked="false"}),F.unlocked=!0},X.forEach(function(J){J.load()})}};this.once(O.UNLOCKED,function(){for(this.forEachActiveSound(function(K){K.currentMarker===null&&K.duration===0&&(K.duration=K.tags[0].duration),K.totalDuration=K.tags[0].duration});this.lockedActionsQueue.length;){var X=this.lockedActionsQueue.shift();X.sound[X.prop].apply?X.sound[X.prop].apply(X.sound,X.value||[]):X.sound[X.prop]=X.value}},this),document.body.addEventListener("touchmove",W,!1),document.body.addEventListener("touchend",U,!1)}},onBlur:function(){this.forEachActiveSound(function(F){F.isPlaying&&(this.onBlurPausedSounds.push(F),F.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(F){F.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){R.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(F,B,W){return F.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:F,prop:B,value:W}),!0):!1},setMute:function(F){return this.mute=F,this},mute:{get:function(){return this._mute},set:function(F){this._mute=F,this.forEachActiveSound(function(B){B.updateMute()}),this.emit(O.GLOBAL_MUTE,this,F)}},setVolume:function(F){return this.volume=F,this},volume:{get:function(){return this._volume},set:function(F){this._volume=F,this.forEachActiveSound(function(B){B.updateVolume()}),this.emit(O.GLOBAL_VOLUME,this,F)}}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(78),j=function(O,G,D,F,B){if(F===void 0&&(F=0),B===void 0&&(B=O.length),R(O,F,B))for(var W=F;W<B;W++){var U=O[W];if(!G||G&&D===void 0&&U.hasOwnProperty(G)||G&&D!==void 0&&U[G]===D)return U}return null};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(146),j=y(0),O=y(70),G=y(18),D=new j({Extends:R,initialize:function(B,W,U){if(U===void 0&&(U={}),this.tags=B.game.cache.audio.get(W),!this.tags)throw new Error('There is no audio asset with key "'+W+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,R.call(this,B,W,U)},play:function(F,B){return this.manager.isLocked(this,"play",[F,B])||!R.prototype.play.call(this,F,B)||!this.pickAndPlayAudioTag()?!1:(this.emit(O.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!R.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(O.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!R.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(O.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!R.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(O.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var F=this.currentConfig.seek,B=this.currentConfig.delay,W=(this.currentMarker?this.currentMarker.start:0)+F;return this.previousTime=W,this.audio.currentTime=W,this.applyConfig(),B===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+B*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var F=0;F<this.tags.length;F++){var B=this.tags[F];if(B.dataset.used==="false")return B.dataset.used="true",this.audio=B,!0}if(!this.manager.override)return!1;var W=[];this.manager.forEachActiveSound(function(X){X.key===this.key&&X.audio&&W.push(X)},this),W.sort(function(X,K){return X.loop===K.loop?K.seek/K.duration-X.seek/X.duration:X.loop?1:-1});var U=W[0];return this.audio=U.audio,U.reset(),U.audio=null,U.startTime=0,U.previousTime=0,!0},playCatchPromise:function(){var F=this.audio.play();F&&F.catch(function(B){console.warn(B)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){R.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(F){if(!!this.isPlaying){if(this.startTime>0){this.startTime<F-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,F-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var B=this.currentMarker?this.currentMarker.start:0,W=B+this.duration,U=this.audio.currentTime;if(this.currentConfig.loop)U>=W-this.manager.loopEndOffset?(this.audio.currentTime=B+Math.max(0,U-W),U=this.audio.currentTime):U<B&&(this.audio.currentTime+=B,U=this.audio.currentTime),U<this.previousTime&&this.emit(O.LOOPED,this);else if(U>=W){this.reset(),this.stopAndReleaseAudioTag(),this.emit(O.COMPLETE,this);return}this.previousTime=U}},destroy:function(){R.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=G(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){R.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(F){this.currentConfig.mute=F,!this.manager.isLocked(this,"mute",F)&&(this.updateMute(),this.emit(O.MUTE,this,F))}},setMute:function(F){return this.mute=F,this},volume:{get:function(){return this.currentConfig.volume},set:function(F){this.currentConfig.volume=F,!this.manager.isLocked(this,"volume",F)&&(this.updateVolume(),this.emit(O.VOLUME,this,F))}},setVolume:function(F){return this.volume=F,this},rate:{get:function(){return this.currentConfig.rate},set:function(F){this.currentConfig.rate=F,!this.manager.isLocked(this,O.RATE,F)&&(this.calculateRate(),this.emit(O.RATE,this,F))}},setRate:function(F){return this.rate=F,this},detune:{get:function(){return this.currentConfig.detune},set:function(F){this.currentConfig.detune=F,!this.manager.isLocked(this,O.DETUNE,F)&&(this.calculateRate(),this.emit(O.DETUNE,this,F))}},setDetune:function(F){return this.detune=F,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(F){this.manager.isLocked(this,"seek",F)||this.startTime>0||(this.isPlaying||this.isPaused)&&(F=Math.min(Math.max(0,F),this.duration),this.isPlaying?(this.previousTime=F,this.audio.currentTime=F):this.isPaused&&(this.currentConfig.seek=F),this.emit(O.SEEK,this,F))}},setSeek:function(F){return this.seek=F,this},loop:{get:function(){return this.currentConfig.loop},set:function(F){this.currentConfig.loop=F,!this.manager.isLocked(this,"loop",F)&&(this.audio&&(this.audio.loop=F),this.emit(O.LOOP,this,F))}},setLoop:function(F){return this.loop=F,this},pan:{get:function(){return this.currentConfig.pan},set:function(F){this.currentConfig.pan=F,this.emit(O.PAN,this,F)}},setPan:function(F){return this.pan=F,this}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(145),j=y(0),O=y(9),G=y(431),D=y(1),F=new j({Extends:O,initialize:function(W){O.call(this),this.game=W,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(B,W){var U=new G(this,B,W);return this.sounds.push(U),U},addAudioSprite:function(B,W){var U=this.add(B,W);return U.spritemap={},U},play:function(B,W){return!1},playAudioSprite:function(B,W,U){return!1},remove:function(B){return R.prototype.remove.call(this,B)},removeByKey:function(B){return R.prototype.removeByKey.call(this,B)},pauseAll:D,resumeAll:D,stopAll:D,update:D,setRate:D,setDetune:D,setMute:D,setVolume:D,forEachActiveSound:function(B,W){R.prototype.forEachActiveSound.call(this,B,W)},destroy:function(){R.prototype.destroy.call(this)}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(146),j=y(0),O=y(9),G=y(17),D=function(){return!1},F=function(){return null},B=function(){return this},W=new j({Extends:O,initialize:function(X,K,J){J===void 0&&(J={}),O.call(this),this.manager=X,this.key=K,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=G({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},J),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:D,updateMarker:D,removeMarker:F,play:D,pause:D,resume:D,stop:D,destroy:function(){R.prototype.destroy.call(this)},setMute:B,setVolume:B,setRate:B,setDetune:B,setSeek:B,setLoop:B,setPan:B});Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(433),j=y(145),O=y(0),G=y(70),D=y(22),F=y(434),B=new O({Extends:j,initialize:function(U){this.context=this.createAudioContext(U),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),j.call(this,U),this.locked&&U.isBooted?this.unlock():U.events.once(D.BOOT,this.unlock,this)},createAudioContext:function(W){var U=W.config.audio;if(U.context)return U.context.resume(),U.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(W){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=W,this.masterMuteNode=W.createGain(),this.masterVolumeNode=W.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(W.destination),this.destination=this.masterMuteNode,this},add:function(W,U){var X=new F(this,W,U);return this.sounds.push(X),X},decodeAudio:function(W,U){var X;Array.isArray(W)?X=W:X=[{key:W,data:U}];for(var K=this.game.cache.audio,J=X.length,Z=0;Z<X.length;Z++){var Q=X[Z],q=Q.key,et=Q.data;typeof et=="string"&&(et=R(et));var rt=function(ot,ht){K.add(ot,ht),this.emit(G.DECODED,ot),J--,J===0&&this.emit(G.DECODED_ALL)}.bind(this,q),nt=function(ot,ht){console.error("Error decoding audio: "+ot+" - ",ht?ht.message:""),J--,J===0&&this.emit(G.DECODED_ALL)}.bind(this,q);this.context.decodeAudioData(et,rt,nt)}},unlock:function(){var W=this,U=document.body,X=function K(){if(W.context&&U){var J=U.removeEventListener;W.context.resume().then(function(){J("touchstart",K),J("touchend",K),J("click",K),J("keydown",K),W.unlocked=!0},function(){J("touchstart",K),J("touchend",K),J("click",K),J("keydown",K)})}};U&&(U.addEventListener("touchstart",X,!1),U.addEventListener("touchend",X,!1),U.addEventListener("click",X,!1),U.addEventListener("keydown",X,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var W=this.context;(W.state==="suspended"||W.state==="interrupted")&&!this.locked&&W.resume()},update:function(W,U){j.prototype.update.call(this,W,U);var X=this.context;X&&X.state==="interrupted"&&X.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var W=this;this.context.close().then(function(){W.context=null})}j.prototype.destroy.call(this)},setMute:function(W){return this.mute=W,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(W){this.masterMuteNode.gain.setValueAtTime(W?0:1,0),this.emit(G.GLOBAL_MUTE,this,W)}},setVolume:function(W){return this.volume=W,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(W){this.masterVolumeNode.gain.setValueAtTime(W,0),this.emit(G.GLOBAL_VOLUME,this,W)}}});Y.exports=B},function(Y,tt){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=new Uint8Array(256),j=0;j<y.length;j++)R[y.charCodeAt(j)]=j;var O=function(G){G=G.substr(G.indexOf(",")+1);var D=G.length,F=D*.75,B=0,W,U,X,K;G[D-1]==="="&&(F--,G[D-2]==="="&&F--);for(var J=new ArrayBuffer(F),Z=new Uint8Array(J),Q=0;Q<D;Q+=4)W=R[G.charCodeAt(Q)],U=R[G.charCodeAt(Q+1)],X=R[G.charCodeAt(Q+2)],K=R[G.charCodeAt(Q+3)],Z[B++]=W<<2|U>>4,Z[B++]=(U&15)<<4|X>>2,Z[B++]=(X&3)<<6|K&63;return J};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(146),j=y(0),O=y(70),G=new j({Extends:R,initialize:function(F,B,W){if(W===void 0&&(W={}),this.audioBuffer=F.game.cache.audio.get(B),!this.audioBuffer)throw new Error('Audio key "'+B+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=F.context.createGain(),this.volumeNode=F.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),F.context.createStereoPanner?(this.pannerNode=F.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(F.destination)):this.volumeNode.connect(F.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,R.call(this,F,B,W)},play:function(D,F){return R.prototype.play.call(this,D,F)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(O.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!R.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(O.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!R.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(O.RESUME,this),!0)},stop:function(){return R.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(O.STOP,this),!0):!1},createAndStartBufferSource:function(){var D=this.currentConfig.seek,F=this.currentConfig.delay,B=this.manager.context.currentTime+F,W=(this.currentMarker?this.currentMarker.start:0)+D,U=this.duration-D;this.playTime=B-D,this.startTime=B,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,B),Math.max(0,W),Math.max(0,U)),this.resetConfig()},createAndStartLoopBufferSource:function(){var D=this.getLoopTime(),F=this.currentMarker?this.currentMarker.start:0,B=this.duration;this.loopTime=D,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,D),Math.max(0,F),Math.max(0,B))},createBufferSource:function(){var D=this,F=this.manager.context.createBufferSource();return F.buffer=this.audioBuffer,F.connect(this.muteNode),F.onended=function(B){B.target===D.source&&(D.currentConfig.loop?D.hasLooped=!0:D.hasEnded=!0)},F},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),R.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,R.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(O.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(O.LOOPED,this))},destroy:function(){R.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){R.prototype.calculateRate.call(this);var D=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,D),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,D)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var D=0,F=0;F<this.rateUpdates.length;F++){var B=0;F<this.rateUpdates.length-1?B=this.rateUpdates[F+1].time:B=this.manager.context.currentTime-this.playTime,D+=(B-this.rateUpdates[F].time)*this.rateUpdates[F].rate}return D},getLoopTime:function(){for(var D=0,F=0;F<this.rateUpdates.length-1;F++)D+=(this.rateUpdates[F+1].time-this.rateUpdates[F].time)*this.rateUpdates[F].rate;var B=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+B.time+(this.duration-D)/B.rate},rate:{get:function(){return this.currentConfig.rate},set:function(D){this.currentConfig.rate=D,this.calculateRate(),this.emit(O.RATE,this,D)}},setRate:function(D){return this.rate=D,this},detune:{get:function(){return this.currentConfig.detune},set:function(D){this.currentConfig.detune=D,this.calculateRate(),this.emit(O.DETUNE,this,D)}},setDetune:function(D){return this.detune=D,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(D){this.currentConfig.mute=D,this.muteNode.gain.setValueAtTime(D?0:1,0),this.emit(O.MUTE,this,D)}},setMute:function(D){return this.mute=D,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(D){this.currentConfig.volume=D,this.volumeNode.gain.setValueAtTime(D,0),this.emit(O.VOLUME,this,D)}},setVolume:function(D){return this.volume=D,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(D){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(D=Math.min(Math.max(0,D),this.duration),this.currentConfig.seek=D,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(O.SEEK,this,D))}},setSeek:function(D){return this.seek=D,this},loop:{get:function(){return this.currentConfig.loop},set:function(D){this.currentConfig.loop=D,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),D&&this.createAndStartLoopBufferSource()),this.emit(O.LOOP,this,D)}},setLoop:function(D){return this.loop=D,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(D){this.currentConfig.pan=D,this.pannerNode&&this.pannerNode.pan.setValueAtTime(D,this.manager.context.currentTime),this.emit(O.PAN,this,D)}},setPan:function(D){return this.pan=D,this}});Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){for(var j=R.length,O=R[0].length,G=new Array(O),D=0;D<O;D++){G[D]=new Array(j);for(var F=j-1;F>-1;F--)G[D][F]=R[F][D]}return G};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(O,G,D){var F=O[G];O[G]=O[D],O[D]=F}function R(O,G){return O<G?-1:O>G?1:0}var j=function(O,G,D,F,B){for(D===void 0&&(D=0),F===void 0&&(F=O.length-1),B===void 0&&(B=R);F>D;){if(F-D>600){var W=F-D+1,U=G-D+1,X=Math.log(W),K=.5*Math.exp(2*X/3),J=.5*Math.sqrt(X*K*(W-K)/W)*(U-W/2<0?-1:1),Z=Math.max(D,Math.floor(G-U*K/W+J)),Q=Math.min(F,Math.floor(G+(W-U)*K/W+J));j(O,G,Z,Q,B)}var q=O[G],et=D,rt=F;for(y(O,D,G),B(O[F],q)>0&&y(O,D,F);et<rt;){for(y(O,et,rt),et++,rt--;B(O[et],q)<0;)et++;for(;B(O[rt],q)>0;)rt--}B(O[D],q)===0?y(O,D,rt):(rt++,y(O,rt,F)),rt<=G&&(D=rt+1),G<=rt&&(F=rt-1)}};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(6),j=y(131),O=function(D,F,B){for(var W=[],U=0;U<D.length;U++)for(var X=0;X<F.length;X++)for(var K=0;K<B;K++)W.push({a:D[U],b:F[X]});return W},G=function(D,F,B){var W=R(B,"max",0),U=R(B,"qty",1),X=R(B,"random",!1),K=R(B,"randomB",!1),J=R(B,"repeat",0),Z=R(B,"yoyo",!1),Q=[];if(K&&j(F),J===-1)if(W===0)J=0;else{var q=D.length*F.length*U;Z&&(q*=2),J=Math.ceil(W/q)}for(var et=0;et<=J;et++){var rt=O(D,F,U);X&&j(rt),Q=Q.concat(rt),Z&&(rt.reverse(),Q=Q.concat(rt))}return W&&Q.splice(W),Q};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={PROCESS_QUEUE_ADD:y(1041),PROCESS_QUEUE_REMOVE:y(1042)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(13),j=function(O,G){var D=R(G,"anims",null);if(D===null)return O;if(typeof D=="string")O.anims.play(D);else if(typeof D=="object"){var F=O.anims,B=R(D,"key",void 0);if(B){var W=R(D,"startFrame",void 0),U=R(D,"delay",0),X=R(D,"repeat",0),K=R(D,"repeatDelay",0),J=R(D,"yoyo",!1),Z=R(D,"play",!1),Q=R(D,"delayedPlay",0),q={key:B,delay:U,repeat:X,repeatDelay:K,yoyo:J,startFrame:W};Z?F.play(q):Q>0?F.playAfterDelay(q,Q):F.load(q)}}return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(109),O=new R({initialize:function(D,F,B,W,U){this.parent=D,this.x=F,this.y=B,this.frame=W,this.data={},this.tint=16777215,this._visible=U,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(G){return G===void 0?this.frame=this.parent.frame:G instanceof j&&G.texture===this.parent.texture?this.frame=G:this.frame=this.parent.texture.get(G),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(G,D,F){return this.x=G,this.y=D,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,F&&this.setFrame(F),this},setPosition:function(G,D){return this.x=G,this.y=D,this},setFlipX:function(G){return this.flipX=G,this},setFlipY:function(G){return this.flipY=G,this},setFlip:function(G,D){return this.flipX=G,this.flipY=D,this},setVisible:function(G){return this.visible=G,this},setAlpha:function(G){return this.alpha=G,this},setTint:function(G){return this.tint=G,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(G){this.parent.dirty|=this._visible!==G,this._visible=G}},alpha:{get:function(){return this._alpha},set:function(G){this.parent.dirty|=this._alpha>0!=G>0,this._alpha=G}}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=function(O,G,D){D===void 0&&(D=new R);var F=Math.min(O.x,G.x),B=Math.min(O.y,G.y),W=Math.max(O.right,G.right)-F,U=Math.max(O.bottom,G.bottom)-B;return D.setTo(F,B,W,U)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(11),O=y(1055),G=y(15),D=y(7),F=y(202),B=y(20),W=y(140),U=new R({Extends:G,Mixins:[j.AlphaSingle,j.BlendMode,j.Depth,j.Origin,j.ScrollFactor,j.Transform,j.Visible,O],initialize:function(K,J,Z,Q,q,et){G.call(this,K,"DOMElement"),this.parent=K.sys.game.domContainer,this.cache=K.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new W,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(J,Z),typeof Q=="string"?Q[0]==="#"?this.setElement(Q.substr(1),q,et):this.createElement(Q,q,et):Q&&this.setElement(Q,q,et),K.sys.events.on(B.SLEEP,this.handleSceneEvent,this),K.sys.events.on(B.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(X){var K=this.node,J=K.style;K&&(J.display=X.settings.visible?"block":"none")},setSkew:function(X,K){return X===void 0&&(X=0),K===void 0&&(K=X),this.skewX=X,this.skewY=K,this},setPerspective:function(X){return this.parent.style.perspective=X+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(X){this.parent.style.perspective=X+"px"}},addListener:function(X){if(this.node){X=X.split(" ");for(var K=0;K<X.length;K++)this.node.addEventListener(X[K],this.handler,!1)}return this},removeListener:function(X){if(this.node){X=X.split(" ");for(var K=0;K<X.length;K++)this.node.removeEventListener(X[K],this.handler)}return this},dispatchNativeEvent:function(X){this.emit(X.type,X)},createElement:function(X,K,J){return this.setElement(document.createElement(X),K,J)},setElement:function(X,K,J){this.removeElement();var Z;if(typeof X=="string"?(X[0]==="#"&&(X=X.substr(1)),Z=document.getElementById(X)):typeof X=="object"&&X.nodeType===1&&(Z=X),!Z)return this;if(this.node=Z,K&&D(K))for(var Q in K)Z.style[Q]=K[Q];else typeof K=="string"&&(Z.style=K);return Z.style.zIndex="0",Z.style.display="inline",Z.style.position="absolute",Z.phaser=this,this.parent&&this.parent.appendChild(Z),J&&(Z.innerText=J),this.updateSize()},createFromCache:function(X,K){var J=this.cache.get(X);return J&&this.createFromHTML(J,K),this},createFromHTML:function(X,K){K===void 0&&(K="div"),this.removeElement();var J=document.createElement(K);return this.node=J,J.style.zIndex="0",J.style.display="inline",J.style.position="absolute",J.phaser=this,this.parent&&this.parent.appendChild(J),J.innerHTML=X,this.updateSize()},removeElement:function(){return this.node&&(F(this.node),this.node=null),this},updateSize:function(){var X=this.node,K=X.getBoundingClientRect();return this.width=X.clientWidth,this.height=X.clientHeight,this.displayWidth=K.width||0,this.displayHeight=K.height||0,this},getChildByProperty:function(X,K){if(this.node){for(var J=this.node.querySelectorAll("*"),Z=0;Z<J.length;Z++)if(J[Z][X]===K)return J[Z]}return null},getChildByID:function(X){return this.getChildByProperty("id",X)},getChildByName:function(X){return this.getChildByProperty("name",X)},setClassName:function(X){return this.node&&(this.node.className=X,this.updateSize()),this},setText:function(X){return this.node&&(this.node.innerText=X,this.updateSize()),this},setHTML:function(X){return this.node&&(this.node.innerHTML=X,this.updateSize()),this},preUpdate:function(){var X=this.parentContainer,K=this.node;K&&X&&!X.willRender()&&(K.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(B.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(B.WAKE,this.handleSceneEvent,this)}});Y.exports=U},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1056),j=y(15),O=y(25),G=new O,D=new O,F=new O,B=function(W,U,X,K){if(!!U.node){var J=U.node.style,Z=U.scene.sys.settings;if(!J||!Z.visible||j.RENDER_MASK!==U.renderFlags||U.cameraFilter!==0&&U.cameraFilter&X.id||U.parentContainer&&!U.parentContainer.willRender()){J.display="none";return}var Q=U.parentContainer,q=X.alpha*U.alpha;Q&&(q*=Q.alpha);var et=G,rt=D,nt=F,ot=0,ht=0,ut="0%",ct="0%";K?(ot=U.width*U.scaleX*U.originX,ht=U.height*U.scaleY*U.originY,rt.applyITRS(U.x-ot,U.y-ht,U.rotation,U.scaleX,U.scaleY),et.copyFrom(X.matrix),et.multiplyWithOffset(K,-X.scrollX*U.scrollFactorX,-X.scrollY*U.scrollFactorY),rt.e=U.x-ot,rt.f=U.y-ht,et.multiply(rt,nt)):(ot=U.width*U.originX,ht=U.height*U.originY,rt.applyITRS(U.x-ot,U.y-ht,U.rotation,U.scaleX,U.scaleY),et.copyFrom(X.matrix),ut=100*U.originX+"%",ct=100*U.originY+"%",rt.e-=X.scrollX*U.scrollFactorX,rt.f-=X.scrollY*U.scrollFactorY,et.multiply(rt,nt)),U.transformOnly||(J.display="block",J.opacity=q,J.zIndex=U._depth,J.pointerEvents=U.pointerEvents,J.mixBlendMode=R[U._blendMode]),J.transform=nt.getCSSMatrix()+" skew("+U.skewX+"rad, "+U.skewY+"rad) rotate3d("+U.rotate3d.x+","+U.rotate3d.y+","+U.rotate3d.z+","+U.rotate3d.w+U.rotate3dAngle+")",J.transformOrigin=ut+" "+ct}};Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(11),O=y(15),G=y(1060),D=new R({Extends:O,Mixins:[j.Alpha,j.BlendMode,j.Depth,j.Flip,j.Origin,j.ScrollFactor,j.Size,j.Texture,j.Tint,j.Transform,j.Visible,G],initialize:function(B){O.call(this,B,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(218),j=y(98),O=y(14),G=y(4),D=function(F,B,W){W===void 0&&(W=new G);var U=j(B,0,O.PI2);return R(F,U,W)};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(447),j=y(218),O=y(98),G=y(14),D=function(F,B,W,U){U===void 0&&(U=[]),!B&&W>0&&(B=R(F)/W);for(var X=0;X<B;X++){var K=O(X/B,0,G.PI2);U.push(j(F,K))}return U};Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j=R.width/2,O=R.height/2,G=Math.pow(j-O,2)/Math.pow(j+O,2);return Math.PI*(j+O)*(1+3*G/(10+Math.sqrt(4-3*G)))};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(217),j=y(30),O=function(G,D,F,B,W,U){var X=D.commandBuffer,K=X.length,J=W||G.currentContext;if(!(K===0||!j(G,J,D,F,B))){F.addToRenderList(D);var Z=1,Q=1,q=0,et=0,rt=1,nt=0,ot=0,ht=0;J.beginPath();for(var ut=0;ut<K;++ut){var ct=X[ut];switch(ct){case R.ARC:J.arc(X[ut+1],X[ut+2],X[ut+3],X[ut+4],X[ut+5],X[ut+6]),ut+=7;break;case R.LINE_STYLE:rt=X[ut+1],q=X[ut+2],Z=X[ut+3],nt=(q&16711680)>>>16,ot=(q&65280)>>>8,ht=q&255,J.strokeStyle="rgba("+nt+","+ot+","+ht+","+Z+")",J.lineWidth=rt,ut+=3;break;case R.FILL_STYLE:et=X[ut+1],Q=X[ut+2],nt=(et&16711680)>>>16,ot=(et&65280)>>>8,ht=et&255,J.fillStyle="rgba("+nt+","+ot+","+ht+","+Q+")",ut+=2;break;case R.BEGIN_PATH:J.beginPath();break;case R.CLOSE_PATH:J.closePath();break;case R.FILL_PATH:U||J.fill();break;case R.STROKE_PATH:U||J.stroke();break;case R.FILL_RECT:U?J.rect(X[ut+1],X[ut+2],X[ut+3],X[ut+4]):J.fillRect(X[ut+1],X[ut+2],X[ut+3],X[ut+4]),ut+=4;break;case R.FILL_TRIANGLE:J.beginPath(),J.moveTo(X[ut+1],X[ut+2]),J.lineTo(X[ut+3],X[ut+4]),J.lineTo(X[ut+5],X[ut+6]),J.closePath(),U||J.fill(),ut+=6;break;case R.STROKE_TRIANGLE:J.beginPath(),J.moveTo(X[ut+1],X[ut+2]),J.lineTo(X[ut+3],X[ut+4]),J.lineTo(X[ut+5],X[ut+6]),J.closePath(),U||J.stroke(),ut+=6;break;case R.LINE_TO:J.lineTo(X[ut+1],X[ut+2]),ut+=2;break;case R.MOVE_TO:J.moveTo(X[ut+1],X[ut+2]),ut+=2;break;case R.LINE_FX_TO:J.lineTo(X[ut+1],X[ut+2]),ut+=5;break;case R.MOVE_FX_TO:J.moveTo(X[ut+1],X[ut+2]),ut+=5;break;case R.SAVE:J.save();break;case R.RESTORE:J.restore();break;case R.TRANSLATE:J.translate(X[ut+1],X[ut+2]),ut+=2;break;case R.SCALE:J.scale(X[ut+1],X[ut+2]),ut+=2;break;case R.ROTATE:J.rotate(X[ut+1]),ut+=1;break;case R.GRADIENT_FILL_STYLE:ut+=5;break;case R.GRADIENT_LINE_STYLE:ut+=6;break}}J.restore()}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(137),O=y(80),G=y(2),D=y(68),F=new R({initialize:function(W,U,X,K){K===void 0&&(K=!1),this.propertyKey=U,this.propertyValue=X,this.defaultValue=X,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=K,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(W)},loadConfig:function(B,W){B===void 0&&(B={}),W&&(this.propertyKey=W),this.propertyValue=G(B,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(B){return this.propertyValue=B,this.setMethods()},setMethods:function(){var B=this.propertyValue,W=typeof B;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,W==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(B))this.onEmit=this.randomStaticValueEmit;else if(W==="function")this.emitOnly?this.onEmit=B:this.onUpdate=B;else if(W==="object"&&this.hasBoth(B,"start","end")){this.start=B.start,this.end=B.end;var U=this.has(B,"random");if(U&&(this.onEmit=this.randomRangedValueEmit),this.has(B,"steps"))this.steps=B.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var X=this.has(B,"ease")?B.ease:"Linear";this.ease=O(X,B.easeParams),U||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if(W==="object"&&this.hasBoth(B,"min","max"))this.start=B.min,this.end=B.max,this.onEmit=this.randomRangedValueEmit;else if(W==="object"&&this.has(B,"random")){var K=B.random;Array.isArray(K)&&(this.start=K[0],this.end=K[1]),this.onEmit=this.randomRangedValueEmit}else W==="object"&&this.hasEither(B,"onEmit","onUpdate")&&(this.has(B,"onEmit")&&(this.onEmit=B.onEmit),this.has(B,"onUpdate")&&(this.onUpdate=B.onUpdate));return this},has:function(B,W){return B.hasOwnProperty(W)},hasBoth:function(B,W,U){return B.hasOwnProperty(W)&&B.hasOwnProperty(U)},hasEither:function(B,W,U){return B.hasOwnProperty(W)||B.hasOwnProperty(U)},defaultEmit:function(B,W,U){return U},defaultUpdate:function(B,W,U,X){return X},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var B=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[B]},randomRangedValueEmit:function(B,W){var U=j(this.start,this.end);return B&&B.data[W]&&(B.data[W].min=U),U},steppedEmit:function(){var B=this.counter,W=this.counter+(this.end-this.start)/this.steps;return this.counter=D(W,this.start,this.end),B},easedValueEmit:function(B,W){if(B&&B.data[W]){var U=B.data[W];U.min=this.start,U.max=this.end}return this.start},easeValueUpdate:function(B,W,U){var X=B.data[W];return(X.max-X.min)*this.ease(U)+X.min}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(2),O=new R({initialize:function(D,F,B,W,U){if(typeof D=="object"){var X=D;D=j(X,"x",0),F=j(X,"y",0),B=j(X,"power",0),W=j(X,"epsilon",100),U=j(X,"gravity",50)}else D===void 0&&(D=0),F===void 0&&(F=0),B===void 0&&(B=0),W===void 0&&(W=100),U===void 0&&(U=50);this.x=D,this.y=F,this.active=!0,this._gravity=U,this._power=0,this._epsilon=0,this.power=B,this.epsilon=W},update:function(G,D){var F=this.x-G.x,B=this.y-G.y,W=F*F+B*B;if(W!==0){var U=Math.sqrt(W);W<this._epsilon&&(W=this._epsilon);var X=this._power*D/(W*U)*100;G.velocityX+=F*X,G.velocityY+=B*X}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(G){this._epsilon=G*G}},power:{get:function(){return this._power/this._gravity},set:function(G){this._power=G*this._gravity}},gravity:{get:function(){return this._gravity},set:function(G){var D=this.power;this._gravity=G,this.power=D}}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(36),O=y(50),G=new R({initialize:function(F){this.emitter=F,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(D,F){var B=this.emitter;this.frame=B.getFrame(),B.emitZone&&B.emitZone.getPoint(this),D===void 0?this.x+=B.x.onEmit(this,"x"):this.x+=D,F===void 0?this.y+=B.y.onEmit(this,"y"):this.y+=F,this.life=B.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var W=B.speedX.onEmit(this,"speedX"),U=B.speedY?B.speedY.onEmit(this,"speedY"):W;if(B.radial){var X=j(B.angle.onEmit(this,"angle"));this.velocityX=Math.cos(X)*Math.abs(W),this.velocityY=Math.sin(X)*Math.abs(U)}else if(B.moveTo){var K=B.moveToX.onEmit(this,"moveToX"),J=B.moveToY?B.moveToY.onEmit(this,"moveToY"):K,Z=Math.atan2(J-this.y,K-this.x),Q=O(this.x,this.y,K,J)/(this.life/1e3);this.velocityX=Math.cos(Z)*Q,this.velocityY=Math.sin(Z)*Q}else this.velocityX=W,this.velocityY=U;B.acceleration&&(this.accelerationX=B.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=B.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=B.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=B.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=B.delay.onEmit(this,"delay"),this.scaleX=B.scaleX.onEmit(this,"scaleX"),this.scaleY=B.scaleY?B.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=B.rotate.onEmit(this,"rotate"),this.rotation=j(this.angle),this.bounce=B.bounce.onEmit(this,"bounce"),this.alpha=B.alpha.onEmit(this,"alpha"),this.tint=B.tint.onEmit(this,"tint")},computeVelocity:function(D,F,B,W){var U=this.velocityX,X=this.velocityY,K=this.accelerationX,J=this.accelerationY,Z=this.maxVelocityX,Q=this.maxVelocityY;U+=D.gravityX*B,X+=D.gravityY*B,K&&(U+=K*B),J&&(X+=J*B),U>Z?U=Z:U<-Z&&(U=-Z),X>Q?X=Q:X<-Q&&(X=-Q),this.velocityX=U,this.velocityY=X;for(var q=0;q<W.length;q++)W[q].update(this,F,B)},checkBounds:function(D){var F=D.bounds,B=-this.bounce;this.x<F.x&&D.collideLeft?(this.x=F.x,this.velocityX*=B):this.x>F.right&&D.collideRight&&(this.x=F.right,this.velocityX*=B),this.y<F.y&&D.collideTop?(this.y=F.y,this.velocityY*=B):this.y>F.bottom&&D.collideBottom&&(this.y=F.bottom,this.velocityY*=B)},update:function(D,F,B){if(this.delayCurrent>0)return this.delayCurrent-=D,!1;var W=this.emitter,U=1-this.lifeCurrent/this.life;return this.lifeT=U,this.computeVelocity(W,D,F,B),this.x+=this.velocityX*F,this.y+=this.velocityY*F,W.bounds&&this.checkBounds(W),W.deathZone&&W.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=W.scaleX.onUpdate(this,"scaleX",U,this.scaleX),W.scaleY?this.scaleY=W.scaleY.onUpdate(this,"scaleY",U,this.scaleY):this.scaleY=this.scaleX,this.angle=W.rotate.onUpdate(this,"rotate",U,this.angle),this.rotation=j(this.angle),this.alpha=W.alpha.onUpdate(this,"alpha",U,this.alpha),this.tint=W.tint.onUpdate(this,"tint",U,this.tint),this.lifeCurrent-=D,this.lifeCurrent<=0)}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(35),j=y(0),O=y(11),G=y(453),D=y(454),F=y(449),B=y(2),W=y(210),U=y(455),X=y(126),K=y(451),J=y(456),Z=y(10),Q=y(79),q=y(3),et=y(68),rt=new j({Mixins:[O.BlendMode,O.Mask,O.ScrollFactor,O.Visible],initialize:function(ot,ht){this.manager=ot,this.texture=ot.texture,this.frames=[ot.defaultFrame],this.defaultFrame=ot.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=K,this.x=new F(ht,"x",0,!0),this.y=new F(ht,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new F(ht,"accelerationX",0,!0),this.accelerationY=new F(ht,"accelerationY",0,!0),this.maxVelocityX=new F(ht,"maxVelocityX",1e4,!0),this.maxVelocityY=new F(ht,"maxVelocityY",1e4,!0),this.speedX=new F(ht,"speedX",0,!0),this.speedY=new F(ht,"speedY",0,!0),this.moveTo=!1,this.moveToX=new F(ht,"moveToX",0,!0),this.moveToY=new F(ht,"moveToY",0,!0),this.bounce=new F(ht,"bounce",0,!0),this.scaleX=new F(ht,"scaleX",1),this.scaleY=new F(ht,"scaleY",1),this.tint=new F(ht,"tint",16777215),this.alpha=new F(ht,"alpha",1),this.lifespan=new F(ht,"lifespan",1e3,!0),this.angle=new F(ht,"angle",{min:0,max:360},!0),this.rotate=new F(ht,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new F(ht,"quantity",1,!0),this.delay=new F(ht,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=R.NORMAL,this.follow=null,this.followOffset=new q,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,ht&&this.fromJSON(ht)},fromJSON:function(nt){if(!nt)return this;var ot=0,ht="";for(ot=0;ot<this.configFastMap.length;ot++)ht=this.configFastMap[ot],X(nt,ht)&&(this[ht]=B(nt,ht));for(ot=0;ot<this.configOpMap.length;ot++)ht=this.configOpMap[ot],X(nt,ht)&&this[ht].loadConfig(nt);if(this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,X(nt,"speed")&&(this.speedX.loadConfig(nt,"speed"),this.speedY=null),(U(nt,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),X(nt,"scale")&&(this.scaleX.loadConfig(nt,"scale"),this.scaleY=null),X(nt,"callbackScope")){var ut=B(nt,"callbackScope",null);this.emitCallbackScope=ut,this.deathCallbackScope=ut}return X(nt,"emitZone")&&this.setEmitZone(nt.emitZone),X(nt,"deathZone")&&this.setDeathZone(nt.deathZone),X(nt,"bounds")&&this.setBounds(nt.bounds),X(nt,"followOffset")&&this.followOffset.setFromObject(B(nt,"followOffset",0)),X(nt,"frame")&&this.setFrame(nt.frame),X(nt,"reserve")&&this.reserve(nt.reserve),this},toJSON:function(nt){nt===void 0&&(nt={});var ot=0,ht="";for(ot=0;ot<this.configFastMap.length;ot++)ht=this.configFastMap[ot],nt[ht]=this[ht];for(ot=0;ot<this.configOpMap.length;ot++)ht=this.configOpMap[ot],this[ht]&&(nt[ht]=this[ht].toJSON());return this.speedY||(delete nt.speedX,nt.speed=this.speedX.toJSON()),this.scaleY||(delete nt.scaleX,nt.scale=this.scaleX.toJSON()),nt},startFollow:function(nt,ot,ht,ut){return ot===void 0&&(ot=0),ht===void 0&&(ht=0),ut===void 0&&(ut=!1),this.follow=nt,this.followOffset.set(ot,ht),this.trackVisible=ut,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return W(this.frames);var nt=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=et(this.currentFrame+1,0,this._frameLength)),nt},setFrame:function(nt,ot,ht){ot===void 0&&(ot=!0),ht===void 0&&(ht=1),this.randomFrame=ot,this.frameQuantity=ht,this.currentFrame=0,this._frameCounter=0;var ut=typeof nt;if(Array.isArray(nt)||ut==="string"||ut==="number")this.manager.setEmitterFrames(nt,this);else if(ut==="object"){var ct=nt;nt=B(ct,"frames",null),nt&&this.manager.setEmitterFrames(nt,this);var ft=B(ct,"cycle",!1);this.randomFrame=!ft,this.frameQuantity=B(ct,"quantity",ht)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(nt){return nt===void 0&&(nt=!0),this.radial=nt,this},setPosition:function(nt,ot){return this.x.onChange(nt),this.y.onChange(ot),this},setBounds:function(nt,ot,ht,ut){if(typeof nt=="object"){var ct=nt;nt=ct.x,ot=ct.y,ht=X(ct,"w")?ct.w:ct.width,ut=X(ct,"h")?ct.h:ct.height}return this.bounds?this.bounds.setTo(nt,ot,ht,ut):this.bounds=new Z(nt,ot,ht,ut),this},setSpeedX:function(nt){return this.speedX.onChange(nt),this.radial=!1,this},setSpeedY:function(nt){return this.speedY&&(this.speedY.onChange(nt),this.radial=!1),this},setSpeed:function(nt){return this.speedX.onChange(nt),this.speedY=null,this.radial=!0,this},setScaleX:function(nt){return this.scaleX.onChange(nt),this},setScaleY:function(nt){return this.scaleY.onChange(nt),this},setScale:function(nt){return this.scaleX.onChange(nt),this.scaleY=null,this},setGravityX:function(nt){return this.gravityX=nt,this},setGravityY:function(nt){return this.gravityY=nt,this},setGravity:function(nt,ot){return this.gravityX=nt,this.gravityY=ot,this},setAlpha:function(nt){return this.alpha.onChange(nt),this},setTint:function(nt){return this.tint.onChange(nt),this},setEmitterAngle:function(nt){return this.angle.onChange(nt),this},setAngle:function(nt){return this.angle.onChange(nt),this},setLifespan:function(nt){return this.lifespan.onChange(nt),this},setQuantity:function(nt){return this.quantity.onChange(nt),this},setFrequency:function(nt,ot){return this.frequency=nt,this._counter=0,ot&&this.quantity.onChange(ot),this},setEmitZone:function(nt){if(nt===void 0)this.emitZone=null;else{var ot=B(nt,"type","random"),ht=B(nt,"source",null);switch(ot){case"random":this.emitZone=new J(ht);break;case"edge":var ut=B(nt,"quantity",1),ct=B(nt,"stepRate",0),ft=B(nt,"yoyo",!1),dt=B(nt,"seamless",!0);this.emitZone=new D(ht,ut,ct,ft,dt);break}}return this},setDeathZone:function(nt){if(nt===void 0)this.deathZone=null;else{var ot=B(nt,"type","onEnter"),ht=B(nt,"source",null);if(ht&&typeof ht.contains=="function"){var ut=ot==="onEnter";this.deathZone=new G(ht,ut)}}return this},reserve:function(nt){for(var ot=this.dead,ht=0;ht<nt;ht++)ot.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(nt,ot){return nt===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof nt=="function"&&(this.emitCallback=nt,ot&&(this.emitCallbackScope=ot)),this},onParticleDeath:function(nt,ot){return nt===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof nt=="function"&&(this.deathCallback=nt,ot&&(this.deathCallbackScope=ot)),this},killAll:function(){for(var nt=this.dead,ot=this.alive;ot.length>0;)nt.push(ot.pop());return this},forEachAlive:function(nt,ot){for(var ht=this.alive,ut=ht.length,ct=0;ct<ut;++ct)nt.call(ot,ht[ct],this);return this},forEachDead:function(nt,ot){for(var ht=this.dead,ut=ht.length,ct=0;ct<ut;++ct)nt.call(ot,ht[ct],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return Q(this.alive,this.depthSortCallback),this},flow:function(nt,ot){return ot===void 0&&(ot=1),this.frequency=nt,this.quantity.onChange(ot),this.start()},explode:function(nt,ot,ht){return this.frequency=-1,this.emitParticle(nt,ot,ht)},emitParticleAt:function(nt,ot,ht){return this.emitParticle(ht,nt,ot)},emitParticle:function(nt,ot,ht){if(!this.atLimit()){nt===void 0&&(nt=this.quantity.onEmit());for(var ut=this.dead,ct=this.follow?this.follow.x+this.followOffset.x:ot,ft=this.follow?this.follow.y+this.followOffset.y:ht,dt=0;dt<nt;dt++){var pt=ut.pop();if(pt||(pt=new this.particleClass(this)),pt.fire(ct,ft),this.particleBringToTop?this.alive.push(pt):this.alive.unshift(pt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,pt,this),this.atLimit())break}return pt}},preUpdate:function(nt,ot){ot*=this.timeScale;var ht=ot/1e3;this.trackVisible&&(this.visible=this.follow.visible);var ut=this.manager.getProcessors(),ct=this.alive,ft=this.dead,dt=0,pt=[],yt=ct.length;for(dt=0;dt<yt;dt++){var St=ct[dt];St.update(ot,ht,ut)&&pt.push({index:dt,particle:St})}if(yt=pt.length,yt>0){var At=this.deathCallback,Ct=this.deathCallbackScope;for(dt=yt-1;dt>=0;dt--){var Pt=pt[dt];ct.splice(Pt.index,1),ft.push(Pt.particle),At&&At.call(Ct,Pt.particle),Pt.particle.resetPosition()}}!this.on||(this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=ot,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(nt,ot){return nt.y-ot.y}});Y.exports=rt},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D){this.source=G,this.killOnEnter=D},willKill:function(O){var G=this.source.contains(O.x,O.y);return G&&this.killOnEnter||!G&&!this.killOnEnter}});Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D,F,B,W){B===void 0&&(B=!1),W===void 0&&(W=!0),this.source=G,this.points=[],this.quantity=D,this.stepRate=F,this.yoyo=B,this.counter=-1,this.seamless=W,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var O=this.points[0],G=this.points[this.points.length-1];O.x===G.x&&O.y===G.y&&this.points.pop()}var D=this._length;return this._length=this.points.length,this._length<D&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(O){return this.source=O,this.updateSource()},getPoint:function(O){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var G=this.points[this.counter];G&&(O.x=G.x,O.y=G.y)}});Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){for(var O=0;O<j.length;O++)if(R.hasOwnProperty(j[O]))return!0;return!1};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(3),O=new R({initialize:function(D){this.source=D,this._tempVec=new j},getPoint:function(G){var D=this._tempVec;this.source.getRandomPoint(D),G.x=D.x,G.y=D.y}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(11),O=y(73),G=new R({Extends:O,Mixins:[j.PathFollower],initialize:function(F,B,W,U,X,K){O.call(this,F,W,U,X,K),this.path=B},preUpdate:function(D,F){this.anims.update(D,F),this.pathUpdate(D)}});Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=R.canvas,D=R.context,F=R.style,B=[],W=0,U=O.length;F.maxLines>0&&F.maxLines<O.length&&(U=F.maxLines),F.syncFont(G,D);for(var X=0;X<U;X++){var K=F.strokeThickness;K+=D.measureText(O[X]).width,F.wordWrap&&(K-=D.measureText(" ").width),B[X]=Math.ceil(K),W=Math.max(W,B[X])}var J=j.fontSize+F.strokeThickness,Z=J*U,Q=R.lineSpacing;return U>1&&(Z+=Q*(U-1)),{width:W,height:Z,lines:U,lineWidths:B,lineSpacing:Q,lineHeight:J}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(13),O=y(6),G=y(460),D={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},F=new R({initialize:function(W,U){this.parent=W,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(U,!1,!0);var X=O(U,"metrics",!1);X?this.metrics={ascent:O(X,"ascent",0),descent:O(X,"descent",0),fontSize:O(X,"fontSize",0)}:this.metrics=G(this)},setStyle:function(B,W,U){W===void 0&&(W=!0),U===void 0&&(U=!1),B&&B.hasOwnProperty("fontSize")&&typeof B.fontSize=="number"&&(B.fontSize=B.fontSize.toString()+"px");for(var X in D){var K=U?D[X][1]:this[X];X==="wordWrapCallback"||X==="wordWrapCallbackScope"?this[X]=O(B,D[X][0],K):this[X]=j(B,D[X][0],K)}var J=O(B,"font",null);J!==null&&this.setFont(J,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var Z=O(B,"fill",null);return Z!==null&&(this.color=Z),W?this.update(!0):this.parent},syncFont:function(B,W){W.font=this._font},syncStyle:function(B,W){W.textBaseline="alphabetic",W.fillStyle=this.color,W.strokeStyle=this.stroke,W.lineWidth=this.strokeThickness,W.lineCap="round",W.lineJoin="round"},syncShadow:function(B,W){W?(B.shadowOffsetX=this.shadowOffsetX,B.shadowOffsetY=this.shadowOffsetY,B.shadowColor=this.shadowColor,B.shadowBlur=this.shadowBlur):(B.shadowOffsetX=0,B.shadowOffsetY=0,B.shadowColor=0,B.shadowBlur=0)},update:function(B){return B&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=G(this)),this.parent.updateText()},setFont:function(B,W){W===void 0&&(W=!0);var U=B,X="",K="";if(typeof B!="string")U=O(B,"fontFamily","Courier"),X=O(B,"fontSize","16px"),K=O(B,"fontStyle","");else{var J=B.split(" "),Z=0;K=J.length>2?J[Z++]:"",X=J[Z++]||"16px",U=J[Z++]||"Courier"}return(U!==this.fontFamily||X!==this.fontSize||K!==this.fontStyle)&&(this.fontFamily=U,this.fontSize=X,this.fontStyle=K,W&&this.update(!0)),this.parent},setFontFamily:function(B){return this.fontFamily!==B&&(this.fontFamily=B,this.update(!0)),this.parent},setFontStyle:function(B){return this.fontStyle!==B&&(this.fontStyle=B,this.update(!0)),this.parent},setFontSize:function(B){return typeof B=="number"&&(B=B.toString()+"px"),this.fontSize!==B&&(this.fontSize=B,this.update(!0)),this.parent},setTestString:function(B){return this.testString=B,this.update(!0)},setFixedSize:function(B,W){return this.fixedWidth=B,this.fixedHeight=W,B&&(this.parent.width=B),W&&(this.parent.height=W),this.update(!1)},setBackgroundColor:function(B){return this.backgroundColor=B,this.update(!1)},setFill:function(B){return this.color=B,this.update(!1)},setColor:function(B){return this.color=B,this.update(!1)},setResolution:function(B){return this.resolution=B,this.update(!1)},setStroke:function(B,W){return W===void 0&&(W=this.strokeThickness),B===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==B||this.strokeThickness!==W)&&(this.stroke=B,this.strokeThickness=W,this.update(!0)),this.parent},setShadow:function(B,W,U,X,K,J){return B===void 0&&(B=0),W===void 0&&(W=0),U===void 0&&(U="#000"),X===void 0&&(X=0),K===void 0&&(K=!1),J===void 0&&(J=!0),this.shadowOffsetX=B,this.shadowOffsetY=W,this.shadowColor=U,this.shadowBlur=X,this.shadowStroke=K,this.shadowFill=J,this.update(!1)},setShadowOffset:function(B,W){return B===void 0&&(B=0),W===void 0&&(W=B),this.shadowOffsetX=B,this.shadowOffsetY=W,this.update(!1)},setShadowColor:function(B){return B===void 0&&(B="#000"),this.shadowColor=B,this.update(!1)},setShadowBlur:function(B){return B===void 0&&(B=0),this.shadowBlur=B,this.update(!1)},setShadowStroke:function(B){return this.shadowStroke=B,this.update(!1)},setShadowFill:function(B){return this.shadowFill=B,this.update(!1)},setWordWrapWidth:function(B,W){return W===void 0&&(W=!1),this.wordWrapWidth=B,this.wordWrapUseAdvanced=W,this.update(!1)},setWordWrapCallback:function(B,W){return W===void 0&&(W=null),this.wordWrapCallback=B,this.wordWrapCallbackScope=W,this.update(!1)},setAlign:function(B){return B===void 0&&(B="left"),this.align=B,this.update(!1)},setMaxLines:function(B){return B===void 0&&(B=0),this.maxLines=B,this.update(!1)},getTextMetrics:function(){var B=this.metrics;return{ascent:B.ascent,descent:B.descent,fontSize:B.fontSize}},toJSON:function(){var B={};for(var W in D)B[W]=this[W];return B.metrics=this.getTextMetrics(),B},destroy:function(){this.parent=void 0}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(31),j=function(O){var G=R.create(this),D=G.getContext("2d");O.syncFont(G,D);var F=D.measureText(O.testString);if("actualBoundingBoxAscent"in F){var B=F.actualBoundingBoxAscent,W=F.actualBoundingBoxDescent;return R.remove(G),{ascent:B,descent:W,fontSize:B+W}}var U=Math.ceil(F.width*O.baselineX),X=U,K=2*X;X=X*O.baselineY|0,G.width=U,G.height=K,D.fillStyle="#f00",D.fillRect(0,0,U,K),D.font=O._font,D.textBaseline="alphabetic",D.fillStyle="#000",D.fillText(O.testString,0,X);var J={ascent:0,descent:0,fontSize:0},Z=D.getImageData(0,0,U,K);if(!Z)return J.ascent=X,J.descent=X+6,J.fontSize=J.ascent+J.descent,R.remove(G),J;var Q=Z.data,q=Q.length,et=U*4,rt,nt,ot=0,ht=!1;for(rt=0;rt<X;rt++){for(nt=0;nt<et;nt+=4)if(Q[ot+nt]!==255){ht=!0;break}if(!ht)ot+=et;else break}for(J.ascent=X-rt,ot=q-et,ht=!1,rt=K;rt>X;rt--){for(nt=0;nt<et;nt+=4)if(Q[ot+nt]!==255){ht=!0;break}if(!ht)ot-=et;else break}return J.descent=rt-X,J.fontSize=J.ascent+J.descent,R.remove(G),J};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1097),j=y(0),O=y(36),G=y(59),D=y(65),F=y(14),B=y(34),W=new j({Extends:B,Mixins:[R],initialize:function(X,K,J,Z,Q,q,et,rt,nt){K===void 0&&(K=0),J===void 0&&(J=0),Z===void 0&&(Z=128),Q===void 0&&(Q=0),q===void 0&&(q=360),et===void 0&&(et=!1),B.call(this,X,"Arc",new D(0,0,Z)),this._startAngle=Q,this._endAngle=q,this._anticlockwise=et,this._iterations=.01,this.setPosition(K,J);var ot=this.geom.radius*2;this.setSize(ot,ot),rt!==void 0&&this.setFillStyle(rt,nt),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(U){this._iterations=U,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(U){this.geom.radius=U;var X=U*2;this.setSize(X,X),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(U){this._startAngle=U,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(U){this._endAngle=U,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(U){this._anticlockwise=U,this.updateData()}},setRadius:function(U){return this.radius=U,this},setIterations:function(U){return U===void 0&&(U=.01),this.iterations=U,this},setStartAngle:function(U,X){return this._startAngle=U,X!==void 0&&(this._anticlockwise=X),this.updateData()},setEndAngle:function(U,X){return this._endAngle=U,X!==void 0&&(this._anticlockwise=X),this.updateData()},updateData:function(){var U=this._iterations,X=U,K=this.geom.radius,J=O(this._startAngle),Z=O(this._endAngle),Q=this._anticlockwise,q=K,et=K;Z-=J,Q?Z<-F.PI2?Z=-F.PI2:Z>0&&(Z=-F.PI2+Z%F.PI2):Z>F.PI2?Z=F.PI2:Z<0&&(Z=F.PI2+Z%F.PI2);for(var rt=[q+Math.cos(J)*K,et+Math.sin(J)*K],nt;X<1;)nt=Z*X+J,rt.push(q+Math.cos(nt)*K,et+Math.sin(nt)*K),X+=U;return nt=Z+J,rt.push(q+Math.cos(nt)*K,et+Math.sin(nt)*K),rt.push(q+Math.cos(J)*K,et+Math.sin(J)*K),this.pathIndexes=G(rt),this.pathData=rt,this}});Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(1100),O=y(59),G=y(10),D=y(34),F=new R({Extends:D,Mixins:[j],initialize:function(W,U,X,K,J,Z){U===void 0&&(U=0),X===void 0&&(X=0),D.call(this,W,"Curve",K),this._smoothness=32,this._curveBounds=new G,this.closePath=!1,this.setPosition(U,X),J!==void 0&&this.setFillStyle(J,Z),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(B){this._smoothness=B,this.updateData()}},setSmoothness:function(B){return this._smoothness=B,this.updateData()},updateData:function(){var B=this._curveBounds,W=this._smoothness;this.geom.getBounds(B,W),this.setSize(B.width,B.height),this.updateDisplayOrigin();for(var U=[],X=this.geom.getPoints(W),K=0;K<X.length;K++)U.push(X[K].x,X[K].y);return U.push(X[0].x,X[0].y),this.pathIndexes=O(U),this.pathData=U,this}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(59),O=y(1103),G=y(111),D=y(34),F=new R({Extends:D,Mixins:[O],initialize:function(W,U,X,K,J,Z,Q){U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=128),J===void 0&&(J=128),D.call(this,W,"Ellipse",new G(K/2,J/2,K,J)),this._smoothness=64,this.setPosition(U,X),this.width=K,this.height=J,Z!==void 0&&this.setFillStyle(Z,Q),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(B){this._smoothness=B,this.updateData()}},setSize:function(B,W){return this.width=B,this.height=W,this.geom.setPosition(B/2,W/2),this.geom.setSize(B,W),this.updateData()},setSmoothness:function(B){return this._smoothness=B,this.updateData()},updateData:function(){for(var B=[],W=this.geom.getPoints(this._smoothness),U=0;U<W.length;U++)B.push(W[U].x,W[U].y);return B.push(W[0].x,W[0].y),this.pathIndexes=j(B),this.pathData=B,this}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(34),O=y(1106),G=new R({Extends:j,Mixins:[O],initialize:function(F,B,W,U,X,K,J,Z,Q,q,et){B===void 0&&(B=0),W===void 0&&(W=0),U===void 0&&(U=128),X===void 0&&(X=128),K===void 0&&(K=32),J===void 0&&(J=32),j.call(this,F,"Grid",null),this.cellWidth=K,this.cellHeight=J,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(B,W),this.setSize(U,X),this.setFillStyle(Z,Q),q!==void 0&&this.setOutlineStyle(q,et),this.updateDisplayOrigin()},setFillStyle:function(D,F){return F===void 0&&(F=1),D===void 0?this.showCells=!1:(this.fillColor=D,this.fillAlpha=F,this.showCells=!0),this},setAltFillStyle:function(D,F){return F===void 0&&(F=1),D===void 0?this.showAltCells=!1:(this.altFillColor=D,this.altFillAlpha=F,this.showAltCells=!0),this},setOutlineStyle:function(D,F){return F===void 0&&(F=1),D===void 0?this.showOutline=!1:(this.outlineFillColor=D,this.outlineFillAlpha=F,this.showOutline=!0),this}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1109),j=y(0),O=y(34),G=new j({Extends:O,Mixins:[R],initialize:function(F,B,W,U,X,K,J,Z){B===void 0&&(B=0),W===void 0&&(W=0),U===void 0&&(U=48),X===void 0&&(X=32),K===void 0&&(K=15658734),J===void 0&&(J=10066329),Z===void 0&&(Z=13421772),O.call(this,F,"IsoBox",null),this.projection=4,this.fillTop=K,this.fillLeft=J,this.fillRight=Z,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(B,W),this.setSize(U,X),this.updateDisplayOrigin()},setProjection:function(D){return this.projection=D,this},setFaces:function(D,F,B){return D===void 0&&(D=!0),F===void 0&&(F=!0),B===void 0&&(B=!0),this.showTop=D,this.showLeft=F,this.showRight=B,this},setFillStyle:function(D,F,B){return this.fillTop=D,this.fillLeft=F,this.fillRight=B,this.isFilled=!0,this}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(1112),O=y(34),G=new R({Extends:O,Mixins:[j],initialize:function(F,B,W,U,X,K,J,Z,Q){B===void 0&&(B=0),W===void 0&&(W=0),U===void 0&&(U=48),X===void 0&&(X=32),K===void 0&&(K=!1),J===void 0&&(J=15658734),Z===void 0&&(Z=10066329),Q===void 0&&(Q=13421772),O.call(this,F,"IsoTriangle",null),this.projection=4,this.fillTop=J,this.fillLeft=Z,this.fillRight=Q,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=K,this.isFilled=!0,this.setPosition(B,W),this.setSize(U,X),this.updateDisplayOrigin()},setProjection:function(D){return this.projection=D,this},setReversed:function(D){return this.isReversed=D,this},setFaces:function(D,F,B){return D===void 0&&(D=!0),F===void 0&&(F=!0),B===void 0&&(B=!0),this.showTop=D,this.showLeft=F,this.showRight=B,this},setFillStyle:function(D,F,B){return this.fillTop=D,this.fillLeft=F,this.fillRight=B,this.isFilled=!0,this}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(34),O=y(47),G=y(1115),D=new R({Extends:j,Mixins:[G],initialize:function(B,W,U,X,K,J,Z,Q,q){W===void 0&&(W=0),U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=0),J===void 0&&(J=128),Z===void 0&&(Z=0),j.call(this,B,"Line",new O(X,K,J,Z));var et=Math.max(1,this.geom.right-this.geom.left),rt=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(W,U),this.setSize(et,rt),Q!==void 0&&this.setStrokeStyle(1,Q,q),this.updateDisplayOrigin()},setLineWidth:function(F,B){return B===void 0&&(B=F),this._startWidth=F,this._endWidth=B,this.lineWidth=F,this},setTo:function(F,B,W,U){return this.geom.setTo(F,B,W,U),this}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1118),j=y(0),O=y(59),G=y(469),D=y(227),F=y(34),B=y(472),W=new j({Extends:F,Mixins:[R],initialize:function(X,K,J,Z,Q,q){K===void 0&&(K=0),J===void 0&&(J=0),F.call(this,X,"Polygon",new D(Z));var et=G(this.geom);this.setPosition(K,J),this.setSize(et.width,et.height),Q!==void 0&&this.setFillStyle(Q,q),this.updateDisplayOrigin(),this.updateData()},smooth:function(U){U===void 0&&(U=1);for(var X=0;X<U;X++)B(this.geom);return this.updateData()},updateData:function(){for(var U=[],X=this.geom.points,K=0;K<X.length;K++)U.push(X[K].x,X[K].y);return U.push(X[0].x,X[0].y),this.pathIndexes=O(U),this.pathData=U,this}});Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=function(O,G){G===void 0&&(G=new R);for(var D=1/0,F=1/0,B=-D,W=-F,U,X=0;X<O.points.length;X++)U=O.points[X],D=Math.min(D,U.x),F=Math.min(F,U.y),B=Math.max(B,U.x),W=Math.max(W,U.y);return G.x=D,G.y=F,G.width=B-D,G.height=W-F,G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(67),j=y(47),O=y(471),G=function(D,F,B,W){W===void 0&&(W=[]);var U=D.points,X=O(D);!F&&B>0&&(F=X/B);for(var K=0;K<F;K++)for(var J=X*(K/F),Z=0,Q=0;Q<U.length;Q++){var q=U[Q],et=U[(Q+1)%U.length],rt=new j(q.x,q.y,et.x,et.y),nt=R(rt);if(J<Z||J>Z+nt){Z+=nt;continue}var ot=rt.getPoint((J-Z)/nt);W.push(ot);break}return W};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(67),j=y(47),O=function(G){for(var D=G.points,F=0,B=0;B<D.length;B++){var W=D[B],U=D[(B+1)%D.length],X=new j(W.x,W.y,U.x,U.y);F+=R(X)}return F};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(j,O){return j[0]=O[0],j[1]=O[1],j},R=function(j){var O,G=[],D=j.points;for(O=0;O<D.length;O++)G.push([D[O].x,D[O].y]);var F=[];for(G.length>0&&F.push(y([0,0],G[0])),O=0;O<G.length-1;O++){var B=G[O],W=G[O+1],U=B[0],X=B[1],K=W[0],J=W[1];F.push([.85*U+.15*K,.85*X+.15*J]),F.push([.15*U+.85*K,.15*X+.85*J])}return G.length>1&&F.push(y([0,0],G[G.length-1])),j.setTo(F)};Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(10),O=y(34),G=y(1121),D=new R({Extends:O,Mixins:[G],initialize:function(B,W,U,X,K,J,Z){W===void 0&&(W=0),U===void 0&&(U=0),X===void 0&&(X=128),K===void 0&&(K=128),O.call(this,B,"Rectangle",new j(0,0,X,K)),this.setPosition(W,U),this.setSize(X,K),J!==void 0&&this.setFillStyle(J,Z),this.updateDisplayOrigin(),this.updateData()},setSize:function(F,B){return this.width=F,this.height=B,this.geom.setSize(F,B),this.updateData(),this},updateData:function(){var F=[],B=this.geom,W=this._tempLine;return B.getLineA(W),F.push(W.x1,W.y1,W.x2,W.y2),B.getLineB(W),F.push(W.x2,W.y2),B.getLineC(W),F.push(W.x2,W.y2),B.getLineD(W),F.push(W.x2,W.y2),this.pathData=F,this}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1124),j=y(0),O=y(59),G=y(34),D=new j({Extends:G,Mixins:[R],initialize:function(B,W,U,X,K,J,Z,Q){W===void 0&&(W=0),U===void 0&&(U=0),X===void 0&&(X=5),K===void 0&&(K=32),J===void 0&&(J=64),G.call(this,B,"Star",null),this._points=X,this._innerRadius=K,this._outerRadius=J,this.setPosition(W,U),this.setSize(J*2,J*2),Z!==void 0&&this.setFillStyle(Z,Q),this.updateDisplayOrigin(),this.updateData()},setPoints:function(F){return this._points=F,this.updateData()},setInnerRadius:function(F){return this._innerRadius=F,this.updateData()},setOuterRadius:function(F){return this._outerRadius=F,this.updateData()},points:{get:function(){return this._points},set:function(F){this._points=F,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(F){this._innerRadius=F,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(F){this._outerRadius=F,this.updateData()}},updateData:function(){var F=[],B=this._points,W=this._innerRadius,U=this._outerRadius,X=Math.PI/2*3,K=Math.PI/B,J=U,Z=U;F.push(J,Z+-U);for(var Q=0;Q<B;Q++)F.push(J+Math.cos(X)*U,Z+Math.sin(X)*U),X+=K,F.push(J+Math.cos(X)*W,Z+Math.sin(X)*W),X+=K;return F.push(J,Z+-U),this.pathIndexes=O(F),this.pathData=F,this}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(34),O=y(82),G=y(1127),D=new R({Extends:j,Mixins:[G],initialize:function(B,W,U,X,K,J,Z,Q,q,et,rt){W===void 0&&(W=0),U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=128),J===void 0&&(J=64),Z===void 0&&(Z=0),Q===void 0&&(Q=128),q===void 0&&(q=128),j.call(this,B,"Triangle",new O(X,K,J,Z,Q,q));var nt=this.geom.right-this.geom.left,ot=this.geom.bottom-this.geom.top;this.setPosition(W,U),this.setSize(nt,ot),et!==void 0&&this.setFillStyle(et,rt),this.updateDisplayOrigin(),this.updateData()},setTo:function(F,B,W,U,X,K){return this.geom.setTo(F,B,W,U,X,K),this.updateData()},updateData:function(){var F=[],B=this.geom,W=this._tempLine;return B.getLineA(W),F.push(W.x1,W.y1,W.x2,W.y2),B.getLineB(W),F.push(W.x2,W.y2),B.getLineC(W),F.push(W.x2,W.y2),this.pathData=F,this}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=y(67),O=function(G,D,F){F===void 0&&(F=new R);var B=G.getLineA(),W=G.getLineB(),U=G.getLineC();if(D<=0||D>=1)return F.x=B.x1,F.y=B.y1,F;var X=j(B),K=j(W),J=j(U),Z=X+K+J,Q=Z*D,q=0;return Q<X?(q=Q/X,F.x=B.x1+(B.x2-B.x1)*q,F.y=B.y1+(B.y2-B.y1)*q):Q>X+K?(Q-=X+K,q=Q/J,F.x=U.x1+(U.x2-U.x1)*q,F.y=U.y1+(U.y2-U.y1)*q):(Q-=X,q=Q/K,F.x=W.x1+(W.x2-W.x1)*q,F.y=W.y1+(W.y2-W.y1)*q),F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(67),j=y(4),O=function(G,D,F,B){B===void 0&&(B=[]);var W=G.getLineA(),U=G.getLineB(),X=G.getLineC(),K=R(W),J=R(U),Z=R(X),Q=K+J+Z;!D&&F>0&&(D=Q/F);for(var q=0;q<D;q++){var et=Q*(q/D),rt=0,nt=new j;et<K?(rt=et/K,nt.x=W.x1+(W.x2-W.x1)*rt,nt.y=W.y1+(W.y2-W.y1)*rt):et>K+J?(et-=K+J,rt=et/Z,nt.x=X.x1+(X.x2-X.x1)*rt,nt.y=X.y1+(X.y2-X.y1)*rt):(et-=K,rt=et/J,nt.x=U.x1+(U.x2-U.x1)*rt,nt.y=U.y1+(U.y2-U.y1)*rt),B.push(nt)}return B};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(!R||typeof R=="number")return!1;if(R.hasOwnProperty(j))return R[j]=O,!0;if(j.indexOf(".")!==-1){for(var G=j.split("."),D=R,F=R,B=0;B<G.length;B++)if(D.hasOwnProperty(G[B]))F=D,D=D[G[B]];else return!1;return F[G[G.length-1]]=O,!0}return!1};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(116),j=y(117),O=function(G,D,F,B,W,U,X){if(B===void 0&&(B=!1),U===void 0&&(U=16777215),X===void 0&&(X=1),G.length!==D.length){console.warn("GenerateVerts: vertices and uvs count not equal");return}var K={faces:[],vertices:[]},J,Z,Q,q,et,rt,nt,ot,ht,ut,ct,ft=B?3:2,dt=Array.isArray(U),pt=Array.isArray(X);if(Array.isArray(F)&&F.length>0)for(J=0;J<F.length;J++){var yt=F[J],St=F[J]*2,At=F[J]*ft;Z=G[At],Q=G[At+1],q=B?G[At+2]:0,et=D[St],rt=D[St+1],nt=dt?U[yt]:U,ot=pt?X[yt]:X,ht=0,ut=0,ct=0,W&&(ht=W[At],ut=W[At+1],ct=B?W[At+2]:0),K.vertices.push(new j(Z,Q,q,et,rt,nt,ot,ht,ut,ct))}else{var Ct=0,Pt=0;for(J=0;J<G.length;J+=ft)Z=G[J],Q=G[J+1],q=B?G[J+2]:0,et=D[Ct],rt=D[Ct+1],nt=dt?U[Pt]:U,ot=pt?X[Pt]:X,ht=0,ut=0,ct=0,W&&(ht=W[J],ut=W[J+1],ct=B?W[J+2]:0),K.vertices.push(new j(Z,Q,q,et,rt,nt,ot,ht,ut,ct)),Ct+=2,Pt++}for(J=0;J<K.vertices.length;J+=3){var Rt=K.vertices[J],mt=K.vertices[J+1],vt=K.vertices[J+2];K.faces.push(new R(Rt,mt,vt))}return K};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(116),j=y(69),O=y(39),G=y(117),D=new O,F=new O,B=new j,W=function(U,X,K,J,Z,Q,q,et,rt,nt){K===void 0&&(K=1),J===void 0&&(J=0),Z===void 0&&(Z=0),Q===void 0&&(Q=0),q===void 0&&(q=0),et===void 0&&(et=0),rt===void 0&&(rt=0),nt===void 0&&(nt=!0);var ot={faces:[],verts:[]},ht=U.materials;D.set(J,Z,Q),F.set(q,et,rt),B.fromRotationXYTranslation(F,D,nt);for(var ut=0;ut<U.models.length;ut++)for(var ct=U.models[ut],ft=ct.vertices,dt=ct.textureCoords,pt=ct.faces,yt=0;yt<pt.length;yt++){var St=pt[yt],At=St.vertices[0],Ct=St.vertices[1],Pt=St.vertices[2],Rt=ft[At.vertexIndex],mt=ft[Ct.vertexIndex],vt=ft[Pt.vertexIndex],xt=At.textureCoordsIndex,Tt=Ct.textureCoordsIndex,Et=Pt.textureCoordsIndex,Ot=xt===-1?{u:0,v:1}:dt[xt],Mt=Tt===-1?{u:0,v:0}:dt[Tt],Ft=Et===-1?{u:1,v:1}:dt[Et],It=16777215;St.material!==""&&ht[St.material]&&(It=ht[St.material]);var Dt=new G(Rt.x*K,Rt.y*K,Rt.z*K,Ot.u,Ot.v,It).transformMat4(B),bt=new G(mt.x*K,mt.y*K,mt.z*K,Mt.u,Mt.v,It).transformMat4(B),wt=new G(vt.x*K,vt.y*K,vt.z*K,Ft.u,Ft.v,It).transformMat4(B);ot.verts.push(Dt,bt,wt),ot.faces.push(new R(Dt,bt,wt))}return X&&(X.faces=X.faces.concat(ot.faces),X.vertices=X.vertices.concat(ot.verts)),ot};Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(65),j=y(0),O=y(11),G=y(200),D=y(12),F=new j({Extends:R,Mixins:[O.ScrollFactor,O.Visible],initialize:function(W,U,X,K,J,Z,Q){R.call(this,W,U,X),this.color=new G(K,J,Z),this.intensity=Q,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(B){return!(F.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&B.id)},setColor:function(B){var W=D.getFloatsFromUintRGB(B);return this.color.set(W[0],W[1],W[2]),this},setIntensity:function(B){return this.intensity=B,this},setRadius:function(B){return this.radius=B,this}});F.RENDER_MASK=15,Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(151),j=y(0),O=y(50),G=y(481),D=y(150),F=y(200),B=y(74),W=y(79),U=y(12),X=new j({initialize:function(){this.lights=[],this.ambientColor=new F(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(K,J,Z,Q,q,et){return this.systems.displayList.add(new D(this.scene,K,J,Z,Q,q,et))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(K){for(var J=this.lights,Z=K.worldView,Q=[],q=0;q<J.length;q++){var et=J[q];et.willRender(K)&&R(et,Z)&&Q.push({light:et,distance:O(et.x,et.y,Z.centerX,Z.centerY)})}return Q.length>this.maxLights&&(W(Q,this.sortByDistance),Q=Q.slice(0,this.maxLights)),this.visibleLights=Q.length,Q},sortByDistance:function(K,J){return K.distance>=J.distance},setAmbientColor:function(K){var J=U.getFloatsFromUintRGB(K);return this.ambientColor.set(J[0],J[1],J[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(K,J,Z,Q,q){K===void 0&&(K=0),J===void 0&&(J=0),Z===void 0&&(Z=128),Q===void 0&&(Q=16777215),q===void 0&&(q=1);var et=U.getFloatsFromUintRGB(Q),rt=new G(K,J,Z,et[0],et[1],et[2],q);return this.lights.push(rt),rt},removeLight:function(K){var J=this.lights.indexOf(K);return J>=0&&B(this.lights,J),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});Y.exports=X},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(56),j=y(17),O={Circle:y(1191),Ellipse:y(1201),Intersects:y(484),Line:y(1221),Mesh:y(1243),Point:y(1246),Polygon:y(1260),Rectangle:y(502),Triangle:y(1293)};O=j(!1,O,R),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={CircleToCircle:y(231),CircleToRectangle:y(151),GetCircleToCircle:y(1211),GetCircleToRectangle:y(1212),GetLineToCircle:y(232),GetLineToLine:y(485),GetLineToPoints:y(486),GetLineToPolygon:y(487),GetLineToRectangle:y(234),GetRaysFromPointToPolygon:y(1213),GetRectangleIntersection:y(1214),GetRectangleToRectangle:y(1215),GetRectangleToTriangle:y(1216),GetTriangleToCircle:y(1217),GetTriangleToLine:y(492),GetTriangleToTriangle:y(1218),LineToCircle:y(233),LineToLine:y(96),LineToRectangle:y(488),PointToLine:y(496),PointToLineSegment:y(1219),RectangleToRectangle:y(152),RectangleToTriangle:y(489),RectangleToValues:y(1220),TriangleToCircle:y(491),TriangleToLine:y(493),TriangleToTriangle:y(494)}},function(Y,tt,y){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(39),j=function(O,G,D){var F=O.x1,B=O.y1,W=O.x2,U=O.y2,X=G.x1,K=G.y1,J=G.x2,Z=G.y2,Q=W-F,q=U-B,et=J-X,rt=Z-K,nt=rt*Q-et*q;if(Q===0||nt===0)return!1;var ot=(Q*(K-B)+q*(F-X))/(et*q-rt*Q),ht=(X+et*ot-F)/Q;return ht<0||ot<0||ot>1?null:(D===void 0&&(D=new R),D.set(F+Q*ht,B+q*ht,ht))};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(39),j=y(485),O=y(47),G=new O,D=new R,F=function(B,W,U){U===void 0&&(U=new R);var X=!1;U.set(),D.set();for(var K=W[0],J=1;J<W.length;J++){var Z=W[J];G.setTo(K.x,K.y,Z.x,Z.y),K=Z,j(B,G,D)&&(!X||D.z<U.z)&&(U.copy(D),X=!0)}return X?U:null};Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(39),j=y(140),O=y(486),G=new R,D=function(F,B,W){W===void 0&&(W=new j),Array.isArray(B)||(B=[B]);var U=!1;W.set(),G.set();for(var X=0;X<B.length;X++)O(F,B[X].points,G)&&(!U||G.z<W.z)&&(W.set(G.x,G.y,G.z,X),U=!0);return U?W:null};Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.x1,G=R.y1,D=R.x2,F=R.y2,B=j.x,W=j.y,U=j.right,X=j.bottom,K=0;if(O>=B&&O<=U&&G>=W&&G<=X||D>=B&&D<=U&&F>=W&&F<=X)return!0;if(O<B&&D>=B){if(K=G+(F-G)*(B-O)/(D-O),K>W&&K<=X)return!0}else if(O>U&&D<=U&&(K=G+(F-G)*(U-O)/(D-O),K>=W&&K<=X))return!0;if(G<W&&F>=W){if(K=O+(D-O)*(W-G)/(F-G),K>=B&&K<=U)return!0}else if(G>X&&F<=X&&(K=O+(D-O)*(X-G)/(F-G),K>=B&&K<=U))return!0;return!1};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(96),j=y(57),O=y(235),G=y(490),D=function(F,B){if(B.left>F.right||B.right<F.left||B.top>F.bottom||B.bottom<F.top)return!1;var W=B.getLineA(),U=B.getLineB(),X=B.getLineC();if(j(F,W.x1,W.y1)||j(F,W.x2,W.y2)||j(F,U.x1,U.y1)||j(F,U.x2,U.y2)||j(F,X.x1,X.y1)||j(F,X.x2,X.y2))return!0;var K=F.getLineA(),J=F.getLineB(),Z=F.getLineC(),Q=F.getLineD();if(R(W,K)||R(W,J)||R(W,Z)||R(W,Q)||R(U,K)||R(U,J)||R(U,Z)||R(U,Q)||R(X,K)||R(X,J)||R(X,Z)||R(X,Q))return!0;var q=G(F),et=O(B,q,!0);return et.length>0};Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j===void 0&&(j=[]),j.push({x:R.x,y:R.y}),j.push({x:R.right,y:R.y}),j.push({x:R.right,y:R.bottom}),j.push({x:R.x,y:R.bottom}),j};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(233),j=y(115),O=function(G,D){return G.left>D.right||G.right<D.left||G.top>D.bottom||G.bottom<D.top?!1:!!(j(G,D.x,D.y)||R(G.getLineA(),D)||R(G.getLineB(),D)||R(G.getLineC(),D))};Y.exports=O},function(Y,tt,y){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=y(493),O=y(96),G=function(D,F,B){if(B===void 0&&(B=[]),j(D,F))for(var W=D.getLineA(),U=D.getLineB(),X=D.getLineC(),K=[new R,new R,new R],J=[O(W,F,K[0]),O(U,F,K[1]),O(X,F,K[2])],Z=0;Z<3;Z++)J[Z]&&B.push(K[Z]);return B};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(96),j=function(O,G){return!!(O.contains(G.x1,G.y1)||O.contains(G.x2,G.y2)||R(O.getLineA(),G)||R(O.getLineB(),G)||R(O.getLineC(),G))};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(235),j=y(495),O=y(96),G=function(D,F){if(D.left>F.right||D.right<F.left||D.top>F.bottom||D.bottom<F.top)return!1;var B=D.getLineA(),W=D.getLineB(),U=D.getLineC(),X=F.getLineA(),K=F.getLineB(),J=F.getLineC();if(O(B,X)||O(B,K)||O(B,J)||O(W,X)||O(W,K)||O(W,J)||O(U,X)||O(U,K)||O(U,J))return!0;var Z=j(D),Q=R(F,Z,!0);return!!(Q.length>0||(Z=j(F),Q=R(D,Z,!0),Q.length>0))};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j===void 0&&(j=[]),j.push({x:R.x1,y:R.y1}),j.push({x:R.x2,y:R.y2}),j.push({x:R.x3,y:R.y3}),j};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){O===void 0&&(O=1);var G=j.x1,D=j.y1,F=j.x2,B=j.y2,W=R.x,U=R.y,X=(F-G)*(F-G)+(B-D)*(B-D);if(X===0)return!1;var K=((W-G)*(F-G)+(U-D)*(B-D))/X;if(K<0)return Math.sqrt((G-W)*(G-W)+(D-U)*(D-U))<=O;if(K>=0&&K<=1){var J=((D-U)*(F-G)-(G-W)*(B-D))/X;return Math.abs(J)*Math.sqrt(X)<=O}else return Math.sqrt((F-W)*(F-W)+(B-U)*(B-U))<=O};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(14),j=y(68),O=y(97),G=function(D){var F=O(D)-R.TAU;return j(F,-Math.PI,Math.PI)};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=!0,R="untitled",j="",O="";function G(q){var et=q.indexOf("#");return et>-1?q.substring(0,et):q}function D(q){return q.models.length===0&&q.models.push({faces:[],name:R,textureCoords:[],vertexNormals:[],vertices:[]}),j="",q.models[q.models.length-1]}function F(q,et){var rt=q.length>=2?q[1]:R;et.models.push({faces:[],name:rt,textureCoords:[],vertexNormals:[],vertices:[]}),j=""}function B(q){q.length===2&&(j=q[1])}function W(q,et){var rt=q.length,nt=rt>=2?parseFloat(q[1]):0,ot=rt>=3?parseFloat(q[2]):0,ht=rt>=4?parseFloat(q[3]):0;D(et).vertices.push({x:nt,y:ot,z:ht})}function U(q,et){var rt=q.length,nt=rt>=2?parseFloat(q[1]):0,ot=rt>=3?parseFloat(q[2]):0,ht=rt>=4?parseFloat(q[3]):0;isNaN(nt)&&(nt=0),isNaN(ot)&&(ot=0),isNaN(ht)&&(ht=0),y&&(ot=1-ot),D(et).textureCoords.push({u:nt,v:ot,w:ht})}function X(q,et){var rt=q.length,nt=rt>=2?parseFloat(q[1]):0,ot=rt>=3?parseFloat(q[2]):0,ht=rt>=4?parseFloat(q[3]):0;D(et).vertexNormals.push({x:nt,y:ot,z:ht})}function K(q,et){var rt=q.length-1;if(!(rt<3)){for(var nt={group:j,material:O,vertices:[]},ot=0;ot<rt;ot++){var ht=q[ot+1],ut=ht.split("/"),ct=ut.length;if(!(ct<1||ct>3)){var ft=0,dt=0,pt=0;ft=parseInt(ut[0],10),ct>1&&ut[1]!==""&&(dt=parseInt(ut[1],10)),ct>2&&(pt=parseInt(ut[2],10)),ft!==0&&(ft<0&&(ft=D(et).vertices.length+1+ft),dt-=1,ft-=1,pt-=1,nt.vertices.push({textureCoordsIndex:dt,vertexIndex:ft,vertexNormalIndex:pt}))}}D(et).faces.push(nt)}}function J(q,et){q.length>=2&&et.materialLibraries.push(q[1])}function Z(q){q.length>=2&&(O=q[1])}var Q=function(q,et){et===void 0&&(et=!0),y=et;var rt={materials:{},materialLibraries:[],models:[]};j="",O="";for(var nt=q.split(`
`),ot=0;ot<nt.length;ot++){var ht=G(nt[ot]),ut=ht.replace(/\s\s+/g," ").trim().split(" ");switch(ut[0].toLowerCase()){case"o":F(ut,rt);break;case"g":B(ut);break;case"v":W(ut,rt);break;case"vt":U(ut,rt);break;case"vn":X(ut,rt);break;case"f":K(ut,rt);break;case"mtllib":J(ut,rt);break;case"usemtl":Z(ut);break}}return rt};Y.exports=Q},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(103),j=function(O){for(var G={},D=O.split(`
`),F="",B=0;B<D.length;B++){var W=D[B].trim();if(!(W.indexOf("#")===0||W==="")){var U=W.replace(/\s\s+/g," ").trim().split(" ");switch(U[0].toLowerCase()){case"newmtl":{F=U[1];break}case"kd":{var X=Math.floor(U[1]*255),K=U.length>=2?Math.floor(U[2]*255):X,J=U.length>=3?Math.floor(U[3]*255):X;G[F]=R(X,K,J);break}}}}return G};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return Math.sqrt(R.x*R.x+R.y*R.y)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.x*R.x+R.y*R.y};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10);R.Area=y(1267),R.Ceil=y(1268),R.CeilAll=y(1269),R.CenterOn=y(190),R.Clone=y(1270),R.Contains=y(57),R.ContainsPoint=y(1271),R.ContainsRect=y(503),R.CopyFrom=y(1272),R.Decompose=y(490),R.Equals=y(1273),R.FitInside=y(1274),R.FitOutside=y(1275),R.Floor=y(1276),R.FloorAll=y(1277),R.FromPoints=y(199),R.FromXY=y(1278),R.GetAspectRatio=y(237),R.GetCenter=y(1279),R.GetPoint=y(171),R.GetPoints=y(306),R.GetSize=y(1280),R.Inflate=y(1281),R.Intersection=y(1282),R.MarchingAnts=y(316),R.MergePoints=y(1283),R.MergeRect=y(1284),R.MergeXY=y(1285),R.Offset=y(1286),R.OffsetPoint=y(1287),R.Overlaps=y(1288),R.Perimeter=y(130),R.PerimeterPoint=y(1289),R.Random=y(174),R.RandomOutside=y(1290),R.SameDimensions=y(1291),R.Scale=y(1292),R.Union=y(441),Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j.width*j.height>R.width*R.height?!1:j.x>R.x&&j.x<R.right&&j.right>R.x&&j.right<R.right&&j.y>R.y&&j.y<R.bottom&&j.bottom>R.y&&j.bottom<R.bottom};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G){return G===void 0&&(G=new R),G.x=(O.x1+O.x2+O.x3)/3,G.y=(O.y1+O.y2+O.y3)/3,G};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R.x1+=j,R.y1+=O,R.x2+=j,R.y2+=O,R.x3+=j,R.y3+=O,R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4);function j(G,D,F,B){var W=G-F,U=D-B,X=W*W+U*U;return Math.sqrt(X)}var O=function(G,D){D===void 0&&(D=new R);var F=G.x1,B=G.y1,W=G.x2,U=G.y2,X=G.x3,K=G.y3,J=j(X,K,W,U),Z=j(F,B,X,K),Q=j(W,U,F,B),q=J+Z+Q;return D.x=(F*J+W*Z+X*Q)/q,D.y=(B*J+U*Z+K*Q)/q,D};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return function(O,G,D,F){var B=R.getPixelAlpha(G,D,F.texture.key,F.frame.name);return B&&B>=j}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return{gameObject:R,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:j,hitAreaCallback:O,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D){this.pad=G,this.events=G.events,this.index=D,this.value=0,this.threshold=.1},update:function(O){this.value=O},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(239),O=new R({initialize:function(D,F){this.pad=D,this.events=D.manager,this.index=F,this.value=0,this.threshold=1,this.pressed=!1},update:function(G){this.value=G;var D=this.pad,F=this.index;G>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(j.BUTTON_DOWN,D,this,G),this.pad.emit(j.GAMEPAD_BUTTON_DOWN,F,G,this)):this.pressed&&(this.pressed=!1,this.events.emit(j.BUTTON_UP,D,this,G),this.pad.emit(j.GAMEPAD_BUTTON_UP,F,G,this))},destroy:function(){this.pad=null,this.events=null}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(509),j=y(510),O=y(0),G=y(9),D=y(3),F=new O({Extends:G,initialize:function(W,U){G.call(this),this.manager=W,this.pad=U,this.id=U.id,this.index=U.index;for(var X=[],K=0;K<U.buttons.length;K++)X.push(new j(this,K));this.buttons=X;var J=[];for(K=0;K<U.axes.length;K++)J.push(new R(this,K));this.axes=J,this.vibration=U.vibrationActuator;var Z={value:0,pressed:!1};this._LCLeft=X[14]?X[14]:Z,this._LCRight=X[15]?X[15]:Z,this._LCTop=X[12]?X[12]:Z,this._LCBottom=X[13]?X[13]:Z,this._RCLeft=X[2]?X[2]:Z,this._RCRight=X[1]?X[1]:Z,this._RCTop=X[3]?X[3]:Z,this._RCBottom=X[0]?X[0]:Z,this._FBLeftTop=X[4]?X[4]:Z,this._FBLeftBottom=X[6]?X[6]:Z,this._FBRightTop=X[5]?X[5]:Z,this._FBRightBottom=X[7]?X[7]:Z;var Q={value:0};this._HAxisLeft=J[0]?J[0]:Q,this._VAxisLeft=J[1]?J[1]:Q,this._HAxisRight=J[2]?J[2]:Q,this._VAxisRight=J[3]?J[3]:Q,this.leftStick=new D,this.rightStick=new D,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(B){return this.axes[B].getValue()},setAxisThreshold:function(B){for(var W=0;W<this.axes.length;W++)this.axes[W].threshold=B},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(B){return this.buttons[B].value},isButtonDown:function(B){return this.buttons[B].pressed},update:function(B){if(!(B.timestamp<this._created)){var W,U=this.buttons,X=B.buttons,K=U.length;for(W=0;W<K;W++)U[W].update(X[W].value);var J=this.axes,Z=B.axes;for(K=J.length,W=0;W<K;W++)J[W].update(Z[W]);K>=2&&(this.leftStick.set(J[0].getValue(),J[1].getValue()),K>=4&&this.rightStick.set(J[2].getValue(),J[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var B;for(B=0;B<this.buttons.length;B++)this.buttons[B].destroy();for(B=0;B<this.axes.length;B++)this.axes[B].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(9),O=y(154),G=new R({Extends:j,initialize:function(F,B){j.call(this),this.plugin=F,this.keyCode=B,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(D){return this.emitOnRepeat=D,this},onDown:function(D){this.originalEvent=D,!!this.enabled&&(this.altKey=D.altKey,this.ctrlKey=D.ctrlKey,this.shiftKey=D.shiftKey,this.metaKey=D.metaKey,this.location=D.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(O.DOWN,this,D):(this.isDown=!0,this.isUp=!1,this.timeDown=D.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(O.DOWN,this,D)))},onUp:function(D){this.originalEvent=D,!!this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=D.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(O.UP,this,D))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(154),O=y(2),G=y(514),D=y(516),F=new R({initialize:function(W,U,X){if(X===void 0&&(X={}),U.length<2)return!1;this.manager=W,this.enabled=!0,this.keyCodes=[];for(var K=0;K<U.length;K++){var J=U[K];typeof J=="string"?this.keyCodes.push(J.toUpperCase().charCodeAt(0)):typeof J=="number"?this.keyCodes.push(J):J.hasOwnProperty("keyCode")&&this.keyCodes.push(J.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=O(X,"resetOnWrongKey",!0),this.maxKeyDelay=O(X,"maxKeyDelay",0),this.resetOnMatch=O(X,"resetOnMatch",!1),this.deleteOnMatch=O(X,"deleteOnMatch",!1);var Z=this,Q=function(q){if(!(Z.matched||!Z.enabled)){var et=G(q,Z);et&&(Z.manager.emit(j.COMBO_MATCH,Z,q),Z.resetOnMatch?D(Z):Z.deleteOnMatch&&Z.destroy())}};this.onKeyDown=Q,this.manager.on(j.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(j.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(515),j=function(O,G){if(G.matched)return!0;var D=!1,F=!1;if(O.keyCode===G.current)if(G.index>0&&G.maxKeyDelay>0){var B=G.timeLastMatched+G.maxKeyDelay;O.timeStamp<=B&&(F=!0,D=R(O,G))}else F=!0,D=R(O,G);return!F&&G.resetOnWrongKey&&(G.index=0,G.current=G.keyCodes[0]),D&&(G.timeLastMatched=O.timeStamp,G.matched=!0,G.timeMatched=O.timeStamp),D};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j.timeLastMatched=R.timeStamp,j.index++,j.index===j.size?!0:(j.current=j.keyCodes[j.index],!1)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.current=R.keyCodes[0],R.index=0,R.timeLastMatched=0,R.matched=!1,R.timeMatched=0,R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(240),j=function(O,G){var D=R(G,O.xhrSettings),F=new XMLHttpRequest;if(F.open("GET",O.src,D.async,D.user,D.password),F.responseType=O.xhrSettings.responseType,F.timeout=D.timeout,D.headers)for(var B in D.headers)F.setRequestHeader(B,D.headers[B]);return D.header&&D.headerValue&&F.setRequestHeader(D.header,D.headerValue),D.requestedWith&&F.setRequestHeader("X-Requested-With",D.requestedWith),D.overrideMimeType&&F.overrideMimeType(D.overrideMimeType),D.withCredentials&&(F.withCredentials=!0),F.onload=O.onLoad.bind(O,F),F.onerror=O.onError.bind(O,F),F.onprogress=O.onProgress.bind(O),F.send(),F};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(519),B=y(7),W=new R({Extends:O,initialize:function(X,K,J,Z,Q){if(B(K)){var q=K;K=D(q,"key"),Z=D(q,"xhrSettings"),Q=D(q,"context",Q)}var et={type:"audio",cache:X.cacheManager.audio,extension:J.type,responseType:"arraybuffer",key:K,url:J.url,xhrSettings:Z,config:{context:Q}};O.call(this,X,et)},onProcess:function(){this.state=j.FILE_PROCESSING;var U=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(X){U.data=X,U.onProcessComplete()},function(X){console.error("Error decoding audio: "+U.key+" - ",X?X.message:null),U.onProcessError()}),this.config.context=null}});W.create=function(U,X,K,J,Z){var Q=U.systems.game,q=Q.config.audio,et=Q.device.audio;B(X)&&(K=D(X,"url",[]),J=D(X,"config",{}));var rt=W.getAudioURL(Q,K);return rt?et.webAudio&&!q.disableWebAudio?new W(U,X,rt,Z,Q.sound.context):new F(U,X,rt,J):null},W.getAudioURL=function(U,X){Array.isArray(X)||(X=[X]);for(var K=0;K<X.length;K++){var J=D(X[K],"url",X[K]);if(J.indexOf("blob:")===0||J.indexOf("data:")===0)return{url:J,type:""};var Z=J.match(/\.([a-zA-Z0-9]+)($|\?)/);if(Z=D(X[K],"type",Z?Z[1]:"").toLowerCase(),U.device.audio[Z])return{url:J,type:Z}}return null},G.register("audio",function(U,X,K,J){var Z=this.systems.game,Q=Z.config.audio,q=Z.device.audio;if(Q.noAudio||!q.webAudio&&!q.audioData)return this;var et;if(Array.isArray(U))for(var rt=0;rt<U.length;rt++)et=W.create(this,U[rt]),et&&this.addFile(et);else et=W.create(this,U,X,K,J),et&&this.addFile(et);return this}),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(95),O=y(23),G=y(2),D=y(155),F=y(7),B=new R({Extends:O,initialize:function(U,X,K,J){if(F(X)){var Z=X;X=G(Z,"key"),J=G(Z,"config",J)}var Q={type:"audio",cache:U.cacheManager.audio,extension:K.type,key:X,url:K.url,config:J};O.call(this,U,Q),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var W=0;W<this.data.length;W++){var U=this.data[W];U.oncanplaythrough=null,U.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(W){var U=W.target;U.oncanplaythrough=null,U.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(j.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var W=this.config&&this.config.instances||1;this.filesTotal=W,this.filesLoaded=0,this.percentComplete=0;for(var U=0;U<W;U++){var X=new Audio;X.dataset||(X.dataset={}),X.dataset.name=this.key+("0"+U).slice(-2),X.dataset.used="false",this.locked?X.dataset.locked="true":(X.dataset.locked="false",X.preload="auto",X.oncanplaythrough=this.onProgress.bind(this),X.onerror=this.onError.bind(this)),this.data.push(X)}for(U=0;U<this.data.length;U++)X=this.data[U],X.src=D(this,this.loader.baseURL),this.locked||X.load();this.locked&&setTimeout(this.onLoad.bind(this))}});Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=new R({Extends:O,initialize:function(U,X,K,J){var Z="js";if(F(X)){var Q=X;X=D(Q,"key"),K=D(Q,"url"),J=D(Q,"xhrSettings"),Z=D(Q,"extension",Z)}var q={type:"script",cache:!1,extension:Z,responseType:"text",key:X,url:K,xhrSettings:J};O.call(this,U,q)},onProcess:function(){this.state=j.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});G.register("script",function(W,U,X){if(Array.isArray(W))for(var K=0;K<W.length;K++)this.addFile(new B(this,W[K]));else this.addFile(new B(this,W,U,X));return this}),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(522),j=y(157),O=y(0),G=y(62),D=y(524),F=y(525),B=new O({initialize:function(U){this.world=U,this.scene=U.scene,this.sys=U.scene.sys},collider:function(W,U,X,K,J){return this.world.addCollider(W,U,X,K,J)},overlap:function(W,U,X,K,J){return this.world.addOverlap(W,U,X,K,J)},existing:function(W,U){var X=U?G.STATIC_BODY:G.DYNAMIC_BODY;return this.world.enableBody(W,X),W},staticImage:function(W,U,X,K){var J=new R(this.scene,W,U,X,K);return this.sys.displayList.add(J),this.world.enableBody(J,G.STATIC_BODY),J},image:function(W,U,X,K){var J=new R(this.scene,W,U,X,K);return this.sys.displayList.add(J),this.world.enableBody(J,G.DYNAMIC_BODY),J},staticSprite:function(W,U,X,K){var J=new j(this.scene,W,U,X,K);return this.sys.displayList.add(J),this.sys.updateList.add(J),this.world.enableBody(J,G.STATIC_BODY),J},sprite:function(W,U,X,K){var J=new j(this.scene,W,U,X,K);return this.sys.displayList.add(J),this.sys.updateList.add(J),this.world.enableBody(J,G.DYNAMIC_BODY),J},staticGroup:function(W,U){return this.sys.updateList.add(new F(this.world,this.world.scene,W,U))},group:function(W,U){return this.sys.updateList.add(new D(this.world,this.world.scene,W,U))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(243),O=y(125),G=new R({Extends:O,Mixins:[j.Acceleration,j.Angular,j.Bounce,j.Debug,j.Drag,j.Enable,j.Friction,j.Gravity,j.Immovable,j.Mass,j.Pushable,j.Size,j.Velocity],initialize:function(F,B,W,U,X){O.call(this,F,B,W,U,X),this.body=null}});Y.exports=G},function(Y,tt,y){var R=y(244),j=y(65),O=y(231),G=y(151),D=function(F,B,W,U,X,K){var J=R(F,B-U,W-U,2*U,2*U,X,K);if(J.length===0)return J;for(var Z=new j(B,W,U),Q=new j,q=[],et=0;et<J.length;et++){var rt=J[et];rt.isCircle?(Q.setTo(rt.center.x,rt.center.y,rt.halfWidth),O(Z,Q)&&q.push(rt)):G(Z,rt)&&q.push(rt)}return q};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(157),j=y(0),O=y(62),G=y(2),D=y(113),F=y(7),B=new j({Extends:D,initialize:function(U,X,K,J){if(!K&&!J)J={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(F(K))J=K,K=null,J.internalCreateCallback=this.createCallbackHandler,J.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(K)&&F(K[0])){J=K[0];var Z=this;K.forEach(function(Q){Q.internalCreateCallback=Z.createCallbackHandler,Q.internalRemoveCallback=Z.removeCallbackHandler}),K=null}else J={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=U,J.classType=G(J,"classType",R),this.physicsType=O.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:G(J,"collideWorldBounds",!1),setBoundsRectangle:G(J,"customBoundsRectangle",null),setAccelerationX:G(J,"accelerationX",0),setAccelerationY:G(J,"accelerationY",0),setAllowDrag:G(J,"allowDrag",!0),setAllowGravity:G(J,"allowGravity",!0),setAllowRotation:G(J,"allowRotation",!0),setBounceX:G(J,"bounceX",0),setBounceY:G(J,"bounceY",0),setDragX:G(J,"dragX",0),setDragY:G(J,"dragY",0),setEnable:G(J,"enable",!0),setGravityX:G(J,"gravityX",0),setGravityY:G(J,"gravityY",0),setFrictionX:G(J,"frictionX",0),setFrictionY:G(J,"frictionY",0),setMaxVelocityX:G(J,"maxVelocityX",1e4),setMaxVelocityY:G(J,"maxVelocityY",1e4),setVelocityX:G(J,"velocityX",0),setVelocityY:G(J,"velocityY",0),setAngularVelocity:G(J,"angularVelocity",0),setAngularAcceleration:G(J,"angularAcceleration",0),setAngularDrag:G(J,"angularDrag",0),setMass:G(J,"mass",1),setImmovable:G(J,"immovable",!1)},D.call(this,X,K,J),this.type="PhysicsGroup"},createCallbackHandler:function(W){W.body||this.world.enableBody(W,O.DYNAMIC_BODY);var U=W.body;for(var X in this.defaults)U[X](this.defaults[X])},removeCallbackHandler:function(W){W.body&&this.world.disableBody(W)},setVelocity:function(W,U,X){X===void 0&&(X=0);for(var K=this.getChildren(),J=0;J<K.length;J++)K[J].body.velocity.set(W+J*X,U+J*X);return this},setVelocityX:function(W,U){U===void 0&&(U=0);for(var X=this.getChildren(),K=0;K<X.length;K++)X[K].body.velocity.x=W+K*U;return this},setVelocityY:function(W,U){U===void 0&&(U=0);for(var X=this.getChildren(),K=0;K<X.length;K++)X[K].body.velocity.y=W+K*U;return this}});Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(157),j=y(0),O=y(62),G=y(2),D=y(113),F=y(7),B=new j({Extends:D,initialize:function(U,X,K,J){!K&&!J?J={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:R}:F(K)?(J=K,K=null,J.internalCreateCallback=this.createCallbackHandler,J.internalRemoveCallback=this.removeCallbackHandler,J.createMultipleCallback=this.createMultipleCallbackHandler,J.classType=G(J,"classType",R)):Array.isArray(K)&&F(K[0])?(J=K,K=null,J.forEach(function(Z){Z.internalCreateCallback=this.createCallbackHandler,Z.internalRemoveCallback=this.removeCallbackHandler,Z.createMultipleCallback=this.createMultipleCallbackHandler,Z.classType=G(Z,"classType",R)})):J={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=U,this.physicsType=O.STATIC_BODY,D.call(this,X,K,J),this.type="StaticPhysicsGroup"},createCallbackHandler:function(W){W.body||this.world.enableBody(W,O.STATIC_BODY)},removeCallbackHandler:function(W){W.body&&this.world.disableBody(W)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var W=this.children.entries,U=0;U<W.length;U++)W[U].body.reset();return this}});Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(350),j=y(527),O=y(18),G=y(0),D=y(528),F=y(62),B=y(50),W=y(9),U=y(245),X=y(124),K=y(354),J=y(355),Z=y(246),Q=y(247),q=y(529),et=y(6),rt=y(14),nt=y(211),ot=y(530),ht=y(10),ut=y(531),ct=y(532),ft=y(537),dt=y(538),pt=y(149),yt=y(539),St=y(248),At=y(25),Ct=y(3),Pt=y(68),Rt=new G({Extends:W,initialize:function(vt,xt){W.call(this),this.scene=vt,this.bodies=new pt,this.staticBodies=new pt,this.pendingDestroy=new pt,this.colliders=new nt,this.gravity=new Ct(et(xt,"gravity.x",0),et(xt,"gravity.y",0)),this.bounds=new ht(et(xt,"x",0),et(xt,"y",0),et(xt,"width",vt.sys.scale.width),et(xt,"height",vt.sys.scale.height)),this.checkCollision={up:et(xt,"checkCollision.up",!0),down:et(xt,"checkCollision.down",!0),left:et(xt,"checkCollision.left",!0),right:et(xt,"checkCollision.right",!0)},this.fps=et(xt,"fps",60),this.fixedStep=et(xt,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=et(xt,"timeScale",1),this.OVERLAP_BIAS=et(xt,"overlapBias",4),this.TILE_BIAS=et(xt,"tileBias",16),this.forceX=et(xt,"forceX",!1),this.isPaused=et(xt,"isPaused",!1),this._total=0,this.drawDebug=et(xt,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:et(xt,"debugShowBody",!0),debugShowStaticBody:et(xt,"debugShowStaticBody",!0),debugShowVelocity:et(xt,"debugShowVelocity",!0),bodyDebugColor:et(xt,"debugBodyColor",16711935),staticBodyDebugColor:et(xt,"debugStaticBodyColor",255),velocityDebugColor:et(xt,"debugVelocityColor",65280)},this.maxEntries=et(xt,"maxEntries",16),this.useTree=et(xt,"useTree",!0),this.tree=new ut(this.maxEntries),this.staticTree=new ut(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new At,this._tempMatrix2=new At,this.drawDebug&&this.createDebugGraphic()},enable:function(mt,vt){vt===void 0&&(vt=F.DYNAMIC_BODY),Array.isArray(mt)||(mt=[mt]);for(var xt=0;xt<mt.length;xt++){var Tt=mt[xt];if(Tt.isParent)for(var Et=Tt.getChildren(),Ot=0;Ot<Et.length;Ot++){var Mt=Et[Ot];Mt.isParent?this.enable(Mt,vt):this.enableBody(Mt,vt)}else this.enableBody(Tt,vt)}},enableBody:function(mt,vt){return vt===void 0&&(vt=F.DYNAMIC_BODY),mt.body||(vt===F.DYNAMIC_BODY?mt.body=new j(this,mt):vt===F.STATIC_BODY&&(mt.body=new yt(this,mt))),this.add(mt.body),mt},add:function(mt){return mt.physicsType===F.DYNAMIC_BODY?this.bodies.set(mt):mt.physicsType===F.STATIC_BODY&&(this.staticBodies.set(mt),this.staticTree.insert(mt)),mt.enable=!0,mt},disable:function(mt){Array.isArray(mt)||(mt=[mt]);for(var vt=0;vt<mt.length;vt++){var xt=mt[vt];if(xt.isParent)for(var Tt=xt.getChildren(),Et=0;Et<Tt.length;Et++){var Ot=Tt[Et];Ot.isParent?this.disable(Ot):this.disableBody(Ot.body)}else this.disableBody(xt.body)}},disableBody:function(mt){this.remove(mt),mt.enable=!1},remove:function(mt){mt.physicsType===F.DYNAMIC_BODY?(this.tree.remove(mt),this.bodies.delete(mt)):mt.physicsType===F.STATIC_BODY&&(this.staticBodies.delete(mt),this.staticTree.remove(mt))},createDebugGraphic:function(){var mt=this.scene.sys.add.graphics({x:0,y:0});return mt.setDepth(Number.MAX_VALUE),this.debugGraphic=mt,this.drawDebug=!0,mt},setBounds:function(mt,vt,xt,Tt,Et,Ot,Mt,Ft){return this.bounds.setTo(mt,vt,xt,Tt),Et!==void 0&&this.setBoundsCollision(Et,Ot,Mt,Ft),this},setBoundsCollision:function(mt,vt,xt,Tt){return mt===void 0&&(mt=!0),vt===void 0&&(vt=!0),xt===void 0&&(xt=!0),Tt===void 0&&(Tt=!0),this.checkCollision.left=mt,this.checkCollision.right=vt,this.checkCollision.up=xt,this.checkCollision.down=Tt,this},pause:function(){return this.isPaused=!0,this.emit(U.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(U.RESUME),this},addCollider:function(mt,vt,xt,Tt,Et){xt===void 0&&(xt=null),Tt===void 0&&(Tt=null),Et===void 0&&(Et=xt);var Ot=new D(this,!1,mt,vt,xt,Tt,Et);return this.colliders.add(Ot),Ot},addOverlap:function(mt,vt,xt,Tt,Et){xt===void 0&&(xt=null),Tt===void 0&&(Tt=null),Et===void 0&&(Et=xt);var Ot=new D(this,!0,mt,vt,xt,Tt,Et);return this.colliders.add(Ot),Ot},removeCollider:function(mt){return this.colliders.remove(mt),this},setFPS:function(mt){return this.fps=mt,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(mt,vt){if(!(this.isPaused||this.bodies.size===0)){var xt,Tt=this._frameTime,Et=this._frameTimeMS*this.timeScale;this._elapsed+=vt;var Ot,Mt=this.bodies.entries,Ft=this._elapsed>=Et;for(this.fixedStep||(Tt=vt*.001,Ft=!0,this._elapsed=0),xt=0;xt<Mt.length;xt++)Ot=Mt[xt],Ot.enable&&Ot.preUpdate(Ft,Tt);if(Ft){this._elapsed-=Et,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Mt));var It=this.colliders.update();for(xt=0;xt<It.length;xt++){var Dt=It[xt];Dt.active&&Dt.update()}this.emit(U.WORLD_STEP,Tt)}for(;this._elapsed>=Et;)this._elapsed-=Et,this.step(Tt)}},step:function(mt){var vt,xt,Tt=this.bodies.entries,Et=Tt.length;for(vt=0;vt<Et;vt++)xt=Tt[vt],xt.enable&&xt.update(mt);this.useTree&&(this.tree.clear(),this.tree.load(Tt));var Ot=this.colliders.update();for(vt=0;vt<Ot.length;vt++){var Mt=Ot[vt];Mt.active&&Mt.update()}this.emit(U.WORLD_STEP,mt),this.stepsLastFrame++},postUpdate:function(){var mt,vt,xt=this.bodies.entries,Tt=xt.length,Et=this.bodies,Ot=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,mt=0;mt<Tt;mt++)vt=xt[mt],vt.enable&&vt.postUpdate();if(this.drawDebug){var Mt=this.debugGraphic;for(Mt.clear(),mt=0;mt<Tt;mt++)vt=xt[mt],vt.willDrawDebug()&&vt.drawDebug(Mt);for(xt=Ot.entries,Tt=xt.length,mt=0;mt<Tt;mt++)vt=xt[mt],vt.willDrawDebug()&&vt.drawDebug(Mt)}var Ft=this.pendingDestroy;if(Ft.size>0){var It=this.tree,Dt=this.staticTree;for(xt=Ft.entries,Tt=xt.length,mt=0;mt<Tt;mt++)vt=xt[mt],vt.physicsType===F.DYNAMIC_BODY?(It.remove(vt),Et.delete(vt)):vt.physicsType===F.STATIC_BODY&&(Dt.remove(vt),Ot.delete(vt)),vt.world=void 0,vt.gameObject=void 0;Ft.clear()}},updateMotion:function(mt,vt){mt.allowRotation&&this.computeAngularVelocity(mt,vt),this.computeVelocity(mt,vt)},computeAngularVelocity:function(mt,vt){var xt=mt.angularVelocity,Tt=mt.angularAcceleration,Et=mt.angularDrag,Ot=mt.maxAngular;Tt?xt+=Tt*vt:mt.allowDrag&&Et&&(Et*=vt,K(xt-Et,0,.1)?xt-=Et:J(xt+Et,0,.1)?xt+=Et:xt=0),xt=O(xt,-Ot,Ot);var Mt=xt-mt.angularVelocity;mt.angularVelocity+=Mt,mt.rotation+=mt.angularVelocity*vt},computeVelocity:function(mt,vt){var xt=mt.velocity.x,Tt=mt.acceleration.x,Et=mt.drag.x,Ot=mt.maxVelocity.x,Mt=mt.velocity.y,Ft=mt.acceleration.y,It=mt.drag.y,Dt=mt.maxVelocity.y,bt=mt.speed,wt=mt.maxSpeed,$t=mt.allowDrag,Ut=mt.useDamping;mt.allowGravity&&(xt+=(this.gravity.x+mt.gravity.x)*vt,Mt+=(this.gravity.y+mt.gravity.y)*vt),Tt?xt+=Tt*vt:$t&&Et&&(Ut?(Et=Math.pow(Et,vt),xt*=Et,bt=Math.sqrt(xt*xt+Mt*Mt),X(bt,0,.001)&&(xt=0)):(Et*=vt,K(xt-Et,0,.01)?xt-=Et:J(xt+Et,0,.01)?xt+=Et:xt=0)),Ft?Mt+=Ft*vt:$t&&It&&(Ut?(It=Math.pow(It,vt),Mt*=It,bt=Math.sqrt(xt*xt+Mt*Mt),X(bt,0,.001)&&(Mt=0)):(It*=vt,K(Mt-It,0,.01)?Mt-=It:J(Mt+It,0,.01)?Mt+=It:Mt=0)),xt=O(xt,-Ot,Ot),Mt=O(Mt,-Dt,Dt),mt.velocity.set(xt,Mt),wt>-1&&bt>wt&&(mt.velocity.normalize().scale(wt),bt=wt),mt.speed=bt},separate:function(mt,vt,xt,Tt,Et,Ot){if(!Ot&&!mt.enable||!vt.enable||mt.checkCollision.none||vt.checkCollision.none||!this.intersects(mt,vt)||xt&&xt.call(Tt,mt.gameObject,vt.gameObject)===!1)return!1;if(mt.isCircle&&vt.isCircle)return this.separateCircle(mt,vt,Et);if(mt.isCircle!==vt.isCircle){var Mt=mt.isCircle?vt:mt,Ft=mt.isCircle?mt:vt,It={x:Mt.x,y:Mt.y,right:Mt.right,bottom:Mt.bottom},Dt=Ft.center;if((Dt.y<It.y||Dt.y>It.bottom)&&(Dt.x<It.x||Dt.x>It.right))return this.separateCircle(mt,vt,Et)}var bt=!1,wt=!1;Et?(bt=ft(mt,vt,Et,this.OVERLAP_BIAS),wt=dt(mt,vt,Et,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+mt.gravity.y)<Math.abs(this.gravity.x+mt.gravity.x)?(bt=ft(mt,vt,Et,this.OVERLAP_BIAS),this.intersects(mt,vt)&&(wt=dt(mt,vt,Et,this.OVERLAP_BIAS))):(wt=dt(mt,vt,Et,this.OVERLAP_BIAS),this.intersects(mt,vt)&&(bt=ft(mt,vt,Et,this.OVERLAP_BIAS)));var $t=bt||wt;return $t&&(Et?(mt.onOverlap||vt.onOverlap)&&this.emit(U.OVERLAP,mt.gameObject,vt.gameObject,mt,vt):(mt.onCollide||vt.onCollide)&&this.emit(U.COLLIDE,mt.gameObject,vt.gameObject,mt,vt)),$t},separateCircle:function(mt,vt,xt,Tt){Z(mt,vt,!1,Tt),Q(mt,vt,!1,Tt);var Et=0;if(mt.isCircle!==vt.isCircle){var Ot={x:vt.isCircle?mt.position.x:vt.position.x,y:vt.isCircle?mt.position.y:vt.position.y,right:vt.isCircle?mt.right:vt.right,bottom:vt.isCircle?mt.bottom:vt.bottom},Mt={x:mt.isCircle?mt.center.x:vt.center.x,y:mt.isCircle?mt.center.y:vt.center.y,radius:mt.isCircle?mt.halfWidth:vt.halfWidth};Mt.y<Ot.y?Mt.x<Ot.x?Et=B(Mt.x,Mt.y,Ot.x,Ot.y)-Mt.radius:Mt.x>Ot.right&&(Et=B(Mt.x,Mt.y,Ot.right,Ot.y)-Mt.radius):Mt.y>Ot.bottom&&(Mt.x<Ot.x?Et=B(Mt.x,Mt.y,Ot.x,Ot.bottom)-Mt.radius:Mt.x>Ot.right&&(Et=B(Mt.x,Mt.y,Ot.right,Ot.bottom)-Mt.radius)),Et*=-1}else Et=mt.halfWidth+vt.halfWidth-B(mt.center.x,mt.center.y,vt.center.x,vt.center.y);if(mt.overlapR=Et,vt.overlapR=Et,xt||Et===0||mt.immovable&&vt.immovable||mt.customSeparateX||vt.customSeparateX)return Et!==0&&(mt.onOverlap||vt.onOverlap)&&this.emit(U.OVERLAP,mt.gameObject,vt.gameObject,mt,vt),Et!==0;var Ft=mt.center.x-vt.center.x,It=mt.center.y-vt.center.y,Dt=Math.sqrt(Math.pow(Ft,2)+Math.pow(It,2)),bt=(vt.center.x-mt.center.x)/Dt||0,wt=(vt.center.y-mt.center.y)/Dt||0,$t=2*(mt.velocity.x*bt+mt.velocity.y*wt-vt.velocity.x*bt-vt.velocity.y*wt)/(mt.mass+vt.mass);(mt.immovable||vt.immovable)&&($t*=2),mt.immovable||(mt.velocity.x=mt.velocity.x-$t/mt.mass*bt,mt.velocity.y=mt.velocity.y-$t/mt.mass*wt),vt.immovable||(vt.velocity.x=vt.velocity.x+$t/vt.mass*bt,vt.velocity.y=vt.velocity.y+$t/vt.mass*wt),!mt.immovable&&!vt.immovable&&(Et/=2);var Ut=R(mt.center,vt.center),Nt=(Et+rt.EPSILON)*Math.cos(Ut),Yt=(Et+rt.EPSILON)*Math.sin(Ut);return mt.immovable||(mt.x-=Nt,mt.y-=Yt,mt.updateCenter()),vt.immovable||(vt.x+=Nt,vt.y+=Yt,vt.updateCenter()),mt.velocity.x*=mt.bounce.x,mt.velocity.y*=mt.bounce.y,vt.velocity.x*=vt.bounce.x,vt.velocity.y*=vt.bounce.y,(mt.onCollide||vt.onCollide)&&this.emit(U.COLLIDE,mt.gameObject,vt.gameObject,mt,vt),!0},intersects:function(mt,vt){return mt===vt?!1:!mt.isCircle&&!vt.isCircle?!(mt.right<=vt.position.x||mt.bottom<=vt.position.y||mt.position.x>=vt.right||mt.position.y>=vt.bottom):mt.isCircle?vt.isCircle?B(mt.center.x,mt.center.y,vt.center.x,vt.center.y)<=mt.halfWidth+vt.halfWidth:this.circleBodyIntersects(mt,vt):this.circleBodyIntersects(vt,mt)},circleBodyIntersects:function(mt,vt){var xt=O(mt.center.x,vt.left,vt.right),Tt=O(mt.center.y,vt.top,vt.bottom),Et=(mt.center.x-xt)*(mt.center.x-xt),Ot=(mt.center.y-Tt)*(mt.center.y-Tt);return Et+Ot<=mt.halfWidth*mt.halfWidth},overlap:function(mt,vt,xt,Tt,Et){return xt===void 0&&(xt=null),Tt===void 0&&(Tt=null),Et===void 0&&(Et=xt),this.collideObjects(mt,vt,xt,Tt,Et,!0)},collide:function(mt,vt,xt,Tt,Et){return xt===void 0&&(xt=null),Tt===void 0&&(Tt=null),Et===void 0&&(Et=xt),this.collideObjects(mt,vt,xt,Tt,Et,!1)},collideObjects:function(mt,vt,xt,Tt,Et,Ot){var Mt,Ft;mt.isParent&&mt.physicsType===void 0&&(mt=mt.children.entries),vt&&vt.isParent&&vt.physicsType===void 0&&(vt=vt.children.entries);var It=Array.isArray(mt),Dt=Array.isArray(vt);if(this._total=0,!It&&!Dt)this.collideHandler(mt,vt,xt,Tt,Et,Ot);else if(!It&&Dt)for(Mt=0;Mt<vt.length;Mt++)this.collideHandler(mt,vt[Mt],xt,Tt,Et,Ot);else if(It&&!Dt)if(vt)for(Mt=0;Mt<mt.length;Mt++)this.collideHandler(mt[Mt],vt,xt,Tt,Et,Ot);else for(Mt=0;Mt<mt.length;Mt++){var bt=mt[Mt];for(Ft=Mt+1;Ft<mt.length;Ft++)Mt!==Ft&&this.collideHandler(bt,mt[Ft],xt,Tt,Et,Ot)}else for(Mt=0;Mt<mt.length;Mt++)for(Ft=0;Ft<vt.length;Ft++)this.collideHandler(mt[Mt],vt[Ft],xt,Tt,Et,Ot);return this._total>0},collideHandler:function(mt,vt,xt,Tt,Et,Ot){if(vt===void 0&&mt.isParent)return this.collideGroupVsGroup(mt,mt,xt,Tt,Et,Ot);if(!mt||!vt)return!1;if(mt.body){if(vt.body)return this.collideSpriteVsSprite(mt,vt,xt,Tt,Et,Ot);if(vt.isParent)return this.collideSpriteVsGroup(mt,vt,xt,Tt,Et,Ot);if(vt.isTilemap)return this.collideSpriteVsTilemapLayer(mt,vt,xt,Tt,Et,Ot)}else if(mt.isParent){if(vt.body)return this.collideSpriteVsGroup(vt,mt,xt,Tt,Et,Ot);if(vt.isParent)return this.collideGroupVsGroup(mt,vt,xt,Tt,Et,Ot);if(vt.isTilemap)return this.collideGroupVsTilemapLayer(mt,vt,xt,Tt,Et,Ot)}else if(mt.isTilemap){if(vt.body)return this.collideSpriteVsTilemapLayer(vt,mt,xt,Tt,Et,Ot);if(vt.isParent)return this.collideGroupVsTilemapLayer(vt,mt,xt,Tt,Et,Ot)}},collideSpriteVsSprite:function(mt,vt,xt,Tt,Et,Ot){return!mt.body||!vt.body?!1:(this.separate(mt.body,vt.body,Tt,Et,Ot)&&(xt&&xt.call(Et,mt,vt),this._total++),!0)},collideSpriteVsGroup:function(mt,vt,xt,Tt,Et,Ot){var Mt=mt.body;if(!(vt.length===0||!Mt||!Mt.enable||Mt.checkCollision.none)){var Ft,It,Dt;if(this.useTree||vt.physicsType===F.STATIC_BODY){var bt=this.treeMinMax;bt.minX=Mt.left,bt.minY=Mt.top,bt.maxX=Mt.right,bt.maxY=Mt.bottom;var wt=vt.physicsType===F.DYNAMIC_BODY?this.tree.search(bt):this.staticTree.search(bt);for(It=wt.length,Ft=0;Ft<It;Ft++)Dt=wt[Ft],!(Mt===Dt||!Dt.enable||Dt.checkCollision.none||!vt.contains(Dt.gameObject))&&this.separate(Mt,Dt,Tt,Et,Ot,!0)&&(xt&&xt.call(Et,Mt.gameObject,Dt.gameObject),this._total++)}else{var $t=vt.getChildren(),Ut=vt.children.entries.indexOf(mt);for(It=$t.length,Ft=0;Ft<It;Ft++)Dt=$t[Ft].body,!(!Dt||Ft===Ut||!Dt.enable)&&this.separate(Mt,Dt,Tt,Et,Ot)&&(xt&&xt.call(Et,Mt.gameObject,Dt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(mt,vt,xt,Tt,Et,Ot){var Mt=mt.getChildren();if(Mt.length===0)return!1;for(var Ft=!1,It=0;It<Mt.length;It++)Mt[It].body&&this.collideSpriteVsTilemapLayer(Mt[It],vt,xt,Tt,Et,Ot)&&(Ft=!0);return Ft},collideTiles:function(mt,vt,xt,Tt,Et){return!mt.body.enable||vt.length===0?!1:this.collideSpriteVsTilesHandler(mt,vt,xt,Tt,Et,!1,!1)},overlapTiles:function(mt,vt,xt,Tt,Et){return!mt.body.enable||vt.length===0?!1:this.collideSpriteVsTilesHandler(mt,vt,xt,Tt,Et,!0,!1)},collideSpriteVsTilemapLayer:function(mt,vt,xt,Tt,Et,Ot){var Mt=mt.body;if(!Mt.enable||Mt.checkCollision.none)return!1;var Ft=Mt.position.x,It=Mt.position.y,Dt=Mt.width,bt=Mt.height,wt=vt.layer;if(wt.tileWidth>wt.baseTileWidth){var $t=(wt.tileWidth-wt.baseTileWidth)*vt.scaleX;Ft-=$t,Dt+=$t}if(wt.tileHeight>wt.baseTileHeight){var Ut=(wt.tileHeight-wt.baseTileHeight)*vt.scaleY;bt+=Ut}var Nt=q(Ft,It,Dt,bt,null,vt.scene.cameras.main,vt.layer);return Nt.length===0?!1:this.collideSpriteVsTilesHandler(mt,Nt,xt,Tt,Et,Ot,!0)},collideSpriteVsTilesHandler:function(mt,vt,xt,Tt,Et,Ot,Mt){for(var Ft=mt.body,It,Dt={left:0,right:0,top:0,bottom:0},bt,wt=!1,$t=0;$t<vt.length;$t++){It=vt[$t],bt=It.tilemapLayer;var Ut=bt.tileToWorldXY(It.x,It.y);Dt.left=Ut.x,Dt.top=Ut.y,It.baseHeight!==It.height&&(Dt.top-=(It.height-It.baseHeight)*bt.scaleY),Dt.right=Dt.left+It.width*bt.scaleX,Dt.bottom=Dt.top+It.height*bt.scaleY,St(Dt,Ft)&&(!Tt||Tt.call(Et,mt,It))&&ot(It,mt)&&(Ot||ct($t,Ft,It,Dt,bt,this.TILE_BIAS,Mt))&&(this._total++,wt=!0,xt&&xt.call(Et,mt,It),Ot&&Ft.onOverlap?this.emit(U.TILE_OVERLAP,mt,It,Ft):Ft.onCollide&&this.emit(U.TILE_COLLIDE,mt,It,Ft))}return wt},collideGroupVsGroup:function(mt,vt,xt,Tt,Et,Ot){if(!(mt.length===0||vt.length===0))for(var Mt=mt.getChildren(),Ft=0;Ft<Mt.length;Ft++)this.collideSpriteVsGroup(Mt[Ft],vt,xt,Tt,Et,Ot)},wrap:function(mt,vt){mt.body?this.wrapObject(mt,vt):mt.getChildren?this.wrapArray(mt.getChildren(),vt):Array.isArray(mt)?this.wrapArray(mt,vt):this.wrapObject(mt,vt)},wrapArray:function(mt,vt){for(var xt=0;xt<mt.length;xt++)this.wrapObject(mt[xt],vt)},wrapObject:function(mt,vt){vt===void 0&&(vt=0),mt.x=Pt(mt.x,this.bounds.left-vt,this.bounds.right+vt),mt.y=Pt(mt.y,this.bounds.top-vt,this.bounds.bottom+vt)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});Y.exports=Rt},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(62),O=y(245),G=y(196),D=y(10),F=y(57),B=y(3),W=new R({initialize:function(X,K){var J=K.displayWidth?K.displayWidth:64,Z=K.displayHeight?K.displayHeight:64;this.world=X,this.gameObject=K,this.transform={x:K.x,y:K.y,rotation:K.angle,scaleX:K.scaleX,scaleY:K.scaleY,displayOriginX:K.displayOriginX,displayOriginY:K.displayOriginY},this.debugShowBody=X.defaults.debugShowBody,this.debugShowVelocity=X.defaults.debugShowVelocity,this.debugBodyColor=X.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new B,this.position=new B(K.x-K.scaleX*K.displayOriginX,K.y-K.scaleY*K.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=K.angle,this.preRotation=K.angle,this.width=J,this.height=Z,this.sourceWidth=J,this.sourceHeight=Z,K.frame&&(this.sourceWidth=K.frame.realWidth,this.sourceHeight=K.frame.realHeight),this.halfWidth=Math.abs(J/2),this.halfHeight=Math.abs(Z/2),this.center=new B(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new B,this.newVelocity=new B,this.deltaMax=new B,this.acceleration=new B,this.allowDrag=!0,this.drag=new B,this.allowGravity=!0,this.gravity=new B,this.bounce=new B,this.worldBounce=null,this.customBoundsRectangle=X.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new B(1e4,1e4),this.maxSpeed=-1,this.friction=new B(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=j.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=j.DYNAMIC_BODY,this._sx=K.scaleX,this._sy=K.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new D},updateBounds:function(){var U=this.gameObject,X=this.transform;if(U.parentContainer){var K=U.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);X.x=K.tx,X.y=K.ty,X.rotation=G(K.rotation),X.scaleX=K.scaleX,X.scaleY=K.scaleY,X.displayOriginX=U.displayOriginX,X.displayOriginY=U.displayOriginY}else X.x=U.x,X.y=U.y,X.rotation=U.angle,X.scaleX=U.scaleX,X.scaleY=U.scaleY,X.displayOriginX=U.displayOriginX,X.displayOriginY=U.displayOriginY;var J=!1;if(this.syncBounds){var Z=U.getBounds(this._bounds);this.width=Z.width,this.height=Z.height,J=!0}else{var Q=Math.abs(X.scaleX),q=Math.abs(X.scaleY);(this._sx!==Q||this._sy!==q)&&(this.width=this.sourceWidth*Q,this.height=this.sourceHeight*q,this._sx=Q,this._sy=q,J=!0)}J&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var U=this.transform;this.position.x=U.x+U.scaleX*(this.offset.x-U.displayOriginX),this.position.y=U.y+U.scaleY*(this.offset.y-U.displayOriginY),this.updateCenter()},resetFlags:function(U){U===void 0&&(U=!1);var X=this.wasTouching,K=this.touching,J=this.blocked;U?(X.none=!0,X.up=!1,X.down=!1,X.left=!1,X.right=!1):(X.none=K.none,X.up=K.up,X.down=K.down,X.left=K.left,X.right=K.right),K.none=!0,K.up=!1,K.down=!1,K.left=!1,K.right=!1,J.none=!0,J.up=!1,J.down=!1,J.left=!1,J.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(U,X){U&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),U&&this.update(X)},update:function(U){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,U);var X=this.velocity.x,K=this.velocity.y;this.newVelocity.set(X*U,K*U),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(K,X),this.speed=Math.sqrt(X*X+K*K),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(O.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var U=this.position.x-this.prevFrame.x,X=this.position.y-this.prevFrame.y;if(this.moves){var K=this.deltaMax.x,J=this.deltaMax.y;K!==0&&U!==0&&(U<0&&U<-K?U=-K:U>0&&U>K&&(U=K)),J!==0&&X!==0&&(X<0&&X<-J?X=-J:X>0&&X>J&&(X=J)),this.gameObject.x+=U,this.gameObject.y+=X}U<0?this.facing=j.FACING_LEFT:U>0&&(this.facing=j.FACING_RIGHT),X<0?this.facing=j.FACING_UP:X>0&&(this.facing=j.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=U,this._ty=X},setBoundsRectangle:function(U){return this.customBoundsRectangle=U||this.world.bounds,this},checkWorldBounds:function(){var U=this.position,X=this.customBoundsRectangle,K=this.world.checkCollision,J=this.worldBounce?-this.worldBounce.x:-this.bounce.x,Z=this.worldBounce?-this.worldBounce.y:-this.bounce.y,Q=!1;return U.x<X.x&&K.left?(U.x=X.x,this.velocity.x*=J,this.blocked.left=!0,Q=!0):this.right>X.right&&K.right&&(U.x=X.right-this.width,this.velocity.x*=J,this.blocked.right=!0,Q=!0),U.y<X.y&&K.up?(U.y=X.y,this.velocity.y*=Z,this.blocked.up=!0,Q=!0):this.bottom>X.bottom&&K.down&&(U.y=X.bottom-this.height,this.velocity.y*=Z,this.blocked.down=!0,Q=!0),Q&&(this.blocked.none=!1,this.updateCenter()),Q},setOffset:function(U,X){return X===void 0&&(X=U),this.offset.set(U,X),this},setSize:function(U,X,K){K===void 0&&(K=!0);var J=this.gameObject;if(!U&&J.frame&&(U=J.frame.realWidth),!X&&J.frame&&(X=J.frame.realHeight),this.sourceWidth=U,this.sourceHeight=X,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),K&&J.getCenter){var Z=(J.width-U)/2,Q=(J.height-X)/2;this.offset.set(Z,Q)}return this.isCircle=!1,this.radius=0,this},setCircle:function(U,X,K){return X===void 0&&(X=this.offset.x),K===void 0&&(K=this.offset.y),U>0?(this.isCircle=!0,this.radius=U,this.sourceWidth=U*2,this.sourceHeight=U*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(X,K),this.updateCenter()):this.isCircle=!1,this},reset:function(U,X){this.stop();var K=this.gameObject;K.setPosition(U,X),K.getTopLeft?K.getTopLeft(this.position):this.position.set(U,X),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=K.angle,this.preRotation=K.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(U){return U.x=this.x,U.y=this.y,U.right=this.right,U.bottom=this.bottom,U},hitTest:function(U,X){if(!this.isCircle)return F(this,U,X);if(this.radius>0&&U>=this.left&&U<=this.right&&X>=this.top&&X<=this.bottom){var K=(this.center.x-U)*(this.center.x-U),J=(this.center.y-X)*(this.center.y-X);return K+J<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(U){var X=this.position,K=X.x+this.halfWidth,J=X.y+this.halfHeight;this.debugShowBody&&(U.lineStyle(U.defaultStrokeWidth,this.debugBodyColor),this.isCircle?U.strokeCircle(K,J,this.width/2):(this.checkCollision.up&&U.lineBetween(X.x,X.y,X.x+this.width,X.y),this.checkCollision.right&&U.lineBetween(X.x+this.width,X.y,X.x+this.width,X.y+this.height),this.checkCollision.down&&U.lineBetween(X.x,X.y+this.height,X.x+this.width,X.y+this.height),this.checkCollision.left&&U.lineBetween(X.x,X.y,X.x,X.y+this.height))),this.debugShowVelocity&&(U.lineStyle(U.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),U.lineBetween(K,J,K+this.velocity.x/2,J+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(U,X,K,J){U===void 0&&(U=!0),this.collideWorldBounds=U;var Z=X!==void 0,Q=K!==void 0;return(Z||Q)&&(this.worldBounce||(this.worldBounce=new B),Z&&(this.worldBounce.x=X),Q&&(this.worldBounce.y=K)),J!==void 0&&(this.onWorldBounds=J),this},setVelocity:function(U,X){return this.velocity.set(U,X),U=this.velocity.x,X=this.velocity.y,this.speed=Math.sqrt(U*U+X*X),this},setVelocityX:function(U){this.velocity.x=U;var X=U,K=this.velocity.y;return this.speed=Math.sqrt(X*X+K*K),this},setVelocityY:function(U){this.velocity.y=U;var X=this.velocity.x,K=U;return this.speed=Math.sqrt(X*X+K*K),this},setMaxVelocity:function(U,X){return this.maxVelocity.set(U,X),this},setMaxVelocityX:function(U){return this.maxVelocity.x=U,this},setMaxVelocityY:function(U){return this.maxVelocity.y=U,this},setMaxSpeed:function(U){return this.maxSpeed=U,this},setBounce:function(U,X){return this.bounce.set(U,X),this},setBounceX:function(U){return this.bounce.x=U,this},setBounceY:function(U){return this.bounce.y=U,this},setAcceleration:function(U,X){return this.acceleration.set(U,X),this},setAccelerationX:function(U){return this.acceleration.x=U,this},setAccelerationY:function(U){return this.acceleration.y=U,this},setAllowDrag:function(U){return U===void 0&&(U=!0),this.allowDrag=U,this},setAllowGravity:function(U){return U===void 0&&(U=!0),this.allowGravity=U,this},setAllowRotation:function(U){return U===void 0&&(U=!0),this.allowRotation=U,this},setDrag:function(U,X){return this.drag.set(U,X),this},setDamping:function(U){return this.useDamping=U,this},setDragX:function(U){return this.drag.x=U,this},setDragY:function(U){return this.drag.y=U,this},setGravity:function(U,X){return this.gravity.set(U,X),this},setGravityX:function(U){return this.gravity.x=U,this},setGravityY:function(U){return this.gravity.y=U,this},setFriction:function(U,X){return this.friction.set(U,X),this},setFrictionX:function(U){return this.friction.x=U,this},setFrictionY:function(U){return this.friction.y=U,this},setAngularVelocity:function(U){return this.angularVelocity=U,this},setAngularAcceleration:function(U){return this.angularAcceleration=U,this},setAngularDrag:function(U){return this.angularDrag=U,this},setMass:function(U){return this.mass=U,this},setImmovable:function(U){return U===void 0&&(U=!0),this.immovable=U,this},setEnable:function(U){return U===void 0&&(U=!0),this.enable=U,this},processX:function(U,X,K,J){this.x+=U,this.updateCenter(),X!==null&&(this.velocity.x=X);var Z=this.blocked;K&&(Z.left=!0),J&&(Z.right=!0)},processY:function(U,X,K,J){this.y+=U,this.updateCenter(),X!==null&&(this.velocity.y=X);var Z=this.blocked;K&&(Z.up=!0),J&&(Z.down=!0)},x:{get:function(){return this.position.x},set:function(U){this.position.x=U}},y:{get:function(){return this.position.y},set:function(U){this.position.y=U}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D,F,B,W,U,X){this.world=G,this.name="",this.active=!0,this.overlapOnly=D,this.object1=F,this.object2=B,this.collideCallback=W,this.processCallback=U,this.callbackContext=X},setName:function(O){return this.name=O,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=y(3),O=new j,G=new j,D=function(F,B,W,U,X,K,J){var Z=J.tilemapLayer.tilemap._convert.WorldToTileXY;Z(F,B,!0,O,K,J);var Q=O.x,q=O.y;Z(F+W,B+U,!1,G,K,J);var et=Math.ceil(G.x),rt=Math.ceil(G.y);return R(Q,q,et-Q,rt-q,X,J)};Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.collisionCallback?!R.collisionCallback.call(R.collisionCallbackContext,j,R):R.layer.callbacks[R.index]?!R.layer.callbacks[R.index].callback.call(R.layer.callbacks[R.index].callbackContext,j,R):!0};Y.exports=y},function(Y,tt,y){/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(436);function j(rt){var nt=[".left",".top",".right",".bottom"];if(!(this instanceof j))return new j(rt,nt);this._maxEntries=Math.max(4,rt||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}j.prototype={all:function(){return this._all(this.data,[])},search:function(rt){var nt=this.data,ot=[],ht=this.toBBox;if(!Q(rt,nt))return ot;for(var ut=[],ct,ft,dt,pt;nt;){for(ct=0,ft=nt.children.length;ct<ft;ct++)dt=nt.children[ct],pt=nt.leaf?ht(dt):dt,Q(rt,pt)&&(nt.leaf?ot.push(dt):Z(rt,pt)?this._all(dt,ot):ut.push(dt));nt=ut.pop()}return ot},collides:function(rt){var nt=this.data,ot=this.toBBox;if(!Q(rt,nt))return!1;for(var ht=[],ut,ct,ft,dt;nt;){for(ut=0,ct=nt.children.length;ut<ct;ut++)if(ft=nt.children[ut],dt=nt.leaf?ot(ft):ft,Q(rt,dt)){if(nt.leaf||Z(rt,dt))return!0;ht.push(ft)}nt=ht.pop()}return!1},load:function(rt){if(!(rt&&rt.length))return this;if(rt.length<this._minEntries){for(var nt=0,ot=rt.length;nt<ot;nt++)this.insert(rt[nt]);return this}var ht=this._build(rt.slice(),0,rt.length-1,0);if(!this.data.children.length)this.data=ht;else if(this.data.height===ht.height)this._splitRoot(this.data,ht);else{if(this.data.height<ht.height){var ut=this.data;this.data=ht,ht=ut}this._insert(ht,this.data.height-ht.height-1,!0)}return this},insert:function(rt){return rt&&this._insert(rt,this.data.height-1),this},clear:function(){return this.data=q([]),this},remove:function(rt,nt){if(!rt)return this;for(var ot=this.data,ht=this.toBBox(rt),ut=[],ct=[],ft,dt,pt,yt;ot||ut.length;){if(ot||(ot=ut.pop(),dt=ut[ut.length-1],ft=ct.pop(),yt=!0),ot.leaf&&(pt=O(rt,ot.children,nt),pt!==-1))return ot.children.splice(pt,1),ut.push(ot),this._condense(ut),this;!yt&&!ot.leaf&&Z(ot,ht)?(ut.push(ot),ct.push(ft),ft=0,dt=ot,ot=ot.children[0]):dt?(ft++,ot=dt.children[ft],yt=!1):ot=null}return this},toBBox:function(rt){return rt},compareMinX:B,compareMinY:W,toJSON:function(){return this.data},fromJSON:function(rt){return this.data=rt,this},_all:function(rt,nt){for(var ot=[];rt;)rt.leaf?nt.push.apply(nt,rt.children):ot.push.apply(ot,rt.children),rt=ot.pop();return nt},_build:function(rt,nt,ot,ht){var ut=ot-nt+1,ct=this._maxEntries,ft;if(ut<=ct)return ft=q(rt.slice(nt,ot+1)),G(ft,this.toBBox),ft;ht||(ht=Math.ceil(Math.log(ut)/Math.log(ct)),ct=Math.ceil(ut/Math.pow(ct,ht-1))),ft=q([]),ft.leaf=!1,ft.height=ht;var dt=Math.ceil(ut/ct),pt=dt*Math.ceil(Math.sqrt(ct)),yt,St,At,Ct;for(et(rt,nt,ot,pt,this.compareMinX),yt=nt;yt<=ot;yt+=pt)for(At=Math.min(yt+pt-1,ot),et(rt,yt,At,dt,this.compareMinY),St=yt;St<=At;St+=dt)Ct=Math.min(St+dt-1,At),ft.children.push(this._build(rt,St,Ct,ht-1));return G(ft,this.toBBox),ft},_chooseSubtree:function(rt,nt,ot,ht){for(var ut,ct,ft,dt,pt,yt,St,At;ht.push(nt),!(nt.leaf||ht.length-1===ot);){for(St=At=1/0,ut=0,ct=nt.children.length;ut<ct;ut++)ft=nt.children[ut],pt=U(ft),yt=K(rt,ft)-pt,yt<At?(At=yt,St=pt<St?pt:St,dt=ft):yt===At&&pt<St&&(St=pt,dt=ft);nt=dt||nt.children[0]}return nt},_insert:function(rt,nt,ot){var ht=this.toBBox,ut=ot?rt:ht(rt),ct=[],ft=this._chooseSubtree(ut,this.data,nt,ct);for(ft.children.push(rt),F(ft,ut);nt>=0&&ct[nt].children.length>this._maxEntries;)this._split(ct,nt),nt--;this._adjustParentBBoxes(ut,ct,nt)},_split:function(rt,nt){var ot=rt[nt],ht=ot.children.length,ut=this._minEntries;this._chooseSplitAxis(ot,ut,ht);var ct=this._chooseSplitIndex(ot,ut,ht),ft=q(ot.children.splice(ct,ot.children.length-ct));ft.height=ot.height,ft.leaf=ot.leaf,G(ot,this.toBBox),G(ft,this.toBBox),nt?rt[nt-1].children.push(ft):this._splitRoot(ot,ft)},_splitRoot:function(rt,nt){this.data=q([rt,nt]),this.data.height=rt.height+1,this.data.leaf=!1,G(this.data,this.toBBox)},_chooseSplitIndex:function(rt,nt,ot){var ht,ut,ct,ft,dt,pt,yt,St;for(pt=yt=1/0,ht=nt;ht<=ot-nt;ht++)ut=D(rt,0,ht,this.toBBox),ct=D(rt,ht,ot,this.toBBox),ft=J(ut,ct),dt=U(ut)+U(ct),ft<pt?(pt=ft,St=ht,yt=dt<yt?dt:yt):ft===pt&&dt<yt&&(yt=dt,St=ht);return St},_chooseSplitAxis:function(rt,nt,ot){var ht=rt.leaf?this.compareMinX:B,ut=rt.leaf?this.compareMinY:W,ct=this._allDistMargin(rt,nt,ot,ht),ft=this._allDistMargin(rt,nt,ot,ut);ct<ft&&rt.children.sort(ht)},_allDistMargin:function(rt,nt,ot,ht){rt.children.sort(ht);var ut=this.toBBox,ct=D(rt,0,nt,ut),ft=D(rt,ot-nt,ot,ut),dt=X(ct)+X(ft),pt,yt;for(pt=nt;pt<ot-nt;pt++)yt=rt.children[pt],F(ct,rt.leaf?ut(yt):yt),dt+=X(ct);for(pt=ot-nt-1;pt>=nt;pt--)yt=rt.children[pt],F(ft,rt.leaf?ut(yt):yt),dt+=X(ft);return dt},_adjustParentBBoxes:function(rt,nt,ot){for(var ht=ot;ht>=0;ht--)F(nt[ht],rt)},_condense:function(rt){for(var nt=rt.length-1,ot;nt>=0;nt--)rt[nt].children.length===0?nt>0?(ot=rt[nt-1].children,ot.splice(ot.indexOf(rt[nt]),1)):this.clear():G(rt[nt],this.toBBox)},compareMinX:function(rt,nt){return rt.left-nt.left},compareMinY:function(rt,nt){return rt.top-nt.top},toBBox:function(rt){return{minX:rt.left,minY:rt.top,maxX:rt.right,maxY:rt.bottom}}};function O(rt,nt,ot){if(!ot)return nt.indexOf(rt);for(var ht=0;ht<nt.length;ht++)if(ot(rt,nt[ht]))return ht;return-1}function G(rt,nt){D(rt,0,rt.children.length,nt,rt)}function D(rt,nt,ot,ht,ut){ut||(ut=q(null)),ut.minX=1/0,ut.minY=1/0,ut.maxX=-1/0,ut.maxY=-1/0;for(var ct=nt,ft;ct<ot;ct++)ft=rt.children[ct],F(ut,rt.leaf?ht(ft):ft);return ut}function F(rt,nt){return rt.minX=Math.min(rt.minX,nt.minX),rt.minY=Math.min(rt.minY,nt.minY),rt.maxX=Math.max(rt.maxX,nt.maxX),rt.maxY=Math.max(rt.maxY,nt.maxY),rt}function B(rt,nt){return rt.minX-nt.minX}function W(rt,nt){return rt.minY-nt.minY}function U(rt){return(rt.maxX-rt.minX)*(rt.maxY-rt.minY)}function X(rt){return rt.maxX-rt.minX+(rt.maxY-rt.minY)}function K(rt,nt){return(Math.max(nt.maxX,rt.maxX)-Math.min(nt.minX,rt.minX))*(Math.max(nt.maxY,rt.maxY)-Math.min(nt.minY,rt.minY))}function J(rt,nt){var ot=Math.max(rt.minX,nt.minX),ht=Math.max(rt.minY,nt.minY),ut=Math.min(rt.maxX,nt.maxX),ct=Math.min(rt.maxY,nt.maxY);return Math.max(0,ut-ot)*Math.max(0,ct-ht)}function Z(rt,nt){return rt.minX<=nt.minX&&rt.minY<=nt.minY&&nt.maxX<=rt.maxX&&nt.maxY<=rt.maxY}function Q(rt,nt){return nt.minX<=rt.maxX&&nt.minY<=rt.maxY&&nt.maxX>=rt.minX&&nt.maxY>=rt.minY}function q(rt){return{children:rt,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function et(rt,nt,ot,ht,ut){for(var ct=[nt,ot],ft;ct.length;)ot=ct.pop(),nt=ct.pop(),!(ot-nt<=ht)&&(ft=nt+Math.ceil((ot-nt)/ht/2)*ht,R(rt,ft,nt,ot,ut),ct.push(nt,ft,ft,ot))}Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(533),j=y(535),O=y(248),G=function(D,F,B,W,U,X,K){var J=W.left,Z=W.top,Q=W.right,q=W.bottom,et=B.faceLeft||B.faceRight,rt=B.faceTop||B.faceBottom;if(K||(et=!0,rt=!0),!et&&!rt)return!1;var nt=0,ot=0,ht=0,ut=1;if(F.deltaAbsX()>F.deltaAbsY()?ht=-1:F.deltaAbsX()<F.deltaAbsY()&&(ut=-1),F.deltaX()!==0&&F.deltaY()!==0&&et&&rt&&(ht=Math.min(Math.abs(F.position.x-Q),Math.abs(F.right-J)),ut=Math.min(Math.abs(F.position.y-q),Math.abs(F.bottom-Z))),ht<ut){if(et&&(nt=R(F,B,J,Q,X,K),nt!==0&&!O(W,F)))return!0;rt&&(ot=j(F,B,Z,q,X,K))}else{if(rt&&(ot=j(F,B,Z,q,X,K),ot!==0&&!O(W,F)))return!0;et&&(nt=R(F,B,J,Q,X,K))}return nt!==0||ot!==0};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(534),j=function(O,G,D,F,B,W){var U=0,X=G.faceLeft,K=G.faceRight,J=G.collideLeft,Z=G.collideRight;return W||(X=!0,K=!0,J=!0,Z=!0),O.deltaX()<0&&Z&&O.checkCollision.left?K&&O.x<F&&(U=O.x-F,U<-B&&(U=0)):O.deltaX()>0&&J&&O.checkCollision.right&&X&&O.right>D&&(U=O.right-D,U>B&&(U=0)),U!==0&&(O.customSeparateX?O.overlapX=U:R(O,U)),U};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j<0?(R.blocked.none=!1,R.blocked.left=!0):j>0&&(R.blocked.none=!1,R.blocked.right=!0),R.position.x-=j,R.bounce.x===0?R.velocity.x=0:R.velocity.x=-R.velocity.x*R.bounce.x};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(536),j=function(O,G,D,F,B,W){var U=0,X=G.faceTop,K=G.faceBottom,J=G.collideUp,Z=G.collideDown;return W||(X=!0,K=!0,J=!0,Z=!0),O.deltaY()<0&&Z&&O.checkCollision.up?K&&O.y<F&&(U=O.y-F,U<-B&&(U=0)):O.deltaY()>0&&J&&O.checkCollision.down&&X&&O.bottom>D&&(U=O.bottom-D,U>B&&(U=0)),U!==0&&(O.customSeparateY?O.overlapY=U:R(O,U)),U};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j<0?(R.blocked.none=!1,R.blocked.up=!0):j>0&&(R.blocked.none=!1,R.blocked.down=!0),R.position.y-=j,R.bounce.y===0?R.velocity.y=0:R.velocity.y=-R.velocity.y*R.bounce.y};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(246),j=y(1389),O=function(G,D,F,B){var W=R(G,D,F,B),U=G.immovable,X=D.immovable;if(F||W===0||U&&X||G.customSeparateX||D.customSeparateX)return W!==0||G.embedded&&D.embedded;var K=j.Set(G,D,W);return!U&&!X?K>0?!0:j.Check():(U?j.RunImmovableBody1(K):X&&j.RunImmovableBody2(K),!0)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(247),j=y(1390),O=function(G,D,F,B){var W=R(G,D,F,B),U=G.immovable,X=D.immovable;if(F||W===0||U&&X||G.customSeparateY||D.customSeparateY)return W!==0||G.embedded&&D.embedded;var K=j.Set(G,D,W);return!U&&!X?K>0?!0:j.Check():(U?j.RunImmovableBody1(K):X&&j.RunImmovableBody2(K),!0)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(66),j=y(0),O=y(62),G=y(57),D=y(3),F=new j({initialize:function(W,U){var X=U.displayWidth?U.displayWidth:64,K=U.displayHeight?U.displayHeight:64;this.world=W,this.gameObject=U,this.debugShowBody=W.defaults.debugShowStaticBody,this.debugBodyColor=W.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new D,this.position=new D(U.x-X*U.originX,U.y-K*U.originY),this.width=X,this.height=K,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new D(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=D.ZERO,this.allowGravity=!1,this.gravity=D.ZERO,this.bounce=D.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=O.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(B,W){return B&&B!==this.gameObject&&(this.gameObject.body=null,B.body=this,this.gameObject=B),W&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var B=this.gameObject;return B.getTopLeft(this.position),this.width=B.displayWidth,this.height=B.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(B,W){return W===void 0&&(W=B),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(B,W),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(B,W,U){U===void 0&&(U=!0);var X=this.gameObject;if(!B&&X.frame&&(B=X.frame.realWidth),!W&&X.frame&&(W=X.frame.realHeight),this.world.staticTree.remove(this),this.width=B,this.height=W,this.halfWidth=Math.floor(B/2),this.halfHeight=Math.floor(W/2),U&&X.getCenter){var K=X.displayWidth/2,J=X.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(K-this.halfWidth,J-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(B,W,U){return W===void 0&&(W=this.offset.x),U===void 0&&(U=this.offset.y),B>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=B,this.width=B*2,this.height=B*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(W,U),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(B,W){var U=this.gameObject;B===void 0&&(B=U.x),W===void 0&&(W=U.y),this.world.staticTree.remove(this),U.setPosition(B,W),U.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(B){return B.x=this.x,B.y=this.y,B.right=this.right,B.bottom=this.bottom,B},hitTest:function(B,W){return this.isCircle?R(this,B,W):G(this,B,W)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(B){var W=this.position,U=W.x+this.halfWidth,X=W.y+this.halfHeight;this.debugShowBody&&(B.lineStyle(B.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?B.strokeCircle(U,X,this.width/2):B.strokeRect(W.x,W.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(B){return B<=0&&(B=.1),this.mass=B,this},x:{get:function(){return this.position.x},set:function(B){this.world.staticTree.remove(this),this.position.x=B,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(B){this.world.staticTree.remove(this),this.position.y=B,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});Y.exports=F},function(Y,tt,y){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var R=y(0),j=new R({initialize:function(G){this.pluginManager=G,this.game=G.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(3),j=new R,O=function(G,D,F,B){var W=F.tilemapLayer,U=W.cullPaddingX,X=W.cullPaddingY,K=W.tilemap.tileToWorldXY(G,D,j,B,W);return K.x>B.worldView.x+W.scaleX*F.tileWidth*(-U-.5)&&K.x<B.worldView.right+W.scaleX*F.tileWidth*(U-.5)&&K.y>B.worldView.y+W.scaleY*F.tileHeight*(-X-1)&&K.y<B.worldView.bottom+W.scaleY*F.tileHeight*(X-.5)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=function(O,G,D,F,B,W,U){for(var X=R(D,F,B,W,null,U),K=0;K<X.length;K++)X[K]&&X[K].index===O&&(X[K].index=G)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=y(139),O=y(76),G=new R,D=function(F,B){var W=F.tilemapLayer.tilemap,U=F.tilemapLayer,X=Math.floor(W.tileWidth*U.scaleX),K=Math.floor(W.tileHeight*U.scaleY),J=O(B.worldView.x-U.x,X,0,!0)-U.cullPaddingX,Z=j(B.worldView.right-U.x,X,0,!0)+U.cullPaddingX,Q=O(B.worldView.y-U.y,K,0,!0)-U.cullPaddingY,q=j(B.worldView.bottom-U.y,K,0,!0)+U.cullPaddingY;return G.setTo(J,Q,Z-J,q-Q)};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(543),j=y(159),O=function(G,D,F,B){F===void 0&&(F=[]),B===void 0&&(B=0),F.length=0;var W=G.tilemapLayer,U=R(G,D);return(W.skipCull||W.scrollFactorX!==1||W.scrollFactorY!==1)&&(U.left=0,U.right=G.width,U.top=0,U.bottom=G.height),j(G,U,B,F),F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(546),j=y(159),O=function(G,D,F,B){F===void 0&&(F=[]),B===void 0&&(B=0),F.length=0;var W=G.tilemapLayer;if(!W.skipCull&&W.scrollFactorX===1&&W.scrollFactorY===1){var U=R(G,D);j(G,U,B,F)}return F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(139),j=y(76),O=function(G,D){var F=G.tilemapLayer.tilemap,B=G.tilemapLayer,W=Math.floor(F.tileWidth*B.scaleX),U=Math.floor(F.tileHeight*B.scaleY),X=G.hexSideLength,K=(U-X)/2+X,J=j(D.worldView.x-B.x,W,0,!0)-B.cullPaddingX,Z=R(D.worldView.right-B.x,W,0,!0)+B.cullPaddingX,Q=j(D.worldView.y-B.y,K,0,!0)-B.cullPaddingY,q=R(D.worldView.bottom-B.y,K,0,!0)+B.cullPaddingY;return{left:J,right:Z,top:Q,bottom:q}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(541),j=function(O,G,D,F){D===void 0&&(D=[]),F===void 0&&(F=0),D.length=0;var B=O.tilemapLayer,W=O.data,U=O.width,X=O.height,K=0,J=U,Z=0,Q=X;if(!B.skipCull){var q,et,rt;if(F===0){for(et=Z;et<Q;et++)for(q=K;W[et]&&q<J;q++)if(R(q,et,O,G)){if(rt=W[et][q],!rt||rt.index===-1||!rt.visible||rt.alpha===0)continue;D.push(rt)}}else if(F===1){for(et=Z;et<Q;et++)for(q=J;W[et]&&q>=K;q--)if(R(q,et,O,G)){if(rt=W[et][q],!rt||rt.index===-1||!rt.visible||rt.alpha===0)continue;D.push(rt)}}else if(F===2){for(et=Q;et>=Z;et--)for(q=K;W[et]&&q<J;q++)if(R(q,et,O,G)){if(rt=W[et][q],!rt||rt.index===-1||!rt.visible||rt.alpha===0)continue;D.push(rt)}}else if(F===3){for(et=Q;et>=Z;et--)for(q=J;W[et]&&q>=K;q--)if(R(q,et,O,G)){if(rt=W[et][q],!rt||rt.index===-1||!rt.visible||rt.alpha===0)continue;D.push(rt)}}}return B.tilesDrawn=D.length,B.tilesTotal=U*X,D};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(549),j=y(159),O=function(G,D,F,B){F===void 0&&(F=[]),B===void 0&&(B=0),F.length=0;var W=G.tilemapLayer;if(!W.skipCull&&W.scrollFactorX===1&&W.scrollFactorY===1){var U=R(G,D);j(G,U,B,F)}return F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(139),j=y(76),O=function(G,D){var F=G.tilemapLayer.tilemap,B=G.tilemapLayer,W=Math.floor(F.tileWidth*B.scaleX),U=Math.floor(F.tileHeight*B.scaleY),X=j(D.worldView.x-B.x,W,0,!0)-B.cullPaddingX,K=R(D.worldView.right-B.x,W,0,!0)+B.cullPaddingX,J=j(D.worldView.y-B.y,U/2,0,!0)-B.cullPaddingY,Z=R(D.worldView.bottom-B.y,U/2,0,!0)+B.cullPaddingY;return{left:X,right:K,top:J,bottom:Z}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(3),j=function(O,G,D,F,B){D||(D=new R);var W=B.baseTileWidth,U=B.baseTileHeight,X=B.tilemapLayer,K=0,J=0;X&&(F||(F=X.scene.cameras.main),K=X.x+F.scrollX*(1-X.scrollFactorX),W*=X.scaleX,J=X.y+F.scrollY*(1-X.scrollFactorY),U*=X.scaleY);var Z=B.hexSideLength,Q=(U-Z)/2+Z,q=K+O*W+G%2*(W/2),et=J+G*Q;return D.set(q,et)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(3),j=function(O,G,D,F,B){D||(D=new R);var W=B.baseTileWidth,U=B.baseTileHeight,X=B.tilemapLayer,K=0,J=0;X&&(F||(F=X.scene.cameras.main),K=X.x+F.scrollX*(1-X.scrollFactorX),W*=X.scaleX,J=X.y+F.scrollY*(1-X.scrollFactorY),U*=X.scaleY);var Z=K+(O-G)*(W/2),Q=J+(O+G)*(U/2);return D.set(Z,Q)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(3),j=function(O,G,D,F,B){D||(D=new R);var W=B.baseTileWidth,U=B.baseTileHeight,X=B.tilemapLayer,K=0,J=0;X&&(F||(F=X.scene.cameras.main),K=X.x+F.scrollX*(1-X.scrollFactorX),W*=X.scaleX,J=X.y+F.scrollY*(1-X.scrollFactorY),U*=X.scaleY);var Z=K+O*W+G%2*(W/2),Q=J+G*(U/2);return D.set(Z,Q)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(253),j=y(254),O=y(3),G=function(D,F,B,W,U){return B||(B=new O(0,0)),B.x=R(D,W,U),B.y=j(F,W,U),B};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=O.baseTileHeight,D=O.tilemapLayer,F=0;D&&(j===void 0&&(j=D.scene.cameras.main),F=D.y+j.scrollY*(1-D.scrollFactorY),G*=D.scaleY);var B=D.tilemap.hexSideLength,W=(G-B)/2+B;return F+R*W};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=O.baseTileHeight,D=O.tilemapLayer,F=0;return D&&(j===void 0&&(j=D.scene.cameras.main),F=D.y+j.scrollY*(1-D.scrollFactorY),G*=D.scaleY),F+R*(G/2)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(3),j=function(O,G,D,F,B,W){F||(F=new R);var U=W.baseTileWidth,X=W.baseTileHeight,K=W.tilemapLayer;K&&(B||(B=K.scene.cameras.main),G=G-(K.y+B.scrollY*(1-K.scrollFactorY)),X*=K.scaleY,O=O-(K.x+B.scrollX*(1-K.scrollFactorX)),U*=K.scaleX);var J=W.hexSideLength,Z=(X-J)/2+J,Q=D?Math.floor(G/Z):G/Z,q=D?Math.floor((O-Q%2*.5*U)/U):(O-Q%2*.5*U)/U;return F.set(q,Q)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(3),j=function(O,G,D,F,B,W){F||(F=new R);var U=W.baseTileWidth,X=W.baseTileHeight,K=W.tilemapLayer;K&&(B||(B=K.scene.cameras.main),G=G-(K.y+B.scrollY*(1-K.scrollFactorY)),X*=K.scaleY,O=O-(K.x+B.scrollX*(1-K.scrollFactorX)),U*=K.scaleX);var J=D?Math.floor((O/(U/2)+G/(X/2))/2):(O/(U/2)+G/(X/2))/2,Z=D?Math.floor((G/(X/2)-O/(U/2))/2):(G/(X/2)-O/(U/2))/2;return F.set(J,Z)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(3),j=function(O,G,D,F,B,W){F||(F=new R);var U=W.baseTileWidth,X=W.baseTileHeight,K=W.tilemapLayer;K&&(B||(B=K.scene.cameras.main),G=G-(K.y+B.scrollY*(1-K.scrollFactorY)),X*=K.scaleY,O=O-(K.x+B.scrollX*(1-K.scrollFactorX)),U*=K.scaleX);var J=D?Math.floor(G/(X/2)):G/(X/2),Z=D?Math.floor((O+J%2*.5*U)/U):(O+J%2*.5*U)/U;return F.set(Z,J)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(255),j=y(256),O=y(3),G=function(D,F,B,W,U,X){return B===void 0&&(B=!0),W||(W=new O(0,0)),W.x=R(D,B,U,X),W.y=j(F,B,U,X),W};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=G.baseTileHeight,F=G.tilemapLayer;F&&(O||(O=F.scene.cameras.main),R=R-(F.y+O.scrollY*(1-F.scrollFactorY)),D*=F.scaleY);var B=G.hexSideLength,W=(D-B)/2+B;return j?Math.floor(R/W):R/W};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=G.baseTileHeight,F=G.tilemapLayer;return F&&(O||(O=F.scene.cameras.main),R=R-(F.y+O.scrollY*(1-F.scrollFactorY)),D*=F.scaleY),j?Math.floor(R/(D/2)):R/(D/2)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(119),j=function(O,G,D){if(R(O,G,D)){var F=D.data[G][O];return F!==null&&F.index>-1}else return!1};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(85),j=y(119),O=y(252),G=function(D,F,B,W,U){if(B===void 0&&(B=!0),W===void 0&&(W=!0),!j(D,F,U))return null;var X=U.data[F][D];if(X)U.data[F][D]=B?null:new R(U,-1,D,F,U.tileWidth,U.tileHeight);else return null;return W&&X&&X.collides&&O(D,F,U),X};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(40),j=y(259),O=y(565),G=y(566),D=y(577),F=function(B,W,U,X,K,J){var Z;switch(W){case R.ARRAY_2D:Z=j(B,U,X,K,J);break;case R.CSV:Z=O(B,U,X,K,J);break;case R.TILED_JSON:Z=G(B,U,J);break;case R.WELTMEISTER:Z=D(B,U,J);break;default:console.warn("Unrecognized tilemap data format: "+W),Z=null}return Z};Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(40),j=y(259),O=function(G,D,F,B,W){var U=D.trim().split(`
`).map(function(K){return K.split(",")}),X=j(G,U,F,B,W);return X.format=R.CSV,X};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(567),j=y(568),O=y(29),G=y(40),D=y(258),F=y(121),B=y(569),W=y(570),U=y(573),X=y(575),K=function(J,Z,Q){var q=new F({width:Z.width,height:Z.height,name:J,tileWidth:Z.tilewidth,tileHeight:Z.tileheight,orientation:D(Z.orientation),format:G.TILED_JSON,version:Z.version,properties:Z.properties,renderOrder:Z.renderorder,infinite:Z.infinite});q.orientation===O.HEXAGONAL&&(q.hexSideLength=Z.hexsidelength),q.layers=U(Z,Q),q.images=B(Z);var et=X(Z);return q.tilesets=et.tilesets,q.imageCollections=et.imageCollections,q.objects=W(Z),q.tiles=j(q),R(q),q};Y.exports=K},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(17),j=function(O){for(var G,D,F,B,W,U=0;U<O.layers.length;U++){G=O.layers[U],B=null;for(var X=0;X<G.data.length;X++){W=G.data[X];for(var K=0;K<W.length;K++)D=W[K],!(D===null||D.index<0)&&(F=O.tiles[D.index][2],B=O.tilesets[F],D.width=B.tileWidth,D.height=B.tileHeight,B.tileProperties&&B.tileProperties[D.index-B.firstgid]&&(D.properties=R(D.properties,B.tileProperties[D.index-B.firstgid])))}}};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(122),j=function(O){var G,D,F=[];for(G=0;G<O.imageCollections.length;G++)for(var B=O.imageCollections[G],W=B.images,U=0;U<W.length;U++){var X=W[U];D=new R(X.image,X.gid,B.imageWidth,B.imageHeight,0,0),D.updateTileData(B.imageWidth,B.imageHeight),O.tilesets.push(D)}for(G=0;G<O.tilesets.length;G++){D=O.tilesets[G];for(var K=D.tileMargin,J=D.tileMargin,Z=0,Q=0,q=0,et=D.firstgid;et<D.firstgid+D.total&&(F[et]=[K,J,G],K+=D.tileWidth+D.tileSpacing,Z++,!(Z===D.total||(Q++,Q===D.columns&&(K=D.tileMargin,J+=D.tileHeight+D.tileSpacing,Q=0,q++,q===D.rows))));et++);}return F};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(2),j=y(161),O=function(G){for(var D=[],F=[],B=j(G);B.i<B.layers.length||F.length>0;){if(B.i>=B.layers.length){if(F.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}B=F.pop();continue}var W=B.layers[B.i];if(B.i++,W.type!=="imagelayer"){if(W.type==="group"){var U=j(G,W,B);F.push(B),B=U}continue}var X=R(W,"offsetx",0)+R(W,"startx",0),K=R(W,"offsety",0)+R(W,"starty",0);D.push({name:B.name+W.name,image:W.image,x:B.x+X+W.x,y:B.y+K+W.y,alpha:B.opacity*W.opacity,visible:B.visible&&W.visible,properties:R(W,"properties",{})})}return D};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(2),j=y(260),O=y(572),G=y(161),D=function(F){for(var B=[],W=[],U=G(F);U.i<U.layers.length||W.length>0;){if(U.i>=U.layers.length){if(W.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}U=W.pop();continue}var X=U.layers[U.i];if(U.i++,X.opacity*=U.opacity,X.visible=U.visible&&X.visible,X.type!=="objectgroup"){if(X.type==="group"){var K=G(F,X,U);W.push(U),U=K}continue}X.name=U.name+X.name;for(var J=U.x+R(X,"startx",0)+R(X,"offsetx",0),Z=U.y+R(X,"starty",0)+R(X,"offsety",0),Q=[],q=0;q<X.objects.length;q++){var et=j(X.objects[q],J,Z);Q.push(et)}var rt=new O(X);rt.objects=Q,B.push(rt)}return B};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(126),j=function(O,G){for(var D={},F=0;F<G.length;F++){var B=G[F];R(O,B)&&(D[B]=O[B])}return D};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(2),O=new R({initialize:function(D){D===void 0&&(D={}),this.name=j(D,"name","object layer"),this.opacity=j(D,"opacity",1),this.properties=j(D,"properties",{}),this.propertyTypes=j(D,"propertytypes",{}),this.type=j(D,"type","objectgroup"),this.visible=j(D,"visible",!0),this.objects=j(D,"objects",[])}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(574),j=y(29),O=y(161),G=y(258),D=y(2),F=y(120),B=y(261),W=y(85),U=function(X,K){for(var J=D(X,"infinite",!1),Z=[],Q=[],q=O(X);q.i<q.layers.length||Q.length>0;){if(q.i>=q.layers.length){if(Q.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}q=Q.pop();continue}var et=q.layers[q.i];if(q.i++,et.type!=="tilelayer"){if(et.type==="group"){var rt=O(X,et,q);Q.push(q),q=rt}continue}if(et.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+et.name+"'");continue}else if(et.encoding&&et.encoding==="base64"){if(et.chunks)for(var nt=0;nt<et.chunks.length;nt++)et.chunks[nt].data=R(et.chunks[nt].data);et.data&&(et.data=R(et.data)),delete et.encoding}var ot,ht,ut,ct,ft=[],dt=0;if(J){var pt=D(et,"startx",0)+et.x,yt=D(et,"starty",0)+et.y;ot=new F({name:q.name+et.name,x:q.x+D(et,"offsetx",0)+pt*X.tilewidth,y:q.y+D(et,"offsety",0)+yt*X.tileheight,width:et.width,height:et.height,tileWidth:X.tilewidth,tileHeight:X.tileheight,alpha:q.opacity*et.opacity,visible:q.visible&&et.visible,properties:D(et,"properties",[]),orientation:G(X.orientation)}),ot.orientation===j.HEXAGONAL&&(ot.hexSideLength=X.hexsidelength);for(var St=0;St<et.height;St++){ft.push([null]);for(var At=0;At<et.width;At++)ft[St][At]=null}for(St=0,Ft=et.chunks.length;St<Ft;St++)for(var Ct=et.chunks[St],Pt=Ct.x-pt,Rt=Ct.y-yt,mt=0,vt=0,xt=Ct.data.length;vt<xt;vt++){var Tt=dt+Pt,Et=mt+Rt;ht=B(Ct.data[vt]),ht.gid>0?(ut=new W(ot,ht.gid,Tt,Et,X.tilewidth,X.tileheight),ut.rotation=ht.rotation,ut.flipX=ht.flipped,ft[Et][Tt]=ut):(ct=K?null:new W(ot,-1,Tt,Et,X.tilewidth,X.tileheight),ft[Et][Tt]=ct),dt++,dt===Ct.width&&(mt++,dt=0)}}else{ot=new F({name:q.name+et.name,x:q.x+D(et,"offsetx",0)+et.x,y:q.y+D(et,"offsety",0)+et.y,width:et.width,height:et.height,tileWidth:X.tilewidth,tileHeight:X.tileheight,alpha:q.opacity*et.opacity,visible:q.visible&&et.visible,properties:D(et,"properties",[]),orientation:G(X.orientation)}),ot.orientation===j.HEXAGONAL&&(ot.hexSideLength=X.hexsidelength);for(var Ot=[],Mt=0,Ft=et.data.length;Mt<Ft;Mt++)ht=B(et.data[Mt]),ht.gid>0?(ut=new W(ot,ht.gid,dt,ft.length,X.tilewidth,X.tileheight),ut.rotation=ht.rotation,ut.flipX=ht.flipped,Ot.push(ut)):(ct=K?null:new W(ot,-1,dt,ft.length,X.tilewidth,X.tileheight),Ot.push(ct)),dt++,dt===et.width&&(ft.push(Ot),dt=0,Ot=[])}ot.data=ft,Z.push(ot)}return Z};Y.exports=U},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){for(var j=window.atob(R),O=j.length,G=new Array(O/4),D=0;D<O;D+=4)G[D/4]=(j.charCodeAt(D)|j.charCodeAt(D+1)<<8|j.charCodeAt(D+2)<<16|j.charCodeAt(D+3)<<24)>>>0;return G};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(122),j=y(576),O=y(260),G=y(1453),D=function(F){for(var B=[],W=[],U=null,X,K=0;K<F.tilesets.length;K++){var J=F.tilesets[K];if(J.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(J.image){var Z=new R(J.name,J.firstgid,J.tilewidth,J.tileheight,J.margin,J.spacing);if(F.version>1){var Q=void 0,q=void 0;if(Array.isArray(J.tiles)){Q=Q||{},q=q||{};for(var et=0;et<J.tiles.length;et++){var rt=J.tiles[et];if(rt.properties){var nt={};rt.properties.forEach(function(St){nt[St.name]=St.value}),q[rt.id]=nt}if(rt.objectgroup&&((Q[rt.id]||(Q[rt.id]={})).objectgroup=rt.objectgroup,rt.objectgroup.objects)){var ot=rt.objectgroup.objects.map(function(St){return O(St)});Q[rt.id].objectgroup.objects=ot}rt.animation&&((Q[rt.id]||(Q[rt.id]={})).animation=rt.animation),rt.type&&((Q[rt.id]||(Q[rt.id]={})).type=rt.type)}}Array.isArray(J.wangsets)&&(Q=Q||{},q=q||{},G(J.wangsets,Q)),Q&&(Z.tileData=Q,Z.tileProperties=q)}else if(J.tileproperties&&(Z.tileProperties=J.tileproperties),J.tiles){Z.tileData=J.tiles;for(X in Z.tileData){var ht=Z.tileData[X].objectgroup;if(ht&&ht.objects){var ut=ht.objects.map(function(St){return O(St)});Z.tileData[X].objectgroup.objects=ut}}}Z.updateTileData(J.imagewidth,J.imageheight),B.push(Z)}else{var ct=new j(J.name,J.firstgid,J.tilewidth,J.tileheight,J.margin,J.spacing,J.properties),ft=0;for(et=0;et<J.tiles.length;et++){rt=J.tiles[et];var dt=rt.image,pt=parseInt(rt.id,10),yt=J.firstgid+pt;ct.addImage(yt,dt),ft=Math.max(pt,ft)}ct.maxId=ft,W.push(ct)}U&&(U.lastgid=J.firstgid-1),U=J}return{tilesets:B,imageCollections:W}};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G,D,F,B,W,U,X){(F===void 0||F<=0)&&(F=32),(B===void 0||B<=0)&&(B=32),W===void 0&&(W=0),U===void 0&&(U=0),this.name=G,this.firstgid=D|0,this.imageWidth=F|0,this.imageHeight=B|0,this.imageMargin=W|0,this.imageSpacing=U|0,this.properties=X||{},this.images=[],this.total=0},containsImageIndex:function(O){return O>=this.firstgid&&O<this.firstgid+this.total},addImage:function(O,G){return this.images.push({gid:O,image:G}),this.total++,this}});Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(40),j=y(121),O=y(578),G=y(579),D=function(F,B,W){if(B.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+F),null;for(var U=0,X=0,K=0;K<B.layer.length;K++)B.layer[K].width>U&&(U=B.layer[K].width),B.layer[K].height>X&&(X=B.layer[K].height);var J=new j({width:U,height:X,name:F,tileWidth:B.layer[0].tilesize,tileHeight:B.layer[0].tilesize,format:R.WELTMEISTER});return J.layers=O(B,W),J.tilesets=G(B),J};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(120),j=y(85),O=function(G,D){for(var F=[],B=0;B<G.layer.length;B++){for(var W=G.layer[B],U=new R({name:W.name,width:W.width,height:W.height,tileWidth:W.tilesize,tileHeight:W.tilesize,visible:W.visible===1}),X=[],K=[],J=0;J<W.data.length;J++){for(var Z=0;Z<W.data[J].length;Z++){var Q=W.data[J][Z]-1,q;Q>-1?q=new j(U,Q,Z,J,W.tilesize,W.tilesize):q=D?null:new j(U,-1,Z,J,W.tilesize,W.tilesize),X.push(q)}K.push(X),X=[]}U.data=K,F.push(U)}return F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(122),j=function(O){for(var G=[],D=[],F=0;F<O.layer.length;F++){var B=O.layer[F],W=B.tilesetName;W!==""&&D.indexOf(W)===-1&&(D.push(W),G.push(new R(W,0,B.tilesize,B.tilesize,0,0)))}return G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(36),O=y(40),G=y(2),D=y(120),F=y(29),B=y(362),W=y(74),U=y(73),X=y(85),K=y(251),J=y(581),Z=y(122),Q=new R({initialize:function(et,rt){this.scene=et,this.tileWidth=rt.tileWidth,this.tileHeight=rt.tileHeight,this.width=rt.width,this.height=rt.height,this.orientation=rt.orientation,this.renderOrder=rt.renderOrder,this.format=rt.format,this.version=rt.version,this.properties=rt.properties,this.widthInPixels=rt.widthInPixels,this.heightInPixels=rt.heightInPixels,this.imageCollections=rt.imageCollections,this.images=rt.images,this.layers=rt.layers,this.tilesets=rt.tilesets,this.objects=rt.objects,this.currentLayerIndex=0,this.hexSideLength=rt.hexSideLength;var nt=this.orientation;this._convert={WorldToTileXY:K.GetWorldToTileXYFunction(nt),WorldToTileX:K.GetWorldToTileXFunction(nt),WorldToTileY:K.GetWorldToTileYFunction(nt),TileToWorldXY:K.GetTileToWorldXYFunction(nt),TileToWorldX:K.GetTileToWorldXFunction(nt),TileToWorldY:K.GetTileToWorldYFunction(nt)}},createBlankDynamicLayer:function(q,et,rt,nt,ot,ht,ut,ct){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(q,et,rt,nt,ot,ht,ut,ct)},createDynamicLayer:function(q,et,rt,nt){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(q,et,rt,nt)},createStaticLayer:function(q,et,rt,nt){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(q,et,rt,nt)},setRenderOrder:function(q){var et=["right-down","left-down","right-up","left-up"];return typeof q=="number"&&(q=et[q]),et.indexOf(q)>-1&&(this.renderOrder=q),this},addTilesetImage:function(q,et,rt,nt,ot,ht,ut){if(q===void 0)return null;if(et==null&&(et=q),!this.scene.sys.textures.exists(et))return console.warn("Invalid Tileset Image: "+et),null;var ct=this.scene.sys.textures.get(et),ft=this.getTilesetIndex(q);if(ft===null&&this.format===O.TILED_JSON)return console.warn("No data found for Tileset: "+q),null;var dt=this.tilesets[ft];return dt?(dt.setTileSize(rt,nt),dt.setSpacing(ot,ht),dt.setImage(ct),dt):(rt===void 0&&(rt=this.tileWidth),nt===void 0&&(nt=this.tileHeight),ot===void 0&&(ot=0),ht===void 0&&(ht=0),ut===void 0&&(ut=0),dt=new Z(q,ut,rt,nt,ot,ht),dt.setImage(ct),this.tilesets.push(dt),dt)},copy:function(q,et,rt,nt,ot,ht,ut,ct){return ct=this.getLayer(ct),ct!==null?(K.Copy(q,et,rt,nt,ot,ht,ut,ct),this):null},createBlankLayer:function(q,et,rt,nt,ot,ht,ut,ct){rt===void 0&&(rt=0),nt===void 0&&(nt=0),ot===void 0&&(ot=this.width),ht===void 0&&(ht=this.height),ut===void 0&&(ut=this.tileWidth),ct===void 0&&(ct=this.tileHeight);var ft=this.getLayerIndex(q);if(ft!==null)return console.warn("Invalid Tilemap Layer ID: "+q),null;for(var dt=new D({name:q,tileWidth:ut,tileHeight:ct,width:ot,height:ht,orientation:this.orientation}),pt,yt=0;yt<ht;yt++){pt=[];for(var St=0;St<ot;St++)pt.push(new X(dt,-1,St,yt,ut,ct,this.tileWidth,this.tileHeight));dt.data.push(pt)}this.layers.push(dt),this.currentLayerIndex=this.layers.length-1;var At=new J(this.scene,this,this.currentLayerIndex,et,rt,nt);return At.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(At),At},createLayer:function(q,et,rt,nt){var ot=this.getLayerIndex(q);if(ot===null)return console.warn("Invalid Tilemap Layer ID: "+q),typeof q=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var ht=this.layers[ot];if(ht.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+q),null;this.currentLayerIndex=ot,rt===void 0&&(rt=ht.x),nt===void 0&&(nt=ht.y);var ut=new J(this.scene,this,ot,et,rt,nt);return ut.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(ut),ut},createFromObjects:function(q,et){var rt=[],nt=this.getObjectLayer(q);if(!nt)return console.warn("createFromObjects: Invalid objectLayerName given: "+q),rt;Array.isArray(et)||(et=[et]);for(var ot=nt.objects,ht=0;ht<et.length;ht++){for(var ut=et[ht],ct=G(ut,"id",null),ft=G(ut,"gid",null),dt=G(ut,"name",null),pt,yt=[],St=0;St<ot.length;St++)pt=ot[St],(ct===null&&ft===null&&dt===null||ct!==null&&pt.id===ct||ft!==null&&pt.gid===ft||dt!==null&&pt.name===dt)&&yt.push(pt);for(var At=G(ut,"classType",U),Ct=G(ut,"scene",this.scene),Pt=G(ut,"container",null),Rt=G(ut,"key",null),mt=G(ut,"frame",null),vt=0;vt<yt.length;vt++){pt=yt[vt];var xt=new At(Ct);xt.setName(pt.name),xt.setPosition(pt.x,pt.y),xt.setTexture(Rt,mt),pt.width&&(xt.displayWidth=pt.width),pt.height&&(xt.displayHeight=pt.height);var Tt={x:xt.originX*pt.width,y:(xt.originY-1)*pt.height};if(pt.rotation){var Et=j(pt.rotation);B(Tt,Et),xt.rotation=Et}if(xt.x+=Tt.x,xt.y+=Tt.y,(pt.flippedHorizontal!==void 0||pt.flippedVertical!==void 0)&&xt.setFlip(pt.flippedHorizontal,pt.flippedVertical),pt.visible||(xt.visible=!1),Array.isArray(pt.properties))pt.properties.forEach(function(Mt){var Ft=Mt.name;xt[Ft]!==void 0?xt[Ft]=Mt.value:xt.setData(Ft,Mt.value)});else for(var Ot in pt.properties)xt[Ot]!==void 0?xt[Ot]=pt.properties[Ot]:xt.setData(Ot,pt.properties[Ot]);Pt?Pt.add(xt):Ct.add.existing(xt),rt.push(xt)}}return rt},createFromTiles:function(q,et,rt,nt,ot,ht){return ht=this.getLayer(ht),ht===null?null:K.CreateFromTiles(q,et,rt,nt,ot,ht)},fill:function(q,et,rt,nt,ot,ht,ut){return ht===void 0&&(ht=!0),ut=this.getLayer(ut),ut===null?null:(K.Fill(q,et,rt,nt,ot,ht,ut),this)},filterObjects:function(q,et,rt){if(typeof q=="string"){var nt=q;if(q=this.getObjectLayer(q),!q)return console.warn("No object layer found with the name: "+nt),null}return q.objects.filter(et,rt)},filterTiles:function(q,et,rt,nt,ot,ht,ut,ct){return ct=this.getLayer(ct),ct===null?null:K.FilterTiles(q,et,rt,nt,ot,ht,ut,ct)},findByIndex:function(q,et,rt,nt){return nt=this.getLayer(nt),nt===null?null:K.FindByIndex(q,et,rt,nt)},findObject:function(q,et,rt){if(typeof q=="string"){var nt=q;if(q=this.getObjectLayer(q),!q)return console.warn("No object layer found with the name: "+nt),null}return q.objects.find(et,rt)||null},findTile:function(q,et,rt,nt,ot,ht,ut,ct){return ct=this.getLayer(ct),ct===null?null:K.FindTile(q,et,rt,nt,ot,ht,ut,ct)},forEachTile:function(q,et,rt,nt,ot,ht,ut,ct){return ct=this.getLayer(ct),ct===null?null:(K.ForEachTile(q,et,rt,nt,ot,ht,ut,ct),this)},getImageIndex:function(q){return this.getIndex(this.images,q)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(q){return q.name})},getIndex:function(q,et){for(var rt=0;rt<q.length;rt++)if(q[rt].name===et)return rt;return null},getLayer:function(q){var et=this.getLayerIndex(q);return et!==null?this.layers[et]:null},getObjectLayer:function(q){var et=this.getIndex(this.objects,q);return et!==null?this.objects[et]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(q){return q.name})},getLayerIndex:function(q){return q===void 0?this.currentLayerIndex:typeof q=="string"?this.getLayerIndexByName(q):typeof q=="number"&&q<this.layers.length?q:q instanceof J?q.layerIndex:null},getLayerIndexByName:function(q){return this.getIndex(this.layers,q)},getTileAt:function(q,et,rt,nt){return nt=this.getLayer(nt),nt===null?null:K.GetTileAt(q,et,rt,nt)},getTileAtWorldXY:function(q,et,rt,nt,ot){return ot=this.getLayer(ot),ot===null?null:K.GetTileAtWorldXY(q,et,rt,nt,ot)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(q){return q.name})},getTilesWithin:function(q,et,rt,nt,ot,ht){return ht=this.getLayer(ht),ht===null?null:K.GetTilesWithin(q,et,rt,nt,ot,ht)},getTilesWithinShape:function(q,et,rt,nt){return nt=this.getLayer(nt),nt===null?null:K.GetTilesWithinShape(q,et,rt,nt)},getTilesWithinWorldXY:function(q,et,rt,nt,ot,ht,ut){return ut=this.getLayer(ut),ut===null?null:K.GetTilesWithinWorldXY(q,et,rt,nt,ot,ht,ut)},getTileset:function(q){var et=this.getIndex(this.tilesets,q);return et!==null?this.tilesets[et]:null},getTilesetIndex:function(q){return this.getIndex(this.tilesets,q)},hasTileAt:function(q,et,rt){return rt=this.getLayer(rt),rt===null?null:K.HasTileAt(q,et,rt)},hasTileAtWorldXY:function(q,et,rt,nt){return nt=this.getLayer(nt),nt===null?null:K.HasTileAtWorldXY(q,et,rt,nt)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(q){this.setLayer(q)}},putTileAt:function(q,et,rt,nt,ot){return nt===void 0&&(nt=!0),ot=this.getLayer(ot),ot===null?null:K.PutTileAt(q,et,rt,nt,ot)},putTileAtWorldXY:function(q,et,rt,nt,ot,ht){return nt===void 0&&(nt=!0),ht=this.getLayer(ht),ht===null?null:K.PutTileAtWorldXY(q,et,rt,nt,ot,ht)},putTilesAt:function(q,et,rt,nt,ot){return nt===void 0&&(nt=!0),ot=this.getLayer(ot),ot===null?null:(K.PutTilesAt(q,et,rt,nt,ot),this)},randomize:function(q,et,rt,nt,ot,ht){return ht=this.getLayer(ht),ht===null?null:(K.Randomize(q,et,rt,nt,ot,ht),this)},calculateFacesAt:function(q,et,rt){return rt=this.getLayer(rt),rt===null?null:(K.CalculateFacesAt(q,et,rt),this)},calculateFacesWithin:function(q,et,rt,nt,ot){return ot=this.getLayer(ot),ot===null?null:(K.CalculateFacesWithin(q,et,rt,nt,ot),this)},removeLayer:function(q){var et=this.getLayerIndex(q);if(et!==null){W(this.layers,et);for(var rt=et;rt<this.layers.length;rt++)this.layers[rt].tilemapLayer&&this.layers[rt].tilemapLayer.layerIndex--;return this.currentLayerIndex===et&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(q){var et=this.getLayerIndex(q);return et!==null?(q=this.layers[et],q.destroy(),W(this.layers,et),this.currentLayerIndex===et&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var q=this.layers,et=0;et<q.length;et++)q[et].tilemapLayer&&q[et].tilemapLayer.destroy(!1);return q.length=0,this.currentLayerIndex=0,this},removeTile:function(q,et,rt){et===void 0&&(et=-1),rt===void 0&&(rt=!0);var nt=[];Array.isArray(q)||(q=[q]);for(var ot=0;ot<q.length;ot++){var ht=q[ot];nt.push(this.removeTileAt(ht.x,ht.y,!0,rt,ht.tilemapLayer)),et>-1&&this.putTileAt(et,ht.x,ht.y,rt,ht.tilemapLayer)}return nt},removeTileAt:function(q,et,rt,nt,ot){return rt===void 0&&(rt=!0),nt===void 0&&(nt=!0),ot=this.getLayer(ot),ot===null?null:K.RemoveTileAt(q,et,rt,nt,ot)},removeTileAtWorldXY:function(q,et,rt,nt,ot,ht){return rt===void 0&&(rt=!0),nt===void 0&&(nt=!0),ht=this.getLayer(ht),ht===null?null:K.RemoveTileAtWorldXY(q,et,rt,nt,ot,ht)},renderDebug:function(q,et,rt){return rt=this.getLayer(rt),rt===null?null:(this.orientation===F.ORTHOGONAL&&K.RenderDebug(q,et,rt),this)},renderDebugFull:function(q,et){for(var rt=this.layers,nt=0;nt<rt.length;nt++)K.RenderDebug(q,et,rt[nt]);return this},replaceByIndex:function(q,et,rt,nt,ot,ht,ut){return ut=this.getLayer(ut),ut===null?null:(K.ReplaceByIndex(q,et,rt,nt,ot,ht,ut),this)},setCollision:function(q,et,rt,nt,ot){return et===void 0&&(et=!0),rt===void 0&&(rt=!0),ot===void 0&&(ot=!0),nt=this.getLayer(nt),nt===null?null:(K.SetCollision(q,et,rt,nt,ot),this)},setCollisionBetween:function(q,et,rt,nt,ot){return rt===void 0&&(rt=!0),nt===void 0&&(nt=!0),ot=this.getLayer(ot),ot===null?null:(K.SetCollisionBetween(q,et,rt,nt,ot),this)},setCollisionByProperty:function(q,et,rt,nt){return et===void 0&&(et=!0),rt===void 0&&(rt=!0),nt=this.getLayer(nt),nt===null?null:(K.SetCollisionByProperty(q,et,rt,nt),this)},setCollisionByExclusion:function(q,et,rt,nt){return et===void 0&&(et=!0),rt===void 0&&(rt=!0),nt=this.getLayer(nt),nt===null?null:(K.SetCollisionByExclusion(q,et,rt,nt),this)},setCollisionFromCollisionGroup:function(q,et,rt){return q===void 0&&(q=!0),et===void 0&&(et=!0),rt=this.getLayer(rt),rt===null?null:(K.SetCollisionFromCollisionGroup(q,et,rt),this)},setTileIndexCallback:function(q,et,rt,nt){return nt=this.getLayer(nt),nt===null?null:(K.SetTileIndexCallback(q,et,rt,nt),this)},setTileLocationCallback:function(q,et,rt,nt,ot,ht,ut){return ut=this.getLayer(ut),ut===null?null:(K.SetTileLocationCallback(q,et,rt,nt,ot,ht,ut),this)},setLayer:function(q){var et=this.getLayerIndex(q);return et!==null&&(this.currentLayerIndex=et),this},setBaseTileSize:function(q,et){this.tileWidth=q,this.tileHeight=et,this.widthInPixels=this.width*q,this.heightInPixels=this.height*et;for(var rt=0;rt<this.layers.length;rt++){this.layers[rt].baseTileWidth=q,this.layers[rt].baseTileHeight=et;for(var nt=this.layers[rt].data,ot=this.layers[rt].width,ht=this.layers[rt].height,ut=0;ut<ht;ut++)for(var ct=0;ct<ot;ct++){var ft=nt[ut][ct];ft!==null&&ft.setSize(void 0,void 0,q,et)}}return this},setLayerTileSize:function(q,et,rt){if(rt=this.getLayer(rt),rt===null)return this;rt.tileWidth=q,rt.tileHeight=et;for(var nt=rt.data,ot=rt.width,ht=rt.height,ut=0;ut<ht;ut++)for(var ct=0;ct<ot;ct++){var ft=nt[ut][ct];ft!==null&&ft.setSize(q,et)}return this},shuffle:function(q,et,rt,nt,ot){return ot=this.getLayer(ot),ot===null?null:(K.Shuffle(q,et,rt,nt,ot),this)},swapByIndex:function(q,et,rt,nt,ot,ht,ut){return ut=this.getLayer(ut),ut===null?null:(K.SwapByIndex(q,et,rt,nt,ot,ht,ut),this)},tileToWorldX:function(q,et,rt){return rt=this.getLayer(rt),rt===null?null:this._convert.TileToWorldX(q,et,rt)},tileToWorldY:function(q,et,rt){return rt=this.getLayer(rt),rt===null?null:this._convert.TileToWorldY(q,et,rt)},tileToWorldXY:function(q,et,rt,nt,ot){return ot=this.getLayer(ot),ot===null?null:this._convert.TileToWorldXY(q,et,rt,nt,ot)},weightedRandomize:function(q,et,rt,nt,ot,ht){return ht=this.getLayer(ht),ht===null?null:(K.WeightedRandomize(et,rt,nt,ot,q,ht),this)},worldToTileX:function(q,et,rt,nt){return nt=this.getLayer(nt),nt===null?null:this._convert.WorldToTileX(q,et,rt,nt)},worldToTileY:function(q,et,rt,nt){return nt=this.getLayer(nt),nt===null?null:this._convert.WorldToTileY(q,et,rt,nt)},worldToTileXY:function(q,et,rt,nt,ot,ht){return ht=this.getLayer(ht),ht===null?null:this._convert.WorldToTileXY(q,et,rt,nt,ot,ht)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});Y.exports=Q},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(11),O=y(15),G=y(251),D=y(1456),F=new R({Extends:O,Mixins:[j.Alpha,j.BlendMode,j.ComputedSize,j.Depth,j.Flip,j.GetBounds,j.Origin,j.Pipeline,j.Transform,j.Visible,j.ScrollFactor,D],initialize:function(W,U,X,K,J,Z){O.call(this,W,"TilemapLayer"),this.isTilemap=!0,this.tilemap=U,this.layerIndex=X,this.layer=U.layers[X],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=G.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(K),this.setAlpha(this.layer.alpha),this.setPosition(J,Z),this.setOrigin(),this.setSize(U.tileWidth*this.layer.width,U.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(B){var W=[],U=[],X=this.tilemap;Array.isArray(B)||(B=[B]);for(var K=0;K<B.length;K++){var J=B[K];if(typeof J=="string"&&(J=X.getTileset(J)),J){U.push(J);for(var Z=J.firstgid,Q=0;Q<J.total;Q++)W[Z+Q]=J}}this.gidMap=W,this.tileset=U},setRenderOrder:function(B){var W=["right-down","left-down","right-up","left-up"];return typeof B=="string"&&(B=W.indexOf(B)),B>=0&&B<4&&(this._renderOrder=B),this},calculateFacesAt:function(B,W){return G.CalculateFacesAt(B,W,this.layer),this},calculateFacesWithin:function(B,W,U,X){return G.CalculateFacesWithin(B,W,U,X,this.layer),this},createFromTiles:function(B,W,U,X,K){return G.CreateFromTiles(B,W,U,X,K,this.layer)},cull:function(B){return this.cullCallback(this.layer,B,this.culledTiles,this._renderOrder)},copy:function(B,W,U,X,K,J,Z){return G.Copy(B,W,U,X,K,J,Z,this.layer),this},fill:function(B,W,U,X,K,J){return G.Fill(B,W,U,X,K,J,this.layer),this},filterTiles:function(B,W,U,X,K,J,Z){return G.FilterTiles(B,W,U,X,K,J,Z,this.layer)},findByIndex:function(B,W,U){return G.FindByIndex(B,W,U,this.layer)},findTile:function(B,W,U,X,K,J,Z){return G.FindTile(B,W,U,X,K,J,Z,this.layer)},forEachTile:function(B,W,U,X,K,J,Z){return G.ForEachTile(B,W,U,X,K,J,Z,this.layer),this},getTileAt:function(B,W,U){return G.GetTileAt(B,W,U,this.layer)},getTileAtWorldXY:function(B,W,U,X){return G.GetTileAtWorldXY(B,W,U,X,this.layer)},getTilesWithin:function(B,W,U,X,K){return G.GetTilesWithin(B,W,U,X,K,this.layer)},getTilesWithinShape:function(B,W,U){return G.GetTilesWithinShape(B,W,U,this.layer)},getTilesWithinWorldXY:function(B,W,U,X,K,J){return G.GetTilesWithinWorldXY(B,W,U,X,K,J,this.layer)},hasTileAt:function(B,W){return G.HasTileAt(B,W,this.layer)},hasTileAtWorldXY:function(B,W,U){return G.HasTileAtWorldXY(B,W,U,this.layer)},putTileAt:function(B,W,U,X){return G.PutTileAt(B,W,U,X,this.layer)},putTileAtWorldXY:function(B,W,U,X,K){return G.PutTileAtWorldXY(B,W,U,X,K,this.layer)},putTilesAt:function(B,W,U,X){return G.PutTilesAt(B,W,U,X,this.layer),this},randomize:function(B,W,U,X,K){return G.Randomize(B,W,U,X,K,this.layer),this},removeTileAt:function(B,W,U,X){return G.RemoveTileAt(B,W,U,X,this.layer)},removeTileAtWorldXY:function(B,W,U,X,K){return G.RemoveTileAtWorldXY(B,W,U,X,K,this.layer)},renderDebug:function(B,W){return G.RenderDebug(B,W,this.layer),this},replaceByIndex:function(B,W,U,X,K,J){return G.ReplaceByIndex(B,W,U,X,K,J,this.layer),this},setSkipCull:function(B){return B===void 0&&(B=!0),this.skipCull=B,this},setCullPadding:function(B,W){return B===void 0&&(B=1),W===void 0&&(W=1),this.cullPaddingX=B,this.cullPaddingY=W,this},setCollision:function(B,W,U,X){return G.SetCollision(B,W,U,this.layer,X),this},setCollisionBetween:function(B,W,U,X){return G.SetCollisionBetween(B,W,U,X,this.layer),this},setCollisionByProperty:function(B,W,U){return G.SetCollisionByProperty(B,W,U,this.layer),this},setCollisionByExclusion:function(B,W,U){return G.SetCollisionByExclusion(B,W,U,this.layer),this},setCollisionFromCollisionGroup:function(B,W){return G.SetCollisionFromCollisionGroup(B,W,this.layer),this},setTileIndexCallback:function(B,W,U){return G.SetTileIndexCallback(B,W,U,this.layer),this},setTileLocationCallback:function(B,W,U,X,K,J){return G.SetTileLocationCallback(B,W,U,X,K,J,this.layer),this},shuffle:function(B,W,U,X){return G.Shuffle(B,W,U,X,this.layer),this},swapByIndex:function(B,W,U,X,K,J){return G.SwapByIndex(B,W,U,X,K,J,this.layer),this},tileToWorldX:function(B,W){return this.tilemap.tileToWorldX(B,W,this)},tileToWorldY:function(B,W){return this.tilemap.tileToWorldY(B,W,this)},tileToWorldXY:function(B,W,U,X){return this.tilemap.tileToWorldXY(B,W,U,X,this)},weightedRandomize:function(B,W,U,X,K){return G.WeightedRandomize(W,U,X,K,B,this.layer),this},worldToTileX:function(B,W,U){return this.tilemap.worldToTileX(B,W,U,this)},worldToTileY:function(B,W,U){return this.tilemap.worldToTileY(B,W,U,this)},worldToTileXY:function(B,W,U,X,K){return this.tilemap.worldToTileXY(B,W,U,X,K,this)},destroy:function(B){B===void 0&&(B=!0),!!this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),B&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],O.prototype.destroy.call(this))}});Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(2),O=new R({initialize:function(D){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(D)},reset:function(G){return this.delay=j(G,"delay",0),this.repeat=j(G,"repeat",0),this.loop=j(G,"loop",!1),this.callback=j(G,"callback",void 0),this.callbackScope=j(G,"callbackScope",this.callback),this.args=j(G,"args",[]),this.timeScale=j(G,"timeScale",1),this.startAt=j(G,"startAt",0),this.paused=j(G,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var G=this.delay+this.delay*this.repeat,D=this.elapsed+this.delay*(this.repeat-this.repeatCount);return D/G}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(G){G===void 0&&(G=!1),this.elapsed=this.delay,this.hasDispatched=!G,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1465),j=function(O){var G,D=[];if(O.hasOwnProperty("props"))for(G in O.props)G.substr(0,1)!=="_"&&D.push({key:G,value:O.props[G]});else for(G in O)R.indexOf(G)===-1&&G.substr(0,1)!=="_"&&D.push({key:G,value:O[G]});return D};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(6),j=function(O){var G=R(O,"tweens",null);return G===null?[]:(typeof G=="function"&&(G=G.call()),Array.isArray(G)||(G=[G]),G)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(265),j=y(13),O=y(99),G=y(80),D=y(162),F=y(6),B=y(264),W=y(266),U=y(268),X=function(K,J,Z){Z===void 0&&(Z=R);var Q=F(J,"from",0),q=F(J,"to",1),et=[{value:Q}],rt=D(J,"delay",Z.delay),nt=D(J,"duration",Z.duration),ot=F(J,"easeParams",Z.easeParams),ht=G(F(J,"ease",Z.ease),ot),ut=D(J,"hold",Z.hold),ct=D(J,"repeat",Z.repeat),ft=D(J,"repeatDelay",Z.repeatDelay),dt=O(J,"yoyo",Z.yoyo),pt=[],yt=B("value",q),St=U(et[0],0,"value",yt.getEnd,yt.getStart,yt.getActive,ht,rt,nt,dt,ut,ct,ft,!1,!1);St.start=Q,St.current=Q,St.to=q,pt.push(St);var At=new W(K,pt,et);At.offset=j(J,"offset",null),At.completeDelay=j(J,"completeDelay",0),At.loop=Math.round(j(J,"loop",0)),At.loopDelay=Math.round(j(J,"loopDelay",0)),At.paused=O(J,"paused",!1),At.useFrames=O(J,"useFrames",!1);for(var Ct=F(J,"callbackScope",At),Pt=[At,null],Rt=W.TYPES,mt=0;mt<Rt.length;mt++){var vt=Rt[mt],xt=F(J,vt,!1);if(xt){var Tt=F(J,vt+"Scope",Ct),Et=F(J,vt+"Params",[]);At.setCallback(vt,xt,Pt.concat(Et),Tt)}}return At};Y.exports=X},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(80),j=y(6),O=y(14),G=function(D,F){F===void 0&&(F={});var B,W=j(F,"start",0),U=j(F,"ease",null),X=j(F,"grid",null),K=j(F,"from",0),J=K==="first",Z=K==="center",Q=K==="last",q=typeof K=="number",et=Array.isArray(D),rt=parseFloat(et?D[0]:D),nt=et?parseFloat(D[1]):0,ot=Math.max(rt,nt);if(et&&(W+=rt),X){var ht=X[0],ut=X[1],ct=0,ft=0,dt=0,pt=0,yt=[];Q?(ct=ht-1,ft=ut-1):q?(ct=K%ht,ft=Math.floor(K/ht)):Z&&(ct=(ht-1)/2,ft=(ut-1)/2);for(var St=O.MIN_SAFE_INTEGER,At=0;At<ut;At++){yt[At]=[];for(var Ct=0;Ct<ht;Ct++){dt=ct-Ct,pt=ft-At;var Pt=Math.sqrt(dt*dt+pt*pt);Pt>St&&(St=Pt),yt[At][Ct]=Pt}}}var Rt=U?R(U):null;return X?B=function(mt,vt,xt,Tt){var Et=0,Ot=Tt%ht,Mt=Math.floor(Tt/ht);Ot>=0&&Ot<ht&&Mt>=0&&Mt<ut&&(Et=yt[Mt][Ot]);var Ft;if(et){var It=nt-rt;Rt?Ft=Et/St*It*Rt(Et/St):Ft=Et/St*It}else Rt?Ft=Et*rt*Rt(Et/St):Ft=Et*rt;return Ft+W}:B=function(mt,vt,xt,Tt,Et){Et--;var Ot;J?Ot=Tt:Z?Ot=Math.abs(Et/2-Tt):Q?Ot=Et-Tt:q&&(Ot=Math.abs(K-Tt));var Mt;if(et){var Ft;Z?Ft=(nt-rt)/Et*(Ot*2):Ft=(nt-rt)/Et*Ot,Rt?Mt=Ft*Rt(Ot/Et):Mt=Ft}else Rt?Mt=Et*ot*Rt(Ot/Et):Mt=Ot*rt;return Mt+W},B};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(77),j=y(265),O=y(13),G=y(99),D=y(80),F=y(162),B=y(263),W=y(584),U=y(6),X=y(588),K=y(163),J=function(Z,Q){var q=new X(Z);q.completeDelay=O(Q,"completeDelay",0),q.loop=Math.round(O(Q,"loop",0)),q.loopDelay=Math.round(O(Q,"loopDelay",0)),q.paused=G(Q,"paused",!1),q.useFrames=G(Q,"useFrames",!1);var et=U(Q,"callbackScope",q),rt=[q],nt=U(Q,"onStart",!1);if(nt){var ot=U(Q,"onStartScope",et),ht=U(Q,"onStartParams",[]);q.setCallback("onStart",nt,rt.concat(ht),ot)}var ut=U(Q,"onUpdate",!1);if(ut){var ct=U(Q,"onUpdateScope",et),ft=U(Q,"onUpdateParams",[]);q.setCallback("onUpdate",ut,rt.concat(ft),ct)}var dt=U(Q,"onLoop",!1);if(dt){var pt=U(Q,"onLoopScope",et),yt=U(Q,"onLoopParams",[]);q.setCallback("onLoop",dt,rt.concat(yt),pt)}var St=U(Q,"onYoyo",!1);if(St){var At=U(Q,"onYoyoScope",et),Ct=U(Q,"onYoyoParams",[]);q.setCallback("onYoyo",St,rt.concat(null,Ct),At)}var Pt=U(Q,"onComplete",!1);if(Pt){var Rt=U(Q,"onCompleteScope",et),mt=U(Q,"onCompleteParams",[]);q.setCallback("onComplete",Pt,rt.concat(mt),Rt)}var vt=W(Q);if(vt.length===0)return q.paused=!0,q;var xt=R(j);xt.targets=B(Q);var Tt=O(Q,"totalDuration",0);Tt>0?xt.duration=Math.floor(Tt/vt.length):xt.duration=F(Q,"duration",xt.duration),xt.delay=F(Q,"delay",xt.delay),xt.easeParams=U(Q,"easeParams",xt.easeParams),xt.ease=D(U(Q,"ease",xt.ease),xt.easeParams),xt.hold=F(Q,"hold",xt.hold),xt.repeat=F(Q,"repeat",xt.repeat),xt.repeatDelay=F(Q,"repeatDelay",xt.repeatDelay),xt.yoyo=G(Q,"yoyo",xt.yoyo),xt.flipX=G(Q,"flipX",xt.flipX),xt.flipY=G(Q,"flipY",xt.flipY);for(var Et=0;Et<vt.length;Et++)q.queue(K(q,vt[Et],xt));return q};Y.exports=J},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(9),O=y(267),G=y(163),D=y(100),F=new R({Extends:j,initialize:function(W){j.call(this),this.manager=W,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=D.PENDING_ADD,this._pausedState=D.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(B,W){this.emit(B,this),W&&W.func.apply(W.scope,W.params)},setTimeScale:function(B){return this.timeScale=B,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===D.ACTIVE},add:function(B){return this.queue(G(this,B))},queue:function(B){return this.isPlaying()||(B.parent=this,B.parentIsTimeline=!0,this.data.push(B),this.totalData=this.data.length),this},hasOffset:function(B){return B.offset!==null},isOffsetAbsolute:function(B){return typeof B=="number"},isOffsetRelative:function(B){var W=typeof B;if(W==="string"){var U=B[0];if(U==="-"||U==="+")return!0}return!1},getRelativeOffset:function(B,W){var U=B[0],X=parseFloat(B.substr(2)),K=W;switch(U){case"+":K+=X;break;case"-":K-=X;break}return Math.max(0,K)},calcDuration:function(){for(var B=0,W=0,U=0,X=0;X<this.totalData;X++){var K=this.data[X];K.init(),this.hasOffset(K)?this.isOffsetAbsolute(K.offset)?(K.calculatedOffset=K.offset,K.offset===0&&(U=0)):this.isOffsetRelative(K.offset)&&(K.calculatedOffset=this.getRelativeOffset(K.offset,B)):K.calculatedOffset=U,B=K.totalDuration+K.calculatedOffset,W+=K.totalDuration,U+=K.totalDuration}this.duration=W,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=D.PAUSED,!1):!0},resetTweens:function(B){for(var W=0;W<this.totalData;W++){var U=this.data[W];U.play(B)}},setCallback:function(B,W,U,X){return F.TYPES.indexOf(B)!==-1&&(this.callbacks[B]={func:W,scope:X,params:U}),this},makeActive:function(B){return this.manager.makeActive(B)},play:function(){if(this.state!==D.ACTIVE){if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=D.ACTIVE;this.dispatchTimelineEvent(O.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=D.LOOP_DELAY):(this.state=D.ACTIVE,this.dispatchTimelineEvent(O.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=D.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=D.PENDING_REMOVE,this.dispatchTimelineEvent(O.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(B,W){if(this.state!==D.PAUSED){switch(this.useFrames&&(W=1*this.manager.timeScale),W*=this.timeScale,this.elapsed+=W,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=W,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case D.ACTIVE:for(var U=this.totalData,X=0;X<this.totalData;X++){var K=this.data[X];K.update(B,W)&&U--}this.dispatchTimelineEvent(O.TIMELINE_UPDATE,this.callbacks.onUpdate),U===0&&this.nextState();break;case D.LOOP_DELAY:this.countdown-=W,this.countdown<=0&&(this.state=D.ACTIVE,this.dispatchTimelineEvent(O.TIMELINE_LOOP,this.callbacks.onLoop));break;case D.COMPLETE_DELAY:this.countdown-=W,this.countdown<=0&&(this.state=D.PENDING_REMOVE,this.dispatchTimelineEvent(O.TIMELINE_COMPLETE,this.callbacks.onComplete));break}return this.state===D.PENDING_REMOVE}},stop:function(){this.state=D.PENDING_REMOVE},pause:function(){if(this.state!==D.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=D.PAUSED,this.emit(O.TIMELINE_PAUSE,this),this},resume:function(){return this.state===D.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(O.TIMELINE_RESUME,this)),this},hasTarget:function(B){for(var W=0;W<this.data.length;W++)if(this.data[W].hasTarget(B))return!0;return!1},destroy:function(){for(var B=0;B<this.data.length;B++)this.data[B].stop()}});F.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],Y.exports=F},function(Y,tt,y){/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(86),j=y(41),O=y(32),G=y(2),D=y(64),F={parseBody:function(B,W,U,X){X===void 0&&(X={});for(var K=G(U,"fixtures",[]),J=[],Z=0;Z<K.length;Z++)for(var Q=this.parseFixture(K[Z]),q=0;q<Q.length;q++)J.push(Q[q]);var et=O.clone(U,!0);O.extend(et,X,!0),delete et.fixtures,delete et.type;var rt=j.create(et);return j.setParts(rt,J),j.setPosition(rt,{x:B,y:W}),rt},parseFixture:function(B){var W=O.extend({},!1,B);delete W.circle,delete W.vertices;var U;if(B.circle){var X=G(B.circle,"x"),K=G(B.circle,"y"),J=G(B.circle,"radius");U=[R.circle(X,K,J,W)]}else B.vertices&&(U=this.parseVertices(B.vertices,W));return U},parseVertices:function(B,W){W===void 0&&(W={});for(var U=[],X=0;X<B.length;X++)D.clockwiseSort(B[X]),U.push(j.create(O.extend({position:D.centre(B[X]),vertices:B[X]},W)));return R.flagCoincidentParts(U)}};Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(86),j=y(41),O={parseBody:function(G,D,F,B){B===void 0&&(B={});var W,U=F.vertices;if(U.length===1)B.vertices=U[0],W=j.create(B),R.flagCoincidentParts(W.parts);else{for(var X=[],K=0;K<U.length;K++){var J=j.create({vertices:U[K]});X.push(J)}R.flagCoincidentParts(X),B.parts=X,W=j.create(B)}return W.label=F.label,j.setPosition(W,{x:G,y:D}),W}};Y.exports=O},function(Y,tt,y){var R={};Y.exports=R;var j=y(118),O=y(128),G=y(32),D=y(41),F=y(86);(function(){R.stack=function(B,W,U,X,K,J,Z){for(var Q=j.create({label:"Stack"}),q=B,et=W,rt,nt=0,ot=0;ot<X;ot++){for(var ht=0,ut=0;ut<U;ut++){var ct=Z(q,et,ut,ot,rt,nt);if(ct){var ft=ct.bounds.max.y-ct.bounds.min.y,dt=ct.bounds.max.x-ct.bounds.min.x;ft>ht&&(ht=ft),D.translate(ct,{x:dt*.5,y:ft*.5}),q=ct.bounds.max.x+K,j.addBody(Q,ct),rt=ct,nt+=1}else q+=K}et+=ht+J,q=B}return Q},R.chain=function(B,W,U,X,K,J){for(var Z=B.bodies,Q=1;Q<Z.length;Q++){var q=Z[Q-1],et=Z[Q],rt=q.bounds.max.y-q.bounds.min.y,nt=q.bounds.max.x-q.bounds.min.x,ot=et.bounds.max.y-et.bounds.min.y,ht=et.bounds.max.x-et.bounds.min.x,ut={bodyA:q,pointA:{x:nt*W,y:rt*U},bodyB:et,pointB:{x:ht*X,y:ot*K}},ct=G.extend(ut,J);j.addConstraint(B,O.create(ct))}return B.label+=" Chain",B},R.mesh=function(B,W,U,X,K){var J=B.bodies,Z,Q,q,et,rt;for(Z=0;Z<U;Z++){for(Q=1;Q<W;Q++)q=J[Q-1+Z*W],et=J[Q+Z*W],j.addConstraint(B,O.create(G.extend({bodyA:q,bodyB:et},K)));if(Z>0)for(Q=0;Q<W;Q++)q=J[Q+(Z-1)*W],et=J[Q+Z*W],j.addConstraint(B,O.create(G.extend({bodyA:q,bodyB:et},K))),X&&Q>0&&(rt=J[Q-1+(Z-1)*W],j.addConstraint(B,O.create(G.extend({bodyA:rt,bodyB:et},K)))),X&&Q<W-1&&(rt=J[Q+1+(Z-1)*W],j.addConstraint(B,O.create(G.extend({bodyA:rt,bodyB:et},K))))}return B.label+=" Mesh",B},R.pyramid=function(B,W,U,X,K,J,Z){return R.stack(B,W,U,X,K,J,function(Q,q,et,rt,nt,ot){var ht=Math.min(X,Math.ceil(U/2)),ut=nt?nt.bounds.max.x-nt.bounds.min.x:0;if(!(rt>ht)){rt=ht-rt;var ct=rt,ft=U-1-rt;if(!(et<ct||et>ft)){ot===1&&D.translate(nt,{x:(et+(U%2==1?1:-1))*ut,y:0});var dt=nt?et*ut:0;return Z(B+dt+et*K,q,et,rt,nt,ot)}}})},R.newtonsCradle=function(B,W,U,X,K){for(var J=j.create({label:"Newtons Cradle"}),Z=0;Z<U;Z++){var Q=1.9,q=F.circle(B+Z*(X*Q),W+K,X,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),et=O.create({pointA:{x:B+Z*(X*Q),y:W},bodyB:q});j.addBody(J,q),j.addConstraint(J,et)}return J},R.car=function(B,W,U,X,K){var J=D.nextGroup(!0),Z=20,Q=-U*.5+Z,q=U*.5-Z,et=0,rt=j.create({label:"Car"}),nt=F.rectangle(B,W,U,X,{collisionFilter:{group:J},chamfer:{radius:X*.5},density:2e-4}),ot=F.circle(B+Q,W+et,K,{collisionFilter:{group:J},friction:.8}),ht=F.circle(B+q,W+et,K,{collisionFilter:{group:J},friction:.8}),ut=O.create({bodyB:nt,pointB:{x:Q,y:et},bodyA:ot,stiffness:1,length:0}),ct=O.create({bodyB:nt,pointB:{x:q,y:et},bodyA:ht,stiffness:1,length:0});return j.addBody(rt,nt),j.addBody(rt,ot),j.addBody(rt,ht),j.addConstraint(rt,ut),j.addConstraint(rt,ct),rt},R.softBody=function(B,W,U,X,K,J,Z,Q,q,et){q=G.extend({inertia:1/0},q),et=G.extend({stiffness:.2,render:{type:"line",anchors:!1}},et);var rt=R.stack(B,W,U,X,K,J,function(nt,ot){return F.circle(nt,ot,Q,q)});return R.mesh(rt,U,X,Z,et),rt.label="Soft Body",rt}})()},function(Y,tt,y){var R={};Y.exports=R,y(84);var j=y(32);(function(){R.pathToVertices=function(O,G){typeof window!="undefined"&&!("SVGPathSeg"in window)&&j.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var D,F,B,W,U,X,K,J,Z,Q,q=[],et,rt,nt=0,ot=0,ht=0;G=G||15;var ut=function(ft,dt,pt){var yt=pt%2==1&&pt>1;if(!Z||ft!=Z.x||dt!=Z.y){Z&&yt?(et=Z.x,rt=Z.y):(et=0,rt=0);var St={x:et+ft,y:rt+dt};(yt||!Z)&&(Z=St),q.push(St),ot=et+ft,ht=rt+dt}},ct=function(ft){var dt=ft.pathSegTypeAsLetter.toUpperCase();if(dt!=="Z"){switch(dt){case"M":case"L":case"T":case"C":case"S":case"Q":ot=ft.x,ht=ft.y;break;case"H":ot=ft.x;break;case"V":ht=ft.y;break}ut(ot,ht,ft.pathSegType)}};for(R._svgPathToAbsolute(O),B=O.getTotalLength(),X=[],D=0;D<O.pathSegList.numberOfItems;D+=1)X.push(O.pathSegList.getItem(D));for(K=X.concat();nt<B;){if(Q=O.getPathSegAtLength(nt),U=X[Q],U!=J){for(;K.length&&K[0]!=U;)ct(K.shift());J=U}switch(U.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":W=O.getPointAtLength(nt),ut(W.x,W.y,0);break}nt+=G}for(D=0,F=K.length;D<F;++D)ct(K[D]);return q},R._svgPathToAbsolute=function(O){for(var G,D,F,B,W,U,X=O.pathSegList,K=0,J=0,Z=X.numberOfItems,Q=0;Q<Z;++Q){var q=X.getItem(Q),et=q.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(et))"x"in q&&(K=q.x),"y"in q&&(J=q.y);else switch("x1"in q&&(F=K+q.x1),"x2"in q&&(W=K+q.x2),"y1"in q&&(B=J+q.y1),"y2"in q&&(U=J+q.y2),"x"in q&&(K+=q.x),"y"in q&&(J+=q.y),et){case"m":X.replaceItem(O.createSVGPathSegMovetoAbs(K,J),Q);break;case"l":X.replaceItem(O.createSVGPathSegLinetoAbs(K,J),Q);break;case"h":X.replaceItem(O.createSVGPathSegLinetoHorizontalAbs(K),Q);break;case"v":X.replaceItem(O.createSVGPathSegLinetoVerticalAbs(J),Q);break;case"c":X.replaceItem(O.createSVGPathSegCurvetoCubicAbs(K,J,F,B,W,U),Q);break;case"s":X.replaceItem(O.createSVGPathSegCurvetoCubicSmoothAbs(K,J,W,U),Q);break;case"q":X.replaceItem(O.createSVGPathSegCurvetoQuadraticAbs(K,J,F,B),Q);break;case"t":X.replaceItem(O.createSVGPathSegCurvetoQuadraticSmoothAbs(K,J),Q);break;case"a":X.replaceItem(O.createSVGPathSegArcAbs(K,J,q.r1,q.r2,q.angle,q.largeArcFlag,q.sweepFlag),Q);break;case"z":case"Z":K=G,J=D;break}(et=="M"||et=="m")&&(G=K,D=J)}}})()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(86),j=y(41),O=y(0),G=y(249),D=y(9),F=y(2),B=y(126),W=y(64),U=new O({Extends:D,Mixins:[G.Bounce,G.Collision,G.Friction,G.Gravity,G.Mass,G.Sensor,G.Sleep,G.Static],initialize:function(K,J,Z){D.call(this),this.tile=J,this.world=K,J.physics.matterBody&&J.physics.matterBody.destroy(),J.physics.matterBody=this;var Q=F(Z,"body",null),q=F(Z,"addToWorld",!0);if(Q)this.setBody(Q,q);else{var et=J.getCollisionGroup(),rt=F(et,"objects",[]);rt.length>0?this.setFromTileCollision(Z):this.setFromTileRectangle(Z)}},setFromTileRectangle:function(X){X===void 0&&(X={}),B(X,"isStatic")||(X.isStatic=!0),B(X,"addToWorld")||(X.addToWorld=!0);var K=this.tile.getBounds(),J=K.x+K.width/2,Z=K.y+K.height/2,Q=R.rectangle(J,Z,K.width,K.height,X);return this.setBody(Q,X.addToWorld),this},setFromTileCollision:function(X){X===void 0&&(X={}),B(X,"isStatic")||(X.isStatic=!0),B(X,"addToWorld")||(X.addToWorld=!0);for(var K=this.tile.tilemapLayer.scaleX,J=this.tile.tilemapLayer.scaleY,Z=this.tile.getLeft(),Q=this.tile.getTop(),q=this.tile.getCollisionGroup(),et=F(q,"objects",[]),rt=[],nt=0;nt<et.length;nt++){var ot=et[nt],ht=Z+ot.x*K,ut=Q+ot.y*J,ct=ot.width*K,ft=ot.height*J,dt=null;if(ot.rectangle)dt=R.rectangle(ht+ct/2,ut+ft/2,ct,ft,X);else if(ot.ellipse)dt=R.circle(ht+ct/2,ut+ft/2,ct/2,X);else if(ot.polygon||ot.polyline){var pt=ot.polygon?ot.polygon:ot.polyline,yt=pt.map(function(Ct){return{x:Ct.x*K,y:Ct.y*J}}),St=W.create(yt),At=W.centre(St);ht+=At.x,ut+=At.y,dt=R.fromVertices(ht,ut,St,X)}dt&&rt.push(dt)}return rt.length===1?this.setBody(rt[0],X.addToWorld):rt.length>1&&(X.parts=rt,this.setBody(j.create(X),X.addToWorld)),this},setBody:function(X,K){return K===void 0&&(K=!0),this.body&&this.removeBody(),this.body=X,this.body.gameObject=this,K&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});Y.exports=U},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1399);R.Body=y(41),R.Composite=y(118),R.World=y(596),R.Detector=y(273),R.Grid=y(597),R.Pairs=y(598),R.Pair=y(250),R.Query=y(1400),R.Resolver=y(599),R.SAT=y(274),R.Constraint=y(128),R.Common=y(32),R.Engine=y(1401),R.Events=y(166),R.Sleeping=y(165),R.Plugin=y(595),R.Bodies=y(86),R.Composites=y(591),R.Axes=y(271),R.Bounds=y(84),R.Svg=y(592),R.Vector=y(83),R.Vertices=y(64),R.World.add=R.Composite.add,R.World.remove=R.Composite.remove,R.World.addComposite=R.Composite.addComposite,R.World.addBody=R.Composite.addBody,R.World.addConstraint=R.Composite.addConstraint,R.World.clear=R.Composite.clear,Y.exports=R},function(Y,tt,y){var R={};Y.exports=R;var j=y(32);(function(){R._registry={},R.register=function(O){if(R.isPlugin(O)||j.warn("Plugin.register:",R.toString(O),"does not implement all required fields."),O.name in R._registry){var G=R._registry[O.name],D=R.versionParse(O.version).number,F=R.versionParse(G.version).number;D>F?(j.warn("Plugin.register:",R.toString(G),"was upgraded to",R.toString(O)),R._registry[O.name]=O):D<F?j.warn("Plugin.register:",R.toString(G),"can not be downgraded to",R.toString(O)):O!==G&&j.warn("Plugin.register:",R.toString(O),"is already registered to different plugin object")}else R._registry[O.name]=O;return O},R.resolve=function(O){return R._registry[R.dependencyParse(O).name]},R.toString=function(O){return typeof O=="string"?O:(O.name||"anonymous")+"@"+(O.version||O.range||"0.0.0")},R.isPlugin=function(O){return O&&O.name&&O.version&&O.install},R.isUsed=function(O,G){return O.used.indexOf(G)>-1},R.isFor=function(O,G){var D=O.for&&R.dependencyParse(O.for);return!O.for||G.name===D.name&&R.versionSatisfies(G.version,D.range)},R.use=function(O,G){if(O.uses=(O.uses||[]).concat(G||[]),O.uses.length===0){j.warn("Plugin.use:",R.toString(O),"does not specify any dependencies to install.");return}for(var D=R.dependencies(O),F=j.topologicalSort(D),B=[],W=0;W<F.length;W+=1)if(F[W]!==O.name){var U=R.resolve(F[W]);if(!U){B.push("\u274C "+F[W]);continue}R.isUsed(O,U.name)||(R.isFor(U,O)||(j.warn("Plugin.use:",R.toString(U),"is for",U.for,"but installed on",R.toString(O)+"."),U._warned=!0),U.install?U.install(O):(j.warn("Plugin.use:",R.toString(U),"does not specify an install function."),U._warned=!0),U._warned?(B.push("\u{1F536} "+R.toString(U)),delete U._warned):B.push("\u2705 "+R.toString(U)),O.used.push(U.name))}B.length>0&&!U.silent&&j.info(B.join("  "))},R.dependencies=function(O,G){var D=R.dependencyParse(O),F=D.name;if(G=G||{},!(F in G)){O=R.resolve(O)||O,G[F]=j.map(O.uses||[],function(W){R.isPlugin(W)&&R.register(W);var U=R.dependencyParse(W),X=R.resolve(W);return X&&!R.versionSatisfies(X.version,U.range)?(j.warn("Plugin.dependencies:",R.toString(X),"does not satisfy",R.toString(U),"used by",R.toString(D)+"."),X._warned=!0,O._warned=!0):X||(j.warn("Plugin.dependencies:",R.toString(W),"used by",R.toString(D),"could not be resolved."),O._warned=!0),U.name});for(var B=0;B<G[F].length;B+=1)R.dependencies(G[F][B],G);return G}},R.dependencyParse=function(O){if(j.isString(O)){var G=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return G.test(O)||j.warn("Plugin.dependencyParse:",O,"is not a valid dependency string."),{name:O.split("@")[0],range:O.split("@")[1]||"*"}}return{name:O.name,range:O.range||O.version}},R.versionParse=function(O){var G=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;G.test(O)||j.warn("Plugin.versionParse:",O,"is not a valid version or range.");var D=O.split("-");O=D[0];var F=isNaN(Number(O[0])),B=F?O.substr(1):O,W=j.map(B.split("."),function(U){return Number(U)});return{isRange:F,version:B,range:O,operator:F?O[0]:"",parts:W,prerelease:D[1],number:W[0]*1e8+W[1]*1e4+W[2]}},R.versionSatisfies=function(O,G){G=G||"*";var D=R.versionParse(G),F=D.parts,B=R.versionParse(O),W=B.parts;if(D.isRange){if(D.operator==="*"||O==="*")return!0;if(D.operator==="~")return W[0]===F[0]&&W[1]===F[1]&&W[2]>=F[2];if(D.operator==="^")return F[0]>0?W[0]===F[0]&&B.number>=D.number:F[1]>0?W[1]===F[1]&&W[2]>=F[2]:W[2]===F[2]}return O===G||O==="*"}})()},function(Y,tt,y){var R={};Y.exports=R;var j=y(118);y(128);var O=y(32);(function(){R.create=function(G){var D=j.create(),F={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return O.extend(D,F,G)}})()},function(Y,tt,y){var R={};Y.exports=R;var j=y(250),O=y(273),G=y(32);(function(){R.create=function(D){var F={controller:R,detector:O.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return G.extend(F,D)},R.update=function(D,F,B,W){var U,X,K,J=B.world,Z=D.buckets,Q,q,et=!1,rt=B.metrics;for(rt.broadphaseTests=0,U=0;U<F.length;U++){var nt=F[U];if(!(nt.isSleeping&&!W)&&!(nt.bounds.max.x<J.bounds.min.x||nt.bounds.min.x>J.bounds.max.x||nt.bounds.max.y<J.bounds.min.y||nt.bounds.min.y>J.bounds.max.y)){var ot=R._getRegion(D,nt);if(!nt.region||ot.id!==nt.region.id||W){rt.broadphaseTests+=1,(!nt.region||W)&&(nt.region=ot);var ht=R._regionUnion(ot,nt.region);for(X=ht.startCol;X<=ht.endCol;X++)for(K=ht.startRow;K<=ht.endRow;K++){q=R._getBucketId(X,K),Q=Z[q];var ut=X>=ot.startCol&&X<=ot.endCol&&K>=ot.startRow&&K<=ot.endRow,ct=X>=nt.region.startCol&&X<=nt.region.endCol&&K>=nt.region.startRow&&K<=nt.region.endRow;!ut&&ct&&ct&&Q&&R._bucketRemoveBody(D,Q,nt),(nt.region===ot||ut&&!ct||W)&&(Q||(Q=R._createBucket(Z,q)),R._bucketAddBody(D,Q,nt))}nt.region=ot,et=!0}}}et&&(D.pairsList=R._createActivePairsList(D))},R.clear=function(D){D.buckets={},D.pairs={},D.pairsList=[]},R._regionUnion=function(D,F){var B=Math.min(D.startCol,F.startCol),W=Math.max(D.endCol,F.endCol),U=Math.min(D.startRow,F.startRow),X=Math.max(D.endRow,F.endRow);return R._createRegion(B,W,U,X)},R._getRegion=function(D,F){var B=F.bounds,W=Math.floor(B.min.x/D.bucketWidth),U=Math.floor(B.max.x/D.bucketWidth),X=Math.floor(B.min.y/D.bucketHeight),K=Math.floor(B.max.y/D.bucketHeight);return R._createRegion(W,U,X,K)},R._createRegion=function(D,F,B,W){return{id:D+","+F+","+B+","+W,startCol:D,endCol:F,startRow:B,endRow:W}},R._getBucketId=function(D,F){return"C"+D+"R"+F},R._createBucket=function(D,F){var B=D[F]=[];return B},R._bucketAddBody=function(D,F,B){for(var W=0;W<F.length;W++){var U=F[W];if(!(B.id===U.id||B.isStatic&&U.isStatic)){var X=j.id(B,U),K=D.pairs[X];K?K[2]+=1:D.pairs[X]=[B,U,1]}}F.push(B)},R._bucketRemoveBody=function(D,F,B){F.splice(F.indexOf(B),1);for(var W=0;W<F.length;W++){var U=F[W],X=j.id(B,U),K=D.pairs[X];K&&(K[2]-=1)}},R._createActivePairsList=function(D){var F,B,W=[];F=G.keys(D.pairs);for(var U=0;U<F.length;U++)B=D.pairs[F[U]],B[2]>0?W.push(B):delete D.pairs[F[U]];return W}})()},function(Y,tt,y){var R={};Y.exports=R;var j=y(250),O=y(32);(function(){R._pairMaxIdleLife=1e3,R.create=function(G){return O.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},G)},R.update=function(G,D,F){var B=G.list,W=G.table,U=G.collisionStart,X=G.collisionEnd,K=G.collisionActive,J,Z,Q,q;for(U.length=0,X.length=0,K.length=0,q=0;q<B.length;q++)B[q].confirmedActive=!1;for(q=0;q<D.length;q++)J=D[q],J.collided&&(Z=j.id(J.bodyA,J.bodyB),Q=W[Z],Q?(Q.isActive?K.push(Q):U.push(Q),j.update(Q,J,F),Q.confirmedActive=!0):(Q=j.create(J,F),W[Z]=Q,U.push(Q),B.push(Q)));for(q=0;q<B.length;q++)Q=B[q],Q.isActive&&!Q.confirmedActive&&(j.setActive(Q,!1,F),X.push(Q))},R.removeOld=function(G,D){var F=G.list,B=G.table,W=[],U,X,K,J;for(J=0;J<F.length;J++){if(U=F[J],X=U.collision,X.bodyA.isSleeping||X.bodyB.isSleeping){U.timeUpdated=D;continue}D-U.timeUpdated>R._pairMaxIdleLife&&W.push(J)}for(J=0;J<W.length;J++)K=W[J]-J,U=F[K],delete B[U.id],F.splice(K,1)},R.clear=function(G){return G.table={},G.list.length=0,G.collisionStart.length=0,G.collisionActive.length=0,G.collisionEnd.length=0,G}})()},function(Y,tt,y){var R={};Y.exports=R;var j=y(64),O=y(83),G=y(32),D=y(84);(function(){R._restingThresh=4,R._restingThreshTangent=6,R._positionDampen=.9,R._positionWarming=.8,R._frictionNormalMultiplier=5,R.preSolvePosition=function(F){var B,W,U;for(B=0;B<F.length;B++)W=F[B],!!W.isActive&&(U=W.activeContacts.length,W.collision.parentA.totalContacts+=U,W.collision.parentB.totalContacts+=U)},R.solvePosition=function(F,B,W){var U,X,K,J,Z,Q,q,et,rt,nt,ot,ht,ut,ct,ft,dt,pt=W*R._positionDampen;for(U=0;U<B.length;U++){var yt=B[U];yt.previousPositionImpulse.x=yt.positionImpulse.x,yt.previousPositionImpulse.y=yt.positionImpulse.y}for(U=0;U<F.length;U++)J=F[U],!(!J.isActive||J.isSensor)&&(Z=J.collision,Q=Z.parentA,q=Z.parentB,et=Z.normal,ot=Q.previousPositionImpulse,ht=q.previousPositionImpulse,nt=Z.penetration,ct=ht.x-ot.x+nt.x,ft=ht.y-ot.y+nt.y,X=et.x,K=et.y,rt=X*ct+K*ft,J.separation=rt,dt=(rt-J.slop)*pt,(Q.isStatic||q.isStatic)&&(dt*=2),Q.isStatic||Q.isSleeping||(ut=dt/Q.totalContacts,Q.positionImpulse.x+=X*ut,Q.positionImpulse.y+=K*ut),q.isStatic||q.isSleeping||(ut=dt/q.totalContacts,q.positionImpulse.x-=X*ut,q.positionImpulse.y-=K*ut))},R.postSolvePosition=function(F){for(var B=0;B<F.length;B++){var W=F[B];if(W.totalContacts=0,W.positionImpulse.x!==0||W.positionImpulse.y!==0){for(var U=0;U<W.parts.length;U++){var X=W.parts[U];j.translate(X.vertices,W.positionImpulse),D.update(X.bounds,X.vertices,W.velocity),X.position.x+=W.positionImpulse.x,X.position.y+=W.positionImpulse.y}W.positionPrev.x+=W.positionImpulse.x,W.positionPrev.y+=W.positionImpulse.y,O.dot(W.positionImpulse,W.velocity)<0?(W.positionImpulse.x=0,W.positionImpulse.y=0):(W.positionImpulse.x*=R._positionWarming,W.positionImpulse.y*=R._positionWarming)}}},R.preSolveVelocity=function(F){var B,W,U,X,K,J,Z,Q,q,et,rt,nt,ot,ht,ut=O._temp[0],ct=O._temp[1];for(B=0;B<F.length;B++)if(U=F[B],!(!U.isActive||U.isSensor))for(X=U.activeContacts,K=U.collision,J=K.parentA,Z=K.parentB,Q=K.normal,q=K.tangent,W=0;W<X.length;W++)et=X[W],rt=et.vertex,nt=et.normalImpulse,ot=et.tangentImpulse,(nt!==0||ot!==0)&&(ut.x=Q.x*nt+q.x*ot,ut.y=Q.y*nt+q.y*ot,J.isStatic||J.isSleeping||(ht=O.sub(rt,J.position,ct),J.positionPrev.x+=ut.x*J.inverseMass,J.positionPrev.y+=ut.y*J.inverseMass,J.anglePrev+=O.cross(ht,ut)*J.inverseInertia),Z.isStatic||Z.isSleeping||(ht=O.sub(rt,Z.position,ct),Z.positionPrev.x-=ut.x*Z.inverseMass,Z.positionPrev.y-=ut.y*Z.inverseMass,Z.anglePrev-=O.cross(ht,ut)*Z.inverseInertia))},R.solveVelocity=function(F,B){for(var W=B*B,U=O._temp[0],X=O._temp[1],K=O._temp[2],J=O._temp[3],Z=O._temp[4],Q=O._temp[5],q=0;q<F.length;q++){var et=F[q];if(!(!et.isActive||et.isSensor)){var rt=et.collision,nt=rt.parentA,ot=rt.parentB,ht=rt.normal,ut=rt.tangent,ct=et.activeContacts,ft=1/ct.length;nt.velocity.x=nt.position.x-nt.positionPrev.x,nt.velocity.y=nt.position.y-nt.positionPrev.y,ot.velocity.x=ot.position.x-ot.positionPrev.x,ot.velocity.y=ot.position.y-ot.positionPrev.y,nt.angularVelocity=nt.angle-nt.anglePrev,ot.angularVelocity=ot.angle-ot.anglePrev;for(var dt=0;dt<ct.length;dt++){var pt=ct[dt],yt=pt.vertex,St=O.sub(yt,nt.position,X),At=O.sub(yt,ot.position,K),Ct=O.add(nt.velocity,O.mult(O.perp(St),nt.angularVelocity),J),Pt=O.add(ot.velocity,O.mult(O.perp(At),ot.angularVelocity),Z),Rt=O.sub(Ct,Pt,Q),mt=O.dot(ht,Rt),vt=O.dot(ut,Rt),xt=Math.abs(vt),Tt=G.sign(vt),Et=(1+et.restitution)*mt,Ot=G.clamp(et.separation+mt,0,1)*R._frictionNormalMultiplier,Mt=vt,Ft=1/0;xt>et.friction*et.frictionStatic*Ot*W&&(Ft=xt,Mt=G.clamp(et.friction*Tt*W,-Ft,Ft));var It=O.cross(St,ht),Dt=O.cross(At,ht),bt=ft/(nt.inverseMass+ot.inverseMass+nt.inverseInertia*It*It+ot.inverseInertia*Dt*Dt);if(Et*=bt,Mt*=bt,mt<0&&mt*mt>R._restingThresh*W)pt.normalImpulse=0;else{var wt=pt.normalImpulse;pt.normalImpulse=Math.min(pt.normalImpulse+Et,0),Et=pt.normalImpulse-wt}if(vt*vt>R._restingThreshTangent*W)pt.tangentImpulse=0;else{var $t=pt.tangentImpulse;pt.tangentImpulse=G.clamp(pt.tangentImpulse+Mt,-Ft,Ft),Mt=pt.tangentImpulse-$t}U.x=ht.x*Et+ut.x*Mt,U.y=ht.y*Et+ut.y*Mt,nt.isStatic||nt.isSleeping||(nt.positionPrev.x+=U.x*nt.inverseMass,nt.positionPrev.y+=U.y*nt.inverseMass,nt.anglePrev+=O.cross(St,U)*nt.inverseInertia),ot.isStatic||ot.isSleeping||(ot.positionPrev.x-=U.x*ot.inverseMass,ot.positionPrev.y-=U.y*ot.inverseMass,ot.anglePrev-=O.cross(At,U)*ot.inverseInertia)}}}}})()},function(Y,tt){var y;y=function(){return this}();try{y=y||new Function("return this")()}catch{typeof window=="object"&&(y=window)}Y.exports=y},function(Y,tt,y){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(276),j=function(O,G,D,F){for(var B=O[0],W=1;W<O.length;W++){var U=O[W];R(U,B,G,D,F),B=U}return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(46),j=function(O,G,D,F,B){return R(O,"angle",G,D,F,B)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){for(var G=0;G<R.length;G++){var D=R[G];j.call(O,D)}return R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){O===void 0&&(O=0);for(var G=O;G<R.length;G++){var D=R[G],F=!0;for(var B in j)D[B]!==j[B]&&(F=!1);if(F)return D}return null};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){O===void 0&&(O=0);for(var G=O;G<R.length;G++){var D=R[G],F=!0;for(var B in j)D[B]!==j[B]&&(F=!1);if(F)return D}return null};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(289),j=y(123),O=y(2),G=y(1),D=y(129),F=new D({sys:{queueDepthSort:G,events:{once:G}}},0,0,1,1),B=function(W,U){U===void 0&&(U={});var X=U.hasOwnProperty("width"),K=U.hasOwnProperty("height"),J=O(U,"width",-1),Z=O(U,"height",-1),Q=O(U,"cellWidth",1),q=O(U,"cellHeight",Q),et=O(U,"position",j.TOP_LEFT),rt=O(U,"x",0),nt=O(U,"y",0),ot=0,ht=0,ut=J*Q,ct=Z*q;F.setPosition(rt,nt),F.setSize(Q,q);for(var ft=0;ft<W.length;ft++)if(R(W[ft],F,et),X&&J===-1)F.x+=Q;else if(K&&Z===-1)F.y+=q;else if(K&&!X){if(ht+=q,F.y+=q,ht===ct&&(ht=0,ot+=Q,F.y=nt,F.x+=Q,ot===ut))break}else if(ot+=Q,F.x+=Q,ot===ut&&(ot=0,ht+=q,F.x=rt,F.y+=q,ht===ct))break;return W};Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=2,O={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(G,D,F,B){return G===void 0&&(G=1),D===void 0?this.alpha=G:(this._alphaTL=R(G,0,1),this._alphaTR=R(D,0,1),this._alphaBL=R(F,0,1),this._alphaBR=R(B,0,1)),this},alpha:{get:function(){return this._alpha},set:function(G){var D=R(G,0,1);this._alpha=D,this._alphaTL=D,this._alphaTR=D,this._alphaBL=D,this._alphaBR=D,D===0?this.renderFlags&=~j:this.renderFlags|=j}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(G){var D=R(G,0,1);this._alphaTL=D,D!==0&&(this.renderFlags|=j)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(G){var D=R(G,0,1);this._alphaTR=D,D!==0&&(this.renderFlags|=j)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(G){var D=R(G,0,1);this._alphaBL=D,D!==0&&(this.renderFlags|=j)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(G){var D=R(G,0,1);this._alphaBR=D,D!==0&&(this.renderFlags|=j)}}};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(R){this.scaleX=R/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(R){this.scaleY=R/this.height}},setSize:function(R,j){return this.width=R,this.height=j,this},setDisplaySize:function(R,j){return this.displayWidth=R,this.displayHeight=j,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={texture:null,frame:null,isCropped:!1,setCrop:function(R,j,O,G){if(R===void 0)this.isCropped=!1;else if(this.frame){if(typeof R=="number")this.frame.setCropUVs(this._crop,R,j,O,G,this.flipX,this.flipY);else{var D=R;this.frame.setCropUVs(this._crop,D.x,D.y,D.width,D.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(R){return this.flipX=R,this},setFlipY:function(R){return this.flipY=R,this},setFlip:function(R,j){return this.flipX=R,this.flipY=j,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=y(308),O=y(3),G={prepareBoundsOutput:function(D,F){if(F===void 0&&(F=!1),this.rotation!==0&&j(D,this.x,this.y,this.rotation),F&&this.parentContainer){var B=this.parentContainer.getBoundsTransformMatrix();B.transformPoint(D.x,D.y,D)}return D},getCenter:function(D){return D===void 0&&(D=new O),D.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,D.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,D},getTopLeft:function(D,F){return D||(D=new O),D.x=this.x-this.displayWidth*this.originX,D.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(D,F)},getTopCenter:function(D,F){return D||(D=new O),D.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,D.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(D,F)},getTopRight:function(D,F){return D||(D=new O),D.x=this.x-this.displayWidth*this.originX+this.displayWidth,D.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(D,F)},getLeftCenter:function(D,F){return D||(D=new O),D.x=this.x-this.displayWidth*this.originX,D.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(D,F)},getRightCenter:function(D,F){return D||(D=new O),D.x=this.x-this.displayWidth*this.originX+this.displayWidth,D.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(D,F)},getBottomLeft:function(D,F){return D||(D=new O),D.x=this.x-this.displayWidth*this.originX,D.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(D,F)},getBottomCenter:function(D,F){return D||(D=new O),D.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,D.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(D,F)},getBottomRight:function(D,F){return D||(D=new O),D.x=this.x-this.displayWidth*this.originX+this.displayWidth,D.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(D,F)},getBounds:function(D){D===void 0&&(D=new R);var F,B,W,U,X,K,J,Z;if(this.parentContainer){var Q=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(D),Q.transformPoint(D.x,D.y,D),F=D.x,B=D.y,this.getTopRight(D),Q.transformPoint(D.x,D.y,D),W=D.x,U=D.y,this.getBottomLeft(D),Q.transformPoint(D.x,D.y,D),X=D.x,K=D.y,this.getBottomRight(D),Q.transformPoint(D.x,D.y,D),J=D.x,Z=D.y}else this.getTopLeft(D),F=D.x,B=D.y,this.getTopRight(D),W=D.x,U=D.y,this.getBottomLeft(D),X=D.x,K=D.y,this.getBottomRight(D),J=D.x,Z=D.y;return D.x=Math.min(F,W,X,J),D.y=Math.min(B,U,K,Z),D.width=Math.max(F,W,X,J)-D.x,D.height=Math.max(B,U,K,Z)-D.y,D}};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="blur"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="boot"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="contextlost"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="contextrestored"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="destroy"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="focus"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="hidden"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pause"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="postrender"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="poststep"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="prerender"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="prestep"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="ready"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="resume"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="step"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="visible"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="postrender"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="prerender"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="render"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="resize"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(R){this._displayOriginX=R,this.originX=R/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(R){this._displayOriginY=R,this.originY=R/this.height}},setOrigin:function(R,j){return R===void 0&&(R=.5),j===void 0&&(j=R),this.originX=R,this.originY=j,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(R,j){return R===void 0&&(R=0),j===void 0&&(j=R),this.displayOriginX=R,this.displayOriginY=j,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(36),j=y(99),O=y(6),G=y(100),D=y(3),F={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:G.PLAYING_FORWARD,setPath:function(B,W){W===void 0&&(W=this.pathConfig);var U=this.pathTween;return U&&U.isPlaying()&&U.stop(),this.path=B,W&&this.startFollow(W),this},setRotateToPath:function(B,W){return W===void 0&&(W=0),this.rotateToPath=B,this.pathRotationOffset=W,this},isFollowing:function(){var B=this.pathTween;return B&&B.isPlaying()},startFollow:function(B,W){B===void 0&&(B={}),W===void 0&&(W=0);var U=this.pathTween;U&&U.isPlaying()&&U.stop(),typeof B=="number"&&(B={duration:B}),B.from=O(B,"from",0),B.to=O(B,"to",1);var X=j(B,"positionOnPath",!1);this.rotateToPath=j(B,"rotateToPath",!1),this.pathRotationOffset=O(B,"rotationOffset",0);var K=O(B,"startAt",W);if(K&&(B.onStart=function(Z){var Q=Z.data[0];Q.progress=K,Q.elapsed=Q.duration*K;var q=Q.ease(Q.progress);Q.current=Q.start+(Q.end-Q.start)*q,Q.target[Q.key]=Q.current}),this.pathOffset||(this.pathOffset=new D(this.x,this.y)),this.pathVector||(this.pathVector=new D),this.pathDelta||(this.pathDelta=new D),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(B),this.path.getStartPoint(this.pathOffset),X&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=G.PLAYING_FORWARD,this.rotateToPath){var J=this.path.getPoint(.1);this.rotation=Math.atan2(J.y-this.y,J.x-this.x)+R(this.pathRotationOffset)}return this.pathConfig=B,this},pauseFollow:function(){var B=this.pathTween;return B&&B.isPlaying()&&B.pause(),this},resumeFollow:function(){var B=this.pathTween;return B&&B.isPaused()&&B.resume(),this},stopFollow:function(){var B=this.pathTween;return B&&B.isPlaying()&&B.stop(),this},pathUpdate:function(){var B=this.pathTween;if(B){var W=B.data[0],U=this.pathDelta,X=this.pathVector;if(U.copy(X).negate(),W.state===G.COMPLETE){this.path.getPoint(1,X),U.add(X),X.add(this.pathOffset),this.setPosition(X.x,X.y);return}else if(W.state!==G.PLAYING_FORWARD&&W.state!==G.PLAYING_BACKWARD)return;this.path.getPoint(B.getValue(),X),U.add(X),X.add(this.pathOffset);var K=this.x,J=this.y;this.setPosition(X.x,X.y);var Z=this.x-K,Q=this.y-J;if(Z===0&&Q===0)return;if(W.state!==this._prevDirection){this._prevDirection=W.state;return}this.rotateToPath&&(this.rotation=Math.atan2(Q,Z)+R(this.pathRotationOffset))}}};Y.exports=F},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(R){this.scaleX=R/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(R){this.scaleY=R/this.frame.realHeight}},setSizeToFrame:function(R){return R===void 0&&(R=this.frame),this.width=R.realWidth,this.height=R.realHeight,this},setSize:function(R,j){return this.width=R,this.height=j,this},setDisplaySize:function(R,j){return this.displayWidth=R,this.displayHeight=j,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=8,R={texture:null,frame:null,isCropped:!1,setTexture:function(j,O){return this.texture=this.scene.sys.textures.get(j),this.setFrame(O)},setFrame:function(j,O,G){return O===void 0&&(O=!0),G===void 0&&(G=!0),this.frame=this.texture.get(j),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&O&&this.setSizeToFrame(),this._originComponent&&G&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=8,R={texture:null,frame:null,isCropped:!1,setCrop:function(j,O,G,D){if(j===void 0)this.isCropped=!1;else if(this.frame){if(typeof j=="number")this.frame.setCropUVs(this._crop,j,O,G,D,this.flipX,this.flipY);else{var F=j;this.frame.setCropUVs(this._crop,F.x,F.y,F.width,F.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(j,O){return this.texture=this.scene.sys.textures.get(j),this.setFrame(O)},setFrame:function(j,O,G){return O===void 0&&(O=!0),G===void 0&&(G=!0),this.frame=this.texture.get(j),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&O&&this.setSizeToFrame(),this._originComponent&&G&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(R,j,O,G){return R===void 0&&(R=16777215),j===void 0&&(j=R,O=R,G=R),this.tintTopLeft=R,this.tintTopRight=j,this.tintBottomLeft=O,this.tintBottomRight=G,this.tintFill=!1,this},setTintFill:function(R,j,O,G){return this.setTint(R,j,O,G),this.tintFill=!0,this},tint:{set:function(R){this.setTint(R,R,R,R)}},isTinted:{get:function(){var R=16777215;return this.tintFill||this.tintTopLeft!==R||this.tintTopRight!==R||this.tintBottomLeft!==R||this.tintBottomRight!==R}}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="changedata"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="changedata-"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="destroy"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="removedata"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="setdata"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="addedtoscene"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="destroy"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="removedfromscene"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="complete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="created"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="error"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="loop"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="play"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="seeked"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="seeking"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="stop"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="timeout"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="unlocked"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="addedtoscene"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="boot"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="create"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="destroy"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pause"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="postupdate"},function(Y,tt){/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="prerender"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="preupdate"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="ready"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="removedfromscene"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="render"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="resume"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="shutdown"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="sleep"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="start"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="transitioncomplete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="transitioninit"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="transitionout"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="transitionstart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="transitionwake"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="update"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="wake"},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(46),j=function(O,G,D,F,B){return R(O,"alpha",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(46),j=function(O,G,D,F,B){return R(O,"x",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(46),j=function(O,G,D,F,B,W,U){return D==null&&(D=G),R(O,"x",G,F,W,U),R(O,"y",D,B,W,U)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(46),j=function(O,G,D,F,B){return R(O,"y",G,D,F,B)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){O===void 0&&(O=0),G===void 0&&(G=6.28);for(var D=O,F=(G-O)/R.length,B=0;B<R.length;B++)R[B].x=j.x+j.radius*Math.cos(D),R[B].y=j.y+j.radius*Math.sin(D),D+=F;return R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){O===void 0&&(O=0),G===void 0&&(G=6.28);for(var D=O,F=(G-O)/R.length,B=j.width/2,W=j.height/2,U=0;U<R.length;U++)R[U].x=j.x+B*Math.cos(D),R[U].y=j.y+W*Math.sin(D),D+=F;return R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(172),j=function(O,G){for(var D=R(G,O.length),F=0;F<O.length;F++){var B=O[F],W=D[F];B.x=W.x,B.y=W.y}return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(316),j=y(178),O=y(179),G=function(D,F,B){B===void 0&&(B=0);var W=R(F,!1,D.length);B>0?j(W,B):B<0&&O(W,Math.abs(B));for(var U=0;U<D.length;U++)D[U].x=W[U].x,D[U].y=W[U].y;return D};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(317),j=function(O,G,D){var F=R({x1:G.x1,y1:G.y1,x2:G.x2,y2:G.y2},D),B=R({x1:G.x2,y1:G.y2,x2:G.x3,y2:G.y3},D),W=R({x1:G.x3,y1:G.y3,x2:G.x1,y2:G.y1},D);F.pop(),B.pop(),W.pop(),F=F.concat(B,W);for(var U=F.length/O.length,X=0,K=0;K<O.length;K++){var J=O[K],Z=F[Math.floor(X)];J.x=Z.x,J.y=Z.y,X+=U}return O};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){for(var G=0;G<R.length;G++){var D=R[G];D.anims&&D.anims.play(j,O)}return R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(170),j=function(O,G){for(var D=0;D<O.length;D++)R(G,O[D]);return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(180),j=function(O,G){for(var D=0;D<O.length;D++)R(G,O[D]);return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(173),j=function(O,G){for(var D=0;D<O.length;D++)R(G,O[D]);return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(174),j=function(O,G){for(var D=0;D<O.length;D++)R(G,O[D]);return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(181),j=function(O,G){for(var D=0;D<O.length;D++)R(G,O[D]);return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(46),j=function(O,G,D,F,B){return R(O,"rotation",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(182),j=y(50),O=function(G,D,F){for(var B=D.x,W=D.y,U=0;U<G.length;U++){var X=G[U];R(X,B,W,F,Math.max(1,j(X.x,X.y,B,W)))}return G};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(182),j=function(O,G,D,F){var B=G.x,W=G.y;if(F===0)return O;for(var U=0;U<O.length;U++)R(O[U],B,W,D,F);return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(46),j=function(O,G,D,F,B){return R(O,"scaleX",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(46),j=function(O,G,D,F,B,W,U){return D==null&&(D=G),R(O,"scaleX",G,F,W,U),R(O,"scaleY",D,B,W,U)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(46),j=function(O,G,D,F,B){return R(O,"scaleY",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B){return R(O,"alpha",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F){return R(O,"blendMode",G,0,D,F)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B){return R(O,"depth",G,D,F,B)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){for(var G=0;G<R.length;G++)R[G].setInteractive(j,O);return R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B,W,U){return D==null&&(D=G),R(O,"originX",G,F,W,U),R(O,"originY",D,B,W,U),O.forEach(function(X){X.updateDisplayOrigin()}),O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B){return R(O,"rotation",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B,W,U){return D==null&&(D=G),R(O,"scaleX",G,F,W,U),R(O,"scaleY",D,B,W,U)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B){return R(O,"scaleX",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B){return R(O,"scaleY",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B,W,U){return D==null&&(D=G),R(O,"scrollFactorX",G,F,W,U),R(O,"scrollFactorY",D,B,W,U)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B){return R(O,"scrollFactorX",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B){return R(O,"scrollFactorY",G,D,F,B)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D){for(var F=0;F<R.length;F++)R[F].setTint(j,O,G,D);return R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F){return R(O,"visible",G,0,D,F)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B){return R(O,"x",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B,W,U){return D==null&&(D=G),R(O,"x",G,F,W,U),R(O,"y",D,B,W,U)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(27),j=function(O,G,D,F,B){return R(O,"y",G,D,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(3),j=function(O,G,D,F,B){F===void 0&&(F=0),B===void 0&&(B=new R);var W,U;if(O.length>1){var X,K,J,Z;if(F===0){var Q=O.length-1;for(W=O[Q].x,U=O[Q].y,X=Q-1;X>=0;X--)Z=O[X],K=Z.x,J=Z.y,Z.x=W,Z.y=U,W=K,U=J;O[Q].x=G,O[Q].y=D}else{for(W=O[0].x,U=O[0].y,X=1;X<O.length;X++)Z=O[X],K=Z.x,J=Z.y,Z.x=W,Z.y=U,W=K,U=J;O[0].x=G,O[0].y=D}}else W=O[0].x,U=O[0].y,O[0].x=G,O[0].y=D;return B.x=W,B.y=U,B};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(131),j=function(O){return R(O)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(183),j=function(O,G,D,F,B){B===void 0&&(B=!1);var W=Math.abs(F-D)/O.length,U;if(B)for(U=0;U<O.length;U++)O[U][G]+=R(U*W,D,F);else for(U=0;U<O.length;U++)O[U][G]=R(U*W,D,F);return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(184),j=function(O,G,D,F,B){B===void 0&&(B=!1);var W=Math.abs(F-D)/O.length,U;if(B)for(U=0;U<O.length;U++)O[U][G]+=R(U*W,D,F);else for(U=0;U<O.length;U++)O[U][G]=R(U*W,D,F);return O};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D){D===void 0&&(D=!1);var F=Math.abs(G-O)/R.length,B;if(D)for(B=0;B<R.length;B++)R[B][j]+=B*F+O;else for(B=0;B<R.length;B++)R[B][j]=B*F+O;return R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){for(var j=0;j<R.length;j++)R[j].visible=!R[j].visible;return R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(68),j=function(O,G,D){D===void 0&&(D=0);for(var F=0;F<O.length;F++){var B=O[F];B.x=R(B.x,G.left-D,G.right+D),B.y=R(B.y,G.top-D,G.bottom+D)}return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Animation:y(185),AnimationFrame:y(319),AnimationManager:y(321),AnimationState:y(164),Events:y(132)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="add"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="animationcomplete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="animationcomplete-"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="animationrepeat"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="animationrestart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="animationstart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="animationstop"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="animationupdate"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pauseall"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="remove"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="resumeall"},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={BaseCache:y(323),CacheManager:y(325),Events:y(324)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="add"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="remove"},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Controls:y(739),Scene2D:y(742)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={FixedKeyControl:y(740),SmoothedKeyControl:y(741)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(6),O=new R({initialize:function(D){this.camera=j(D,"camera",null),this.left=j(D,"left",null),this.right=j(D,"right",null),this.up=j(D,"up",null),this.down=j(D,"down",null),this.zoomIn=j(D,"zoomIn",null),this.zoomOut=j(D,"zoomOut",null),this.zoomSpeed=j(D,"zoomSpeed",.01),this.minZoom=j(D,"minZoom",.001),this.maxZoom=j(D,"maxZoom",1e3),this.speedX=0,this.speedY=0;var F=j(D,"speed",null);typeof F=="number"?(this.speedX=F,this.speedY=F):(this.speedX=j(D,"speed.x",0),this.speedY=j(D,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(G){return this.camera=G,this},update:function(G){if(!!this.active){G===void 0&&(G=1);var D=this.camera;this.up&&this.up.isDown?D.scrollY-=this.speedY*G|0:this.down&&this.down.isDown&&(D.scrollY+=this.speedY*G|0),this.left&&this.left.isDown?D.scrollX-=this.speedX*G|0:this.right&&this.right.isDown&&(D.scrollX+=this.speedX*G|0),this.zoomIn&&this.zoomIn.isDown?(D.zoom-=this.zoomSpeed,D.zoom<this.minZoom&&(D.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(D.zoom+=this.zoomSpeed,D.zoom>this.maxZoom&&(D.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(6),O=new R({initialize:function(D){this.camera=j(D,"camera",null),this.left=j(D,"left",null),this.right=j(D,"right",null),this.up=j(D,"up",null),this.down=j(D,"down",null),this.zoomIn=j(D,"zoomIn",null),this.zoomOut=j(D,"zoomOut",null),this.zoomSpeed=j(D,"zoomSpeed",.01),this.minZoom=j(D,"minZoom",.001),this.maxZoom=j(D,"maxZoom",1e3),this.accelX=0,this.accelY=0;var F=j(D,"acceleration",null);typeof F=="number"?(this.accelX=F,this.accelY=F):(this.accelX=j(D,"acceleration.x",0),this.accelY=j(D,"acceleration.y",0)),this.dragX=0,this.dragY=0;var B=j(D,"drag",null);typeof B=="number"?(this.dragX=B,this.dragY=B):(this.dragX=j(D,"drag.x",0),this.dragY=j(D,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var W=j(D,"maxSpeed",null);typeof W=="number"?(this.maxSpeedX=W,this.maxSpeedY=W):(this.maxSpeedX=j(D,"maxSpeed.x",0),this.maxSpeedY=j(D,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(G){return this.camera=G,this},update:function(G){if(!!this.active){G===void 0&&(G=1);var D=this.camera;this._speedX>0?(this._speedX-=this.dragX*G,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*G,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*G,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*G,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(D.scrollX-=this._speedX*G|0),this._speedY!==0&&(D.scrollY-=this._speedY*G|0),this._zoom!==0&&(D.zoom+=this._zoom,D.zoom<this.minZoom?D.zoom=this.minZoom:D.zoom>this.maxZoom&&(D.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Camera:y(326),BaseCamera:y(133),CameraManager:y(799),Effects:y(333),Events:y(37)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="cameradestroy"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerafadeincomplete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerafadeinstart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerafadeoutcomplete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerafadeoutstart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="cameraflashcomplete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="cameraflashstart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="followupdate"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerapancomplete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerapanstart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="postrender"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="prerender"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerarotatecomplete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerarotatestart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerashakecomplete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerashakestart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerazoomcomplete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="camerazoomstart"},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=y(0),O=y(37),G=new j({initialize:function(F){this.camera=F,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(D,F,B,W,U,X,K,J){if(D===void 0&&(D=!0),F===void 0&&(F=1e3),B===void 0&&(B=0),W===void 0&&(W=0),U===void 0&&(U=0),X===void 0&&(X=!1),K===void 0&&(K=null),J===void 0&&(J=this.camera.scene),!X&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=F,this.direction=D,this.progress=0,this.red=B,this.green=W,this.blue=U,this.alpha=D?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=K,this._onUpdateScope=J;var Z=D?O.FADE_OUT_START:O.FADE_IN_START;return this.camera.emit(Z,this.camera,this,F,B,W,U),this.camera},update:function(D,F){!this.isRunning||(this._elapsed+=F,this.progress=R(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(D){if(!this.isRunning&&!this.isComplete)return!1;var F=this.camera;return D.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",D.fillRect(F.x,F.y,F.width,F.height),!0},postRenderWebGL:function(D,F){if(!this.isRunning&&!this.isComplete)return!1;var B=this.camera,W=this.red/255,U=this.green/255,X=this.blue/255;return D.drawFillRect(B.x,B.y,B.width,B.height,F(X,U,W,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var D=this.direction?O.FADE_OUT_COMPLETE:O.FADE_IN_COMPLETE;this.camera.emit(D,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=y(0),O=y(37),G=new j({initialize:function(F){this.camera=F,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(D,F,B,W,U,X,K){return D===void 0&&(D=250),F===void 0&&(F=255),B===void 0&&(B=255),W===void 0&&(W=255),U===void 0&&(U=!1),X===void 0&&(X=null),K===void 0&&(K=this.camera.scene),!U&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=D,this.progress=0,this.red=F,this.green=B,this.blue=W,this.alpha=1,this._elapsed=0,this._onUpdate=X,this._onUpdateScope=K,this.camera.emit(O.FLASH_START,this.camera,this,D,F,B,W),this.camera)},update:function(D,F){!this.isRunning||(this._elapsed+=F,this.progress=R(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(D){if(!this.isRunning)return!1;var F=this.camera;return D.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",D.fillRect(F.x,F.y,F.width,F.height),!0},postRenderWebGL:function(D,F){if(!this.isRunning)return!1;var B=this.camera,W=this.red/255,U=this.green/255,X=this.blue/255;return D.drawFillRect(B.x,B.y,B.width,B.height,F(X,U,W,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(O.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=y(0),O=y(134),G=y(37),D=y(3),F=new j({initialize:function(W){this.camera=W,this.isRunning=!1,this.duration=0,this.source=new D,this.current=new D,this.destination=new D,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(B,W,U,X,K,J,Z){U===void 0&&(U=1e3),X===void 0&&(X=O.Linear),K===void 0&&(K=!1),J===void 0&&(J=null),Z===void 0&&(Z=this.camera.scene);var Q=this.camera;return!K&&this.isRunning||(this.isRunning=!0,this.duration=U,this.progress=0,this.source.set(Q.scrollX,Q.scrollY),this.destination.set(B,W),Q.getScroll(B,W,this.current),typeof X=="string"&&O.hasOwnProperty(X)?this.ease=O[X]:typeof X=="function"&&(this.ease=X),this._elapsed=0,this._onUpdate=J,this._onUpdateScope=Z,this.camera.emit(G.PAN_START,this.camera,this,U,B,W)),Q},update:function(B,W){if(!!this.isRunning){this._elapsed+=W;var U=R(this._elapsed/this.duration,0,1);this.progress=U;var X=this.camera;if(this._elapsed<this.duration){var K=this.ease(U);X.getScroll(this.destination.x,this.destination.y,this.current);var J=this.source.x+(this.current.x-this.source.x)*K,Z=this.source.y+(this.current.y-this.source.y)*K;X.setScroll(J,Z),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,X,U,J,Z)}else X.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,X,U,X.scrollX,X.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(G.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});Y.exports=F},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j===void 0&&(j=1.70158),R*R*((j+1)*R-j)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j===void 0&&(j=1.70158),--R*R*((j+1)*R+j)+1};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j===void 0&&(j=1.70158);var O=j*1.525;return(R*=2)<1?.5*(R*R*((O+1)*R-O)):.5*((R-=2)*R*((O+1)*R+O)+2)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R=1-R,R<1/2.75?1-7.5625*R*R:R<2/2.75?1-(7.5625*(R-=1.5/2.75)*R+.75):R<2.5/2.75?1-(7.5625*(R-=2.25/2.75)*R+.9375):1-(7.5625*(R-=2.625/2.75)*R+.984375)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R<1/2.75?7.5625*R*R:R<2/2.75?7.5625*(R-=1.5/2.75)*R+.75:R<2.5/2.75?7.5625*(R-=2.25/2.75)*R+.9375:7.5625*(R-=2.625/2.75)*R+.984375};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j=!1;return R<.5?(R=1-R*2,j=!0):R=R*2-1,R<1/2.75?R=7.5625*R*R:R<2/2.75?R=7.5625*(R-=1.5/2.75)*R+.75:R<2.5/2.75?R=7.5625*(R-=2.25/2.75)*R+.9375:R=7.5625*(R-=2.625/2.75)*R+.984375,j?(1-R)*.5:R*.5+.5};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return 1-Math.sqrt(1-R*R)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return Math.sqrt(1- --R*R)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return(R*=2)<1?-.5*(Math.sqrt(1-R*R)-1):.5*(Math.sqrt(1-(R-=2)*R)+1)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R*R*R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return--R*R*R+1};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return(R*=2)<1?.5*R*R*R:.5*((R-=2)*R*R+2)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(j===void 0&&(j=.1),O===void 0&&(O=.1),R===0)return 0;if(R===1)return 1;var G=O/4;return j<1?j=1:G=O*Math.asin(1/j)/(2*Math.PI),-(j*Math.pow(2,10*(R-=1))*Math.sin((R-G)*(2*Math.PI)/O))};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(j===void 0&&(j=.1),O===void 0&&(O=.1),R===0)return 0;if(R===1)return 1;var G=O/4;return j<1?j=1:G=O*Math.asin(1/j)/(2*Math.PI),j*Math.pow(2,-10*R)*Math.sin((R-G)*(2*Math.PI)/O)+1};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(j===void 0&&(j=.1),O===void 0&&(O=.1),R===0)return 0;if(R===1)return 1;var G=O/4;return j<1?j=1:G=O*Math.asin(1/j)/(2*Math.PI),(R*=2)<1?-.5*(j*Math.pow(2,10*(R-=1))*Math.sin((R-G)*(2*Math.PI)/O)):j*Math.pow(2,-10*(R-=1))*Math.sin((R-G)*(2*Math.PI)/O)*.5+1};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return Math.pow(2,10*(R-1))-.001};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return 1-Math.pow(2,-10*R)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return(R*=2)<1?.5*Math.pow(2,10*(R-1)):.5*(2-Math.pow(2,-10*(R-1)))};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R*R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R*(2-R)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return(R*=2)<1?.5*R*R:-.5*(--R*(R-2)-1)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R*R*R*R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return 1- --R*R*R*R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return(R*=2)<1?.5*R*R*R*R:-.5*((R-=2)*R*R*R-2)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R*R*R*R*R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return--R*R*R*R*R+1};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return(R*=2)<1?.5*R*R*R*R*R:.5*((R-=2)*R*R*R*R+2)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R===0?0:R===1?1:1-Math.cos(R*Math.PI/2)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R===0?0:R===1?1:Math.sin(R*Math.PI/2)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R===0?0:R===1?1:.5*(1-Math.cos(Math.PI*R))};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j===void 0&&(j=1),R<=0?0:R>=1?1:((j*R|0)+1)*(1/j)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=y(0),O=y(37),G=y(3),D=new j({initialize:function(B){this.camera=B,this.isRunning=!1,this.duration=0,this.intensity=new G,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(F,B,W,U,X){return F===void 0&&(F=100),B===void 0&&(B=.05),W===void 0&&(W=!1),U===void 0&&(U=null),X===void 0&&(X=this.camera.scene),!W&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=F,this.progress=0,typeof B=="number"?this.intensity.set(B):this.intensity.set(B.x,B.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=U,this._onUpdateScope=X,this.camera.emit(O.SHAKE_START,this.camera,this,F,B),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(F,B){if(!!this.isRunning)if(this._elapsed+=B,this.progress=R(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var W=this.intensity,U=this.camera.width,X=this.camera.height,K=this.camera.zoom;this._offsetX=(Math.random()*W.x*U*2-W.x*U)*K,this._offsetY=(Math.random()*W.y*X*2-W.y*X)*K,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(O.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});Y.exports=D},function(Y,tt,y){/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var R=y(18),j=y(0),O=y(37),G=y(134),D=new j({initialize:function(B){this.camera=B,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(F,B,W,U,X,K,J){W===void 0&&(W=1e3),U===void 0&&(U=G.Linear),X===void 0&&(X=!1),K===void 0&&(K=null),J===void 0&&(J=this.camera.scene),B===void 0&&(B=!1),this.shortestPath=B;var Z=F;F<0?(Z=-1*F,this.clockwise=!1):this.clockwise=!0;var Q=360*Math.PI/180;Z=Z-Math.floor(Z/Q)*Q;var q=this.camera;if(!X&&this.isRunning)return q;if(this.isRunning=!0,this.duration=W,this.progress=0,this.source=q.rotation,this.destination=Z,typeof U=="string"&&G.hasOwnProperty(U)?this.ease=G[U]:typeof U=="function"&&(this.ease=U),this._elapsed=0,this._onUpdate=K,this._onUpdateScope=J,this.shortestPath){var et=0,rt=0;this.destination>this.source?et=Math.abs(this.destination-this.source):et=Math.abs(this.destination+Q)-this.source,this.source>this.destination?rt=Math.abs(this.source-this.destination):rt=Math.abs(this.source+Q)-this.destination,et<rt?this.clockwise=!0:et>rt&&(this.clockwise=!1)}return this.camera.emit(O.ROTATE_START,this.camera,this,W,Z),q},update:function(F,B){if(!!this.isRunning){this._elapsed+=B;var W=R(this._elapsed/this.duration,0,1);this.progress=W;var U=this.camera;if(this._elapsed<this.duration){var X=this.ease(W);this.current=U.rotation;var K=0,J=360*Math.PI/180,Z=this.destination,Q=this.current;this.clockwise===!1&&(Z=this.current,Q=this.destination),Z>=Q?K=Math.abs(Z-Q):K=Math.abs(Z+J)-Q;var q=0;this.clockwise?q=U.rotation+K*X:q=U.rotation-K*X,U.rotation=q,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,U,W,q)}else U.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,U,W,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(O.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=y(0),O=y(134),G=y(37),D=new j({initialize:function(B){this.camera=B,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(F,B,W,U,X,K){B===void 0&&(B=1e3),W===void 0&&(W=O.Linear),U===void 0&&(U=!1),X===void 0&&(X=null),K===void 0&&(K=this.camera.scene);var J=this.camera;return!U&&this.isRunning||(this.isRunning=!0,this.duration=B,this.progress=0,this.source=J.zoom,this.destination=F,typeof W=="string"&&O.hasOwnProperty(W)?this.ease=O[W]:typeof W=="function"&&(this.ease=W),this._elapsed=0,this._onUpdate=X,this._onUpdateScope=K,this.camera.emit(G.ZOOM_START,this.camera,this,B,F)),J},update:function(F,B){!this.isRunning||(this._elapsed+=B,this.progress=R(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(G.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(326),j=y(0),O=y(2),G=y(24),D=y(57),F=y(104),B=y(20),W=new j({initialize:function(X){this.scene=X,this.systems=X.sys,this.roundPixels=X.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,X.sys.events.once(B.BOOT,this.boot,this),X.sys.events.on(B.START,this.start,this)},boot:function(){var U=this.systems;U.settings.cameras?this.fromJSON(U.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new R(0,0,U.scale.width,U.scale.height).setScene(this.scene),U.game.scale.on(F.RESIZE,this.onResize,this),this.systems.events.once(B.DESTROY,this.destroy,this)},start:function(){if(!this.main){var U=this.systems;U.settings.cameras?this.fromJSON(U.settings.cameras):this.add(),this.main=this.cameras[0]}var X=this.systems.events;X.on(B.UPDATE,this.update,this),X.once(B.SHUTDOWN,this.shutdown,this)},add:function(U,X,K,J,Z,Q){U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=this.scene.sys.scale.width),J===void 0&&(J=this.scene.sys.scale.height),Z===void 0&&(Z=!1),Q===void 0&&(Q="");var q=new R(U,X,K,J);return q.setName(Q),q.setScene(this.scene),q.setRoundPixels(this.roundPixels),q.id=this.getNextID(),this.cameras.push(q),Z&&(this.main=q),q},addExisting:function(U,X){X===void 0&&(X=!1);var K=this.cameras.indexOf(U);return K===-1?(U.id=this.getNextID(),U.setRoundPixels(this.roundPixels),this.cameras.push(U),X&&(this.main=U),U):null},getNextID:function(){for(var U=this.cameras,X=1,K=0;K<32;K++){for(var J=!1,Z=0;Z<U.length;Z++){var Q=U[Z];if(Q&&Q.id===X){J=!0;continue}}if(J)X=X<<1;else return X}return 0},getTotal:function(U){U===void 0&&(U=!1);for(var X=0,K=this.cameras,J=0;J<K.length;J++){var Z=K[J];(!U||U&&Z.visible)&&X++}return X},fromJSON:function(U){Array.isArray(U)||(U=[U]);for(var X=this.scene.sys.scale.width,K=this.scene.sys.scale.height,J=0;J<U.length;J++){var Z=U[J],Q=O(Z,"x",0),q=O(Z,"y",0),et=O(Z,"width",X),rt=O(Z,"height",K),nt=this.add(Q,q,et,rt);nt.name=O(Z,"name",""),nt.zoom=O(Z,"zoom",1),nt.rotation=O(Z,"rotation",0),nt.scrollX=O(Z,"scrollX",0),nt.scrollY=O(Z,"scrollY",0),nt.roundPixels=O(Z,"roundPixels",!1),nt.visible=O(Z,"visible",!0);var ot=O(Z,"backgroundColor",!1);ot&&nt.setBackgroundColor(ot);var ht=O(Z,"bounds",null);if(ht){var ut=O(ht,"x",0),ct=O(ht,"y",0),ft=O(ht,"width",X),dt=O(ht,"height",K);nt.setBounds(ut,ct,ft,dt)}}return this},getCamera:function(U){for(var X=this.cameras,K=0;K<X.length;K++)if(X[K].name===U)return X[K];return null},getCamerasBelowPointer:function(U){for(var X=this.cameras,K=U.x,J=U.y,Z=[],Q=0;Q<X.length;Q++){var q=X[Q];q.visible&&q.inputEnabled&&D(q,K,J)&&Z.unshift(q)}return Z},remove:function(U,X){X===void 0&&(X=!0),Array.isArray(U)||(U=[U]);for(var K=0,J=this.cameras,Z=0;Z<U.length;Z++){var Q=J.indexOf(U[Z]);Q!==-1&&(X?J[Q].destroy():J[Q].renderList=[],J.splice(Q,1),K++)}return!this.main&&J[0]&&(this.main=J[0]),K},render:function(U,X){for(var K=this.scene,J=this.cameras,Z=0;Z<this.cameras.length;Z++){var Q=J[Z];if(Q.visible&&Q.alpha>0){Q.preRender();var q=this.getVisibleChildren(X.getChildren(),Q);U.render(K,q,Q)}}},getVisibleChildren:function(U,X){for(var K=[],J=0;J<U.length;J++){var Z=U[J];Z.willRender(X)&&K.push(Z)}return K},resetAll:function(){for(var U=0;U<this.cameras.length;U++)this.cameras[U].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(U,X){for(var K=0;K<this.cameras.length;K++)this.cameras[K].update(U,X)},onResize:function(U,X,K,J,Z){for(var Q=0;Q<this.cameras.length;Q++){var q=this.cameras[Q];q._x===0&&q._y===0&&q._width===J&&q._height===Z&&q.setSize(X.width,X.height)}},resize:function(U,X){for(var K=0;K<this.cameras.length;K++)this.cameras[K].setSize(U,X)},shutdown:function(){this.main=void 0;for(var U=0;U<this.cameras.length;U++)this.cameras[U].destroy();this.cameras=[];var X=this.systems.events;X.off(B.UPDATE,this.update,this),X.off(B.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(B.START,this.start,this),this.scene=null,this.systems=null}});G.register("CameraManager",W,"cameras"),Y.exports=W},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="enterfullscreen"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="fullscreenfailed"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="fullscreenunsupported"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="leavefullscreen"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="orientationchange"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="resize"},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Config:y(346),CreateRenderer:y(366),DebugHeader:y(384),Events:y(22),TimeStep:y(385),VisibilityHandler:y(387)}},function(Y,tt){var y=Y.exports={},R,j;function O(){throw new Error("setTimeout has not been defined")}function G(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?R=setTimeout:R=O}catch{R=O}try{typeof clearTimeout=="function"?j=clearTimeout:j=G}catch{j=G}})();function D(q){if(R===setTimeout)return setTimeout(q,0);if((R===O||!R)&&setTimeout)return R=setTimeout,setTimeout(q,0);try{return R(q,0)}catch{try{return R.call(null,q,0)}catch{return R.call(this,q,0)}}}function F(q){if(j===clearTimeout)return clearTimeout(q);if((j===G||!j)&&clearTimeout)return j=clearTimeout,clearTimeout(q);try{return j(q)}catch{try{return j.call(null,q)}catch{return j.call(this,q)}}}var B=[],W=!1,U,X=-1;function K(){!W||!U||(W=!1,U.length?B=U.concat(B):X=-1,B.length&&J())}function J(){if(!W){var q=D(K);W=!0;for(var et=B.length;et;){for(U=B,B=[];++X<et;)U&&U[X].run();X=-1,et=B.length}U=null,W=!1,F(q)}}y.nextTick=function(q){var et=new Array(arguments.length-1);if(arguments.length>1)for(var rt=1;rt<arguments.length;rt++)et[rt-1]=arguments[rt];B.push(new Z(q,et)),B.length===1&&!W&&D(J)};function Z(q,et){this.fun=q,this.array=et}Z.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={};function Q(){}y.on=Q,y.addListener=Q,y.once=Q,y.off=Q,y.removeListener=Q,y.removeAllListeners=Q,y.emit=Q,y.prependListener=Q,y.prependOnceListener=Q,y.listeners=function(q){return[]},y.binding=function(q){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(q){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(136),j={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function O(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(j.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(j.mspointer=!0),navigator.getGamepads&&(j.gamepads=!0),"onwheel"in window||R.ie&&"WheelEvent"in window?j.wheelEvent="wheel":"onmousewheel"in window?j.wheelEvent="mousewheel":R.firefox&&"MouseScrollEvent"in window&&(j.wheelEvent="DOMMouseScroll")),j}Y.exports=O()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(136),j={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function O(){if(typeof importScripts=="function")return j;j.audioData=!!window.Audio,j.webAudio=!!(window.AudioContext||window.webkitAudioContext);var G=document.createElement("audio"),D=!!G.canPlayType;try{if(D&&(G.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(j.ogg=!0),(G.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||G.canPlayType("audio/opus;").replace(/^no$/,""))&&(j.opus=!0),G.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(j.mp3=!0),G.canPlayType("audio/wav").replace(/^no$/,"")&&(j.wav=!0),(G.canPlayType("audio/x-m4a;")||G.canPlayType("audio/aac;").replace(/^no$/,""))&&(j.m4a=!0),G.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(j.webm=!0),G.canPlayType('audio/mp4;codecs="ec-3"')!=="")){if(R.edge)j.dolby=!0;else if(R.safari&&R.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var F=parseInt(RegExp.$1,10),B=parseInt(RegExp.$2,10);(F===10&&B>=11||F>10)&&(j.dolby=!0)}}}catch{}return j}Y.exports=O()},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function R(){if(typeof importScripts=="function")return y;var j=document.createElement("video"),O=!!j.canPlayType;try{O&&(j.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(y.ogg=!0),j.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(y.h264=!0,y.mp4=!0),j.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(y.webm=!0),j.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(y.vp9=!0),j.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(y.hls=!0))}catch{}return y}Y.exports=R()},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={available:!1,cancel:"",keyboard:!1,request:""};function R(){if(typeof importScripts=="function")return y;var j,O="Fullscreen",G="FullScreen",D=["request"+O,"request"+G,"webkitRequest"+O,"webkitRequest"+G,"msRequest"+O,"msRequest"+G,"mozRequest"+G,"mozRequest"+O];for(j=0;j<D.length;j++)if(document.documentElement[D[j]]){y.available=!0,y.request=D[j];break}var F=["cancel"+G,"exit"+O,"webkitCancel"+G,"webkitExit"+O,"msCancel"+G,"msExit"+O,"mozCancel"+G,"mozExit"+O];if(y.available){for(j=0;j<F.length;j++)if(document[F[j]]){y.cancel=F[j];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(y.keyboard=!0),Object.defineProperty(y,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),y}Y.exports=R()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Between:y(349),BetweenPoints:y(350),BetweenPointsY:y(813),BetweenY:y(814),CounterClockwise:y(815),Normalize:y(351),Random:y(816),RandomDegrees:y(817),Reverse:y(818),RotateTo:y(819),ShortestBetween:y(820),Wrap:y(269),WrapDegrees:y(270)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return Math.atan2(j.x-R.x,j.y-R.y)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){return Math.atan2(O-R,G-j)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(14),j=function(O){return O>Math.PI&&(O-=R.PI2),Math.abs(((O+R.TAU)%R.PI2-R.PI2)%R.PI2)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(137),j=function(){return R(-Math.PI,Math.PI)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(137),j=function(){return R(-180,180)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(351),j=function(O){return R(O+Math.PI)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(14),j=function(O,G,D){return D===void 0&&(D=.05),O===G||(Math.abs(G-O)<=D||Math.abs(G-O)>=R.PI2-D?O=G:(Math.abs(G-O)>Math.PI&&(G<O?G+=R.PI2:G-=R.PI2),G>O?O+=D:G<O&&(O-=D))),O};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=j-R;if(O===0)return 0;var G=Math.floor((O- -180)/360);return O-G*360};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Between:y(50),BetweenPoints:y(352),BetweenPointsSquared:y(822),Chebyshev:y(823),Power:y(824),Snake:y(825),Squared:y(353)}},function(Y,tt){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.x-j.x,G=R.y-j.y;return O*O+G*G};Y.exports=y},function(Y,tt){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){return Math.max(Math.abs(R-O),Math.abs(j-G))};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D){return D===void 0&&(D=2),Math.sqrt(Math.pow(O-R,D)+Math.pow(G-j,D))};Y.exports=y},function(Y,tt){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){return Math.abs(R-O)+Math.abs(j-G)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Back:y(334),Bounce:y(335),Circular:y(336),Cubic:y(337),Elastic:y(338),Expo:y(339),Linear:y(340),Quadratic:y(341),Quartic:y(342),Quintic:y(343),Sine:y(344),Stepped:y(345)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Ceil:y(828),Equal:y(124),Floor:y(829),GreaterThan:y(354),LessThan:y(355)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j===void 0&&(j=1e-4),Math.ceil(R-j)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j===void 0&&(j=1e-4),Math.floor(R+j)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Bezier:y(831),CatmullRom:y(832),CubicBezier:y(358),Linear:y(833),QuadraticBezier:y(359),SmoothStep:y(360),SmootherStep:y(834)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(356),j=function(O,G){for(var D=0,F=O.length-1,B=0;B<=F;B++)D+=Math.pow(1-G,F-B)*Math.pow(G,B)*O[B]*R(F,B);return D};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(194),j=function(O,G){var D=O.length-1,F=D*G,B=Math.floor(F);return O[0]===O[D]?(G<0&&(B=Math.floor(F=D*(1+G))),R(F-B,O[(B-1+D)%D],O[B],O[(B+1)%D],O[(B+2)%D])):G<0?O[0]-(R(-F,O[0],O[0],O[1],O[1])-O[0]):G>1?O[D]-(R(F-D,O[D],O[D],O[D-1],O[D-1])-O[D]):R(F-B,O[B?B-1:0],O[B],O[D<B+1?D:B+1],O[D<B+2?D:B+2])};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(135),j=function(O,G){var D=O.length-1,F=D*G,B=Math.floor(F);return G<0?R(O[0],O[1],F):G>1?R(O[D],O[D-1],D-F):R(O[B],O[B+1>D?D:B+1],F-B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(183),j=function(O,G,D){return G+(D-G)*R(O,0,1)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={GetNext:y(361),IsSize:y(138),IsValue:y(836)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R>0&&(R&R-1)==0};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Ceil:y(139),Floor:y(76),To:y(838)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){return O===void 0&&(O=0),j===0?R:(R-=O,R=j*Math.round(R/j),G?(O+R)/j:O+R)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=new R({initialize:function(G){G===void 0&&(G=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],G&&this.init(G)},rnd:function(){var O=2091639*this.s0+this.c*23283064365386963e-26;return this.c=O|0,this.s0=this.s1,this.s1=this.s2,this.s2=O-this.c,this.s2},hash:function(O){var G,D=this.n;O=O.toString();for(var F=0;F<O.length;F++)D+=O.charCodeAt(F),G=.02519603282416938*D,D=G>>>0,G-=D,G*=D,D=G>>>0,G-=D,D+=G*4294967296;return this.n=D,(D>>>0)*23283064365386963e-26},init:function(O){typeof O=="string"?this.state(O):this.sow(O)},sow:function(O){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!O)for(var G=0;G<O.length&&O[G]!=null;G++){var D=O[G];this.s0-=this.hash(D),this.s0+=~~(this.s0<0),this.s1-=this.hash(D),this.s1+=~~(this.s1<0),this.s2-=this.hash(D),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(O,G){return Math.floor(this.realInRange(0,G-O+1)+O)},between:function(O,G){return Math.floor(this.realInRange(0,G-O+1)+O)},realInRange:function(O,G){return this.frac()*(G-O)+O},normal:function(){return 1-2*this.frac()},uuid:function(){var O="",G="";for(G=O="";O++<36;G+=~O%5|O*3&4?(O^15?8^this.frac()*(O^20?16:4):4).toString(16):"-");return G},pick:function(O){return O[this.integerInRange(0,O.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(O){return O[~~(Math.pow(this.frac(),2)*(O.length-1)+.5)]},timestamp:function(O,G){return this.realInRange(O||9466848e5,G||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(O){return typeof O=="string"&&O.match(/^!rnd/)&&(O=O.split(","),this.c=parseFloat(O[1]),this.s0=parseFloat(O[2]),this.s1=parseFloat(O[3]),this.s2=parseFloat(O[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(O){for(var G=O.length-1,D=G;D>0;D--){var F=Math.floor(this.frac()*(D+1)),B=O[F];O[F]=O[D],O[D]=B}return O}});Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){for(var j=0,O=0;O<R.length;O++)j+=+R[O];return j/R.length};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){j===void 0&&(j=0),O===void 0&&(O=10);var G=Math.pow(O,-j);return Math.ceil(R*G)/G};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return Math.abs(R-j)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=y(0),O=y(69),G=y(1),D=new O,F=new j({initialize:function B(W,U,X,K){W===void 0&&(W=0),U===void 0&&(U=0),X===void 0&&(X=0),K===void 0&&(K=B.DefaultOrder),this._x=W,this._y=U,this._z=X,this._order=K,this.onChangeCallback=G},x:{get:function(){return this._x},set:function(B){this._x=B,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(B){this._y=B,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(B){this._z=B,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(B){this._order=B,this.onChangeCallback(this)}},set:function(B,W,U,X){return X===void 0&&(X=this._order),this._x=B,this._y=W,this._z=U,this._order=X,this.onChangeCallback(this),this},copy:function(B){return this.set(B.x,B.y,B.z,B.order)},setFromQuaternion:function(B,W,U){return W===void 0&&(W=this._order),U===void 0&&(U=!1),D.fromQuat(B),this.setFromRotationMatrix(D,W,U)},setFromRotationMatrix:function(B,W,U){W===void 0&&(W=this._order),U===void 0&&(U=!1);var X=B.val,K=X[0],J=X[4],Z=X[8],Q=X[1],q=X[5],et=X[9],rt=X[2],nt=X[6],ot=X[10],ht=0,ut=0,ct=0,ft=.99999;switch(W){case"XYZ":{ut=Math.asin(R(Z,-1,1)),Math.abs(Z)<ft?(ht=Math.atan2(-et,ot),ct=Math.atan2(-J,K)):ht=Math.atan2(nt,q);break}case"YXZ":{ht=Math.asin(-R(et,-1,1)),Math.abs(et)<ft?(ut=Math.atan2(Z,ot),ct=Math.atan2(Q,q)):ut=Math.atan2(-rt,K);break}case"ZXY":{ht=Math.asin(R(nt,-1,1)),Math.abs(nt)<ft?(ut=Math.atan2(-rt,ot),ct=Math.atan2(-J,q)):ct=Math.atan2(Q,K);break}case"ZYX":{ut=Math.asin(-R(rt,-1,1)),Math.abs(rt)<ft?(ht=Math.atan2(nt,ot),ct=Math.atan2(Q,K)):ct=Math.atan2(-J,q);break}case"YZX":{ct=Math.asin(R(Q,-1,1)),Math.abs(Q)<ft?(ht=Math.atan2(-et,q),ut=Math.atan2(-rt,K)):ut=Math.atan2(Z,ot);break}case"XZY":{ct=Math.asin(-R(J,-1,1)),Math.abs(J)<ft?(ht=Math.atan2(nt,q),ut=Math.atan2(Z,K)):ht=Math.atan2(-et,ot);break}}return this._x=ht,this._y=ut,this._z=ct,this._order=W,U&&this.onChangeCallback(this),this}});F.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],F.DefaultOrder="XYZ",Y.exports=F},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){j===void 0&&(j=0),O===void 0&&(O=10);var G=Math.pow(O,-j);return Math.floor(R*G)/G};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R/j/1e3};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R==parseFloat(R)?!(R%2):void 0};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R===parseFloat(R)?!(R%2):void 0};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return Math.min(R+j,O)};Y.exports=y},function(Y,tt){/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j=R.length;if(j===0)return 0;R.sort(function(G,D){return G-D});var O=Math.floor(j/2);return j%2==0?(R[O]+R[O-1])/2:R[O]};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return Math.max(R-j,O)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){O===void 0&&(O=j+1);var D=(R-j)/(O-j);return D>1?G!==void 0?(D=(G-R)/(G-O),D<0&&(D=0)):D=1:D<0&&(D=0),D};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j===void 0&&(j=1);var O=Math.random()*2*Math.PI;return R.x=Math.cos(O)*j,R.y=Math.sin(O)*j,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j===void 0&&(j=1);var O=Math.random()*2*Math.PI,G=Math.random()*2-1,D=Math.sqrt(1-G*G)*j;return R.x=Math.cos(O)*D,R.y=Math.sin(O)*D,R.z=G*j,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j===void 0&&(j=1),R.x=(Math.random()*2-1)*j,R.y=(Math.random()*2-1)*j,R.z=(Math.random()*2-1)*j,R.w=(Math.random()*2-1)*j,R};Y.exports=y},function(Y,tt){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D){return R.x=j+D*Math.cos(G),R.y=O+D*Math.sin(G),R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){j===void 0&&(j=0),O===void 0&&(O=10);var G=Math.pow(O,-j);return Math.round(R*G)/G};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){j===void 0&&(j=1),O===void 0&&(O=1),G===void 0&&(G=1),G*=Math.PI/R;for(var D=[],F=[],B=0;B<R;B++)O-=j*G,j+=O*G,D[B]=O,F[B]=j;return{sin:F,cos:D,length:R}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(3),j=function(O,G,D,F){F===void 0&&(F=new R);var B=0,W=0,U=G*D;return O>0&&O<=U&&(O>G-1?(W=Math.floor(O/G),B=O-W*G):B=O),F.set(B,W)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return Math.abs(R-j)<=O};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(39),j=y(69),O=y(365),G=new j,D=new O,F=new R,B=function(W,U,X){return D.setAxisAngle(U,X),G.fromRotationTranslation(D,F.set(0,0,0)),W.transformMat4(G)};Y.exports=B},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="addtexture"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="onerror"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="onload"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="ready"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="removetexture"},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`)},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pipelineafterflush"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pipelinebeforeflush"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pipelinebind"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pipelineboot"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pipelinedestroy"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pipelinerebind"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pipelineresize"},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join(`
`)},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join(`
`)},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={GenerateTexture:y(388),Palettes:y(889)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ARNE16:y(389),C64:y(890),CGA:y(891),JMP:y(892),MSX:y(893)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Path:y(895),MoveTo:y(393),CubicBezier:y(390),Curve:y(94),Ellipse:y(391),Line:y(392),QuadraticBezier:y(394),Spline:y(395)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(390),O=y(391),G=y(5),D=y(392),F=y(393),B=y(394),W=y(10),U=y(395),X=y(3),K=y(14),J=new R({initialize:function(Q,q){Q===void 0&&(Q=0),q===void 0&&(q=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new X,this._tmpVec2A=new X,this._tmpVec2B=new X,typeof Q=="object"?this.fromJSON(Q):this.startPoint.set(Q,q)},add:function(Z){return this.curves.push(Z),this},circleTo:function(Z,Q,q){return Q===void 0&&(Q=!1),this.ellipseTo(Z,Z,0,360,Q,q)},closePath:function(){var Z=this.curves[0].getPoint(0),Q=this.curves[this.curves.length-1].getPoint(1);return Z.equals(Q)||this.curves.push(new D(Q,Z)),this},cubicBezierTo:function(Z,Q,q,et,rt,nt){var ot=this.getEndPoint(),ht,ut,ct;return Z instanceof X?(ht=Z,ut=Q,ct=q):(ht=new X(q,et),ut=new X(rt,nt),ct=new X(Z,Q)),this.add(new j(ot,ht,ut,ct))},quadraticBezierTo:function(Z,Q,q,et){var rt=this.getEndPoint(),nt,ot;return Z instanceof X?(nt=Z,ot=Q):(nt=new X(q,et),ot=new X(Z,Q)),this.add(new B(rt,nt,ot))},draw:function(Z,Q){for(var q=0;q<this.curves.length;q++){var et=this.curves[q];!et.active||et.draw(Z,Q)}return Z},ellipseTo:function(Z,Q,q,et,rt,nt){var ot=new O(0,0,Z,Q,q,et,rt,nt),ht=this.getEndPoint(this._tmpVec2A),ut=ot.getStartPoint(this._tmpVec2B);return ht.subtract(ut),ot.x=ht.x,ot.y=ht.y,this.add(ot)},fromJSON:function(Z){this.curves=[],this.cacheLengths=[],this.startPoint.set(Z.x,Z.y),this.autoClose=Z.autoClose;for(var Q=0;Q<Z.curves.length;Q++){var q=Z.curves[Q];switch(q.type){case"LineCurve":this.add(D.fromJSON(q));break;case"EllipseCurve":this.add(O.fromJSON(q));break;case"SplineCurve":this.add(U.fromJSON(q));break;case"CubicBezierCurve":this.add(j.fromJSON(q));break;case"QuadraticBezierCurve":this.add(B.fromJSON(q));break}}return this},getBounds:function(Z,Q){Z===void 0&&(Z=new W),Q===void 0&&(Q=16),Z.x=Number.MAX_VALUE,Z.y=Number.MAX_VALUE;for(var q=new W,et=K.MIN_SAFE_INTEGER,rt=K.MIN_SAFE_INTEGER,nt=0;nt<this.curves.length;nt++){var ot=this.curves[nt];!ot.active||(ot.getBounds(q,Q),Z.x=Math.min(Z.x,q.x),Z.y=Math.min(Z.y,q.y),et=Math.max(et,q.right),rt=Math.max(rt,q.bottom))}return Z.right=et,Z.bottom=rt,Z},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var Z=[],Q=0,q=0;q<this.curves.length;q++)Q+=this.curves[q].getLength(),Z.push(Q);return this.cacheLengths=Z,Z},getEndPoint:function(Z){return Z===void 0&&(Z=new X),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,Z):Z.copy(this.startPoint),Z},getLength:function(){var Z=this.getCurveLengths();return Z[Z.length-1]},getPoint:function(Z,Q){Q===void 0&&(Q=new X);for(var q=Z*this.getLength(),et=this.getCurveLengths(),rt=0;rt<et.length;){if(et[rt]>=q){var nt=et[rt]-q,ot=this.curves[rt],ht=ot.getLength(),ut=ht===0?0:1-nt/ht;return ot.getPointAt(ut,Q)}rt++}return null},getPoints:function(Z){Z===void 0&&(Z=12);for(var Q=[],q,et=0;et<this.curves.length;et++){var rt=this.curves[et];if(!!rt.active)for(var nt=rt.getResolution(Z),ot=rt.getPoints(nt),ht=0;ht<ot.length;ht++){var ut=ot[ht];q&&q.equals(ut)||(Q.push(ut),q=ut)}}return this.autoClose&&Q.length>1&&!Q[Q.length-1].equals(Q[0])&&Q.push(Q[0]),Q},getRandomPoint:function(Z){return Z===void 0&&(Z=new X),this.getPoint(Math.random(),Z)},getSpacedPoints:function(Z){Z===void 0&&(Z=40);for(var Q=[],q=0;q<=Z;q++)Q.push(this.getPoint(q/Z));return this.autoClose&&Q.push(Q[0]),Q},getStartPoint:function(Z){return Z===void 0&&(Z=new X),Z.copy(this.startPoint)},getTangent:function(Z,Q){Q===void 0&&(Q=new X);for(var q=Z*this.getLength(),et=this.getCurveLengths(),rt=0;rt<et.length;){if(et[rt]>=q){var nt=et[rt]-q,ot=this.curves[rt],ht=ot.getLength(),ut=ht===0?0:1-nt/ht;return ot.getTangentAt(ut,Q)}rt++}return null},lineTo:function(Z,Q){Z instanceof X?this._tmpVec2B.copy(Z):this._tmpVec2B.set(Z,Q);var q=this.getEndPoint(this._tmpVec2A);return this.add(new D([q.x,q.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(Z){return Z.unshift(this.getEndPoint()),this.add(new U(Z))},moveTo:function(Z,Q){return Z instanceof X?this.add(new F(Z.x,Z.y)):this.add(new F(Z,Q))},toJSON:function(){for(var Z=[],Q=0;Q<this.curves.length;Q++)Z.push(this.curves[Q].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:Z}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});G.register("path",function(Z,Q){return new J(Z,Q)}),Y.exports=J},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={DataManager:y(101),DataManagerPlugin:y(897),Events:y(315)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(101),O=y(24),G=y(20),D=new R({Extends:j,initialize:function(B){j.call(this,B,B.sys.events),this.scene=B,this.systems=B.sys,B.sys.events.once(G.BOOT,this.boot,this),B.sys.events.on(G.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(G.DESTROY,this.destroy,this)},start:function(){this.events.once(G.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(G.SHUTDOWN,this.shutdown,this)},destroy:function(){j.prototype.destroy.call(this),this.events.off(G.START,this.start,this),this.scene=null,this.systems=null}});O.register("DataManagerPlugin",D,"data"),Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Align:y(899),BaseShader:y(396),Bounds:y(902),Canvas:y(906),Color:y(397),ColorMatrix:y(198),Masks:y(916),RGB:y(200)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(123),j=y(17),O={In:y(900),To:y(901)};O=j(!1,O,R),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={BottomCenter:y(290),BottomLeft:y(291),BottomRight:y(292),Center:y(293),LeftCenter:y(295),QuickSet:y(289),RightCenter:y(296),TopCenter:y(297),TopLeft:y(298),TopRight:y(299)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={BottomCenter:y(277),BottomLeft:y(278),BottomRight:y(279),LeftBottom:y(280),LeftCenter:y(281),LeftTop:y(282),QuickSet:y(276),RightBottom:y(283),RightCenter:y(284),RightTop:y(285),TopCenter:y(286),TopLeft:y(287),TopRight:y(288)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={CenterOn:y(294),GetBottom:y(42),GetBounds:y(903),GetCenterX:y(87),GetCenterY:y(89),GetLeft:y(43),GetOffsetX:y(904),GetOffsetY:y(905),GetRight:y(44),GetTop:y(45),SetBottom:y(55),SetCenterX:y(88),SetCenterY:y(90),SetLeft:y(53),SetRight:y(54),SetTop:y(52)}},function(Y,tt,y){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(42),j=y(43),O=y(44),G=y(45),D=function(F,B){B===void 0&&(B={});var W=j(F),U=G(F);return B.x=W,B.y=U,B.width=O(F)-W,B.height=R(F)-U,B};Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.width*R.originX};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.height*R.originY};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={CanvasInterpolation:y(367),CanvasPool:y(31),Smoothing:y(192),TouchAction:y(907),UserSelect:y(908)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j===void 0&&(j="none"),R.style.msTouchAction=j,R.style["ms-touch-action"]=j,R.style["touch-action"]=j,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j===void 0&&(j="none");var O=["-webkit-","-khtml-","-moz-","-ms-",""];return O.forEach(function(G){R.style[G+"user-select"]=j}),R.style["-webkit-touch-callout"]=j,R.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(103),j=function(O){O===void 0&&(O=1024);var G=[],D=255,F,B=255,W=0,U=0;for(F=0;F<=D;F++)G.push({r:B,g:F,b:U,color:R(B,F,U)});for(W=255,F=D;F>=0;F--)G.push({r:F,g:W,b:U,color:R(F,W,U)});for(B=0,F=0;F<=D;F++,W--)G.push({r:B,g:W,b:F,color:R(B,W,F)});for(W=0,U=255,F=0;F<=D;F++,U--,B++)G.push({r:B,g:W,b:U,color:R(B,W,U)});if(O===1024)return G;var X=[],K=0,J=1024/O;for(F=0;F<O;F++)X.push(G[Math.floor(K)]),K+=J;return X};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j={r:R>>16&255,g:R>>8&255,b:R&255,a:255};return R>16777215&&(j.a=R>>>24),j};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(38),j=y(399),O=function(G,D,F){var B=F,W=F,U=F;if(D!==0){var X=F<.5?F*(1+D):F+D-F*D,K=2*F-X;B=j(K,X,G+1/3),W=j(K,X,G),U=j(K,X,G-1/3)}var J=new R;return J.setGLTo(B,W,U,1)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(188),j=function(O,G){O===void 0&&(O=1),G===void 0&&(G=1);for(var D=[],F=0;F<=359;F++)D.push(R(F/359,O,G));return D};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(135),j=function(D,F,B,W,U,X,K,J){K===void 0&&(K=100),J===void 0&&(J=0);var Z=J/K;return{r:R(D,W,Z),g:R(F,U,Z),b:R(B,X,Z)}},O=function(D,F,B,W){return B===void 0&&(B=100),W===void 0&&(W=0),j(D.r,D.g,D.b,F.r,F.g,F.b,B,W)},G=function(D,F,B,W,U,X){return U===void 0&&(U=100),X===void 0&&(X=0),j(D.r,D.g,D.b,F,B,W,U,X)};Y.exports={RGBWithRGB:j,ColorWithRGB:G,ColorWithColor:O}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(195),j=y(38),O=function(G,D){return G===void 0&&(G=0),D===void 0&&(D=255),new j(R(G,D),R(G,D),R(G,D))};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(398),j=function(O,G,D,F,B){return F===void 0&&(F=255),B===void 0&&(B="#"),B==="#"?"#"+((1<<24)+(O<<16)+(G<<8)+D).toString(16).slice(1,7):"0x"+R(F)+R(O)+R(G)+R(D)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={BitmapMask:y(310),GeometryMask:y(311)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R={AddToDOM:y(142),DOMContentLoaded:y(400),GetInnerHeight:y(401),GetScreenOrientation:y(402),GetTarget:y(407),ParseXML:y(408),RemoveFromDOM:y(202),RequestAnimationFrame:y(386)};Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={EventEmitter:y(919)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(9),O=y(24),G=new R({Extends:j,initialize:function(){j.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});O.register("EventEmitter",G,"events"),Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(142),j=y(321),O=y(325),G=y(31),D=y(0),F=y(346),B=y(921),W=y(366),U=y(101),X=y(384),K=y(347),J=y(400),Z=y(9),Q=y(22),q=y(409),et=y(24),rt=y(414),nt=y(415),ot=y(417),ht=y(106),ut=y(422),ct=y(385),ft=y(387),dt=y(426),pt=new D({initialize:function(St){this.config=new F(St),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new Z,this.anims=new j(this),this.textures=new ut(this),this.cache=new O(this),this.registry=new U(this),this.input=new q(this,this.config),this.scene=new ot(this,this.config.sceneConfig),this.device=K,this.scale=new nt(this,this.config),this.sound=null,this.sound=dt.create(this),this.loop=new ct(this,this.config.fps),this.plugins=new rt(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,J(this.boot.bind(this))},boot:function(){if(!et.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),W(this),B(this),X(this),R(this.canvas,this.config.parent),this.textures.once(ht.READY,this.texturesReady,this),this.events.emit(Q.BOOT)},texturesReady:function(){this.events.emit(Q.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),ft(this);var yt=this.events;yt.on(Q.HIDDEN,this.onHidden,this),yt.on(Q.VISIBLE,this.onVisible,this),yt.on(Q.BLUR,this.onBlur,this),yt.on(Q.FOCUS,this.onFocus,this)},step:function(yt,St){if(this.pendingDestroy)return this.runDestroy();var At=this.events;At.emit(Q.PRE_STEP,yt,St),At.emit(Q.STEP,yt,St),this.scene.update(yt,St),At.emit(Q.POST_STEP,yt,St);var Ct=this.renderer;Ct.preRender(),At.emit(Q.PRE_RENDER,Ct,yt,St),this.scene.render(Ct),Ct.postRender(),At.emit(Q.POST_RENDER,Ct,yt,St)},headlessStep:function(yt,St){if(this.pendingDestroy)return this.runDestroy();var At=this.events;At.emit(Q.PRE_STEP,yt,St),At.emit(Q.STEP,yt,St),this.scene.update(yt,St),At.emit(Q.POST_STEP,yt,St),At.emit(Q.PRE_RENDER),At.emit(Q.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(Q.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(Q.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(yt,St){St===void 0&&(St=!1),this.pendingDestroy=!0,this.removeCanvas=yt,this.noReturn=St},runDestroy:function(){this.scene.destroy(),this.events.emit(Q.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(G.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});Y.exports=pt},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(142),j=function(O){var G=O.config;if(!(!G.parent||!G.domCreateContainer)){var D=document.createElement("div");D.style.cssText=["display: block;","width: "+O.scale.width+"px;","height: "+O.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+G.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),O.domContainer=D,R(D,G.parent)}};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="boot"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="destroy"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragend"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragenter"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="drag"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragleave"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragover"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragstart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="drop"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="gameout"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="gameover"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="gameobjectdown"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragend"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragenter"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="drag"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragleave"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragover"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragstart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="drop"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="gameobjectmove"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="gameobjectout"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="gameobjectover"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointerdown"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointermove"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointerout"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointerover"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointerup"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="wheel"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="gameobjectup"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="gameobjectwheel"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="boot"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="process"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="update"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointerdown"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointerdownoutside"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointermove"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointerout"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointerover"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointerup"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointerupoutside"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="wheel"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pointerlockchange"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="preupdate"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="shutdown"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="start"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="update"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="addfile"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="complete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="filecomplete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="filecomplete-"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="loaderror"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="load"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="fileprogress"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="postprocess"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="progress"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="start"},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(!O.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var G=R.source[j];R.add("__BASE",j,0,0,G.width,G.height);for(var D=O.getElementsByTagName("SubTexture"),F,B=0;B<D.length;B++){var W=D[B].attributes,U=W.name.value,X=parseInt(W.x.value,10),K=parseInt(W.y.value,10),J=parseInt(W.width.value,10),Z=parseInt(W.height.value,10);if(F=R.add(U,j,X,K,J,Z),W.frameX){var Q=Math.abs(parseInt(W.frameX.value,10)),q=Math.abs(parseInt(W.frameY.value,10)),et=parseInt(W.frameWidth.value,10),rt=parseInt(W.frameHeight.value,10);F.setTrim(J,Z,Q,q,et,rt)}}return R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.source[j];return R.add("__BASE",j,0,0,O.width,O.height),R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.source[j];return R.add("__BASE",j,0,0,O.width,O.height),R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(77),j=function(O,G,D){if(!D.frames&&!D.textures){console.warn("Invalid Texture Atlas JSON Array");return}var F=O.source[G];O.add("__BASE",G,0,0,F.width,F.height);for(var B=Array.isArray(D.textures)?D.textures[G].frames:D.frames,W,U=0;U<B.length;U++){var X=B[U];W=O.add(X.filename,G,X.frame.x,X.frame.y,X.frame.w,X.frame.h),X.trimmed&&W.setTrim(X.sourceSize.w,X.sourceSize.h,X.spriteSourceSize.x,X.spriteSourceSize.y,X.spriteSourceSize.w,X.spriteSourceSize.h),X.rotated&&(W.rotated=!0,W.updateUVsInverted());var K=X.anchor||X.pivot;K&&(W.customPivot=!0,W.pivotX=K.x,W.pivotY=K.y),W.customData=R(X)}for(var J in D)J!=="frames"&&(Array.isArray(D[J])?O.customData[J]=D[J].slice(0):O.customData[J]=D[J]);return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(77),j=function(O,G,D){if(!D.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var F=O.source[G];O.add("__BASE",G,0,0,F.width,F.height);var B=D.frames,W;for(var U in B)if(!!B.hasOwnProperty(U)){var X=B[U];W=O.add(U,G,X.frame.x,X.frame.y,X.frame.w,X.frame.h),X.trimmed&&W.setTrim(X.sourceSize.w,X.sourceSize.h,X.spriteSourceSize.x,X.spriteSourceSize.y,X.spriteSourceSize.w,X.spriteSourceSize.h),X.rotated&&(W.rotated=!0,W.updateUVsInverted());var K=X.anchor||X.pivot;K&&(W.customPivot=!0,W.pivotX=K.x,W.pivotY=K.y),W.customData=R(X)}for(var J in D)J!=="frames"&&(Array.isArray(D[J])?O.customData[J]=D[J].slice(0):O.customData[J]=D[J]);return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(2),j=function(O,G,D,F,B,W,U){var X=R(U,"frameWidth",null),K=R(U,"frameHeight",X);if(X===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var J=O.source[G];O.add("__BASE",G,0,0,J.width,J.height);var Z=R(U,"startFrame",0),Q=R(U,"endFrame",-1),q=R(U,"margin",0),et=R(U,"spacing",0),rt=Math.floor((B-q+et)/(X+et)),nt=Math.floor((W-q+et)/(K+et)),ot=rt*nt;ot===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",O.key),(Z>ot||Z<-ot)&&(Z=0),Z<0&&(Z=ot+Z),Q!==-1&&(ot=Z+(Q+1));for(var ht=q,ut=q,ct=0,ft=0,dt=0;dt<ot;dt++){ct=0,ft=0;var pt=ht+X,yt=ut+K;pt>B&&(ct=pt-B),yt>W&&(ft=yt-W),O.add(dt,G,D+ht,F+ut,X-ct,K-ft),ht+=X+et,ht+X>B&&(ht=q,ut+=K+et)}return O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(2),j=function(O,G,D){var F=R(D,"frameWidth",null),B=R(D,"frameHeight",F);if(!F)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var W=O.source[0];O.add("__BASE",0,0,0,W.width,W.height),R(D,"startFrame",0),R(D,"endFrame",-1);for(var U=R(D,"margin",0),X=R(D,"spacing",0),K=G.cutX,J=G.cutY,Z=G.cutWidth,Q=G.cutHeight,q=G.realWidth,et=G.realHeight,rt=Math.floor((q-U+X)/(F+X)),nt=Math.floor((et-U+X)/(B+X)),ot=G.x,ht=F-ot,ut=F-(q-Z-ot),ct=G.y,ft=B-ct,dt=B-(et-Q-ct),pt,yt=U,St=U,At=0,Ct=G.sourceIndex,Pt=0;Pt<nt;Pt++){for(var Rt=Pt===0,mt=Pt===nt-1,vt=0;vt<rt;vt++){var xt=vt===0,Tt=vt===rt-1;if(pt=O.add(At,Ct,K+yt,J+St,F,B),xt||Rt||Tt||mt){var Et=xt?ot:0,Ot=Rt?ct:0,Mt=0,Ft=0;xt&&(Mt+=F-ht),Tt&&(Mt+=F-ut),Rt&&(Ft+=B-ft),mt&&(Ft+=B-dt);var It=F-Mt,Dt=B-Ft;pt.cutWidth=It,pt.cutHeight=Dt,pt.setTrim(F,B,Et,Ot,It,Dt)}yt+=X,xt?yt+=ht:Tt?yt+=ut:yt+=F,At++}yt=U,St+=X,Rt?St+=ft:mt?St+=dt:St+=B}return O};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=0,R=function(O,G,D,F){var B=y-F.y-F.height;O.add(D,G,F.x,B,F.width,F.height)},j=function(O,G,D){var F=O.source[G];O.add("__BASE",G,0,0,F.width,F.height),y=F.height;for(var B=D.split(`
`),W=/^[ ]*(- )*(\w+)+[: ]+(.*)/,U="",X="",K={x:0,y:0,width:0,height:0},J=0;J<B.length;J++){var Z=B[J].match(W);if(!!Z){var Q=Z[1]==="- ",q=Z[2],et=Z[3];if(Q&&(X!==U&&(R(O,G,X,K),U=X),K={x:0,y:0,width:0,height:0}),q==="name"){X=et;continue}switch(q){case"x":case"y":case"width":case"height":K[q]=parseInt(et,10);break}}}return X!==U&&R(O,G,X,K),O};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="complete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="decoded"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="decodedall"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="destroy"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="detune"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="detune"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="mute"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="rate"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="volume"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="loop"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="looped"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="mute"},function(Y,tt){/**
 * @author       pi-kei
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pan"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pauseall"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pause"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="play"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="rate"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="resumeall"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="resume"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="seek"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="stopall"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="stop"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="unlocked"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="volume"},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R={Events:y(75),DisplayList:y(1012),GameObjectCreator:y(16),GameObjectFactory:y(5),UpdateList:y(1040),Components:y(11),GetCalcMatrix:y(19),BuildGameObject:y(28),BuildGameObjectAnimation:y(439),GameObject:y(15),BitmapText:y(148),Blitter:y(213),Bob:y(440),Container:y(214),DOMElement:y(442),DynamicBitmapText:y(215),Extern:y(444),Graphics:y(216),Group:y(113),Image:y(125),Layer:y(219),Particles:y(1074),PathFollower:y(457),RenderTexture:y(221),RetroFont:y(1082),Rope:y(223),Sprite:y(73),Text:y(224),GetTextSize:y(458),MeasureText:y(460),TextStyle:y(459),TileSprite:y(225),Zone:y(129),Video:y(226),Shape:y(34),Arc:y(461),Curve:y(462),Ellipse:y(463),Grid:y(464),IsoBox:y(465),IsoTriangle:y(466),Line:y(467),Polygon:y(468),Rectangle:y(473),Star:y(474),Triangle:y(475),Factories:{Blitter:y(1130),Container:y(1131),DOMElement:y(1132),DynamicBitmapText:y(1133),Extern:y(1134),Graphics:y(1135),Group:y(1136),Image:y(1137),Layer:y(1138),Particles:y(1139),PathFollower:y(1140),RenderTexture:y(1141),Rope:y(1142),Sprite:y(1143),StaticBitmapText:y(1144),Text:y(1145),TileSprite:y(1146),Zone:y(1147),Video:y(1148),Arc:y(1149),Curve:y(1150),Ellipse:y(1151),Grid:y(1152),IsoBox:y(1153),IsoTriangle:y(1154),Line:y(1155),Polygon:y(1156),Rectangle:y(1157),Star:y(1158),Triangle:y(1159)},Creators:{Blitter:y(1160),Container:y(1161),DynamicBitmapText:y(1162),Graphics:y(1163),Group:y(1164),Image:y(1165),Layer:y(1166),Particles:y(1167),RenderTexture:y(1168),Rope:y(1169),Sprite:y(1170),StaticBitmapText:y(1171),Text:y(1172),TileSprite:y(1173),Zone:y(1174),Video:y(1175)}};R.Shader=y(229),R.Mesh=y(230),R.PointLight=y(150),R.Factories.Shader=y(1184),R.Factories.Mesh=y(1185),R.Factories.PointLight=y(1186),R.Creators.Shader=y(1187),R.Creators.Mesh=y(1188),R.Creators.PointLight=y(1189),R.Light=y(481),R.LightsManager=y(482),R.LightsPlugin=y(1190),Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(110),O=y(24),G=y(75),D=y(20),F=y(79),B=new R({Extends:j,initialize:function(U){j.call(this,U),this.sortChildrenFlag=!1,this.scene=U,this.systems=U.sys,this.events=U.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(D.BOOT,this.boot,this),this.events.on(D.START,this.start,this)},boot:function(){this.events.once(D.DESTROY,this.destroy,this)},addChildCallback:function(W){W.displayList&&W.displayList!==this&&W.removeFromDisplayList(),W.displayList||(this.queueDepthSort(),W.displayList=this,W.emit(G.ADDED_TO_SCENE,W,this.scene),this.events.emit(D.ADDED_TO_SCENE,W,this.scene))},removeChildCallback:function(W){this.queueDepthSort(),W.displayList=null,W.emit(G.REMOVED_FROM_SCENE,W,this.scene),this.events.emit(D.REMOVED_FROM_SCENE,W,this.scene)},start:function(){this.events.once(D.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(F(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(W,U){return W._depth-U._depth},getChildren:function(){return this.list},shutdown:function(){for(var W=this.list,U=W.length;U--;)W[U].destroy(!0);W.length=0,this.events.off(D.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(D.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});O.register("DisplayList",B,"displayList"),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={CheckMatrix:y(209),MatrixToString:y(1014),ReverseColumns:y(1015),ReverseRows:y(1016),Rotate180:y(1017),RotateLeft:y(1018),RotateMatrix:y(147),RotateRight:y(1019),Translate:y(1020),TransposeMatrix:y(435)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(186),j=y(209),O=function(G){var D="";if(!j(G))return D;for(var F=0;F<G.length;F++){for(var B=0;B<G[F].length;B++){var W=G[F][B].toString();W!=="undefined"?D+=R(W,2):D+="?",B<G[F].length-1&&(D+=" |")}if(F<G.length-1){D+=`
`;for(var U=0;U<G[F].length;U++)D+="---",U<G[F].length-1&&(D+="+");D+=`
`}}return D};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.reverse()};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){for(var j=0;j<R.length;j++)R[j].reverse();return R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(147),j=function(O){return R(O,180)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(147),j=function(O){return R(O,90)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(147),j=function(O){return R(O,-90)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(178),j=y(179),O=function(G,D,F){if(D===void 0&&(D=0),F===void 0&&(F=0),F!==0&&(F<0?R(G,Math.abs(F)):j(G,F)),D!==0)for(var B=0;B<G.length;B++){var W=G[B];D<0?R(W,Math.abs(D)):j(W,D)}return G};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D){if(D===void 0&&(D=R),O>0){var F=O-R.length;if(F<=0)return null}if(!Array.isArray(j))return R.indexOf(j)===-1?(R.push(j),G&&G.call(D,j),j):null;for(var B=j.length-1;B>=0;)R.indexOf(j[B])!==-1&&j.splice(B,1),B--;if(B=j.length,B===0)return null;O>0&&B>F&&(j.splice(F),B=F);for(var W=0;W<B;W++){var U=j[W];R.push(U),G&&G.call(D,U)}return j};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D,F){if(O===void 0&&(O=0),F===void 0&&(F=R),G>0){var B=G-R.length;if(B<=0)return null}if(!Array.isArray(j))return R.indexOf(j)===-1?(R.splice(O,0,j),D&&D.call(F,j),j):null;for(var W=j.length-1;W>=0;)R.indexOf(j[W])!==-1&&j.pop(),W--;if(W=j.length,W===0)return null;G>0&&W>B&&(j.splice(B),W=B);for(var U=W-1;U>=0;U--){var X=j[U];R.splice(O,0,X),D&&D.call(F,X)}return j};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.indexOf(j);return O!==-1&&O<R.length&&(R.splice(O,1),R.push(j)),j};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(78),j=function(O,G,D,F,B){F===void 0&&(F=0),B===void 0&&(B=O.length);var W=0;if(R(O,F,B))for(var U=F;U<B;U++){var X=O[U];X[G]===D&&W++}return W};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G,D=[null];for(G=3;G<arguments.length;G++)D.push(arguments[G]);for(G=0;G<R.length;G++)D[0]=R[G],j.apply(O,D);return R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(78),j=function(O,G,D,F,B){if(F===void 0&&(F=0),B===void 0&&(B=O.length),R(O,F,B)){var W,U=[null];for(W=5;W<arguments.length;W++)U.push(arguments[W]);for(W=F;W<B;W++)U[0]=O[W],G.apply(D,U)}return O};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.indexOf(j);if(O>0){var G=R[O-1],D=R.indexOf(G);R[O]=G,R[D]=j}return R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=R.indexOf(j);if(G===-1||O<0||O>=R.length)throw new Error("Supplied index out of bounds");return G!==O&&(R.splice(G,1),R.splice(O,0,j)),j};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.indexOf(j);if(O!==-1&&O<R.length-1){var G=R[O+1],D=R.indexOf(G);R[O]=G,R[D]=j}return R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(j===O)return R;var G=R.indexOf(j),D=R.indexOf(O);if(G<0||D<0)throw new Error("Supplied items must be elements of the same array");return G>D||(R.splice(G,1),D===R.length-1?R.push(j):R.splice(D,0,j)),R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(j===O)return R;var G=R.indexOf(j),D=R.indexOf(O);if(G<0||D<0)throw new Error("Supplied items must be elements of the same array");return G<D||(R.splice(G,1),D===0?R.unshift(j):R.splice(D,0,j)),R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(363),j=function(O,G,D){O===void 0&&(O=0),G===void 0&&(G=null),D===void 0&&(D=1),G===null&&(G=O,O=0);for(var F=[],B=Math.max(R((G-O)/(D||1)),0),W=0;W<B;W++)F.push(O),O+=D;return F};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(74),j=function(O,G,D,F){if(F===void 0&&(F=O),G<0||G>O.length-1)throw new Error("Index out of bounds");var B=R(O,G);return D&&D.call(F,B),B};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(78),j=function(O,G,D,F,B){if(G===void 0&&(G=0),D===void 0&&(D=O.length),B===void 0&&(B=O),R(O,G,D)){var W=D-G,U=O.splice(G,W);if(F)for(var X=0;X<U.length;X++){var K=U[X];F.call(B,K)}return U}else return[]};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(74),j=function(O,G,D){G===void 0&&(G=0),D===void 0&&(D=O.length);var F=G+Math.floor(Math.random()*D);return R(O,F)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=R.indexOf(j),D=R.indexOf(O);return G!==-1&&D===-1?(R[G]=O,!0):!1};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.indexOf(j);return O!==-1&&O>0&&(R.splice(O,1),R.unshift(j)),j};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(78),j=function(O,G,D,F,B){if(F===void 0&&(F=0),B===void 0&&(B=O.length),R(O,F,B))for(var W=F;W<B;W++){var U=O[W];U.hasOwnProperty(G)&&(U[G]=D)}return O};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){if(j===O)return R;var G=R.indexOf(j),D=R.indexOf(O);if(G<0||D<0)throw new Error("Supplied items must be elements of the same array");return R[G]=O,R[D]=j,R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(211),O=y(24),G=y(20),D=new R({Extends:j,initialize:function(B){j.call(this),this.checkQueue=!0,this.scene=B,this.systems=B.sys,B.sys.events.once(G.BOOT,this.boot,this),B.sys.events.on(G.START,this.start,this)},boot:function(){this.systems.events.once(G.DESTROY,this.destroy,this)},start:function(){var F=this.systems.events;F.on(G.PRE_UPDATE,this.update,this),F.on(G.UPDATE,this.sceneUpdate,this),F.once(G.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(F,B){for(var W=this._active,U=W.length,X=0;X<U;X++){var K=W[X];K.active&&K.preUpdate.call(K,F,B)}},shutdown:function(){for(var F=this._active.length;F--;)this._active[F].destroy(!0);for(F=this._pending.length;F--;)this._pending[F].destroy(!0);for(F=this._destroy.length;F--;)this._destroy[F].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var B=this.systems.events;B.off(G.PRE_UPDATE,this.update,this),B.off(G.UPDATE,this.sceneUpdate,this),B.off(G.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(G.START,this.start,this),this.scene=null,this.systems=null}});O.register("UpdateList",D,"updateList"),Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="add"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="remove"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){if(O===void 0&&(O=!1),G===void 0)return G={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},G;var D=R.text,F=D.length,B=R.maxWidth,W=R.wordWrapCharCode,U=Number.MAX_VALUE,X=Number.MAX_VALUE,K=0,J=0,Z=R.fontData.chars,Q=R.fontData.lineHeight,q=R.letterSpacing,et=0,rt=0,nt=0,ot=null,ht=R._align,ut=0,ct=0,ft=R.fontSize/R.fontData.size,dt=ft*R.scaleX,pt=ft*R.scaleY,yt=null,St=0,At=[],Ct=Number.MAX_VALUE,Pt=0,Rt=0,mt=0,vt,xt=[],Tt=[],Et=null;if(B>0){for(vt=0;vt<F;vt++){if(nt=D.charCodeAt(vt),nt===10){Et!==null&&(xt.push({word:Et.word,i:Et.i,x:Et.x*dt,y:Et.y*pt,w:Et.w*dt,h:Et.h*pt,cr:!0}),Et=null),et=0,rt+=Q,yt=null;continue}if(ot=Z[nt],!!ot){if(yt!==null)var Ot=ot.kerning[St];nt===W?Et!==null&&(xt.push({word:Et.word,i:Et.i,x:Et.x*dt,y:Et.y*pt,w:Et.w*dt,h:Et.h*pt,cr:!1}),Et=null):(Et===null&&(Et={word:"",i:vt,x:et,y:rt,w:0,h:Q,cr:!1}),Et.word=Et.word.concat(D[vt]),Et.w+=ot.xOffset+ot.xAdvance+(Ot!==void 0?Ot:0)),et+=ot.xAdvance+q,yt=ot,St=nt}}Et!==null&&xt.push({word:Et.word,i:Et.i,x:Et.x*dt,y:Et.y*pt,w:Et.w*dt,h:Et.h*pt,cr:!1}),et=0,rt=0,yt=null,St=0;var Mt,Ft=0,It=[];for(vt=0;vt<xt.length;vt++){var Dt=xt[vt],bt=Dt.x,wt=Dt.x+Dt.w;if(Mt){var $t=bt-(Mt.x+Mt.w);Ft=bt-($t+Mt.w),Mt=null}var Ut=bt-Ft,Nt=wt-Ft;Ut>B||Nt>B?(It.push(Dt.i-1),Dt.cr?(It.push(Dt.i+Dt.word.length),Ft=0,Mt=null):Mt=Dt):Dt.cr&&(It.push(Dt.i+Dt.word.length),Ft=0,Mt=null)}var Yt=function(Qt,Jt,te){return Qt.substr(0,Jt)+te+Qt.substr(Jt+1)};for(vt=It.length-1;vt>=0;vt--)D=Yt(D,It[vt],`
`);G.wrappedText=D,F=D.length,xt=[],Et=null}var Ht=0;for(vt=0;vt<F;vt++){if(nt=D.charCodeAt(vt),nt===10){Et!==null&&(xt.push({word:Et.word,i:Et.i,x:Et.x*dt,y:Et.y*pt,w:Et.w*dt,h:Et.h*pt}),Et=null),et=0,rt+=Q,yt=null,At[Rt]=mt,mt>Pt&&(Pt=mt),mt<Ct&&(Ct=mt),Rt++,mt=0;continue}if(ot=Z[nt],!!ot){if(ut=et,ct=rt,yt!==null){var Xt=ot.kerning[St];ut+=Xt!==void 0?Xt:0}U>ut&&(U=ut),X>ct&&(X=ct);var zt=ut+ot.xAdvance,Bt=ct+Q;K<zt&&(K=zt),J<Bt&&(J=Bt);var jt=ot.xOffset+ot.xAdvance+(Xt!==void 0?Xt:0);nt===W?Et!==null&&(xt.push({word:Et.word,i:Et.i,x:Et.x*dt,y:Et.y*pt,w:Et.w*dt,h:Et.h*pt}),Et=null):(Et===null&&(Et={word:"",i:Ht,x:et,y:rt,w:0,h:Q}),Et.word=Et.word.concat(D[vt]),Et.w+=jt),Tt.push({i:Ht,char:D[vt],code:nt,x:(ot.xOffset+et)*ft,y:(ot.yOffset+rt)*ft,w:ot.width*ft,h:ot.height*ft,t:rt*ft,r:zt*ft,b:Q*ft,line:Rt,glyph:ot}),et+=ot.xAdvance+q,yt=ot,St=nt,mt=zt*ft,Ht++}}if(Et!==null&&xt.push({word:Et.word,i:Et.i,x:Et.x*dt,y:Et.y*pt,w:Et.w*dt,h:Et.h*pt}),At[Rt]=mt,mt>Pt&&(Pt=mt),mt<Ct&&(Ct=mt),ht>0)for(var Vt=0;Vt<Tt.length;Vt++){var Wt=Tt[Vt];if(ht===1){var qt=(Pt-At[Wt.line])/2;Wt.x+=qt,Wt.r+=qt}else if(ht===2){var _t=Pt-At[Wt.line];Wt.x+=_t,Wt.r+=_t}}var Zt=G.local,Kt=G.global,kt=G.lines;return Zt.x=U*ft,Zt.y=X*ft,Zt.width=K*ft,Zt.height=J*ft,Kt.x=R.x-R._displayOriginX+U*dt,Kt.y=R.y-R._displayOriginY+X*pt,Kt.width=K*dt,Kt.height=J*pt,kt.shortest=Ct,kt.longest=Pt,kt.lengths=At,j&&(Zt.x=Math.ceil(Zt.x),Zt.y=Math.ceil(Zt.y),Zt.width=Math.ceil(Zt.width),Zt.height=Math.ceil(Zt.height),Kt.x=Math.ceil(Kt.x),Kt.y=Math.ceil(Kt.y),Kt.width=Math.ceil(Kt.width),Kt.height=Math.ceil(Kt.height),kt.shortest=Math.ceil(Ct),kt.longest=Math.ceil(Pt)),O&&(R._displayOriginX=R.originX*Zt.width,R._displayOriginY=R.originY*Zt.height,Kt.x=R.x-R._displayOriginX*R.scaleX,Kt.y=R.y-R._displayOriginY*R.scaleY,j&&(Kt.x=Math.ceil(Kt.x),Kt.y=Math.ceil(Kt.y))),G.words=xt,G.characters=Tt,G.lines.height=Q,G.scale=ft,G.scaleX=R.scaleX,G.scaleY=R.scaleY,G};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(212),j=function(O,G,D,F,B,W,U){var X=O.sys.textures.get(D),K=X.get(F),J=O.sys.cache.xml.get(B);if(K&&J){var Z=R(J,K,W,U,X);return O.sys.cache.bitmapFont.add(G,{data:Z,texture:D,frame:F,fromAtlas:!0}),!0}else return!1};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1046),j=y(1048),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1047),j=y(19),O=y(12),G=function(D,F,B,W){var U=F._text,X=U.length;if(X!==0){B.addToRenderList(F);var K=D.pipelines.set(F.pipeline,F),J=j(F,B,W).calc,Z=B.roundPixels,Q=B.alpha,q=F.charColors,et=F.tintFill,rt=O.getTintAppendFloatAlpha,nt=rt(F.tintTopLeft,Q*F._alphaTL),ot=rt(F.tintTopRight,Q*F._alphaTR),ht=rt(F.tintBottomLeft,Q*F._alphaBL),ut=rt(F.tintBottomRight,Q*F._alphaBR),ct=F.frame.glTexture,ft=K.setGameObject(F),dt=F.getTextBounds(!1),pt,yt,St,At=dt.characters,Ct=F.dropShadowX,Pt=F.dropShadowY,Rt=Ct!==0||Pt!==0;if(D.pipelines.preBatch(F),Rt){var mt=F.dropShadowColor,vt=F.dropShadowAlpha,xt=rt(mt,Q*vt*F._alphaTL),Tt=rt(mt,Q*vt*F._alphaTR),Et=rt(mt,Q*vt*F._alphaBL),Ot=rt(mt,Q*vt*F._alphaBR);for(pt=0;pt<At.length;pt++)yt=At[pt],St=yt.glyph,!(yt.code===32||St.width===0||St.height===0)&&R(K,F,yt,St,Ct,Pt,J,Z,xt,Tt,Et,Ot,1,ct,ft)}for(pt=0;pt<At.length;pt++)if(yt=At[pt],St=yt.glyph,!(yt.code===32||St.width===0||St.height===0))if(q[yt.i]){var Mt=q[yt.i],Ft=Mt.tintEffect,It=rt(Mt.tintTL,Q*F._alphaTL),Dt=rt(Mt.tintTR,Q*F._alphaTR),bt=rt(Mt.tintBL,Q*F._alphaBL),wt=rt(Mt.tintBR,Q*F._alphaBR);R(K,F,yt,St,0,0,J,Z,It,Dt,bt,wt,Ft,ct,ft)}else R(K,F,yt,St,0,0,J,Z,nt,ot,ht,ut,et,ct,ft);D.pipelines.postBatch(F)}};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D,F,B,W,U,X,K,J,Z,Q,q){var et=O.x-j.displayOriginX+D,rt=O.y-j.displayOriginY+F,nt=et+O.w,ot=rt+O.h,ht=B.getXRound(et,rt,W),ut=B.getYRound(et,rt,W),ct=B.getXRound(et,ot,W),ft=B.getYRound(et,ot,W),dt=B.getXRound(nt,ot,W),pt=B.getYRound(nt,ot,W),yt=B.getXRound(nt,rt,W),St=B.getYRound(nt,rt,W);R.batchQuad(j,ht,ut,ct,ft,dt,pt,yt,St,G.u0,G.v0,G.u1,G.v1,U,X,K,J,Z,Q,q)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(30),j=function(O,G,D,F){var B=G._text,W=B.length,U=O.currentContext;if(!(W===0||!R(O,U,G,D,F))){D.addToRenderList(G);var X=G.fromAtlas?G.frame:G.texture.frames.__BASE,K=G.fontData.chars,J=G.fontData.lineHeight,Z=G._letterSpacing,Q=0,q=0,et=0,rt=null,nt=0,ot=0,ht=0,ut=0,ct=0,ft=0,dt=null,pt=0,yt=X.source.image,St=X.cutX,At=X.cutY,Ct=G._fontSize/G.fontData.size,Pt=G._align,Rt=0,mt=0,vt=G.getTextBounds(!1);G.maxWidth>0&&(B=vt.wrappedText,W=B.length);var xt=G._bounds.lines;Pt===1?mt=(xt.longest-xt.lengths[0])/2:Pt===2&&(mt=xt.longest-xt.lengths[0]),U.translate(-G.displayOriginX,-G.displayOriginY);for(var Tt=D.roundPixels,Et=0;Et<W;Et++){if(et=B.charCodeAt(Et),et===10){Rt++,Pt===1?mt=(xt.longest-xt.lengths[Rt])/2:Pt===2&&(mt=xt.longest-xt.lengths[Rt]),Q=0,q+=J,dt=null;continue}if(rt=K[et],!!rt){if(nt=St+rt.x,ot=At+rt.y,ht=rt.width,ut=rt.height,ct=rt.xOffset+Q,ft=rt.yOffset+q,dt!==null){var Ot=rt.kerning[pt];ct+=Ot!==void 0?Ot:0}ct*=Ct,ft*=Ct,ct+=mt,Q+=rt.xAdvance+Z,dt=rt,pt=et,!(ht===0||ut===0||et===32)&&(Tt&&(ct=Math.round(ct),ft=Math.round(ft)),U.save(),U.translate(ct,ft),U.scale(Ct,Ct),U.drawImage(yt,nt,ot,ht,ut,0,0,ht,ut),U.restore())}}U.restore()}};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1050),j=y(1051),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(25),j=y(12),O=new R,G=function(D,F,B,W){var U=F.getRenderList();if(U.length!==0){var X=B.alpha*F.alpha;if(X!==0){B.addToRenderList(F);var K=D.pipelines.set(this.pipeline,F),J=B.scrollX*F.scrollFactorX,Z=B.scrollY*F.scrollFactorY,Q=O.copyFrom(B.matrix);W&&(Q.multiplyWithOffset(W,-J,-Z),J=0,Z=0);var q=F.x-J,et=F.y-Z,rt=-1,nt=!1,ot=B.roundPixels;D.pipelines.preBatch(F);for(var ht=0;ht<U.length;ht++){var ut=U[ht],ct=ut.frame,ft=ut.alpha*X;if(ft!==0){var dt=ct.width,pt=ct.height,yt=q+ut.x+ct.x,St=et+ut.y+ct.y;ut.flipX&&(dt*=-1,yt+=ct.width),ut.flipY&&(pt*=-1,St+=ct.height);var At=yt+dt,Ct=St+pt,Pt=Q.getX(yt,St),Rt=Q.getY(yt,St),mt=Q.getX(At,Ct),vt=Q.getY(At,Ct),xt=j.getTintAppendFloatAlpha(ut.tint,ft);if(ct.sourceIndex!==rt){var Tt=K.setGameObject(F,ct);rt=ct.sourceIndex}ot&&(Pt=Math.round(Pt),Rt=Math.round(Rt),mt=Math.round(mt),vt=Math.round(vt)),K.batchQuad(F,Pt,Rt,Pt,vt,mt,vt,mt,Rt,ct.u0,ct.v0,ct.u1,ct.v1,xt,xt,xt,xt,nt,ct.glTexture,Tt)&&(rt=-1)}}D.pipelines.postBatch(F)}}};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D=j.getRenderList();if(D.length!==0){var F=R.currentContext,B=O.alpha*j.alpha;if(B!==0){O.addToRenderList(j),F.globalCompositeOperation=R.blendModes[j.blendMode],F.imageSmoothingEnabled=!(!R.antialias||j.frame.source.scaleMode);var W=j.x-O.scrollX*j.scrollFactorX,U=j.y-O.scrollY*j.scrollFactorY;F.save(),G&&G.copyToContext(F);for(var X=O.roundPixels,K=0;K<D.length;K++){var J=D[K],Z=J.flipX||J.flipY,Q=J.frame,q=Q.canvasData,et=Q.x,rt=Q.y,nt=1,ot=1,ht=J.alpha*B;ht!==0&&(F.globalAlpha=ht,Z?(J.flipX&&(nt=-1,et-=q.width),J.flipY&&(ot=-1,rt-=q.height),F.save(),F.translate(J.x+W,J.y+U),F.scale(nt,ot),F.drawImage(Q.source.image,q.x,q.y,q.width,q.height,et,rt,q.width,q.height),F.restore()):(X&&(et=Math.round(et),rt=Math.round(rt)),F.drawImage(Q.source.image,q.x,q.y,q.width,q.height,et+J.x+W,rt+J.y+U,q.width,q.height)))}F.restore()}}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1053),j=y(1054),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){O.addToRenderList(j);var D=j.list,F=D.length;if(F!==0){var B=j.localTransform;G?(B.loadIdentity(),B.multiply(G),B.translate(j.x,j.y),B.rotate(j.rotation),B.scale(j.scaleX,j.scaleY)):B.applyITRS(j.x,j.y,j.rotation,j.scaleX,j.scaleY),R.pipelines.preBatch(j);var W=j.blendMode!==-1;W||R.setBlendMode(0);for(var U=j.alpha,X=j.scrollFactorX,K=j.scrollFactorY,J=0;J<F;J++){var Z=D[J];if(!!Z.willRender(O)){var Q,q,et,rt;if(Z.alphaTopLeft!==void 0)Q=Z.alphaTopLeft,q=Z.alphaTopRight,et=Z.alphaBottomLeft,rt=Z.alphaBottomRight;else{var nt=Z.alpha;Q=nt,q=nt,et=nt,rt=nt}var ot=Z.scrollFactorX,ht=Z.scrollFactorY;!W&&Z.blendMode!==R.currentBlendMode&&R.setBlendMode(Z.blendMode);var ut=Z.mask;ut&&ut.preRenderWebGL(R,Z,O);var ct=Z.type;ct!==R.currentType&&(R.newType=!0,R.currentType=ct),R.nextTypeMatch=J<F-1?D[J+1].type===R.currentType:!1,Z.setScrollFactor(ot*X,ht*K),Z.setAlpha(Q*U,q*U,et*U,rt*U),Z.renderWebGL(R,Z,O,B),Z.setAlpha(Q,q,et,rt),Z.setScrollFactor(ot,ht),ut&&ut.postRenderWebGL(R,O),R.newType=!1}}R.pipelines.postBatch(j)}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){O.addToRenderList(j);var D=j.list;if(D.length!==0){var F=j.localTransform;G?(F.loadIdentity(),F.multiply(G),F.translate(j.x,j.y),F.rotate(j.rotation),F.scale(j.scaleX,j.scaleY)):F.applyITRS(j.x,j.y,j.rotation,j.scaleX,j.scaleY);var B=j.blendMode!==-1;B||R.setBlendMode(0);var W=j._alpha,U=j.scrollFactorX,X=j.scrollFactorY;j.mask&&j.mask.preRenderCanvas(R,null,O);for(var K=0;K<D.length;K++){var J=D[K];if(!!J.willRender(O)){var Z=J.alpha,Q=J.scrollFactorX,q=J.scrollFactorY;!B&&J.blendMode!==R.currentBlendMode&&R.setBlendMode(J.blendMode),J.setScrollFactor(Q*U,q*X),J.setAlpha(Z*W),J.renderCanvas(R,J,O,F),J.setAlpha(Z),J.setScrollFactor(Q,q)}}j.mask&&j.mask.postRenderCanvas(R)}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(443),j=y(443),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1058),j=y(1059),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=y(25),O=y(12),G=new j,D=function(F,B,W,U){var X=B.text,K=X.length;if(K!==0){W.addToRenderList(B);var J=F.pipelines.set(B.pipeline,B),Z=R(B,W,U),Q=Z.sprite,q=Z.calc,et=G,rt=B.cropWidth>0||B.cropHeight>0;rt&&(J.flush(),F.pushScissor(q.tx,q.ty,B.cropWidth*q.scaleX,B.cropHeight*q.scaleY));var nt=B.frame,ot=nt.glTexture,ht=B.tintFill,ut=O.getTintAppendFloatAlpha(B.tintTopLeft,W.alpha*B._alphaTL),ct=O.getTintAppendFloatAlpha(B.tintTopRight,W.alpha*B._alphaTR),ft=O.getTintAppendFloatAlpha(B.tintBottomLeft,W.alpha*B._alphaBL),dt=O.getTintAppendFloatAlpha(B.tintBottomRight,W.alpha*B._alphaBR),pt=J.setGameObject(B),yt=0,St=0,At=0,Ct=0,Pt=B.letterSpacing,Rt,mt=0,vt=0,xt,Tt=B.scrollX,Et=B.scrollY,Ot=B.fontData,Mt=Ot.chars,Ft=Ot.lineHeight,It=B.fontSize/Ot.size,Dt=0,bt=B._align,wt=0,$t=0,Ut=B.getTextBounds(!1);B.maxWidth>0&&(X=Ut.wrappedText,K=X.length);var Nt=B._bounds.lines;bt===1?$t=(Nt.longest-Nt.lengths[0])/2:bt===2&&($t=Nt.longest-Nt.lengths[0]);var Yt=W.roundPixels,Ht=B.displayCallback,Xt=B.callbackData;F.pipelines.preBatch(B);for(var zt=0;zt<K;zt++){if(At=X.charCodeAt(zt),At===10){wt++,bt===1?$t=(Nt.longest-Nt.lengths[wt])/2:bt===2&&($t=Nt.longest-Nt.lengths[wt]),yt=0,St+=Ft,xt=null;continue}if(Rt=Mt[At],!!Rt){mt=Rt.width,vt=Rt.height;var Bt=Rt.xOffset+yt-Tt,jt=Rt.yOffset+St-Et;if(xt!==null){var Vt=Rt.kerning[Ct];Bt+=Vt!==void 0?Vt:0}if(yt+=Rt.xAdvance+Pt,xt=Rt,Ct=At,!(mt===0||vt===0||At===32)){if(It=B.fontSize/B.fontData.size,Dt=0,Ht){Xt.color=0,Xt.tint.topLeft=ut,Xt.tint.topRight=ct,Xt.tint.bottomLeft=ft,Xt.tint.bottomRight=dt,Xt.index=zt,Xt.charCode=At,Xt.x=Bt,Xt.y=jt,Xt.scale=It,Xt.rotation=Dt,Xt.data=Rt.data;var Wt=Ht(Xt);Bt=Wt.x,jt=Wt.y,It=Wt.scale,Dt=Wt.rotation,Wt.color?(ut=Wt.color,ct=Wt.color,ft=Wt.color,dt=Wt.color):(ut=Wt.tint.topLeft,ct=Wt.tint.topRight,ft=Wt.tint.bottomLeft,dt=Wt.tint.bottomRight),ut=O.getTintAppendFloatAlpha(ut,W.alpha*B._alphaTL),ct=O.getTintAppendFloatAlpha(ct,W.alpha*B._alphaTR),ft=O.getTintAppendFloatAlpha(ft,W.alpha*B._alphaBL),dt=O.getTintAppendFloatAlpha(dt,W.alpha*B._alphaBR)}Bt*=It,jt*=It,Bt-=B.displayOriginX,jt-=B.displayOriginY,Bt+=$t,et.applyITRS(Bt,jt,Dt,It,It),q.multiply(et,Q);var qt=Rt.u0,_t=Rt.v0,Zt=Rt.u1,Kt=Rt.v1,kt=mt,Qt=vt,Jt=Q.e,te=Q.f,re=Qt*Q.c+Q.e,ie=Qt*Q.d+Q.f,se=kt*Q.a+Qt*Q.c+Q.e,ae=kt*Q.b+Qt*Q.d+Q.f,oe=kt*Q.a+Q.e,he=kt*Q.b+Q.f;Yt&&(Jt=Math.round(Jt),te=Math.round(te),re=Math.round(re),ie=Math.round(ie),se=Math.round(se),ae=Math.round(ae),oe=Math.round(oe),he=Math.round(he)),J.batchQuad(B,Jt,te,re,ie,se,ae,oe,he,qt,_t,Zt,Kt,ut,ct,ft,dt,ht,ot,pt)}}}rt&&(J.flush(),F.popScissor()),F.pipelines.postBatch(B)}};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(30),j=function(O,G,D,F){var B=G._text,W=B.length,U=O.currentContext;if(!(W===0||!R(O,U,G,D,F))){D.addToRenderList(G);var X=G.fromAtlas?G.frame:G.texture.frames.__BASE,K=G.displayCallback,J=G.callbackData,Z=G.fontData.chars,Q=G.fontData.lineHeight,q=G._letterSpacing,et=0,rt=0,nt=0,ot=null,ht=0,ut=0,ct=0,ft=0,dt=0,pt=0,yt=null,St=0,At=G.frame.source.image,Ct=X.cutX,Pt=X.cutY,Rt=0,mt=0,vt=G._fontSize/G.fontData.size,xt=G._align,Tt=0,Et=0;G.getTextBounds(!1);var Ot=G._bounds.lines;xt===1?Et=(Ot.longest-Ot.lengths[0])/2:xt===2&&(Et=Ot.longest-Ot.lengths[0]),U.translate(-G.displayOriginX,-G.displayOriginY);var Mt=D.roundPixels;G.cropWidth>0&&G.cropHeight>0&&(U.beginPath(),U.rect(0,0,G.cropWidth,G.cropHeight),U.clip());for(var Ft=0;Ft<W;Ft++){if(mt=vt,Rt=0,nt=B.charCodeAt(Ft),nt===10){Tt++,xt===1?Et=(Ot.longest-Ot.lengths[Tt])/2:xt===2&&(Et=Ot.longest-Ot.lengths[Tt]),et=0,rt+=Q,yt=null;continue}if(ot=Z[nt],!!ot){if(ht=Ct+ot.x,ut=Pt+ot.y,ct=ot.width,ft=ot.height,dt=ot.xOffset+et-G.scrollX,pt=ot.yOffset+rt-G.scrollY,yt!==null){var It=ot.kerning[St];dt+=It!==void 0?It:0}if(K){J.index=Ft,J.charCode=nt,J.x=dt,J.y=pt,J.scale=mt,J.rotation=Rt,J.data=ot.data;var Dt=K(J);dt=Dt.x,pt=Dt.y,mt=Dt.scale,Rt=Dt.rotation}dt*=mt,pt*=mt,dt+=Et,et+=ot.xAdvance+q,yt=ot,St=nt,!(ct===0||ft===0||nt===32)&&(Mt&&(dt=Math.round(dt),pt=Math.round(pt)),U.save(),U.translate(dt,pt),U.rotate(Rt),U.scale(mt,mt),U.drawImage(At,ht,ut,ct,ft,0,0,ct,ft),U.restore())}}U.restore()}};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1061),j=y(1062),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=function(O,G,D,F){O.pipelines.clear();var B=R(G,D,F).calc;G.render.call(G,O,D,B),O.pipelines.rebind()};Y.exports=j},function(Y,tt){},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1064),j=y(448),j=y(448),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(217),j=y(19),O=y(25),G=y(12),D=function(X,K,J){this.x=X,this.y=K,this.width=J},F=function(X,K,J){this.points=[],this.pointsLength=1,this.points[0]=new D(X,K,J)},B=[],W=new O,U=function(X,K,J,Z){if(K.commandBuffer.length!==0){J.addToRenderList(K);var Q=X.pipelines.set(K.pipeline,K);X.pipelines.preBatch(K);for(var q=j(K,J,Z).calc,et=W.loadIdentity(),rt=K.commandBuffer,nt=J.alpha*K.alpha,ot=1,ht=Q.fillTint,ut=Q.strokeTint,ct=0,ft=0,dt=0,pt=.01,yt=Math.PI*2,St,At=[],Ct=0,Pt=!0,Rt=null,mt=G.getTintAppendFloatAlpha,vt=0;vt<rt.length;vt++)switch(St=rt[vt],St){case R.BEGIN_PATH:{At.length=0,Rt=null,Pt=!0;break}case R.CLOSE_PATH:{Pt=!1,Rt&&Rt.points.length&&Rt.points.push(Rt.points[0]);break}case R.FILL_PATH:{for(Ct=0;Ct<At.length;Ct++)Q.batchFillPath(At[Ct].points,et,q);break}case R.STROKE_PATH:{for(Ct=0;Ct<At.length;Ct++)Q.batchStrokePath(At[Ct].points,ot,Pt,et,q);break}case R.LINE_STYLE:{ot=rt[++vt];var xt=rt[++vt],Tt=rt[++vt]*nt,Et=mt(xt,Tt);ut.TL=Et,ut.TR=Et,ut.BL=Et,ut.BR=Et;break}case R.FILL_STYLE:{var Ot=rt[++vt],Mt=rt[++vt]*nt,Ft=mt(Ot,Mt);ht.TL=Ft,ht.TR=Ft,ht.BL=Ft,ht.BR=Ft;break}case R.GRADIENT_FILL_STYLE:{var It=rt[++vt]*nt,Dt=rt[++vt]*nt,bt=rt[++vt]*nt,wt=rt[++vt]*nt;ht.TL=mt(rt[++vt],It),ht.TR=mt(rt[++vt],Dt),ht.BL=mt(rt[++vt],bt),ht.BR=mt(rt[++vt],wt);break}case R.GRADIENT_LINE_STYLE:{ot=rt[++vt];var $t=rt[++vt]*nt;ut.TL=mt(rt[++vt],$t),ut.TR=mt(rt[++vt],$t),ut.BL=mt(rt[++vt],$t),ut.BR=mt(rt[++vt],$t);break}case R.ARC:{var Ut=0,Nt=rt[++vt],Yt=rt[++vt],Ht=rt[++vt],Xt=rt[++vt],zt=rt[++vt],Bt=rt[++vt],jt=rt[++vt];for(zt-=Xt,Bt?zt<-yt?zt=-yt:zt>0&&(zt=-yt+zt%yt):zt>yt?zt=yt:zt<0&&(zt=yt+zt%yt),Rt===null&&(Rt=new F(Nt+Math.cos(Xt)*Ht,Yt+Math.sin(Xt)*Ht,ot),At.push(Rt),Ut+=pt);Ut<1+jt;)dt=zt*Ut+Xt,ct=Nt+Math.cos(dt)*Ht,ft=Yt+Math.sin(dt)*Ht,Rt.points.push(new D(ct,ft,ot)),Ut+=pt;dt=zt+Xt,ct=Nt+Math.cos(dt)*Ht,ft=Yt+Math.sin(dt)*Ht,Rt.points.push(new D(ct,ft,ot));break}case R.FILL_RECT:{Q.batchFillRect(rt[++vt],rt[++vt],rt[++vt],rt[++vt],et,q);break}case R.FILL_TRIANGLE:{Q.batchFillTriangle(rt[++vt],rt[++vt],rt[++vt],rt[++vt],rt[++vt],rt[++vt],et,q);break}case R.STROKE_TRIANGLE:{Q.batchStrokeTriangle(rt[++vt],rt[++vt],rt[++vt],rt[++vt],rt[++vt],rt[++vt],ot,et,q);break}case R.LINE_TO:{Rt!==null?Rt.points.push(new D(rt[++vt],rt[++vt],ot)):(Rt=new F(rt[++vt],rt[++vt],ot),At.push(Rt));break}case R.MOVE_TO:{Rt=new F(rt[++vt],rt[++vt],ot),At.push(Rt);break}case R.SAVE:{B.push(et.copyToArray());break}case R.RESTORE:{et.copyFromArray(B.pop());break}case R.TRANSLATE:{Nt=rt[++vt],Yt=rt[++vt],et.translate(Nt,Yt);break}case R.SCALE:{Nt=rt[++vt],Yt=rt[++vt],et.scale(Nt,Yt);break}case R.ROTATE:{et.rotate(rt[++vt]);break}}X.pipelines.postBatch(K)}};Y.exports=U},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1066),j=y(1067),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){O.addToRenderList(j),j.pipeline.batchSprite(j,O,G)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){O.addToRenderList(j),R.batchSprite(j,j.frame,O,G)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1069),j=y(1070),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){O.addToRenderList(j),this.pipeline.batchSprite(j,O,G)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){O.addToRenderList(j),R.batchSprite(j,j.frame,O,G)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1072),j=y(1073),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=j.list,D=G.length;if(D!==0){j.depthSort(),R.pipelines.preBatch(j);var F=j.blendMode!==-1;F||R.setBlendMode(0);for(var B=j.alpha,W=0;W<D;W++){var U=G[W];if(!!U.willRender(O)){var X,K,J,Z;if(U.alphaTopLeft!==void 0)X=U.alphaTopLeft,K=U.alphaTopRight,J=U.alphaBottomLeft,Z=U.alphaBottomRight;else{var Q=U.alpha;X=Q,K=Q,J=Q,Z=Q}!F&&U.blendMode!==R.currentBlendMode&&R.setBlendMode(U.blendMode);var q=U.mask;q&&q.preRenderWebGL(R,U,O);var et=U.type;et!==R.currentType&&(R.newType=!0,R.currentType=et),R.nextTypeMatch=W<D-1?G[W+1].type===R.currentType:!1,U.setAlpha(X*B,K*B,J*B,Z*B),U.renderWebGL(R,U,O),U.setAlpha(X,K,J,Z),q&&q.postRenderWebGL(R,O),R.newType=!1}}R.pipelines.postBatch(j)}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=j.list;if(G.length!==0){j.depthSort();var D=j.blendMode!==-1;D||R.setBlendMode(0);var F=j._alpha;j.mask&&j.mask.preRenderCanvas(R,null,O);for(var B=0;B<G.length;B++){var W=G[B];if(!!W.willRender(O)){var U=W.alpha;!D&&W.blendMode!==R.currentBlendMode&&R.setBlendMode(W.blendMode),W.setAlpha(U*F),W.renderCanvas(R,W,O),W.setAlpha(U)}}j.mask&&j.mask.postRenderCanvas(R)}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={EmitterOp:y(449),GravityWell:y(450),Particle:y(451),ParticleEmitter:y(452),ParticleEmitterManager:y(220),Zones:y(1078)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1076),j=y(1077),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(25),j=y(12),O=new R,G=new R,D=new R,F=new R,B=function(W,U,X,K){var J=U.emitters.list,Z=J.length;if(Z!==0){var Q=W.pipelines.set(U.pipeline),q=O,et=G,rt=D,nt=F;K?(nt.loadIdentity(),nt.multiply(K),nt.translate(U.x,U.y),nt.rotate(U.rotation),nt.scale(U.scaleX,U.scaleY)):nt.applyITRS(U.x,U.y,U.rotation,U.scaleX,U.scaleY);var ot=X.roundPixels,ht=U.defaultFrame.glTexture,ut=j.getTintAppendFloatAlpha,ct=Q.setGameObject(U,U.defaultFrame);W.pipelines.preBatch(U);for(var ft=0;ft<Z;ft++){var dt=J[ft],pt=dt.alive,yt=pt.length;if(!(!dt.visible||yt===0)){X.addToRenderList(dt);var St=dt.scrollFactorX,At=dt.scrollFactorY;W.setBlendMode(dt.blendMode),dt.mask&&(dt.mask.preRenderWebGL(W,dt,X),W.pipelines.set(U.pipeline));for(var Ct=0,Pt=0;Pt<yt;Pt++){var Rt=pt[Pt],mt=Rt.alpha*X.alpha;if(!(mt<=0)){rt.applyITRS(Rt.x,Rt.y,Rt.rotation,Rt.scaleX,Rt.scaleY),q.copyFrom(X.matrix),q.multiplyWithOffset(nt,-X.scrollX*St,-X.scrollY*At),rt.e=Rt.x,rt.f=Rt.y,q.multiply(rt,et);var vt=Rt.frame,xt=-vt.halfWidth,Tt=-vt.halfHeight,Et=xt+vt.width,Ot=Tt+vt.height,Mt=et.getXRound(xt,Tt,ot),Ft=et.getYRound(xt,Tt,ot),It=et.getXRound(xt,Ot,ot),Dt=et.getYRound(xt,Ot,ot),bt=et.getXRound(Et,Ot,ot),wt=et.getYRound(Et,Ot,ot),$t=et.getXRound(Et,Tt,ot),Ut=et.getYRound(Et,Tt,ot),Nt=ut(Rt.tint,mt);Q.batchQuad(dt,Mt,Ft,It,Dt,bt,wt,$t,Ut,vt.u0,vt.v0,vt.u1,vt.v1,Nt,Nt,Nt,Nt,Ct,ht,ct)}}dt.mask&&dt.mask.postRenderWebGL(W,X)}}W.pipelines.postBatch(U)}};Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(25),j=new R,O=new R,G=new R,D=new R,F=function(B,W,U,X){var K=W.emitters.list,J=K.length;if(J!==0){var Z=j.copyFrom(U.matrix),Q=O,q=G,et=D;X?(et.loadIdentity(),et.multiply(X),et.translate(W.x,W.y),et.rotate(W.rotation),et.scale(W.scaleX,W.scaleY)):et.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY);for(var rt=B.currentContext,nt=U.roundPixels,ot=0;ot<J;ot++){var ht=K[ot],ut=ht.alive,ct=ut.length;if(!(!ht.visible||ct===0)){U.addToRenderList(ht);var ft=ht.scrollFactorX,dt=ht.scrollFactorY;rt.save(),rt.globalCompositeOperation=B.blendModes[ht.blendMode];for(var pt=0;pt<ct;pt++){var yt=ut[pt],St=yt.alpha*U.alpha;if(!(St<=0)){q.applyITRS(yt.x,yt.y,yt.rotation,yt.scaleX,yt.scaleY),Z.copyFrom(U.matrix),Z.multiplyWithOffset(et,-U.scrollX*ft,-U.scrollY*dt),q.e=yt.x,q.f=yt.y,Z.multiply(q,Q);var At=yt.frame,Ct=At.canvasData,Pt=-At.halfWidth,Rt=-At.halfHeight;rt.globalAlpha=St,rt.save(),Q.setToContext(rt),nt&&(Pt=Math.round(Pt),Rt=Math.round(Rt)),rt.imageSmoothingEnabled=!(!B.antialias||At.source.scaleMode),rt.drawImage(At.source.image,Ct.x,Ct.y,Ct.width,Ct.height,Pt,Rt,Ct.width,Ct.height),rt.restore()}}rt.restore()}}}};Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={DeathZone:y(453),EdgeZone:y(454),RandomZone:y(456)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1080),j=y(1081),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(12),j=function(O,G,D,F){D.addToRenderList(G);var B=D.alpha,W=G.renderTarget,U=W.width,X=W.height,K=R.getTintAppendFloatAlpha,J=O.pipelines.set(G.pipeline),Z=J.setTexture2D(W.texture);O.pipelines.preBatch(G),J.batchTexture(G,W.texture,U,X,G.x,G.y,U,X,G.scaleX,G.scaleY,G.rotation,G.flipX,!G.flipY,G.scrollFactorX,G.scrollFactorY,G.displayOriginX,G.displayOriginY,0,0,U,X,K(G.tintTopLeft,B*G._alphaTL),K(G.tintTopRight,B*G._alphaTR),K(G.tintBottomLeft,B*G._alphaBL),K(G.tintBottomRight,B*G._alphaBR),G.tintFill,0,0,D,F,!0,Z),O.resetTextures(),O.pipelines.postBatch(G)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){O.addToRenderList(j),R.batchSprite(j,j.frame,O,G)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1083),j=y(17),O={Parse:y(1084)};O=j(!1,O,R),Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(6),j=function(O,G){var D=G.width,F=G.height,B=Math.floor(D/2),W=Math.floor(F/2),U=R(G,"chars","");if(U!==""){var X=R(G,"image",""),K=O.sys.textures.getFrame(X),J=K.cutX,Z=K.cutY,Q=K.source.width,q=K.source.height,et=R(G,"offset.x",0),rt=R(G,"offset.y",0),nt=R(G,"spacing.x",0),ot=R(G,"spacing.y",0),ht=R(G,"lineSpacing",0),ut=R(G,"charsPerRow",null);ut===null&&(ut=Q/D,ut>U.length&&(ut=U.length));for(var ct=et,ft=rt,dt={retroFont:!0,font:X,size:D,lineHeight:F+ht,chars:{}},pt=0,yt=0;yt<U.length;yt++){var St=U.charCodeAt(yt),At=(J+ct)/Q,Ct=(Z+ft)/q,Pt=(J+ct+D)/Q,Rt=(Z+ft+F)/q;dt.chars[St]={x:ct,y:ft,width:D,height:F,centerX:B,centerY:W,xOffset:0,yOffset:0,xAdvance:D,data:{},kerning:{},u0:At,v0:Ct,u1:Pt,v1:Rt},pt++,pt===ut?(pt=0,ct=et,ft+=F+ot):ct+=D+nt}var mt={data:dt,frame:null,texture:X};return mt}};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1086),j=y(1087),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=y(12),O=function(G,D,F,B){F.addToRenderList(D);var W=G.pipelines.set(D.pipeline,D),U=R(D,F,B).calc,X=D.vertices,K=D.uv,J=D.colors,Z=D.alphas,Q=D.alpha,q=j.getTintAppendFloatAlpha,et=F.roundPixels,rt=X.length,nt=Math.floor(rt*.5);W.flush(),G.pipelines.preBatch(D);var ot=W.setGameObject(D),ht=W.vertexViewF32,ut=W.vertexViewU32,ct=W.vertexCount*W.currentShader.vertexComponentCount-1,ft=0,dt=D.tintFill;D.dirty&&D.updateVertices();for(var pt=D.debugCallback,yt=[],St=0;St<rt;St+=2){var At=X[St+0],Ct=X[St+1],Pt=At*U.a+Ct*U.c+U.e,Rt=At*U.b+Ct*U.d+U.f;et&&(Pt=Math.round(Pt),Rt=Math.round(Rt)),ht[++ct]=Pt,ht[++ct]=Rt,ht[++ct]=K[St+0],ht[++ct]=K[St+1],ht[++ct]=ot,ht[++ct]=dt,ut[++ct]=q(J[ft],F.alpha*(Z[ft]*Q)),ft++,pt&&(yt[St+0]=Pt,yt[St+1]=Rt)}pt&&pt.call(D,D,rt,yt),W.vertexCount+=nt,G.pipelines.postBatch(D)};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1089),j=y(1090),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(12),j=function(O,G,D,F){if(!(G.width===0||G.height===0)){D.addToRenderList(G);var B=G.frame,W=B.width,U=B.height,X=R.getTintAppendFloatAlpha,K=O.pipelines.set(G.pipeline,G),J=K.setTexture2D(B.glTexture,G);O.pipelines.preBatch(G),K.batchTexture(G,B.glTexture,W,U,G.x,G.y,W/G.style.resolution,U/G.style.resolution,G.scaleX,G.scaleY,G.rotation,G.flipX,G.flipY,G.scrollFactorX,G.scrollFactorY,G.displayOriginX,G.displayOriginY,0,0,W,U,X(G.tintTopLeft,D.alpha*G._alphaTL),X(G.tintTopRight,D.alpha*G._alphaTR),X(G.tintBottomLeft,D.alpha*G._alphaBL),X(G.tintBottomRight,D.alpha*G._alphaBR),G.tintFill,0,0,D,F,!1,J),O.pipelines.postBatch(G)}};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){j.width===0||j.height===0||(O.addToRenderList(j),R.batchSprite(j,j.frame,O,G))};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1092),j=y(1093),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(12),j=function(O,G,D,F){G.updateCanvas();var B=G.width,W=G.height;if(!(B===0||W===0)){D.addToRenderList(G),O.pipelines.preBatch(G);var U=R.getTintAppendFloatAlpha,X=O.pipelines.set(G.pipeline,G),K=X.setTexture2D(G.fillPattern,G);X.batchTexture(G,G.fillPattern,G.displayFrame.width*G.tileScaleX,G.displayFrame.height*G.tileScaleY,G.x,G.y,B,W,G.scaleX,G.scaleY,G.rotation,G.flipX,G.flipY,G.scrollFactorX,G.scrollFactorY,G.originX*B,G.originY*W,0,0,B,W,U(G.tintTopLeft,D.alpha*G._alphaTL),U(G.tintTopRight,D.alpha*G._alphaTR),U(G.tintBottomLeft,D.alpha*G._alphaBL),U(G.tintBottomRight,D.alpha*G._alphaBR),G.tintFill,G.tilePositionX%G.displayFrame.width/G.displayFrame.width,G.tilePositionY%G.displayFrame.height/G.displayFrame.height,D,F,!1,K),O.pipelines.postBatch(G)}};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){j.updateCanvas(),O.addToRenderList(j),R.batchSprite(j,j.frame,O,G)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1095),j=y(1096),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){j.videoTexture&&(O.addToRenderList(j),j.pipeline.batchSprite(j,O,G))};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){j.videoTexture&&(O.addToRenderList(j),R.batchSprite(j,j.frame,O,G))};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1098),j=y(1099),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=y(114),O=y(81),G=function(D,F,B,W){B.addToRenderList(F);var U=D.pipelines.set(F.pipeline),X=R(F,B,W),K=U.calcMatrix.copyFrom(X.calc),J=F._displayOriginX,Z=F._displayOriginY,Q=B.alpha*F.alpha;D.pipelines.preBatch(F),F.isFilled&&j(U,K,F,Q,J,Z),F.isStroked&&O(U,F,Q,J,Z),D.pipelines.postBatch(F)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(36),j=y(48),O=y(60),G=y(30),D=function(F,B,W,U){W.addToRenderList(B);var X=F.currentContext;if(G(F,X,B,W,U)){var K=B.radius;X.beginPath(),X.arc(K-B.originX*(K*2),K-B.originY*(K*2),K,R(B._startAngle),R(B._endAngle),B.anticlockwise),B.closePath&&X.closePath(),B.isFilled&&(j(X,B),X.fill()),B.isStroked&&(O(X,B),X.stroke()),X.restore()}};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1101),j=y(1102),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(114),j=y(19),O=y(81),G=function(D,F,B,W){B.addToRenderList(F);var U=D.pipelines.set(F.pipeline),X=j(F,B,W),K=U.calcMatrix.copyFrom(X.calc),J=F._displayOriginX+F._curveBounds.x,Z=F._displayOriginY+F._curveBounds.y,Q=B.alpha*F.alpha;D.pipelines.preBatch(F),F.isFilled&&R(U,K,F,Q,J,Z),F.isStroked&&O(U,F,Q,J,Z),D.pipelines.postBatch(F)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(48),j=y(60),O=y(30),G=function(D,F,B,W){B.addToRenderList(F);var U=D.currentContext;if(O(D,U,F,B,W)){var X=F._displayOriginX+F._curveBounds.x,K=F._displayOriginY+F._curveBounds.y,J=F.pathData,Z=J.length-1,Q=J[0]-X,q=J[1]-K;U.beginPath(),U.moveTo(Q,q),F.closePath||(Z-=2);for(var et=2;et<Z;et+=2){var rt=J[et]-X,nt=J[et+1]-K;U.lineTo(rt,nt)}F.closePath&&U.closePath(),F.isFilled&&(R(U,F),U.fill()),F.isStroked&&(j(U,F),U.stroke()),U.restore()}};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1104),j=y(1105),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(114),j=y(19),O=y(81),G=function(D,F,B,W){B.addToRenderList(F);var U=D.pipelines.set(F.pipeline),X=j(F,B,W),K=U.calcMatrix.copyFrom(X.calc),J=F._displayOriginX,Z=F._displayOriginY,Q=B.alpha*F.alpha;D.pipelines.preBatch(F),F.isFilled&&R(U,K,F,Q,J,Z),F.isStroked&&O(U,F,Q,J,Z),D.pipelines.postBatch(F)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(48),j=y(60),O=y(30),G=function(D,F,B,W){B.addToRenderList(F);var U=D.currentContext;if(O(D,U,F,B,W)){var X=F._displayOriginX,K=F._displayOriginY,J=F.pathData,Z=J.length-1,Q=J[0]-X,q=J[1]-K;U.beginPath(),U.moveTo(Q,q),F.closePath||(Z-=2);for(var et=2;et<Z;et+=2){var rt=J[et]-X,nt=J[et+1]-K;U.lineTo(rt,nt)}U.closePath(),F.isFilled&&(R(U,F),U.fill()),F.isStroked&&(j(U,F),U.stroke()),U.restore()}};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1107),j=y(1108),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=y(12),O=function(G,D,F,B){F.addToRenderList(D);var W=G.pipelines.set(D.pipeline),U=R(D,F,B),X=W.calcMatrix.copyFrom(U.calc);X.translate(-D._displayOriginX,-D._displayOriginY);var K=F.alpha*D.alpha,J=D.width,Z=D.height,Q=D.cellWidth,q=D.cellHeight,et=Math.ceil(J/Q),rt=Math.ceil(Z/q),nt=Q,ot=q,ht=Q-(et*Q-J),ut=q-(rt*q-Z),ct,ft,dt=D.showCells,pt=D.showAltCells,yt=D.showOutline,St=0,At=0,Ct=0,Pt=0,Rt=0;if(yt&&(nt--,ot--,ht===Q&&ht--,ut===q&&ut--),G.pipelines.preBatch(D),dt&&D.fillAlpha>0)for(ct=W.fillTint,ft=j.getTintAppendFloatAlpha(D.fillColor,D.fillAlpha*K),ct.TL=ft,ct.TR=ft,ct.BL=ft,ct.BR=ft,At=0;At<rt;At++)for(pt&&(Ct=At%2),St=0;St<et;St++){if(pt&&Ct){Ct=0;continue}Ct++,Pt=St<et-1?nt:ht,Rt=At<rt-1?ot:ut,W.batchFillRect(St*Q,At*q,Pt,Rt)}if(pt&&D.altFillAlpha>0)for(ct=W.fillTint,ft=j.getTintAppendFloatAlpha(D.altFillColor,D.altFillAlpha*K),ct.TL=ft,ct.TR=ft,ct.BL=ft,ct.BR=ft,At=0;At<rt;At++)for(pt&&(Ct=At%2),St=0;St<et;St++){if(pt&&!Ct){Ct=1;continue}Ct=0,Pt=St<et-1?nt:ht,Rt=At<rt-1?ot:ut,W.batchFillRect(St*Q,At*q,Pt,Rt)}if(yt&&D.outlineFillAlpha>0){var mt=W.strokeTint,vt=j.getTintAppendFloatAlpha(D.outlineFillColor,D.outlineFillAlpha*K);for(mt.TL=vt,mt.TR=vt,mt.BL=vt,mt.BR=vt,St=1;St<et;St++){var xt=St*Q;W.batchLine(xt,0,xt,Z,1,1,1,0,!1)}for(At=1;At<rt;At++){var Tt=At*q;W.batchLine(0,Tt,J,Tt,1,1,1,0,!1)}}G.pipelines.postBatch(D)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(48),j=y(60),O=y(30),G=function(D,F,B,W){B.addToRenderList(F);var U=D.currentContext;if(O(D,U,F,B,W)){var X=-F._displayOriginX,K=-F._displayOriginY,J=B.alpha*F.alpha,Z=F.width,Q=F.height,q=F.cellWidth,et=F.cellHeight,rt=Math.ceil(Z/q),nt=Math.ceil(Q/et),ot=q,ht=et,ut=q-(rt*q-Z),ct=et-(nt*et-Q),ft=F.showCells,dt=F.showAltCells,pt=F.showOutline,yt=0,St=0,At=0,Ct=0,Pt=0;if(pt&&(ot--,ht--,ut===q&&ut--,ct===et&&ct--),ft&&F.fillAlpha>0)for(R(U,F),St=0;St<nt;St++)for(dt&&(At=St%2),yt=0;yt<rt;yt++){if(dt&&At){At=0;continue}At++,Ct=yt<rt-1?ot:ut,Pt=St<nt-1?ht:ct,U.fillRect(X+yt*q,K+St*et,Ct,Pt)}if(dt&&F.altFillAlpha>0)for(R(U,F,F.altFillColor,F.altFillAlpha*J),St=0;St<nt;St++)for(dt&&(At=St%2),yt=0;yt<rt;yt++){if(dt&&!At){At=1;continue}At=0,Ct=yt<rt-1?ot:ut,Pt=St<nt-1?ht:ct,U.fillRect(X+yt*q,K+St*et,Ct,Pt)}if(pt&&F.outlineFillAlpha>0){for(j(U,F,F.outlineFillColor,F.outlineFillAlpha*J),yt=1;yt<rt;yt++){var Rt=yt*q;U.beginPath(),U.moveTo(Rt+X,K),U.lineTo(Rt+X,Q+K),U.stroke()}for(St=1;St<nt;St++){var mt=St*et;U.beginPath(),U.moveTo(X,mt+K),U.lineTo(X+Z,mt+K),U.stroke()}}U.restore()}};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1110),j=y(1111),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=y(12),O=function(G,D,F,B){F.addToRenderList(D);var W=G.pipelines.set(D.pipeline),U=R(D,F,B),X=W.calcMatrix.copyFrom(U.calc),K=D.width,J=D.height,Z=K/2,Q=K/D.projection,q=F.alpha*D.alpha;if(!!D.isFilled){var et,rt,nt,ot,ht,ut,ct,ft,dt;G.pipelines.preBatch(D),D.showTop&&(et=j.getTintAppendFloatAlpha(D.fillTop,q),rt=X.getX(-Z,-J),nt=X.getY(-Z,-J),ot=X.getX(0,-Q-J),ht=X.getY(0,-Q-J),ut=X.getX(Z,-J),ct=X.getY(Z,-J),ft=X.getX(0,Q-J),dt=X.getY(0,Q-J),W.batchQuad(D,rt,nt,ot,ht,ut,ct,ft,dt,0,0,1,1,et,et,et,et,2)),D.showLeft&&(et=j.getTintAppendFloatAlpha(D.fillLeft,q),rt=X.getX(-Z,0),nt=X.getY(-Z,0),ot=X.getX(0,Q),ht=X.getY(0,Q),ut=X.getX(0,Q-J),ct=X.getY(0,Q-J),ft=X.getX(-Z,-J),dt=X.getY(-Z,-J),W.batchQuad(D,rt,nt,ot,ht,ut,ct,ft,dt,0,0,1,1,et,et,et,et,2)),D.showRight&&(et=j.getTintAppendFloatAlpha(D.fillRight,q),rt=X.getX(Z,0),nt=X.getY(Z,0),ot=X.getX(0,Q),ht=X.getY(0,Q),ut=X.getX(0,Q-J),ct=X.getY(0,Q-J),ft=X.getX(Z,-J),dt=X.getY(Z,-J),W.batchQuad(D,rt,nt,ot,ht,ut,ct,ft,dt,0,0,1,1,et,et,et,et,2)),G.pipelines.postBatch(D)}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(48),j=y(30),O=function(G,D,F,B){F.addToRenderList(D);var W=G.currentContext;if(j(G,W,D,F,B)&&D.isFilled){var U=D.width,X=D.height,K=U/2,J=U/D.projection;D.showTop&&(R(W,D,D.fillTop),W.beginPath(),W.moveTo(-K,-X),W.lineTo(0,-J-X),W.lineTo(K,-X),W.lineTo(K,-1),W.lineTo(0,J-1),W.lineTo(-K,-1),W.lineTo(-K,-X),W.fill()),D.showLeft&&(R(W,D,D.fillLeft),W.beginPath(),W.moveTo(-K,0),W.lineTo(0,J),W.lineTo(0,J-X),W.lineTo(-K,-X),W.lineTo(-K,0),W.fill()),D.showRight&&(R(W,D,D.fillRight),W.beginPath(),W.moveTo(K,0),W.lineTo(0,J),W.lineTo(0,J-X),W.lineTo(K,-X),W.lineTo(K,0),W.fill()),W.restore()}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1113),j=y(1114),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=y(12),O=function(G,D,F,B){F.addToRenderList(D);var W=G.pipelines.set(D.pipeline),U=R(D,F,B),X=W.calcMatrix.copyFrom(U.calc),K=D.width,J=D.height,Z=K/2,Q=K/D.projection,q=D.isReversed,et=F.alpha*D.alpha;if(!!D.isFilled){G.pipelines.preBatch(D);var rt,nt,ot,ht,ut,ct,ft;if(D.showTop&&q){rt=j.getTintAppendFloatAlpha(D.fillTop,et),nt=X.getX(-Z,-J),ot=X.getY(-Z,-J),ht=X.getX(0,-Q-J),ut=X.getY(0,-Q-J),ct=X.getX(Z,-J),ft=X.getY(Z,-J);var dt=X.getX(0,Q-J),pt=X.getY(0,Q-J);W.batchQuad(D,nt,ot,ht,ut,ct,ft,dt,pt,0,0,1,1,rt,rt,rt,rt,2)}D.showLeft&&(rt=j.getTintAppendFloatAlpha(D.fillLeft,et),q?(nt=X.getX(-Z,-J),ot=X.getY(-Z,-J),ht=X.getX(0,Q),ut=X.getY(0,Q),ct=X.getX(0,Q-J),ft=X.getY(0,Q-J)):(nt=X.getX(-Z,0),ot=X.getY(-Z,0),ht=X.getX(0,Q),ut=X.getY(0,Q),ct=X.getX(0,Q-J),ft=X.getY(0,Q-J)),W.batchTri(D,nt,ot,ht,ut,ct,ft,0,0,1,1,rt,rt,rt,2)),D.showRight&&(rt=j.getTintAppendFloatAlpha(D.fillRight,et),q?(nt=X.getX(Z,-J),ot=X.getY(Z,-J),ht=X.getX(0,Q),ut=X.getY(0,Q),ct=X.getX(0,Q-J),ft=X.getY(0,Q-J)):(nt=X.getX(Z,0),ot=X.getY(Z,0),ht=X.getX(0,Q),ut=X.getY(0,Q),ct=X.getX(0,Q-J),ft=X.getY(0,Q-J)),W.batchTri(D,nt,ot,ht,ut,ct,ft,0,0,1,1,rt,rt,rt,2)),G.pipelines.postBatch(D)}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(48),j=y(30),O=function(G,D,F,B){F.addToRenderList(D);var W=G.currentContext;if(j(G,W,D,F,B)&&D.isFilled){var U=D.width,X=D.height,K=U/2,J=U/D.projection,Z=D.isReversed;D.showTop&&Z&&(R(W,D,D.fillTop),W.beginPath(),W.moveTo(-K,-X),W.lineTo(0,-J-X),W.lineTo(K,-X),W.lineTo(0,J-X),W.fill()),D.showLeft&&(R(W,D,D.fillLeft),W.beginPath(),Z?(W.moveTo(-K,-X),W.lineTo(0,J),W.lineTo(0,J-X)):(W.moveTo(-K,0),W.lineTo(0,J),W.lineTo(0,J-X)),W.fill()),D.showRight&&(R(W,D,D.fillRight),W.beginPath(),Z?(W.moveTo(K,-X),W.lineTo(0,J),W.lineTo(0,J-X)):(W.moveTo(K,0),W.lineTo(0,J),W.lineTo(0,J-X)),W.fill()),W.restore()}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1116),j=y(1117),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=y(12),O=function(G,D,F,B){F.addToRenderList(D);var W=G.pipelines.set(D.pipeline),U=R(D,F,B);W.calcMatrix.copyFrom(U.calc);var X=D._displayOriginX,K=D._displayOriginY,J=F.alpha*D.alpha;if(G.pipelines.preBatch(D),D.isStroked){var Z=W.strokeTint,Q=j.getTintAppendFloatAlpha(D.strokeColor,D.strokeAlpha*J);Z.TL=Q,Z.TR=Q,Z.BL=Q,Z.BR=Q;var q=D._startWidth,et=D._endWidth;W.batchLine(D.geom.x1-X,D.geom.y1-K,D.geom.x2-X,D.geom.y2-K,q,et,1,0,!1,U.sprite,U.camera)}G.pipelines.postBatch(D)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(60),j=y(30),O=function(G,D,F,B){F.addToRenderList(D);var W=G.currentContext;if(j(G,W,D,F,B)){var U=D._displayOriginX,X=D._displayOriginY;D.isStroked&&(R(W,D),W.beginPath(),W.moveTo(D.geom.x1-U,D.geom.y1-X),W.lineTo(D.geom.x2-U,D.geom.y2-X),W.stroke()),W.restore()}};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1119),j=y(1120),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(114),j=y(19),O=y(81),G=function(D,F,B,W){B.addToRenderList(F);var U=D.pipelines.set(F.pipeline),X=j(F,B,W),K=U.calcMatrix.copyFrom(X.calc),J=F._displayOriginX,Z=F._displayOriginY,Q=B.alpha*F.alpha;D.pipelines.preBatch(F),F.isFilled&&R(U,K,F,Q,J,Z),F.isStroked&&O(U,F,Q,J,Z),D.pipelines.postBatch(F)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(48),j=y(60),O=y(30),G=function(D,F,B,W){B.addToRenderList(F);var U=D.currentContext;if(O(D,U,F,B,W)){var X=F._displayOriginX,K=F._displayOriginY,J=F.pathData,Z=J.length-1,Q=J[0]-X,q=J[1]-K;U.beginPath(),U.moveTo(Q,q),F.closePath||(Z-=2);for(var et=2;et<Z;et+=2){var rt=J[et]-X,nt=J[et+1]-K;U.lineTo(rt,nt)}U.closePath(),F.isFilled&&(R(U,F),U.fill()),F.isStroked&&(j(U,F),U.stroke()),U.restore()}};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1122),j=y(1123),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=y(81),O=y(12),G=function(D,F,B,W){B.addToRenderList(F);var U=D.pipelines.set(F.pipeline),X=R(F,B,W);U.calcMatrix.copyFrom(X.calc);var K=F._displayOriginX,J=F._displayOriginY,Z=B.alpha*F.alpha;if(D.pipelines.preBatch(F),F.isFilled){var Q=U.fillTint,q=O.getTintAppendFloatAlpha(F.fillColor,F.fillAlpha*Z);Q.TL=q,Q.TR=q,Q.BL=q,Q.BR=q,U.batchFillRect(-K,-J,F.width,F.height)}F.isStroked&&j(U,F,Z,K,J),D.pipelines.postBatch(F)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(48),j=y(60),O=y(30),G=function(D,F,B,W){B.addToRenderList(F);var U=D.currentContext;if(O(D,U,F,B,W)){var X=F._displayOriginX,K=F._displayOriginY;F.isFilled&&(R(U,F),U.fillRect(-X,-K,F.width,F.height)),F.isStroked&&(j(U,F),U.beginPath(),U.rect(-X,-K,F.width,F.height),U.stroke()),U.restore()}};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1125),j=y(1126),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(114),j=y(19),O=y(81),G=function(D,F,B,W){B.addToRenderList(F);var U=D.pipelines.set(F.pipeline),X=j(F,B,W),K=U.calcMatrix.copyFrom(X.calc),J=F._displayOriginX,Z=F._displayOriginY,Q=B.alpha*F.alpha;D.pipelines.preBatch(F),F.isFilled&&R(U,K,F,Q,J,Z),F.isStroked&&O(U,F,Q,J,Z),D.pipelines.postBatch(F)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(48),j=y(60),O=y(30),G=function(D,F,B,W){B.addToRenderList(F);var U=D.currentContext;if(O(D,U,F,B,W)){var X=F._displayOriginX,K=F._displayOriginY,J=F.pathData,Z=J.length-1,Q=J[0]-X,q=J[1]-K;U.beginPath(),U.moveTo(Q,q),F.closePath||(Z-=2);for(var et=2;et<Z;et+=2){var rt=J[et]-X,nt=J[et+1]-K;U.lineTo(rt,nt)}U.closePath(),F.isFilled&&(R(U,F),U.fill()),F.isStroked&&(j(U,F),U.stroke()),U.restore()}};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1128),j=y(1129),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=y(81),O=y(12),G=function(D,F,B,W){B.addToRenderList(F);var U=D.pipelines.set(F.pipeline),X=R(F,B,W);U.calcMatrix.copyFrom(X.calc);var K=F._displayOriginX,J=F._displayOriginY,Z=B.alpha*F.alpha;if(D.pipelines.preBatch(F),F.isFilled){var Q=U.fillTint,q=O.getTintAppendFloatAlpha(F.fillColor,F.fillAlpha*Z);Q.TL=q,Q.TR=q,Q.BL=q,Q.BR=q;var et=F.geom.x1-K,rt=F.geom.y1-J,nt=F.geom.x2-K,ot=F.geom.y2-J,ht=F.geom.x3-K,ut=F.geom.y3-J;U.batchFillTriangle(et,rt,nt,ot,ht,ut,X.sprite,X.camera)}F.isStroked&&j(U,F,Z,K,J),D.pipelines.postBatch(F)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(48),j=y(60),O=y(30),G=function(D,F,B,W){B.addToRenderList(F);var U=D.currentContext;if(O(D,U,F,B,W)){var X=F._displayOriginX,K=F._displayOriginY,J=F.geom.x1-X,Z=F.geom.y1-K,Q=F.geom.x2-X,q=F.geom.y2-K,et=F.geom.x3-X,rt=F.geom.y3-K;U.beginPath(),U.moveTo(J,Z),U.lineTo(Q,q),U.lineTo(et,rt),U.closePath(),F.isFilled&&(R(U,F),U.fill()),F.isStroked&&(j(U,F),U.stroke()),U.restore()}};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(213),j=y(5);j.register("blitter",function(O,G,D,F){return this.displayList.add(new R(this.scene,O,G,D,F))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(214),j=y(5);j.register("container",function(O,G,D){return this.displayList.add(new R(this.scene,O,G,D))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(442),j=y(5);j.register("dom",function(O,G,D,F,B){var W=new R(this.scene,O,G,D,F,B);return this.displayList.add(W),W})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(215),j=y(5);j.register("dynamicBitmapText",function(O,G,D,F,B){return this.displayList.add(new R(this.scene,O,G,D,F,B))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(444),j=y(5);j.register("extern",function(){var O=new R(this.scene);return this.displayList.add(O),O})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(216),j=y(5);j.register("graphics",function(O){return this.displayList.add(new R(this.scene,O))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(113),j=y(5);j.register("group",function(O,G){return this.updateList.add(new R(this.scene,O,G))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(125),j=y(5);j.register("image",function(O,G,D,F){return this.displayList.add(new R(this.scene,O,G,D,F))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(219),j=y(5);j.register("layer",function(O){return this.displayList.add(new R(this.scene,O))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(220);R.register("particles",function(O,G,D){return this.displayList.add(new j(this.scene,O,G,D))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(457);R.register("follower",function(O,G,D,F,B){var W=new j(this.scene,O,G,D,F,B);return this.displayList.add(W),this.updateList.add(W),W})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(221);R.register("renderTexture",function(O,G,D,F,B,W){return this.displayList.add(new j(this.scene,O,G,D,F,B,W))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(223),j=y(5);j.register("rope",function(O,G,D,F,B,W,U,X){return this.displayList.add(new R(this.scene,O,G,D,F,B,W,U,X))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(73);R.register("sprite",function(O,G,D,F){var B=new j(this.scene,O,G,D,F);return this.displayList.add(B),B})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(148),j=y(5);j.register("bitmapText",function(O,G,D,F,B,W){return this.displayList.add(new R(this.scene,O,G,D,F,B,W))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(224),j=y(5);j.register("text",function(O,G,D,F){return this.displayList.add(new R(this.scene,O,G,D,F))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(225),j=y(5);j.register("tileSprite",function(O,G,D,F,B,W){return this.displayList.add(new R(this.scene,O,G,D,F,B,W))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(129),j=y(5);j.register("zone",function(O,G,D,F){return this.displayList.add(new R(this.scene,O,G,D,F))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(226),j=y(5);j.register("video",function(O,G,D){return this.displayList.add(new R(this.scene,O,G,D))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(461),j=y(5);j.register("arc",function(O,G,D,F,B,W,U,X){return this.displayList.add(new R(this.scene,O,G,D,F,B,W,U,X))}),j.register("circle",function(O,G,D,F,B){return this.displayList.add(new R(this.scene,O,G,D,0,360,!1,F,B))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(462);R.register("curve",function(O,G,D,F,B){return this.displayList.add(new j(this.scene,O,G,D,F,B))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(463),j=y(5);j.register("ellipse",function(O,G,D,F,B,W){return this.displayList.add(new R(this.scene,O,G,D,F,B,W))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(464);R.register("grid",function(O,G,D,F,B,W,U,X,K,J){return this.displayList.add(new j(this.scene,O,G,D,F,B,W,U,X,K,J))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(465);R.register("isobox",function(O,G,D,F,B,W,U){return this.displayList.add(new j(this.scene,O,G,D,F,B,W,U))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(466);R.register("isotriangle",function(O,G,D,F,B,W,U,X){return this.displayList.add(new j(this.scene,O,G,D,F,B,W,U,X))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(467);R.register("line",function(O,G,D,F,B,W,U,X){return this.displayList.add(new j(this.scene,O,G,D,F,B,W,U,X))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(468);R.register("polygon",function(O,G,D,F,B){return this.displayList.add(new j(this.scene,O,G,D,F,B))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(473);R.register("rectangle",function(O,G,D,F,B,W){return this.displayList.add(new j(this.scene,O,G,D,F,B,W))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(474),j=y(5);j.register("star",function(O,G,D,F,B,W,U){return this.displayList.add(new R(this.scene,O,G,D,F,B,W,U))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(475);R.register("triangle",function(O,G,D,F,B,W,U,X,K,J){return this.displayList.add(new j(this.scene,O,G,D,F,B,W,U,X,K,J))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(213),j=y(28),O=y(16),G=y(13);O.register("blitter",function(D,F){D===void 0&&(D={});var B=G(D,"key",null),W=G(D,"frame",null),U=new R(this.scene,0,0,B,W);return F!==void 0&&(D.add=F),j(this.scene,U,D),U})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(214),O=y(16),G=y(13);O.register("container",function(D,F){D===void 0&&(D={});var B=G(D,"x",0),W=G(D,"y",0),U=G(D,"children",null),X=new j(this.scene,B,W,U);return F!==void 0&&(D.add=F),R(this.scene,X,D),X})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(215),j=y(28),O=y(16),G=y(13);O.register("dynamicBitmapText",function(D,F){D===void 0&&(D={});var B=G(D,"font",""),W=G(D,"text",""),U=G(D,"size",!1),X=new R(this.scene,0,0,B,W,U);return F!==void 0&&(D.add=F),j(this.scene,X,D),X})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(16),j=y(216);R.register("graphics",function(O,G){O===void 0&&(O={}),G!==void 0&&(O.add=G);var D=new j(this.scene,O);return O.add&&this.scene.sys.displayList.add(D),D})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(16),j=y(113);R.register("group",function(O){return new j(this.scene,null,O)})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(16),O=y(13),G=y(125);j.register("image",function(D,F){D===void 0&&(D={});var B=O(D,"key",null),W=O(D,"frame",null),U=new G(this.scene,0,0,B,W);return F!==void 0&&(D.add=F),R(this.scene,U,D),U})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(219),O=y(16),G=y(13);O.register("layer",function(D,F){D===void 0&&(D={});var B=G(D,"children",null),W=new j(this.scene,B);return F!==void 0&&(D.add=F),R(this.scene,W,D),W})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(16),j=y(13),O=y(2),G=y(220);R.register("particles",function(D,F){D===void 0&&(D={});var B=j(D,"key",null),W=j(D,"frame",null),U=O(D,"emitters",null),X=new G(this.scene,B,W,U);F!==void 0&&(D.add=F);var K=O(D,"add",!1);return K?this.displayList.add(X):this.updateList.add(X),X})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(16),O=y(13),G=y(221);j.register("renderTexture",function(D,F){D===void 0&&(D={});var B=O(D,"x",0),W=O(D,"y",0),U=O(D,"width",32),X=O(D,"height",32),K=O(D,"key",void 0),J=O(D,"frame",void 0),Z=new G(this.scene,B,W,U,X,K,J);return F!==void 0&&(D.add=F),R(this.scene,Z,D),Z})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(16),O=y(13),G=y(6),D=y(223);j.register("rope",function(F,B){F===void 0&&(F={});var W=O(F,"key",null),U=O(F,"frame",null),X=O(F,"horizontal",!0),K=G(F,"points",void 0),J=G(F,"colors",void 0),Z=G(F,"alphas",void 0),Q=new D(this.scene,0,0,W,U,K,X,J,Z);return B!==void 0&&(F.add=B),R(this.scene,Q,F),F.add||this.updateList.add(Q),Q})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(439),O=y(16),G=y(13),D=y(73);O.register("sprite",function(F,B){F===void 0&&(F={});var W=G(F,"key",null),U=G(F,"frame",null),X=new D(this.scene,0,0,W,U);return B!==void 0&&(F.add=B),R(this.scene,X,F),j(X,F),X})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(148),j=y(28),O=y(16),G=y(13),D=y(6);O.register("bitmapText",function(F,B){F===void 0&&(F={});var W=D(F,"font",""),U=G(F,"text",""),X=G(F,"size",!1),K=D(F,"align",0),J=new R(this.scene,0,0,W,U,X,K);return B!==void 0&&(F.add=B),j(this.scene,J,F),J})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(16),O=y(13),G=y(224);j.register("text",function(D,F){D===void 0&&(D={});var B=O(D,"text",""),W=O(D,"style",null),U=O(D,"padding",null);U!==null&&(W.padding=U);var X=new G(this.scene,0,0,B,W);return F!==void 0&&(D.add=F),R(this.scene,X,D),X.autoRound=O(D,"autoRound",!0),X.resolution=O(D,"resolution",1),X})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(16),O=y(13),G=y(225);j.register("tileSprite",function(D,F){D===void 0&&(D={});var B=O(D,"x",0),W=O(D,"y",0),U=O(D,"width",512),X=O(D,"height",512),K=O(D,"key",""),J=O(D,"frame",""),Z=new G(this.scene,B,W,U,X,K,J);return F!==void 0&&(D.add=F),R(this.scene,Z,D),Z})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(16),j=y(13),O=y(129);R.register("zone",function(G){var D=j(G,"x",0),F=j(G,"y",0),B=j(G,"width",1),W=j(G,"height",B);return new O(this.scene,D,F,B,W)})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(16),O=y(13),G=y(226);j.register("video",function(D,F){D===void 0&&(D={});var B=O(D,"key",null),W=new G(this.scene,0,0,B);return F!==void 0&&(D.add=F),R(this.scene,W,D),D.add||this.updateList.add(W),W})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1177),j=y(1178),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=function(O,G,D,F){if(!!G.shader){if(D.addToRenderList(G),O.pipelines.clear(),G.renderToTexture)G.load(),G.flush();else{var B=R(G,D,F).calc;(O.width!==G._rendererWidth||O.height!==G._rendererHeight)&&G.projOrtho(0,O.width,O.height,0),G.load(B.matrix),G.flush()}O.pipelines.rebind()}};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1180),j=y(1181),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=function(O,G,D,F){var B=G.faces,W=B.length;if(W!==0){D.addToRenderList(G);var U=O.pipelines.set(G.pipeline,G),X=R(G,D,F).calc,K=U.setGameObject(G),J=U.vertexViewF32,Z=U.vertexViewU32,Q=U.vertexCount*U.currentShader.vertexComponentCount-1,q=G.tintFill,et=[],rt=G.debugCallback,nt=X.a,ot=X.b,ht=X.c,ut=X.d,ct=X.e,ft=X.f,dt=G.viewPosition.z,pt=G.hideCCW,yt=D.roundPixels,St=D.alpha*G.alpha,At=0;O.pipelines.preBatch(G);for(var Ct=0;Ct<W;Ct++){var Pt=B[Ct];!Pt.isInView(D,pt,dt,St,nt,ot,ht,ut,ct,ft,yt)||(U.shouldFlush(3)&&(U.flush(),Q=0),Q=Pt.load(J,Z,Q,K,q),At++,U.vertexCount+=3,rt&&et.push(Pt))}G.totalFrame+=At,rt&&rt.call(G,G,et),O.pipelines.postBatch(G)}};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1183),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(19),j=function(O,G,D,F){D.addToRenderList(G);var B=O.pipelines.set(G.pipeline),W=R(G,D,F).calc,U=G.width,X=G.height,K=-G._radius,J=-G._radius,Z=K+U,Q=J+X,q=W.getX(0,0),et=W.getY(0,0),rt=W.getX(K,J),nt=W.getY(K,J),ot=W.getX(K,Q),ht=W.getY(K,Q),ut=W.getX(Z,Q),ct=W.getY(Z,Q),ft=W.getX(Z,J),dt=W.getY(Z,J);O.pipelines.preBatch(G),B.batchPointLight(G,D,rt,nt,ot,ht,ut,ct,ft,dt,q,et),O.pipelines.postBatch(G)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(229),j=y(5);j.register("shader",function(O,G,D,F,B,W,U){return this.displayList.add(new R(this.scene,O,G,D,F,B,W,U))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(230),j=y(5);j.register("mesh",function(O,G,D,F,B,W,U,X,K,J,Z){return this.displayList.add(new R(this.scene,O,G,D,F,B,W,U,X,K,J,Z))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(150);R.register("pointlight",function(O,G,D,F,B,W){return this.displayList.add(new j(this.scene,O,G,D,F,B,W))})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(16),O=y(13),G=y(229);j.register("shader",function(D,F){D===void 0&&(D={});var B=O(D,"key",null),W=O(D,"x",0),U=O(D,"y",0),X=O(D,"width",128),K=O(D,"height",128),J=new G(this.scene,B,W,U,X,K);return F!==void 0&&(D.add=F),R(this.scene,J,D),J})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(16),O=y(13),G=y(6),D=y(230);j.register("mesh",function(F,B){F===void 0&&(F={});var W=O(F,"key",null),U=O(F,"frame",null),X=G(F,"vertices",[]),K=G(F,"uvs",[]),J=G(F,"indicies",[]),Z=G(F,"containsZ",!1),Q=G(F,"normals",[]),q=G(F,"colors",16777215),et=G(F,"alphas",1),rt=new D(this.scene,0,0,W,U,X,K,J,Z,Q,q,et);return B!==void 0&&(F.add=B),R(this.scene,rt,F),rt})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(28),j=y(16),O=y(13),G=y(150);j.register("pointlight",function(D,F){D===void 0&&(D={});var B=O(D,"color",16777215),W=O(D,"radius",128),U=O(D,"intensity",1),X=O(D,"attenuation",.1),K=new G(this.scene,0,0,B,W,U,X);return F!==void 0&&(D.add=F),R(this.scene,K,D),K})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(482),O=y(24),G=y(20),D=new R({Extends:j,initialize:function(B){this.scene=B,this.systems=B.sys,B.sys.settings.isBooted||B.sys.events.once(G.BOOT,this.boot,this),j.call(this)},boot:function(){var F=this.systems.events;F.on(G.SHUTDOWN,this.shutdown,this),F.on(G.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});O.register("LightsPlugin",D,"lights"),Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(65);R.Area=y(1192),R.Circumference=y(302),R.CircumferencePoint=y(169),R.Clone=y(1193),R.Contains=y(66),R.ContainsPoint=y(1194),R.ContainsRect=y(1195),R.CopyFrom=y(1196),R.Equals=y(1197),R.GetBounds=y(1198),R.GetPoint=y(300),R.GetPoints=y(301),R.Offset=y(1199),R.OffsetPoint=y(1200),R.Random=y(170),Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.radius>0?Math.PI*R.radius*R.radius:0};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(65),j=function(O){return new R(O.x,O.y,O.radius)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(66),j=function(O,G){return R(O,G.x,G.y)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(66),j=function(O,G){return R(O,G.x,G.y)&&R(O,G.right,G.y)&&R(O,G.x,G.bottom)&&R(O,G.right,G.bottom)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j.setTo(R.x,R.y,R.radius)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x===j.x&&R.y===j.y&&R.radius===j.radius};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=function(O,G){return G===void 0&&(G=new R),G.x=O.left,G.y=O.top,G.width=O.diameter,G.height=O.diameter,G};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R.x+=j,R.y+=O,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x+=j.x,R.y+=j.y,R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(111);R.Area=y(1202),R.Circumference=y(447),R.CircumferencePoint=y(218),R.Clone=y(1203),R.Contains=y(112),R.ContainsPoint=y(1204),R.ContainsRect=y(1205),R.CopyFrom=y(1206),R.Equals=y(1207),R.GetBounds=y(1208),R.GetPoint=y(445),R.GetPoints=y(446),R.Offset=y(1209),R.OffsetPoint=y(1210),R.Random=y(180),Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.isEmpty()?0:R.getMajorRadius()*R.getMinorRadius()*Math.PI};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(111),j=function(O){return new R(O.x,O.y,O.width,O.height)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(112),j=function(O,G){return R(O,G.x,G.y)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(112),j=function(O,G){return R(O,G.x,G.y)&&R(O,G.right,G.y)&&R(O,G.x,G.bottom)&&R(O,G.right,G.bottom)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j.setTo(R.x,R.y,R.width,R.height)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x===j.x&&R.y===j.y&&R.width===j.width&&R.height===j.height};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=function(O,G){return G===void 0&&(G=new R),G.x=O.left,G.y=O.top,G.width=O.width,G.height=O.height,G};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R.x+=j,R.y+=O,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x+=j.x,R.y+=j.y,R};Y.exports=y},function(Y,tt,y){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=y(231),O=function(G,D,F){if(F===void 0&&(F=[]),j(G,D)){var B=G.x,W=G.y,U=G.radius,X=D.x,K=D.y,J=D.radius,Z,Q,q,et,rt;if(W===K)rt=(J*J-U*U-X*X+B*B)/(2*(B-X)),Z=1,Q=-2*K,q=X*X+rt*rt-2*X*rt+K*K-J*J,et=Q*Q-4*Z*q,et===0?F.push(new R(rt,-Q/(2*Z))):et>0&&(F.push(new R(rt,(-Q+Math.sqrt(et))/(2*Z))),F.push(new R(rt,(-Q-Math.sqrt(et))/(2*Z))));else{var nt=(B-X)/(W-K),ot=(J*J-U*U-X*X+B*B-K*K+W*W)/(2*(W-K));Z=nt*nt+1,Q=2*W*nt-2*ot*nt-2*B,q=B*B+W*W+ot*ot-U*U-2*W*ot,et=Q*Q-4*Z*q,et===0?(rt=-Q/(2*Z),F.push(new R(rt,ot-rt*nt))):et>0&&(rt=(-Q+Math.sqrt(et))/(2*Z),F.push(new R(rt,ot-rt*nt)),rt=(-Q-Math.sqrt(et))/(2*Z),F.push(new R(rt,ot-rt*nt)))}}return F};Y.exports=O},function(Y,tt,y){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(232),j=y(151),O=function(G,D,F){if(F===void 0&&(F=[]),j(G,D)){var B=D.getLineA(),W=D.getLineB(),U=D.getLineC(),X=D.getLineD();R(B,G,F),R(W,G,F),R(U,G,F),R(X,G,F)}return F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(140),j=y(487),O=y(47),G=new O;function D(W,U,X,K,J){var Z=Math.cos(W),Q=Math.sin(W);G.setTo(U,X,U+Z,X+Q);var q=j(G,K);q&&J.push(new R(q.x,q.y,W,q.w))}function F(W,U){return W.z-U.z}var B=function(W,U,X){Array.isArray(X)||(X=[X]);for(var K=[],J=[],Z=0;Z<X.length;Z++)for(var Q=X[Z].points,q=0;q<Q.length;q++){var et=Math.atan2(Q[q].y-U,Q[q].x-W);J.indexOf(et)===-1&&(D(et,W,U,X,K),D(et-1e-5,W,U,X,K),D(et+1e-5,W,U,X,K),J.push(et))}return K.sort(F)};Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=y(152),O=function(G,D,F){return F===void 0&&(F=new R),j(G,D)&&(F.x=Math.max(G.x,D.x),F.y=Math.max(G.y,D.y),F.width=Math.min(G.right,D.right)-F.x,F.height=Math.min(G.bottom,D.bottom)-F.y),F};Y.exports=O},function(Y,tt,y){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(234),j=y(152),O=function(G,D,F){if(F===void 0&&(F=[]),j(G,D)){var B=G.getLineA(),W=G.getLineB(),U=G.getLineC(),X=G.getLineD();R(B,D,F),R(W,D,F),R(U,D,F),R(X,D,F)}return F};Y.exports=O},function(Y,tt,y){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(489),j=y(234),O=function(G,D,F){if(F===void 0&&(F=[]),R(G,D)){var B=D.getLineA(),W=D.getLineB(),U=D.getLineC();j(B,G,F),j(W,G,F),j(U,G,F)}return F};Y.exports=O},function(Y,tt,y){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(232),j=y(491),O=function(G,D,F){if(F===void 0&&(F=[]),j(G,D)){var B=G.getLineA(),W=G.getLineB(),U=G.getLineC();R(B,D,F),R(W,D,F),R(U,D,F)}return F};Y.exports=O},function(Y,tt,y){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(494),j=y(492),O=function(G,D,F){if(F===void 0&&(F=[]),R(G,D)){var B=D.getLineA(),W=D.getLineB(),U=D.getLineC();j(G,B,F),j(G,W,F),j(G,U,F)}return F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(496),j=function(O,G){if(!R(O,G))return!1;var D=Math.min(G.x1,G.x2),F=Math.max(G.x1,G.x2),B=Math.min(G.y1,G.y2),W=Math.max(G.y1,G.y2);return O.x>=D&&O.x<=F&&O.y>=B&&O.y<=W};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D,F){return F===void 0&&(F=0),!(j>R.right+F||O<R.left-F||G>R.bottom+F||D<R.top-F)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(47);R.Angle=y(97),R.BresenhamPoints=y(317),R.CenterOn=y(1222),R.Clone=y(1223),R.CopyFrom=y(1224),R.Equals=y(1225),R.Extend=y(1226),R.GetEasedPoints=y(1227),R.GetMidPoint=y(1228),R.GetNearestPoint=y(1229),R.GetNormal=y(1230),R.GetPoint=y(307),R.GetPoints=y(172),R.GetShortestDistance=y(1231),R.Height=y(1232),R.Length=y(67),R.NormalAngle=y(497),R.NormalX=y(1233),R.NormalY=y(1234),R.Offset=y(1235),R.PerpSlope=y(1236),R.Random=y(173),R.ReflectAngle=y(1237),R.Rotate=y(1238),R.RotateAroundPoint=y(1239),R.RotateAroundXY=y(236),R.SetToAngle=y(1240),R.Slope=y(1241),R.Width=y(1242),Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=j-(R.x1+R.x2)/2,D=O-(R.y1+R.y2)/2;return R.x1+=G,R.y1+=D,R.x2+=G,R.y2+=D,R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(47),j=function(O){return new R(O.x1,O.y1,O.x2,O.y2)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j.setTo(R.x1,R.y1,R.x2,R.y2)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x1===j.x1&&R.y1===j.y1&&R.x2===j.x2&&R.y2===j.y2};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(67),j=function(O,G,D){D===void 0&&(D=G);var F=R(O),B=O.x2-O.x1,W=O.y2-O.y1;return G&&(O.x1=O.x1-B/F*G,O.y1=O.y1-W/F*G),D&&(O.x2=O.x2+B/F*D,O.y2=O.y2+W/F*D),O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(352),j=y(80),O=y(4),G=function(D,F,B,W,U){W===void 0&&(W=0),U===void 0&&(U=[]);var X=[],K=D.x1,J=D.y1,Z=D.x2-K,Q=D.y2-J,q=j(F,U),et,rt,nt=B-1;for(et=0;et<nt;et++)rt=q(et/nt),X.push(new O(K+Z*rt,J+Q*rt));if(rt=q(1),X.push(new O(K+Z*rt,J+Q*rt)),W>0){var ot=X[0],ht=[ot];for(et=1;et<X.length-1;et++){var ut=X[et];R(ot,ut)>=W&&(ht.push(ut),ot=ut)}var ct=X[X.length-1];return R(ot,ct)<W&&ht.pop(),ht.push(ct),ht}else return X};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G){return G===void 0&&(G=new R),G.x=(O.x1+O.x2)/2,G.y=(O.y1+O.y2)/2,G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G,D){D===void 0&&(D=new R);var F=O.x1,B=O.y1,W=O.x2,U=O.y2,X=(W-F)*(W-F)+(U-B)*(U-B);if(X===0)return D;var K=((G.x-F)*(W-F)+(G.y-B)*(U-B))/X;return D.x=F+K*(W-F),D.y=B+K*(U-B),D};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(14),j=y(97),O=y(4),G=function(D,F){F===void 0&&(F=new O);var B=j(D)-R.TAU;return F.x=Math.cos(B),F.y=Math.sin(B),F};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=R.x1,G=R.y1,D=R.x2,F=R.y2,B=(D-O)*(D-O)+(F-G)*(F-G);if(B===0)return!1;var W=((G-j.y)*(D-O)-(O-j.x)*(F-G))/B;return Math.abs(W)*Math.sqrt(B)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return Math.abs(R.y1-R.y2)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(14),j=y(97),O=function(G){return Math.cos(j(G)-R.TAU)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(14),j=y(97),O=function(G){return Math.sin(j(G)-R.TAU)};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R.x1+=j,R.y1+=O,R.x2+=j,R.y2+=O,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return-((R.x2-R.x1)/(R.y2-R.y1))};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(97),j=y(497),O=function(G,D){return 2*j(D)-Math.PI-R(G)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(236),j=function(O,G){var D=(O.x1+O.x2)/2,F=(O.y1+O.y2)/2;return R(O,D,F,G)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(236),j=function(O,G,D){return R(O,G.x,G.y,D)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G,D){return R.x1=j,R.y1=O,R.x2=j+Math.cos(G)*D,R.y2=O+Math.sin(G)*D,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return(R.y2-R.y1)/(R.x2-R.x1)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return Math.abs(R.x1-R.x2)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R={Face:y(116),GenerateGridVerts:y(1244),GenerateObjVerts:y(480),GenerateVerts:y(479),ParseObj:y(498),ParseObjMaterial:y(499),RotateFace:y(1245),Vertex:y(117)};Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(116),j=y(2),O=y(69),G=y(39),D=y(117),F=new G,B=new G,W=new O,U=function(X){var K=j(X,"mesh"),J=j(X,"texture",null),Z=j(X,"frame"),Q=j(X,"width",1),q=j(X,"height",Q),et=j(X,"widthSegments",1),rt=j(X,"heightSegments",et),nt=j(X,"x",0),ot=j(X,"y",0),ht=j(X,"z",0),ut=j(X,"rotateX",0),ct=j(X,"rotateY",0),ft=j(X,"rotateZ",0),dt=j(X,"zIsUp",!0),pt=j(X,"isOrtho",K?K.dirtyCache[11]:!1),yt=j(X,"colors",[16777215]),St=j(X,"alphas",[1]),At=j(X,"tile",!1),Ct=j(X,"flipY",!1),Pt=j(X,"width",null),Rt={faces:[],verts:[]};if(F.set(nt,ot,ht),B.set(ut,ct,ft),W.fromRotationXYTranslation(B,F,dt),!J&&K)J=K.texture;else if(K&&typeof J=="string")J=K.scene.sys.textures.get(J);else return Rt;var mt=J.get(Z);!Pt&&pt&&J&&K&&(Q=mt.width/K.height,q=mt.height/K.height);var vt=Q/2,xt=q/2,Tt=Math.floor(et),Et=Math.floor(rt),Ot=Tt+1,Mt=Et+1,Ft=Q/Tt,It=q/Et,Dt=[],bt=[],wt,$t,Ut=0,Nt=1,Yt=0,Ht=1;mt&&(Ut=mt.u0,Nt=mt.u1,Ct?(Yt=mt.v1,Ht=mt.v0):(Yt=mt.v0,Ht=mt.v1));var Xt=Nt-Ut,zt=Ht-Yt;for($t=0;$t<Mt;$t++){var Bt=$t*It-xt;for(wt=0;wt<Ot;wt++){var jt=wt*Ft-vt;bt.push(jt,-Bt);var Vt=Ut+Xt*(wt/Tt),Wt=Yt+zt*($t/Et);Dt.push(Vt,Wt)}}Array.isArray(yt)||(yt=[yt]),Array.isArray(St)||(St=[St]);var qt=0,_t=0;for($t=0;$t<Et;$t++)for(wt=0;wt<Tt;wt++){var Zt=(wt+Ot*$t)*2,Kt=(wt+Ot*($t+1))*2,kt=(wt+1+Ot*($t+1))*2,Qt=(wt+1+Ot*$t)*2,Jt=yt[_t],te=St[qt],re=new D(bt[Zt],bt[Zt+1],0,Dt[Zt],Dt[Zt+1],Jt,te).transformMat4(W),ie=new D(bt[Kt],bt[Kt+1],0,Dt[Kt],Dt[Kt+1],Jt,te).transformMat4(W),se=new D(bt[Qt],bt[Qt+1],0,Dt[Qt],Dt[Qt+1],Jt,te).transformMat4(W),ae=new D(bt[Kt],bt[Kt+1],0,Dt[Kt],Dt[Kt+1],Jt,te).transformMat4(W),oe=new D(bt[kt],bt[kt+1],0,Dt[kt],Dt[kt+1],Jt,te).transformMat4(W),he=new D(bt[Qt],bt[Qt+1],0,Dt[Qt],Dt[Qt+1],Jt,te).transformMat4(W);At&&(re.setUVs(Ut,Ht),ie.setUVs(Ut,Yt),se.setUVs(Nt,Ht),ae.setUVs(Ut,Yt),oe.setUVs(Nt,Yt),he.setUVs(Nt,Ht)),_t++,_t===yt.length&&(_t=0),qt++,qt===St.length&&(qt=0),Rt.verts.push(re,ie,se,ae,oe,he),Rt.faces.push(new R(re,ie,se),new R(ae,oe,he))}return K&&(K.faces=K.faces.concat(Rt.faces),K.vertices=K.vertices.concat(Rt.verts)),Rt};Y.exports=U},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){var D,F;if(O===void 0&&G===void 0){var B=R.getInCenter();D=B.x,F=B.y}var W=Math.cos(j),U=Math.sin(j),X=R.vertex1,K=R.vertex2,J=R.vertex3,Z=X.x-D,Q=X.y-F;X.set(Z*W-Q*U+D,Z*U+Q*W+F),Z=K.x-D,Q=K.y-F,K.set(Z*W-Q*U+D,Z*U+Q*W+F),Z=J.x-D,Q=J.y-F,J.set(Z*W-Q*U+D,Z*U+Q*W+F)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4);R.Ceil=y(1247),R.Clone=y(1248),R.CopyFrom=y(1249),R.Equals=y(1250),R.Floor=y(1251),R.GetCentroid=y(1252),R.GetMagnitude=y(500),R.GetMagnitudeSq=y(501),R.GetRectangleFromPoints=y(1253),R.Interpolate=y(1254),R.Invert=y(1255),R.Negative=y(1256),R.Project=y(1257),R.ProjectUnit=y(1258),R.SetMagnitude=y(1259),Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.setTo(Math.ceil(R.x),Math.ceil(R.y))};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O){return new R(O.x,O.y)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j.setTo(R.x,R.y)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x===j.x&&R.y===j.y};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.setTo(Math.floor(R.x),Math.floor(R.y))};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G){if(G===void 0&&(G=new R),!Array.isArray(O))throw new Error("GetCentroid points argument must be an array");var D=O.length;if(D<1)throw new Error("GetCentroid points array must not be empty");if(D===1)G.x=O[0].x,G.y=O[0].y;else{for(var F=0;F<D;F++)G.x+=O[F].x,G.y+=O[F].y;G.x/=D,G.y/=D}return G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=function(O,G){G===void 0&&(G=new R);for(var D=Number.NEGATIVE_INFINITY,F=Number.POSITIVE_INFINITY,B=Number.NEGATIVE_INFINITY,W=Number.POSITIVE_INFINITY,U=0;U<O.length;U++){var X=O[U];X.x>D&&(D=X.x),X.x<F&&(F=X.x),X.y>B&&(B=X.y),X.y<W&&(W=X.y)}return G.x=F,G.y=W,G.width=D-F,G.height=B-W,G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G,D,F){return D===void 0&&(D=0),F===void 0&&(F=new R),F.x=O.x+(G.x-O.x)*D,F.y=O.y+(G.y-O.y)*D,F};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.setTo(R.y,R.x)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G){return G===void 0&&(G=new R),G.setTo(-O.x,-O.y)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=y(501),O=function(G,D,F){F===void 0&&(F=new R);var B=G.x*D.x+G.y*D.y,W=B/j(D);return W!==0&&(F.x=W*D.x,F.y=W*D.y),F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G,D){D===void 0&&(D=new R);var F=O.x*G.x+O.y*G.y;return F!==0&&(D.x=F*G.x,D.y=F*G.y),D};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(500),j=function(O,G){if(O.x!==0||O.y!==0){var D=R(O);O.x/=D,O.y/=D}return O.x*=G,O.y*=G,O};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(227);R.Clone=y(1261),R.Contains=y(228),R.ContainsPoint=y(1262),R.Earcut=y(59),R.GetAABB=y(469),R.GetNumberArray=y(1263),R.GetPoints=y(470),R.Perimeter=y(471),R.Reverse=y(1264),R.Simplify=y(1265),R.Smooth=y(472),R.Translate=y(1266),Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(227),j=function(O){return new R(O.points)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(228),j=function(O,G){return R(O,G.x,G.y)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j===void 0&&(j=[]);for(var O=0;O<R.points.length;O++)j.push(R.points[O].x),j.push(R.points[O].y);return j};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.points.reverse(),R};Y.exports=y},function(Y,tt){function y(F,B){var W=F.x-B.x,U=F.y-B.y;return W*W+U*U}function R(F,B,W){var U=B.x,X=B.y,K=W.x-U,J=W.y-X;if(K!==0||J!==0){var Z=((F.x-U)*K+(F.y-X)*J)/(K*K+J*J);Z>1?(U=W.x,X=W.y):Z>0&&(U+=K*Z,X+=J*Z)}return K=F.x-U,J=F.y-X,K*K+J*J}function j(F,B){for(var W=F[0],U=[W],X,K=1,J=F.length;K<J;K++)X=F[K],y(X,W)>B&&(U.push(X),W=X);return W!==X&&U.push(X),U}function O(F,B,W,U,X){for(var K=U,J,Z=B+1;Z<W;Z++){var Q=R(F[Z],F[B],F[W]);Q>K&&(J=Z,K=Q)}K>U&&(J-B>1&&O(F,B,J,U,X),X.push(F[J]),W-J>1&&O(F,J,W,U,X))}function G(F,B){var W=F.length-1,U=[F[0]];return O(F,0,W,B,U),U.push(F[W]),U}var D=function(F,B,W){B===void 0&&(B=1),W===void 0&&(W=!1);var U=F.points;if(U.length>2){var X=B*B;W||(U=j(U,X)),F.setTo(G(U,X))}return F};Y.exports=D},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){for(var G=R.points,D=0;D<G.length;D++)G[D].x+=j,G[D].y+=O;return R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.width*R.height};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.x=Math.ceil(R.x),R.y=Math.ceil(R.y),R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.x=Math.ceil(R.x),R.y=Math.ceil(R.y),R.width=Math.ceil(R.width),R.height=Math.ceil(R.height),R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=function(O){return new R(O.x,O.y,O.width,O.height)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(57),j=function(O,G){return R(O,G.x,G.y)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j.setTo(R.x,R.y,R.width,R.height)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x===j.x&&R.y===j.y&&R.width===j.width&&R.height===j.height};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(237),j=function(O,G){var D=R(O);return D<R(G)?O.setSize(G.height*D,G.height):O.setSize(G.width,G.width/D),O.setPosition(G.centerX-O.width/2,G.centerY-O.height/2)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(237),j=function(O,G){var D=R(O);return D>R(G)?O.setSize(G.height*D,G.height):O.setSize(G.width,G.width/D),O.setPosition(G.centerX-O.width/2,G.centerY-O.height/2)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.x=Math.floor(R.x),R.y=Math.floor(R.y),R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.x=Math.floor(R.x),R.y=Math.floor(R.y),R.width=Math.floor(R.width),R.height=Math.floor(R.height),R};Y.exports=y},function(Y,tt,y){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=function(O,G,D,F,B){return B===void 0&&(B=new R),B.setTo(Math.min(O,D),Math.min(G,F),Math.abs(O-D),Math.abs(G-F))};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G){return G===void 0&&(G=new R),G.x=O.centerX,G.y=O.centerY,G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=function(O,G){return G===void 0&&(G=new R),G.x=O.width,G.y=O.height,G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(190),j=function(O,G,D){var F=O.centerX,B=O.centerY;return O.setSize(O.width+G*2,O.height+D*2),R(O,F,B)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(10),j=y(152),O=function(G,D,F){return F===void 0&&(F=new R),j(G,D)?(F.x=Math.max(G.x,D.x),F.y=Math.max(G.y,D.y),F.width=Math.min(G.right,D.right)-F.x,F.height=Math.min(G.bottom,D.bottom)-F.y):F.setEmpty(),F};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){for(var O=R.x,G=R.right,D=R.y,F=R.bottom,B=0;B<j.length;B++)O=Math.min(O,j[B].x),G=Math.max(G,j[B].x),D=Math.min(D,j[B].y),F=Math.max(F,j[B].y);return R.x=O,R.y=D,R.width=G-O,R.height=F-D,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){var O=Math.min(R.x,j.x),G=Math.max(R.right,j.right);R.x=O,R.width=G-O;var D=Math.min(R.y,j.y),F=Math.max(R.bottom,j.bottom);return R.y=D,R.height=F-D,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){var G=Math.min(R.x,j),D=Math.max(R.right,j);R.x=G,R.width=D-G;var F=Math.min(R.y,O),B=Math.max(R.bottom,O);return R.y=F,R.height=B-F,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return R.x+=j,R.y+=O,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x+=j.x,R.y+=j.y,R};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x<j.right&&R.right>j.x&&R.y<j.bottom&&R.bottom>j.y};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(4),j=y(36),O=function(G,D,F){F===void 0&&(F=new R),D=j(D);var B=Math.sin(D),W=Math.cos(D),U=W>0?G.width/2:G.width/-2,X=B>0?G.height/2:G.height/-2;return Math.abs(U*B)<Math.abs(X*W)?X=U*B/W:U=X*W/B,F.x=U+G.centerX,F.y=X+G.centerY,F};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(195),j=y(503),O=y(4),G=function(D,F,B){if(B===void 0&&(B=new O),j(D,F))switch(R(0,3)){case 0:B.x=D.x+Math.random()*(F.right-D.x),B.y=D.y+Math.random()*(F.top-D.y);break;case 1:B.x=F.x+Math.random()*(D.right-F.x),B.y=F.bottom+Math.random()*(D.bottom-F.bottom);break;case 2:B.x=D.x+Math.random()*(F.x-D.x),B.y=F.y+Math.random()*(D.bottom-F.y);break;case 3:B.x=F.right+Math.random()*(D.right-F.right),B.y=D.y+Math.random()*(F.bottom-D.y);break}return B};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.width===j.width&&R.height===j.height};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O){return O===void 0&&(O=j),R.width*=j,R.height*=O,R};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(82);R.Area=y(1294),R.BuildEquilateral=y(1295),R.BuildFromPolygon=y(1296),R.BuildRight=y(1297),R.CenterOn=y(1298),R.Centroid=y(504),R.CircumCenter=y(1299),R.CircumCircle=y(1300),R.Clone=y(1301),R.Contains=y(115),R.ContainsArray=y(235),R.ContainsPoint=y(1302),R.CopyFrom=y(1303),R.Decompose=y(495),R.Equals=y(1304),R.GetPoint=y(476),R.GetPoints=y(477),R.InCenter=y(506),R.Perimeter=y(1305),R.Offset=y(505),R.Random=y(181),R.Rotate=y(1306),R.RotateAroundPoint=y(1307),R.RotateAroundXY=y(238),Y.exports=R},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){var j=R.x1,O=R.y1,G=R.x2,D=R.y2,F=R.x3,B=R.y3;return Math.abs(((F-j)*(D-O)-(G-j)*(B-O))/2)};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(82),j=function(O,G,D){var F=D*(Math.sqrt(3)/2),B=O,W=G,U=O+D/2,X=G+F,K=O-D/2,J=G+F;return new R(B,W,U,X,K,J)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(59),j=y(82),O=function(G,D,F,B,W){D===void 0&&(D=null),F===void 0&&(F=1),B===void 0&&(B=1),W===void 0&&(W=[]);for(var U=R(G,D),X,K,J,Z,Q,q,et,rt,nt,ot=0;ot<U.length;ot+=3)X=U[ot],K=U[ot+1],J=U[ot+2],Z=G[X*2]*F,Q=G[X*2+1]*B,q=G[K*2]*F,et=G[K*2+1]*B,rt=G[J*2]*F,nt=G[J*2+1]*B,W.push(new j(Z,Q,q,et,rt,nt));return W};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(82),j=function(O,G,D,F){F===void 0&&(F=D);var B=O,W=G,U=O,X=G-F,K=O+D,J=G;return new R(B,W,U,X,K,J)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(504),j=y(505),O=function(G,D,F,B){B===void 0&&(B=R);var W=B(G),U=D-W.x,X=F-W.y;return j(G,U,X)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(3);function j(G,D,F,B){return G*B-D*F}var O=function(G,D){D===void 0&&(D=new R);var F=G.x3,B=G.y3,W=G.x1-F,U=G.y1-B,X=G.x2-F,K=G.y2-B,J=2*j(W,U,X,K),Z=j(U,W*W+U*U,K,X*X+K*K),Q=j(W,W*W+U*U,X,X*X+K*K);return D.x=F-Z/J,D.y=B+Q/J,D};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(65),j=function(O,G){G===void 0&&(G=new R);var D=O.x1,F=O.y1,B=O.x2,W=O.y2,U=O.x3,X=O.y3,K=B-D,J=W-F,Z=U-D,Q=X-F,q=K*(D+B)+J*(F+W),et=Z*(D+U)+Q*(F+X),rt=2*(K*(X-W)-J*(U-B)),nt,ot;if(Math.abs(rt)<1e-6){var ht=Math.min(D,B,U),ut=Math.min(F,W,X);nt=(Math.max(D,B,U)-ht)*.5,ot=(Math.max(F,W,X)-ut)*.5,G.x=ht+nt,G.y=ut+ot,G.radius=Math.sqrt(nt*nt+ot*ot)}else G.x=(Q*q-J*et)/rt,G.y=(K*et-Z*q)/rt,nt=G.x-D,ot=G.y-F,G.radius=Math.sqrt(nt*nt+ot*ot);return G};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(82),j=function(O){return new R(O.x1,O.y1,O.x2,O.y2,O.x3,O.y3)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(115),j=function(O,G){return R(O,G.x,G.y)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j.setTo(R.x1,R.y1,R.x2,R.y2,R.x3,R.y3)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.x1===j.x1&&R.y1===j.y1&&R.x2===j.x2&&R.y2===j.y2&&R.x3===j.x3&&R.y3===j.y3};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(67),j=function(O){var G=O.getLineA(),D=O.getLineB(),F=O.getLineC();return R(G)+R(D)+R(F)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(238),j=y(506),O=function(G,D){var F=j(G);return R(G,F.x,F.y,D)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(238),j=function(O,G,D){return R(O,G.x,G.y,D)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(203),j=y(17),O={CreatePixelPerfectHandler:y(507),CreateInteractiveObject:y(508),Events:y(51),Gamepad:y(1309),InputManager:y(409),InputPlugin:y(1321),InputPluginCache:y(153),Keyboard:y(1322),Mouse:y(1336),Pointer:y(412),Touch:y(1337)};O=j(!1,O,R),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Axis:y(509),Button:y(510),Events:y(239),Gamepad:y(511),GamepadPlugin:y(1316),Configs:y(1317)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="down"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="up"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="connected"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="disconnected"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="down"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="up"},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(9),O=y(239),G=y(511),D=y(6),F=y(153),B=y(51),W=new R({Extends:j,initialize:function(X){j.call(this),this.scene=X.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=X,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,X.pluginEvents.once(B.BOOT,this.boot,this),X.pluginEvents.on(B.START,this.start,this)},boot:function(){var U=this.scene.sys.game,X=this.settings.input,K=U.config;this.enabled=D(X,"gamepad",K.inputGamepad)&&U.device.input.gamepads,this.target=D(X,"gamepad.target",K.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(B.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(B.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var U=this,X=this.target,K=function(J){J.defaultPrevented||!U.isActive()||(U.refreshPads(),U.queue.push(J))};this.onGamepadHandler=K,X.addEventListener("gamepadconnected",K,!1),X.addEventListener("gamepaddisconnected",K,!1),this.sceneInputPlugin.pluginEvents.on(B.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(B.UPDATE,this.update);for(var U=0;U<this.gamepads.length;U++)this.gamepads[U].removeAllListeners()},disconnectAll:function(){for(var U=0;U<this.gamepads.length;U++)this.gamepads[U].pad.connected=!1},refreshPads:function(){var U=navigator.getGamepads();if(!U)this.disconnectAll();else for(var X=this.gamepads,K=0;K<U.length;K++){var J=U[K];if(!!J){var Z=J.id,Q=J.index,q=X[Q];if(q)q.id!==Z?(q.destroy(),X[Q]=new G(this,J)):q.update(J);else{var et=new G(this,J);X[Q]=et,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=et):this._pad3=et:this._pad2=et:this._pad1=et}}}},getAll:function(){for(var U=[],X=this.gamepads,K=0;K<X.length;K++)X[K]&&U.push(X[K]);return U},getPad:function(U){for(var X=this.gamepads,K=0;K<X.length;K++)if(X[K]&&X[K].index===U)return X[K]},update:function(){if(!!this.enabled){this.refreshPads();var U=this.queue.length;if(U!==0)for(var X=this.queue.splice(0,U),K=0;K<U;K++){var J=X[K],Z=this.getPad(J.gamepad.index);J.type==="gamepadconnected"?this.emit(O.CONNECTED,Z,J):J.type==="gamepaddisconnected"&&this.emit(O.DISCONNECTED,Z,J)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var U=0;U<this.gamepads.length;U++)this.gamepads[U]&&this.gamepads[U].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});F.register("GamepadPlugin",W,"gamepad","gamepad","inputGamepad"),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={DUALSHOCK_4:y(1318),SNES_USB:y(1319),XBOX_360:y(1320)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(65),j=y(66),O=y(0),G=y(203),D=y(508),F=y(507),B=y(50),W=y(111),U=y(112),X=y(51),K=y(9),J=y(2),Z=y(56),Q=y(153),q=y(7),et=y(24),rt=y(10),nt=y(57),ot=y(20),ht=y(82),ut=y(115),ct=new O({Extends:K,initialize:function(dt){K.call(this),this.scene=dt,this.systems=dt.sys,this.settings=dt.sys.settings,this.manager=dt.sys.game.input,this.pluginEvents=new K,this.enabled=!0,this.displayList,this.cameras,Q.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var pt={cancelled:!1};this._eventContainer={stopPropagation:function(){pt.cancelled=!0}},this._eventData=pt,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,dt.sys.events.once(ot.BOOT,this.boot,this),dt.sys.events.on(ot.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(ot.DESTROY,this.destroy,this),this.pluginEvents.emit(X.BOOT)},start:function(){var ft=this.systems.events;ft.on(ot.TRANSITION_START,this.transitionIn,this),ft.on(ot.TRANSITION_OUT,this.transitionOut,this),ft.on(ot.TRANSITION_COMPLETE,this.transitionComplete,this),ft.on(ot.PRE_UPDATE,this.preUpdate,this),ft.once(ot.SHUTDOWN,this.shutdown,this),this.manager.events.on(X.GAME_OUT,this.onGameOut,this),this.manager.events.on(X.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(X.START)},onGameOver:function(ft){this.isActive()&&this.emit(X.GAME_OVER,ft.timeStamp,ft)},onGameOut:function(ft){this.isActive()&&this.emit(X.GAME_OUT,ft.timeStamp,ft)},preUpdate:function(){this.pluginEvents.emit(X.PRE_UPDATE);var ft=this._pendingRemoval,dt=this._pendingInsertion,pt=ft.length,yt=dt.length;if(!(pt===0&&yt===0)){for(var St=this._list,At=0;At<pt;At++){var Ct=ft[At],Pt=St.indexOf(Ct);Pt>-1&&(St.splice(Pt,1),this.clear(Ct,!0))}ft.length=0,this._pendingRemoval.length=0,this._list=St.concat(dt.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(ft,dt){if(!this.isActive())return!1;if(this.pluginEvents.emit(X.UPDATE,ft,dt),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var pt,yt=this.manager,St=yt.pointers,At=yt.pointersTotal;for(pt=0;pt<At;pt++)St[pt].updateMotion();if(this._list.length===0)return!1;var Ct=this.pollRate;if(Ct===-1)return!1;if(Ct>0)if(this._pollTimer-=dt,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Pt=!1;for(pt=0;pt<At;pt++){var Rt=0,mt=St[pt];this._tempZones=[],this._temp=this.hitTestPointer(mt),this.sortGameObjects(this._temp,mt),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Rt+=this.processOverOutEvents(mt),this.getDragState(mt)===2&&this.processDragThresholdEvent(mt,ft),Rt>0&&(Pt=!0)}return Pt},update:function(ft,dt){if(!this.isActive())return!1;for(var pt=dt.length,yt=!1,St=0;St<pt;St++){var At=0,Ct=dt[St];switch(this._tempZones=[],this._temp=this.hitTestPointer(Ct),this.sortGameObjects(this._temp,Ct),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),ft){case G.MOUSE_DOWN:At+=this.processDragDownEvent(Ct),At+=this.processDownEvents(Ct),At+=this.processOverOutEvents(Ct);break;case G.MOUSE_UP:At+=this.processDragUpEvent(Ct),At+=this.processUpEvents(Ct),At+=this.processOverOutEvents(Ct);break;case G.TOUCH_START:At+=this.processDragDownEvent(Ct),At+=this.processDownEvents(Ct),At+=this.processOverEvents(Ct);break;case G.TOUCH_END:case G.TOUCH_CANCEL:At+=this.processDragUpEvent(Ct),At+=this.processUpEvents(Ct),At+=this.processOutEvents(Ct);break;case G.MOUSE_MOVE:case G.TOUCH_MOVE:At+=this.processDragMoveEvent(Ct),At+=this.processMoveEvents(Ct),At+=this.processOverOutEvents(Ct);break;case G.MOUSE_WHEEL:At+=this.processWheelEvent(Ct);break}At>0&&(yt=!0)}return this._updatedThisFrame=!0,yt},clear:function(ft,dt){dt===void 0&&(dt=!1);var pt=ft.input;if(!!pt){dt||this.queueForRemoval(ft),pt.gameObject=void 0,pt.target=void 0,pt.hitArea=void 0,pt.hitAreaCallback=void 0,pt.callbackContext=void 0,ft.input=null;var yt=this._draggable.indexOf(ft);return yt>-1&&this._draggable.splice(yt,1),yt=this._drag[0].indexOf(ft),yt>-1&&this._drag[0].splice(yt,1),yt=this._over[0].indexOf(ft),yt>-1&&(this._over[0].splice(yt,1),this.manager.resetCursor(pt)),ft}},disable:function(ft){ft.input.enabled=!1},enable:function(ft,dt,pt,yt){return yt===void 0&&(yt=!1),ft.input?ft.input.enabled=!0:this.setHitArea(ft,dt,pt),ft.input&&yt&&!ft.input.dropZone&&(ft.input.dropZone=yt),this},hitTestPointer:function(ft){for(var dt=this.cameras.getCamerasBelowPointer(ft),pt=0;pt<dt.length;pt++){for(var yt=dt[pt],St=this.manager.hitTest(ft,this._list,yt),At=0;At<St.length;At++){var Ct=St[At];Ct.input.dropZone&&this._tempZones.push(Ct)}if(St.length>0)return ft.camera=yt,St}return ft.camera=dt[0],[]},processDownEvents:function(ft){var dt=0,pt=this._temp,yt=this._eventData,St=this._eventContainer;yt.cancelled=!1;for(var At=!1,Ct=0;Ct<pt.length;Ct++){var Pt=pt[Ct];if(!!Pt.input){if(dt++,Pt.emit(X.GAMEOBJECT_POINTER_DOWN,ft,Pt.input.localX,Pt.input.localY,St),yt.cancelled||!Pt.input){At=!0;break}if(this.emit(X.GAMEOBJECT_DOWN,ft,Pt,St),yt.cancelled||!Pt.input){At=!0;break}}}return!At&&this.manager&&(ft.downElement===this.manager.game.canvas?this.emit(X.POINTER_DOWN,ft,pt):this.emit(X.POINTER_DOWN_OUTSIDE,ft)),dt},getDragState:function(ft){return this._dragState[ft.id]},setDragState:function(ft,dt){this._dragState[ft.id]=dt},processDragThresholdEvent:function(ft,dt){var pt=!1,yt=this.dragTimeThreshold,St=this.dragDistanceThreshold;if((St>0&&B(ft.x,ft.y,ft.downX,ft.downY)>=St||yt>0&&dt>=ft.downTime+yt)&&(pt=!0),pt)return this.setDragState(ft,3),this.processDragStartList(ft)},processDragStartList:function(ft){if(this.getDragState(ft)!==3)return 0;for(var dt=this._drag[ft.id],pt=0;pt<dt.length;pt++){var yt=dt[pt],St=yt.input;St.dragState=2,St.dragStartX=yt.x,St.dragStartY=yt.y,St.dragStartXGlobal=ft.worldX,St.dragStartYGlobal=ft.worldY,St.dragX=St.dragStartXGlobal-St.dragStartX,St.dragY=St.dragStartYGlobal-St.dragStartY,yt.emit(X.GAMEOBJECT_DRAG_START,ft,St.dragX,St.dragY),this.emit(X.DRAG_START,ft,yt)}return this.setDragState(ft,4),dt.length},processDragDownEvent:function(ft){var dt=this._temp;if(this._draggable.length===0||dt.length===0||!ft.primaryDown||this.getDragState(ft)!==0)return 0;this.setDragState(ft,1);for(var pt=[],yt=0;yt<dt.length;yt++){var St=dt[yt];St.input.draggable&&St.input.dragState===0&&pt.push(St)}return pt.length===0?(this.setDragState(ft,0),0):(pt.length>1&&(this.sortGameObjects(pt,ft),this.topOnly&&pt.splice(1)),this._drag[ft.id]=pt,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(ft,3),this.processDragStartList(ft)):(this.setDragState(ft,2),0))},processDragMoveEvent:function(ft){if(this.getDragState(ft)===2&&this.processDragThresholdEvent(ft,this.manager.game.loop.now),this.getDragState(ft)!==4)return 0;for(var dt=this._tempZones,pt=this._drag[ft.id],yt=0;yt<pt.length;yt++){var St=pt[yt],At=St.input,Ct=At.target;if(Ct){var Pt=dt.indexOf(Ct);Pt===0?(St.emit(X.GAMEOBJECT_DRAG_OVER,ft,Ct),this.emit(X.DRAG_OVER,ft,St,Ct)):Pt>0?(St.emit(X.GAMEOBJECT_DRAG_LEAVE,ft,Ct),this.emit(X.DRAG_LEAVE,ft,St,Ct),At.target=dt[0],Ct=At.target,St.emit(X.GAMEOBJECT_DRAG_ENTER,ft,Ct),this.emit(X.DRAG_ENTER,ft,St,Ct)):(St.emit(X.GAMEOBJECT_DRAG_LEAVE,ft,Ct),this.emit(X.DRAG_LEAVE,ft,St,Ct),dt[0]?(At.target=dt[0],Ct=At.target,St.emit(X.GAMEOBJECT_DRAG_ENTER,ft,Ct),this.emit(X.DRAG_ENTER,ft,St,Ct)):At.target=null)}else!Ct&&dt[0]&&(At.target=dt[0],Ct=At.target,St.emit(X.GAMEOBJECT_DRAG_ENTER,ft,Ct),this.emit(X.DRAG_ENTER,ft,St,Ct));var Rt,mt;if(!St.parentContainer)Rt=ft.worldX-At.dragX,mt=ft.worldY-At.dragY;else{var vt=ft.worldX-At.dragStartXGlobal,xt=ft.worldY-At.dragStartYGlobal,Tt=St.getParentRotation(),Et=vt*Math.cos(Tt)+xt*Math.sin(Tt),Ot=xt*Math.cos(Tt)-vt*Math.sin(Tt);Et*=1/St.parentContainer.scaleX,Ot*=1/St.parentContainer.scaleY,Rt=Et+At.dragStartX,mt=Ot+At.dragStartY}St.emit(X.GAMEOBJECT_DRAG,ft,Rt,mt),this.emit(X.DRAG,ft,St,Rt,mt)}return pt.length},processDragUpEvent:function(ft){for(var dt=this._drag[ft.id],pt=0;pt<dt.length;pt++){var yt=dt[pt],St=yt.input;if(St&&St.dragState===2){St.dragState=0,St.dragX=St.localX-yt.displayOriginX,St.dragY=St.localY-yt.displayOriginY;var At=!1,Ct=St.target;Ct&&(yt.emit(X.GAMEOBJECT_DROP,ft,Ct),this.emit(X.DROP,ft,yt,Ct),St.target=null,At=!0),yt.input&&(yt.emit(X.GAMEOBJECT_DRAG_END,ft,St.dragX,St.dragY,At),this.emit(X.DRAG_END,ft,yt,At))}}return this.setDragState(ft,0),dt.splice(0),0},processMoveEvents:function(ft){var dt=0,pt=this._temp,yt=this._eventData,St=this._eventContainer;yt.cancelled=!1;for(var At=!1,Ct=0;Ct<pt.length;Ct++){var Pt=pt[Ct];if(!!Pt.input){if(dt++,Pt.emit(X.GAMEOBJECT_POINTER_MOVE,ft,Pt.input.localX,Pt.input.localY,St),yt.cancelled||!Pt.input){At=!0;break}if(this.emit(X.GAMEOBJECT_MOVE,ft,Pt,St),yt.cancelled||!Pt.input){At=!0;break}if(this.topOnly)break}}return At||this.emit(X.POINTER_MOVE,ft,pt),dt},processWheelEvent:function(ft){var dt=0,pt=this._temp,yt=this._eventData,St=this._eventContainer;yt.cancelled=!1;for(var At=!1,Ct=ft.deltaX,Pt=ft.deltaY,Rt=ft.deltaZ,mt=0;mt<pt.length;mt++){var vt=pt[mt];if(!!vt.input){if(dt++,vt.emit(X.GAMEOBJECT_POINTER_WHEEL,ft,Ct,Pt,Rt,St),yt.cancelled||!vt.input){At=!0;break}if(this.emit(X.GAMEOBJECT_WHEEL,ft,vt,Ct,Pt,Rt,St),yt.cancelled||!vt.input){At=!0;break}}}return At||this.emit(X.POINTER_WHEEL,ft,pt,Ct,Pt,Rt),dt},processOverEvents:function(ft){var dt=this._temp,pt=0,yt=dt.length,St=[];if(yt>0){var At=this.manager,Ct=this._eventData,Pt=this._eventContainer;Ct.cancelled=!1;for(var Rt=!1,mt=0;mt<yt;mt++){var vt=dt[mt];if(!!vt.input){if(St.push(vt),At.setCursor(vt.input),vt.emit(X.GAMEOBJECT_POINTER_OVER,ft,vt.input.localX,vt.input.localY,Pt),pt++,Ct.cancelled||!vt.input){Rt=!0;break}if(this.emit(X.GAMEOBJECT_OVER,ft,vt,Pt),Ct.cancelled||!vt.input){Rt=!0;break}}}Rt||this.emit(X.POINTER_OVER,ft,St)}return this._over[ft.id]=St,pt},processOutEvents:function(ft){var dt=this._over[ft.id],pt=0,yt=dt.length;if(yt>0){var St=this.manager,At=this._eventData,Ct=this._eventContainer;At.cancelled=!1;var Pt=!1;this.sortGameObjects(dt,ft);for(var Rt=0;Rt<yt;Rt++){var mt=dt[Rt];if(mt=dt[Rt],!!mt.input){if(St.resetCursor(mt.input),mt.emit(X.GAMEOBJECT_POINTER_OUT,ft,Ct),pt++,At.cancelled||!mt.input){Pt=!0;break}if(this.emit(X.GAMEOBJECT_OUT,ft,mt,Ct),At.cancelled||!mt.input){Pt=!0;break}Pt||this.emit(X.POINTER_OUT,ft,dt)}}this._over[ft.id]=[]}return pt},processOverOutEvents:function(ft){var dt=this._temp,pt,yt,St=[],At=[],Ct=[],Pt=this._over[ft.id],Rt=this._drag[ft.id],mt=this.manager;for(pt=0;pt<Pt.length;pt++)yt=Pt[pt],dt.indexOf(yt)===-1&&Rt.indexOf(yt)===-1?St.push(yt):Ct.push(yt);for(pt=0;pt<dt.length;pt++)yt=dt[pt],Pt.indexOf(yt)===-1&&At.push(yt);var vt=St.length,xt=0,Tt=this._eventData,Et=this._eventContainer;Tt.cancelled=!1;var Ot=!1;if(vt>0){for(this.sortGameObjects(St,ft),pt=0;pt<vt;pt++)if(yt=St[pt],!!yt.input){if(mt.resetCursor(yt.input),yt.emit(X.GAMEOBJECT_POINTER_OUT,ft,Et),xt++,Tt.cancelled||!yt.input){Ot=!0;break}if(this.emit(X.GAMEOBJECT_OUT,ft,yt,Et),Tt.cancelled||!yt.input){Ot=!0;break}}Ot||this.emit(X.POINTER_OUT,ft,St)}if(vt=At.length,Tt.cancelled=!1,Ot=!1,vt>0){for(this.sortGameObjects(At,ft),pt=0;pt<vt;pt++)if(yt=At[pt],!!yt.input){if(mt.setCursor(yt.input),yt.emit(X.GAMEOBJECT_POINTER_OVER,ft,yt.input.localX,yt.input.localY,Et),xt++,Tt.cancelled||!yt.input){Ot=!0;break}if(this.emit(X.GAMEOBJECT_OVER,ft,yt,Et),Tt.cancelled||!yt.input){Ot=!0;break}}Ot||this.emit(X.POINTER_OVER,ft,At)}return Pt=Ct.concat(At),this._over[ft.id]=this.sortGameObjects(Pt,ft),xt},processUpEvents:function(ft){var dt=this._temp,pt=this._eventData,yt=this._eventContainer;pt.cancelled=!1;for(var St=!1,At=0;At<dt.length;At++){var Ct=dt[At];if(!!Ct.input){if(Ct.emit(X.GAMEOBJECT_POINTER_UP,ft,Ct.input.localX,Ct.input.localY,yt),pt.cancelled||!Ct.input){St=!0;break}if(this.emit(X.GAMEOBJECT_UP,ft,Ct,yt),pt.cancelled||!Ct.input){St=!0;break}}}return!St&&this.manager&&(ft.upElement===this.manager.game.canvas?this.emit(X.POINTER_UP,ft,dt):this.emit(X.POINTER_UP_OUTSIDE,ft)),dt.length},queueForInsertion:function(ft){return this._pendingInsertion.indexOf(ft)===-1&&this._list.indexOf(ft)===-1&&this._pendingInsertion.push(ft),this},queueForRemoval:function(ft){return this._pendingRemoval.push(ft),this},setDraggable:function(ft,dt){dt===void 0&&(dt=!0),Array.isArray(ft)||(ft=[ft]);for(var pt=0;pt<ft.length;pt++){var yt=ft[pt];yt.input.draggable=dt;var St=this._draggable.indexOf(yt);dt&&St===-1?this._draggable.push(yt):!dt&&St>-1&&this._draggable.splice(St,1)}return this},makePixelPerfect:function(ft){ft===void 0&&(ft=1);var dt=this.systems.textures;return F(dt,ft)},setHitArea:function(ft,dt,pt){if(dt===void 0)return this.setHitAreaFromTexture(ft);Array.isArray(ft)||(ft=[ft]);var yt=!1,St=!1,At=!1,Ct=!1,Pt=!1,Rt=!0;if(q(dt)){var mt=dt;dt=J(mt,"hitArea",null),pt=J(mt,"hitAreaCallback",null),yt=J(mt,"draggable",!1),St=J(mt,"dropZone",!1),At=J(mt,"cursor",!1),Ct=J(mt,"useHandCursor",!1),Pt=J(mt,"pixelPerfect",!1);var vt=J(mt,"alphaTolerance",1);Pt&&(dt={},pt=this.makePixelPerfect(vt)),(!dt||!pt)&&(this.setHitAreaFromTexture(ft),Rt=!1)}else typeof dt=="function"&&!pt&&(pt=dt,dt={});for(var xt=0;xt<ft.length;xt++){var Tt=ft[xt];if(Pt&&Tt.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Et=Tt.input?Tt.input:D(Tt,dt,pt);Et.customHitArea=Rt,Et.dropZone=St,Et.cursor=Ct?"pointer":At,Tt.input=Et,yt&&this.setDraggable(Tt),this.queueForInsertion(Tt)}return this},setHitAreaCircle:function(ft,dt,pt,yt,St){St===void 0&&(St=j);var At=new R(dt,pt,yt);return this.setHitArea(ft,At,St)},setHitAreaEllipse:function(ft,dt,pt,yt,St,At){At===void 0&&(At=U);var Ct=new W(dt,pt,yt,St);return this.setHitArea(ft,Ct,At)},setHitAreaFromTexture:function(ft,dt){dt===void 0&&(dt=nt),Array.isArray(ft)||(ft=[ft]);for(var pt=0;pt<ft.length;pt++){var yt=ft[pt],St=yt.frame,At=0,Ct=0;if(yt.width?(At=yt.width,Ct=yt.height):St&&(At=St.realWidth,Ct=St.realHeight),yt.type==="Container"&&(At===0||Ct===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}At!==0&&Ct!==0&&(yt.input=D(yt,new rt(0,0,At,Ct),dt),this.queueForInsertion(yt))}return this},setHitAreaRectangle:function(ft,dt,pt,yt,St,At){At===void 0&&(At=nt);var Ct=new rt(dt,pt,yt,St);return this.setHitArea(ft,Ct,At)},setHitAreaTriangle:function(ft,dt,pt,yt,St,At,Ct,Pt){Pt===void 0&&(Pt=ut);var Rt=new ht(dt,pt,yt,St,At,Ct);return this.setHitArea(ft,Rt,Pt)},enableDebug:function(ft,dt){dt===void 0&&(dt=65280);var pt=ft.input;if(!pt||!pt.hitArea)return this;var yt=pt.hitArea,St=yt.type,At=pt.hitAreaDebug,Ct=this.systems.add,Pt=this.systems.updateList;At&&(Pt.remove(At),At.destroy(),At=null);var Rt=0,mt=0;switch(St){case Z.CIRCLE:At=Ct.arc(0,0,yt.radius),Rt=yt.x-yt.radius,mt=yt.y-yt.radius;break;case Z.ELLIPSE:At=Ct.ellipse(0,0,yt.width,yt.height),Rt=yt.x-yt.width/2,mt=yt.y-yt.height/2;break;case Z.LINE:At=Ct.line(0,0,yt.x1,yt.y1,yt.x2,yt.y2);break;case Z.POLYGON:At=Ct.polygon(0,0,yt.points);break;case Z.RECTANGLE:At=Ct.rectangle(0,0,yt.width,yt.height),Rt=yt.x,mt=yt.y;break;case Z.TRIANGLE:At=Ct.triangle(0,0,yt.x1,yt.y1,yt.x2,yt.y2,yt.x3,yt.y3);break}return At&&(At.isFilled=!1,At.preUpdate=function(){At.setStrokeStyle(1/ft.scale,dt),At.setDisplayOrigin(ft.displayOriginX,ft.displayOriginY);var vt=ft.x,xt=ft.y,Tt=ft.rotation,Et=ft.scaleX,Ot=ft.scaleY;if(ft.parentContainer){var Mt=ft.getWorldTransformMatrix();vt=Mt.tx,xt=Mt.ty,Tt=Mt.rotation,Et=Mt.scaleX,Ot=Mt.scaleY}At.setRotation(Tt),At.setScale(Et,Ot),At.setPosition(vt+Rt,xt+mt),At.setScrollFactor(ft.scrollFactorX,ft.scrollFactorY),At.setDepth(ft.depth)},Pt.add(At),pt.hitAreaDebug=At),this},removeDebug:function(ft){var dt=ft.input;if(dt&&dt.hitAreaDebug){var pt=dt.hitAreaDebug;this.systems.updateList.remove(pt),pt.destroy(),dt.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(ft){return this.pollRate=ft,this._pollTimer=0,this},setGlobalTopOnly:function(ft){return this.manager.globalTopOnly=ft,this},setTopOnly:function(ft){return this.topOnly=ft,this},sortGameObjects:function(ft,dt){if(ft.length<2)return ft;var pt=dt.camera.renderList;return ft.sort(function(yt,St){return pt.indexOf(St)-pt.indexOf(yt)})},sortDropZones:function(ft){return ft.length<2?ft:(this.scene.sys.depthSort(),ft.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(ft,dt){if(!ft.parentContainer&&!dt.parentContainer)return this.displayList.getIndex(dt)-this.displayList.getIndex(ft);if(ft.parentContainer===dt.parentContainer)return dt.parentContainer.getIndex(dt)-ft.parentContainer.getIndex(ft);if(ft.parentContainer===dt)return-1;if(dt.parentContainer===ft)return 1;for(var pt=ft.getIndexList(),yt=dt.getIndexList(),St=Math.min(pt.length,yt.length),At=0;At<St;At++){var Ct=pt[At],Pt=yt[At];if(Ct!==Pt)return Pt-Ct}return yt.length-pt.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(ft){return this.manager.addPointer(ft)},setDefaultCursor:function(ft){return this.manager.setDefaultCursor(ft),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(X.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var ft=0;ft<10;ft++)this._drag[ft]=[],this._over[ft]=[];this.removeAllListeners();var dt=this.manager;dt.canvas.style.cursor=dt.defaultCursor;var pt=this.systems.events;pt.off(ot.TRANSITION_START,this.transitionIn,this),pt.off(ot.TRANSITION_OUT,this.transitionOut,this),pt.off(ot.TRANSITION_COMPLETE,this.transitionComplete,this),pt.off(ot.PRE_UPDATE,this.preUpdate,this),dt.events.off(X.GAME_OUT,this.onGameOut,this),dt.events.off(X.GAME_OVER,this.onGameOver,this),pt.off(ot.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(X.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(ot.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});et.register("InputPlugin",ct,"input"),Y.exports=ct},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Events:y(154),KeyboardManager:y(410),KeyboardPlugin:y(1330),Key:y(512),KeyCodes:y(143),KeyCombo:y(513),AdvanceKeyCombo:y(515),ProcessKeyCombo:y(514),ResetKeyCombo:y(516),JustDown:y(1332),JustUp:y(1333),DownDuration:y(1334),UpDuration:y(1335)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="keydown"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="keyup"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="keycombomatch"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="down"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="keydown-"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="keyup-"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="up"},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(9),O=y(154),G=y(22),D=y(6),F=y(51),B=y(153),W=y(512),U=y(143),X=y(513),K=y(1331),J=y(20),Z=y(76),Q=new R({Extends:j,initialize:function(et){j.call(this),this.game=et.systems.game,this.scene=et.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=et,this.manager=et.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,et.pluginEvents.once(F.BOOT,this.boot,this),et.pluginEvents.on(F.START,this.start,this)},boot:function(){var q=this.settings.input;this.enabled=D(q,"keyboard",!0);var et=D(q,"keyboard.capture",null);et&&this.addCaptures(et),this.sceneInputPlugin.pluginEvents.once(F.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(F.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(F.SHUTDOWN,this.shutdown,this),this.game.events.on(G.BLUR,this.resetKeys,this),this.scene.sys.events.on(J.PAUSE,this.resetKeys,this),this.scene.sys.events.on(J.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(q){return this.manager.addCapture(q),this},removeCapture:function(q){return this.manager.removeCapture(q),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:U.UP,down:U.DOWN,left:U.LEFT,right:U.RIGHT,space:U.SPACE,shift:U.SHIFT})},addKeys:function(q,et,rt){et===void 0&&(et=!0),rt===void 0&&(rt=!1);var nt={};if(typeof q=="string"){q=q.split(",");for(var ot=0;ot<q.length;ot++){var ht=q[ot].trim();ht&&(nt[ht]=this.addKey(ht,et,rt))}}else for(var ut in q)nt[ut]=this.addKey(q[ut],et,rt);return nt},addKey:function(q,et,rt){et===void 0&&(et=!0),rt===void 0&&(rt=!1);var nt=this.keys;if(q instanceof W){var ot=nt.indexOf(q);return ot>-1?nt[ot]=q:nt[q.keyCode]=q,et&&this.addCapture(q.keyCode),q.setEmitOnRepeat(rt),q}return typeof q=="string"&&(q=U[q.toUpperCase()]),nt[q]||(nt[q]=new W(this,q),et&&this.addCapture(q),nt[q].setEmitOnRepeat(rt)),nt[q]},removeKey:function(q,et){et===void 0&&(et=!1);var rt=this.keys,nt;if(q instanceof W){var ot=rt.indexOf(q);ot>-1&&(nt=this.keys[ot],this.keys[ot]=void 0)}else typeof q=="string"&&(q=U[q.toUpperCase()]);return rt[q]&&(nt=rt[q],rt[q]=void 0),nt&&(nt.plugin=null,et&&nt.destroy()),this},removeAllKeys:function(q){for(var et=this.keys,rt=0;rt<et.length;rt++){var nt=et[rt];nt&&(et[rt]=void 0,q&&nt.destroy())}return this},createCombo:function(q,et){return new X(this,q,et)},checkDown:function(q,et){if(et===void 0&&(et=0),this.enabled&&q.isDown){var rt=Z(this.time-q.timeDown,et);if(rt>q._tick)return q._tick=rt,!0}return!1},update:function(){var q=this.manager.queue,et=q.length;if(!(!this.isActive()||et===0))for(var rt=this.keys,nt=0;nt<et;nt++){var ot=q[nt],ht=ot.keyCode,ut=rt[ht],ct=!1;ot.cancelled===void 0&&(ot.cancelled=0,ot.stopImmediatePropagation=function(){ot.cancelled=1},ot.stopPropagation=function(){ot.cancelled=-1}),ot.cancelled!==-1&&(ht===this.prevCode&&ot.timeStamp===this.prevTime&&ot.type===this.prevType||(this.prevCode=ht,this.prevTime=ot.timeStamp,this.prevType=ot.type,ot.type==="keydown"?(ut&&(ct=ut.isDown,ut.onDown(ot)),!ot.cancelled&&(!ut||!ct)&&(K[ht]&&this.emit(O.KEY_DOWN+K[ht],ot),ot.cancelled||this.emit(O.ANY_KEY_DOWN,ot))):(ut&&ut.onUp(ot),ot.cancelled||(K[ht]&&this.emit(O.KEY_UP+K[ht],ot),ot.cancelled||this.emit(O.ANY_KEY_UP,ot))),ot.cancelled===1&&(ot.cancelled=0)))}},resetKeys:function(){for(var q=this.keys,et=0;et<q.length;et++)q[et]&&q[et].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(F.MANAGER_PROCESS,this.update,this),this.game.events.off(G.BLUR,this.resetKeys),this.scene.sys.events.off(J.PAUSE,this.resetKeys,this),this.scene.sys.events.off(J.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var q=this.keys,et=0;et<q.length;et++)q[et]&&q[et].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});B.register("KeyboardPlugin",Q,"keyboard","keyboard","inputKeyboard"),Y.exports=Q},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(143),j={};for(var O in R)j[R[O]]=O;Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R._justDown?(R._justDown=!1,!0):!1};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R._justUp?(R._justUp=!1,!0):!1};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j===void 0&&(j=50);var O=R.plugin.game.loop.time-R.timeDown;return R.isDown&&O<j};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){j===void 0&&(j=50);var O=R.plugin.game.loop.time-R.timeUp;return R.isUp&&O<j};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={MouseManager:y(411)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={TouchManager:y(413)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(21),j=y(17),O={Events:y(95),FileTypes:y(1339),File:y(23),FileTypesManager:y(8),GetURL:y(155),LoaderPlugin:y(1365),MergeXHRSettings:y(240),MultiFile:y(49),XHRLoader:y(517),XHRSettings:y(156)};O=j(!1,O,R),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={AnimationJSONFile:y(1340),AsepriteFile:y(1341),AtlasJSONFile:y(1342),AtlasXMLFile:y(1343),AudioFile:y(518),AudioSpriteFile:y(1344),BinaryFile:y(1345),BitmapFontFile:y(1346),CSSFile:y(1347),GLSLFile:y(1348),HTML5AudioFile:y(519),HTMLFile:y(1349),HTMLTextureFile:y(1350),ImageFile:y(71),JSONFile:y(61),MultiAtlasFile:y(1351),MultiScriptFile:y(1352),OBJFile:y(1353),PackFile:y(1354),PluginFile:y(1355),SceneFile:y(1356),ScenePluginFile:y(1357),ScriptFile:y(520),SpriteSheetFile:y(1358),SVGFile:y(1359),TextFile:y(242),TilemapCSVFile:y(1360),TilemapImpactFile:y(1361),TilemapJSONFile:y(1362),UnityAtlasFile:y(1363),VideoFile:y(1364),XMLFile:y(241)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(61),G=y(95),D=new R({Extends:O,initialize:function(B,W,U,X,K){O.call(this,B,W,U,X,K),this.type="animationJSON"},onProcess:function(){this.loader.once(G.POST_PROCESS,this.onLoadComplete,this),O.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});j.register("animation",function(F,B,W,U){if(Array.isArray(F))for(var X=0;X<F.length;X++)this.addFile(new D(this,F[X]));else this.addFile(new D(this,F,B,U,W));return this}),Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(2),G=y(71),D=y(7),F=y(61),B=y(49),W=new R({Extends:B,initialize:function(X,K,J,Z,Q,q){var et,rt;if(D(K)){var nt=K;K=O(nt,"key"),et=new G(X,{key:K,url:O(nt,"textureURL"),extension:O(nt,"textureExtension","png"),normalMap:O(nt,"normalMap"),xhrSettings:O(nt,"textureXhrSettings")}),rt=new F(X,{key:K,url:O(nt,"atlasURL"),extension:O(nt,"atlasExtension","json"),xhrSettings:O(nt,"atlasXhrSettings")})}else et=new G(X,K,J,Q),rt=new F(X,K,Z,q);et.linkFile?B.call(this,X,"atlasjson",K,[et,rt,et.linkFile]):B.call(this,X,"atlasjson",K,[et,rt])},addToCache:function(){if(this.isReadyToProcess()){var U=this.files[0],X=this.files[1],K=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(U.key,U.data,X.data,K),X.addToCache(),this.complete=!0}}});j.register("aseprite",function(U,X,K,J,Z){var Q;if(Array.isArray(U))for(var q=0;q<U.length;q++)Q=new W(this,U[q]),this.addFile(Q.files);else Q=new W(this,U,X,K,J,Z),this.addFile(Q.files);return this}),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(2),G=y(71),D=y(7),F=y(61),B=y(49),W=new R({Extends:B,initialize:function(X,K,J,Z,Q,q){var et,rt;if(D(K)){var nt=K;K=O(nt,"key"),et=new G(X,{key:K,url:O(nt,"textureURL"),extension:O(nt,"textureExtension","png"),normalMap:O(nt,"normalMap"),xhrSettings:O(nt,"textureXhrSettings")}),rt=new F(X,{key:K,url:O(nt,"atlasURL"),extension:O(nt,"atlasExtension","json"),xhrSettings:O(nt,"atlasXhrSettings")})}else et=new G(X,K,J,Q),rt=new F(X,K,Z,q);et.linkFile?B.call(this,X,"atlasjson",K,[et,rt,et.linkFile]):B.call(this,X,"atlasjson",K,[et,rt])},addToCache:function(){if(this.isReadyToProcess()){var U=this.files[0],X=this.files[1],K=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(U.key,U.data,X.data,K),X.pendingDestroy(),this.complete=!0}}});j.register("atlas",function(U,X,K,J,Z){var Q;if(Array.isArray(U))for(var q=0;q<U.length;q++)Q=new W(this,U[q]),this.addFile(Q.files);else Q=new W(this,U,X,K,J,Z),this.addFile(Q.files);return this}),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(2),G=y(71),D=y(7),F=y(49),B=y(241),W=new R({Extends:F,initialize:function(X,K,J,Z,Q,q){var et,rt;if(D(K)){var nt=K;K=O(nt,"key"),et=new G(X,{key:K,url:O(nt,"textureURL"),extension:O(nt,"textureExtension","png"),normalMap:O(nt,"normalMap"),xhrSettings:O(nt,"textureXhrSettings")}),rt=new B(X,{key:K,url:O(nt,"atlasURL"),extension:O(nt,"atlasExtension","xml"),xhrSettings:O(nt,"atlasXhrSettings")})}else et=new G(X,K,J,Q),rt=new B(X,K,Z,q);et.linkFile?F.call(this,X,"atlasxml",K,[et,rt,et.linkFile]):F.call(this,X,"atlasxml",K,[et,rt])},addToCache:function(){if(this.isReadyToProcess()){var U=this.files[0],X=this.files[1],K=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(U.key,U.data,X.data,K),X.pendingDestroy(),this.complete=!0}}});j.register("atlasXML",function(U,X,K,J,Z){var Q;if(Array.isArray(U))for(var q=0;q<U.length;q++)Q=new W(this,U[q]),this.addFile(Q.files);else Q=new W(this,U,X,K,J,Z),this.addFile(Q.files);return this}),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(518),j=y(0),O=y(8),G=y(2),D=y(7),F=y(61),B=y(49),W=new j({Extends:B,initialize:function(X,K,J,Z,Q,q,et){if(D(K)){var rt=K;K=G(rt,"key"),J=G(rt,"jsonURL"),Z=G(rt,"audioURL"),Q=G(rt,"audioConfig"),q=G(rt,"audioXhrSettings"),et=G(rt,"jsonXhrSettings")}var nt;if(!Z)nt=new F(X,K,J,et),B.call(this,X,"audiosprite",K,[nt]),this.config.resourceLoad=!0,this.config.audioConfig=Q,this.config.audioXhrSettings=q;else{var ot=R.create(X,K,Z,Q,q);ot&&(nt=new F(X,K,J,et),B.call(this,X,"audiosprite",K,[ot,nt]),this.config.resourceLoad=!1)}},onFileComplete:function(U){var X=this.files.indexOf(U);if(X!==-1&&(this.pending--,this.config.resourceLoad&&U.type==="json"&&U.data.hasOwnProperty("resources"))){var K=U.data.resources,J=G(this.config,"audioConfig"),Z=G(this.config,"audioXhrSettings"),Q=R.create(this.loader,U.key,K,J,Z);Q&&(this.addToMultiFile(Q),this.loader.addFile(Q))}},addToCache:function(){if(this.isReadyToProcess()){var U=this.files[0],X=this.files[1];U.addToCache(),X.addToCache(),this.complete=!0}}});O.register("audioSprite",function(U,X,K,J,Z,Q){var q=this.systems.game,et=q.config.audio,rt=q.device.audio;if(et&&et.noAudio||!rt.webAudio&&!rt.audioData)return this;var nt;if(Array.isArray(U))for(var ot=0;ot<U.length;ot++)nt=new W(this,U[ot]),nt.files&&this.addFile(nt.files);else nt=new W(this,U,X,K,J,Z,Q),nt.files&&this.addFile(nt.files);return this})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=new R({Extends:O,initialize:function(U,X,K,J,Z){var Q="bin";if(F(X)){var q=X;X=D(q,"key"),K=D(q,"url"),J=D(q,"xhrSettings"),Q=D(q,"extension",Q),Z=D(q,"dataType",Z)}var et={type:"binary",cache:U.cacheManager.binary,extension:Q,responseType:"arraybuffer",key:X,url:K,xhrSettings:J,config:{dataType:Z}};O.call(this,U,et)},onProcess:function(){this.state=j.FILE_PROCESSING;var W=this.config.dataType;this.data=W?new W(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});G.register("binary",function(W,U,X,K){if(Array.isArray(W))for(var J=0;J<W.length;J++)this.addFile(new B(this,W[J]));else this.addFile(new B(this,W,U,K,X));return this}),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(2),G=y(71),D=y(7),F=y(49),B=y(212),W=y(241),U=new R({Extends:F,initialize:function(K,J,Z,Q,q,et){var rt,nt;if(D(J)){var ot=J;J=O(ot,"key"),rt=new G(K,{key:J,url:O(ot,"textureURL"),extension:O(ot,"textureExtension","png"),normalMap:O(ot,"normalMap"),xhrSettings:O(ot,"textureXhrSettings")}),nt=new W(K,{key:J,url:O(ot,"fontDataURL"),extension:O(ot,"fontDataExtension","xml"),xhrSettings:O(ot,"fontDataXhrSettings")})}else rt=new G(K,J,Z,q),nt=new W(K,J,Q,et);rt.linkFile?F.call(this,K,"bitmapfont",J,[rt,nt,rt.linkFile]):F.call(this,K,"bitmapfont",J,[rt,nt])},addToCache:function(){if(this.isReadyToProcess()){var X=this.files[0],K=this.files[1];X.addToCache(),K.pendingDestroy();var J=X.cache.get(X.key),Z=B(K.data,X.cache.getFrame(X.key),0,0,J);this.loader.cacheManager.bitmapFont.add(X.key,{data:Z,texture:X.key,frame:null}),this.complete=!0}}});j.register("bitmapFont",function(X,K,J,Z,Q){var q;if(Array.isArray(X))for(var et=0;et<X.length;et++)q=new U(this,X[et]),this.addFile(q.files);else q=new U(this,X,K,J,Z,Q),this.addFile(q.files);return this}),Y.exports=U},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=new R({Extends:O,initialize:function(U,X,K,J){var Z="css";if(F(X)){var Q=X;X=D(Q,"key"),K=D(Q,"url"),J=D(Q,"xhrSettings"),Z=D(Q,"extension",Z)}var q={type:"script",cache:!1,extension:Z,responseType:"text",key:X,url:K,xhrSettings:J};O.call(this,U,q)},onProcess:function(){this.state=j.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});G.register("css",function(W,U,X){if(Array.isArray(W))for(var K=0;K<W.length;K++)this.addFile(new B(this,W[K]));else this.addFile(new B(this,W,U,X));return this}),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=y(396),W=new R({Extends:O,initialize:function(X,K,J,Z,Q){var q="glsl";if(F(K)){var et=K;K=D(et,"key"),J=D(et,"url"),Z=D(et,"shaderType","fragment"),Q=D(et,"xhrSettings"),q=D(et,"extension",q)}else Z===void 0&&(Z="fragment");var rt={type:"glsl",cache:X.cacheManager.shader,extension:q,responseType:"text",key:K,url:J,config:{shaderType:Z},xhrSettings:Q};O.call(this,X,rt)},onProcess:function(){this.state=j.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var U=this.data.split(`
`),X=this.extractBlock(U,0);if(X)for(;X;){var K=this.getShaderName(X.header),J=this.getShaderType(X.header),Z=this.getShaderUniforms(X.header),Q=X.shader;if(this.cache.has(K)){var q=this.cache.get(K);J==="fragment"?q.fragmentSrc=Q:q.vertexSrc=Q,q.uniforms||(q.uniforms=Z)}else J==="fragment"?this.cache.add(K,new B(K,Q,"",Z)):this.cache.add(K,new B(K,"",Q,Z));X=this.extractBlock(U,X.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new B(this.key,this.data)):this.cache.add(this.key,new B(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(U){for(var X=0;X<U.length;X++){var K=U[X].trim();if(K.substring(0,5)==="name:")return K.substring(5).trim()}return this.key},getShaderType:function(U){for(var X=0;X<U.length;X++){var K=U[X].trim();if(K.substring(0,5)==="type:")return K.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(U){for(var X={},K=0;K<U.length;K++){var J=U[K].trim();if(J.substring(0,8)==="uniform."){var Z=J.indexOf(":");if(Z){var Q=J.substring(8,Z);try{X[Q]=JSON.parse(J.substring(Z+1))}catch{console.warn("Invalid uniform JSON: "+Q)}}}}return X},extractBlock:function(U,X){for(var K=-1,J=-1,Z=-1,Q=!1,q=!1,et=[],rt=[],nt=X;nt<U.length;nt++){var ot=U[nt].trim();if(ot==="---")if(K===-1)K=nt,Q=!0;else if(Q)J=nt,Q=!1,q=!0;else{q=!1;break}else Q?et.push(ot):q&&(rt.push(ot),Z=nt)}return!Q&&J!==-1?{header:et,shader:rt.join(`
`),offset:Z}:null}});G.register("glsl",function(U,X,K,J){if(Array.isArray(U))for(var Z=0;Z<U.length;Z++)this.addFile(new W(this,U[Z]));else this.addFile(new W(this,U,X,K,J));return this}),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=new R({Extends:O,initialize:function(U,X,K,J){var Z="html";if(F(X)){var Q=X;X=D(Q,"key"),K=D(Q,"url"),J=D(Q,"xhrSettings"),Z=D(Q,"extension",Z)}var q={type:"text",cache:U.cacheManager.html,extension:Z,responseType:"text",key:X,url:K,xhrSettings:J};O.call(this,U,q)},onProcess:function(){this.state=j.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});G.register("html",function(W,U,X){if(Array.isArray(W))for(var K=0;K<W.length;K++)this.addFile(new B(this,W[K]));else this.addFile(new B(this,W,U,X));return this}),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=new R({Extends:O,initialize:function(U,X,K,J,Z,Q){J===void 0&&(J=512),Z===void 0&&(Z=512);var q="html";if(F(X)){var et=X;X=D(et,"key"),K=D(et,"url"),Q=D(et,"xhrSettings"),q=D(et,"extension",q),J=D(et,"width",J),Z=D(et,"height",Z)}var rt={type:"html",cache:U.textureManager,extension:q,responseType:"text",key:X,url:K,xhrSettings:Q,config:{width:J,height:Z}};O.call(this,U,rt)},onProcess:function(){this.state=j.FILE_PROCESSING;var W=this.config.width,U=this.config.height,X=[];X.push('<svg width="'+W+'px" height="'+U+'px" viewBox="0 0 '+W+" "+U+'" xmlns="http://www.w3.org/2000/svg">'),X.push('<foreignObject width="100%" height="100%">'),X.push('<body xmlns="http://www.w3.org/1999/xhtml">'),X.push(this.xhrLoader.responseText),X.push("</body>"),X.push("</foreignObject>"),X.push("</svg>");var K=[X.join(`
`)],J=this;try{var Z=new window.Blob(K,{type:"image/svg+xml;charset=utf-8"})}catch{J.state=j.FILE_ERRORED,J.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){O.revokeObjectURL(J.data),J.onProcessComplete()},this.data.onerror=function(){O.revokeObjectURL(J.data),J.onProcessError()},O.createObjectURL(this.data,Z,"image/svg+xml")},addToCache:function(){var W=this.cache.addImage(this.key,this.data);this.pendingDestroy(W)}});G.register("htmlTexture",function(W,U,X,K,J){if(Array.isArray(W))for(var Z=0;Z<W.length;Z++)this.addFile(new B(this,W[Z]));else this.addFile(new B(this,W,U,X,K,J));return this}),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(2),G=y(71),D=y(7),F=y(61),B=y(49),W=new R({Extends:B,initialize:function(X,K,J,Z,Q,q,et){if(D(K)){var rt=K;K=O(rt,"key"),O(rt,"url",!1)?J=O(rt,"url"):J=O(rt,"atlasURL"),q=O(rt,"xhrSettings"),Z=O(rt,"path"),Q=O(rt,"baseURL"),et=O(rt,"textureXhrSettings")}var nt=new F(X,K,J,q);B.call(this,X,"multiatlas",K,[nt]),this.config.path=Z,this.config.baseURL=Q,this.config.textureXhrSettings=et},onFileComplete:function(U){var X=this.files.indexOf(U);if(X!==-1&&(this.pending--,U.type==="json"&&U.data.hasOwnProperty("textures"))){var K=U.data.textures,J=this.config,Z=this.loader,Q=Z.baseURL,q=Z.path,et=Z.prefix,rt=O(J,"baseURL",this.baseURL),nt=O(J,"path",this.path),ot=O(J,"prefix",this.prefix),ht=O(J,"textureXhrSettings");Z.setBaseURL(rt),Z.setPath(nt),Z.setPrefix(ot);for(var ut=0;ut<K.length;ut++){var ct=K[ut].image,ft="MA"+this.multiKeyIndex+"_"+ct,dt=new G(Z,ft,ct,ht);if(this.addToMultiFile(dt),Z.addFile(dt),K[ut].normalMap){var pt=new G(Z,ft,K[ut].normalMap,ht);pt.type="normalMap",dt.setLink(pt),this.addToMultiFile(pt),Z.addFile(pt)}}Z.setBaseURL(Q),Z.setPath(q),Z.setPrefix(et)}},addToCache:function(){if(this.isReadyToProcess()){for(var U=this.files[0],X=[],K=[],J=[],Z=1;Z<this.files.length;Z++){var Q=this.files[Z];if(Q.type!=="normalMap")for(var q=Q.key.indexOf("_"),et=Q.key.substr(q+1),rt=Q.data,nt=0;nt<U.data.textures.length;nt++){var ot=U.data.textures[nt];if(ot.image===et){K.push(rt),X.push(ot),Q.linkFile&&J.push(Q.linkFile.data);break}}}for(J.length===0&&(J=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,K,X,J),this.complete=!0,Z=0;Z<this.files.length;Z++)this.files[Z].pendingDestroy()}}});j.register("multiatlas",function(U,X,K,J,Z){var Q;if(Array.isArray(U))for(var q=0;q<U.length;q++)Q=new W(this,U[q]),this.addFile(Q.files);else Q=new W(this,U,X,K,J,Z),this.addFile(Q.files);return this}),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(2),G=y(7),D=y(49),F=y(520),B=new R({Extends:D,initialize:function(U,X,K,J){var Z="js",Q=[];if(G(X)){var q=X;X=O(q,"key"),K=O(q,"url"),J=O(q,"xhrSettings"),Z=O(q,"extension",Z)}Array.isArray(K)||(K=[K]);for(var et=0;et<K.length;et++){var rt=new F(U,{key:X+"_"+et.toString(),url:K[et],extension:Z,xhrSettings:J});rt.onProcess=function(){this.onProcessComplete()},Q.push(rt)}D.call(this,U,"scripts",X,Q)},addToCache:function(){if(this.isReadyToProcess()){for(var W=0;W<this.files.length;W++){var U=this.files[W];U.data=document.createElement("script"),U.data.language="javascript",U.data.type="text/javascript",U.data.defer=!1,U.data.text=U.xhrLoader.responseText,document.head.appendChild(U.data)}this.complete=!0}}});j.register("scripts",function(W,U,X){var K;if(Array.isArray(W))for(var J=0;J<W.length;J++)K=new B(this,W[J]),this.addFile(K.files);else K=new B(this,W,U,X),this.addFile(K.files);return this}),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(2),G=y(7),D=y(49),F=y(498),B=y(499),W=y(242),U=new R({Extends:D,initialize:function(K,J,Z,Q,q,et){var rt,nt,ot=K.cacheManager.obj;if(G(J)){var ht=J;J=O(ht,"key"),rt=new W(K,{key:J,type:"obj",cache:ot,url:O(ht,"url"),extension:O(ht,"extension","obj"),xhrSettings:O(ht,"xhrSettings"),config:{flipUV:O(ht,"flipUV",q)}}),Q=O(ht,"matURL"),Q&&(nt=new W(K,{key:J,type:"mat",cache:ot,url:Q,extension:O(ht,"matExtension","mat"),xhrSettings:O(ht,"xhrSettings")}))}else rt=new W(K,{key:J,url:Z,type:"obj",cache:ot,extension:"obj",xhrSettings:et,config:{flipUV:q}}),Q&&(nt=new W(K,{key:J,url:Q,type:"mat",cache:ot,extension:"mat",xhrSettings:et}));D.call(this,K,"obj",J,[rt,nt])},addToCache:function(){if(this.isReadyToProcess()){var X=this.files[0],K=this.files[1],J=F(X.data,X.config.flipUV);K&&(J.materials=B(K.data)),X.cache.add(X.key,J),this.complete=!0}}});j.register("obj",function(X,K,J,Z,Q){var q;if(Array.isArray(X))for(var et=0;et<X.length;et++)q=new U(this,X[et]),this.addFile(q.files);else q=new U(this,X,K,J,Z,Q),this.addFile(q.files);return this}),Y.exports=U},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(8),G=y(61),D=new R({Extends:G,initialize:function(B,W,U,X,K){G.call(this,B,W,U,X,K),this.type="packfile"},onProcess:function(){this.state!==j.FILE_POPULATED&&(this.state=j.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});O.register("pack",function(F,B,W,U){if(Array.isArray(F))for(var X=0;X<F.length;X++)this.addFile(new D(this,F[X]));else this.addFile(new D(this,F,B,U,W));return this}),Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=new R({Extends:O,initialize:function(U,X,K,J,Z,Q){var q="js";if(F(X)){var et=X;X=D(et,"key"),K=D(et,"url"),Q=D(et,"xhrSettings"),q=D(et,"extension",q),J=D(et,"start"),Z=D(et,"mapping")}var rt={type:"plugin",cache:!1,extension:q,responseType:"text",key:X,url:K,xhrSettings:Q,config:{start:J,mapping:Z}};O.call(this,U,rt),typeof K=="function"&&(this.data=K,this.state=j.FILE_POPULATED)},onProcess:function(){var W=this.loader.systems.plugins,U=this.config,X=D(U,"start",!1),K=D(U,"mapping",null);if(this.state===j.FILE_POPULATED)W.install(this.key,this.data,X,K);else{this.state=j.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var J=W.install(this.key,window[this.key],X,K);(X||K)&&(this.loader.systems[K]=J,this.loader.scene[K]=J)}this.onProcessComplete()}});G.register("plugin",function(W,U,X,K,J){if(Array.isArray(W))for(var Z=0;Z<W.length;Z++)this.addFile(new B(this,W[Z]));else this.addFile(new B(this,W,U,X,K,J));return this}),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=new R({Extends:O,initialize:function(U,X,K,J){var Z="js";if(F(X)){var Q=X;X=D(Q,"key"),K=D(Q,"url"),J=D(Q,"xhrSettings"),Z=D(Q,"extension",Z)}var q={type:"text",extension:Z,responseType:"text",key:X,url:K,xhrSettings:J};O.call(this,U,q)},onProcess:function(){this.state=j.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var W=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),U=eval;this.loader.sceneManager.add(this.key,U(W)),this.complete=!0}});G.register("sceneFile",function(W,U,X){if(Array.isArray(W))for(var K=0;K<W.length;K++)this.addFile(new B(this,W[K]));else this.addFile(new B(this,W,U,X));return this}),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=new R({Extends:O,initialize:function(U,X,K,J,Z,Q){var q="js";if(F(X)){var et=X;X=D(et,"key"),K=D(et,"url"),Q=D(et,"xhrSettings"),q=D(et,"extension",q),J=D(et,"systemKey"),Z=D(et,"sceneKey")}var rt={type:"scenePlugin",cache:!1,extension:q,responseType:"text",key:X,url:K,xhrSettings:Q,config:{systemKey:J,sceneKey:Z}};O.call(this,U,rt),typeof K=="function"&&(this.data=K,this.state=j.FILE_POPULATED)},onProcess:function(){var W=this.loader.systems.plugins,U=this.config,X=this.key,K=D(U,"systemKey",X),J=D(U,"sceneKey",X);this.state===j.FILE_POPULATED?W.installScenePlugin(K,this.data,J,this.loader.scene,!0):(this.state=j.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),W.installScenePlugin(K,window[this.key],J,this.loader.scene,!0)),this.onProcessComplete()}});G.register("scenePlugin",function(W,U,X,K,J){if(Array.isArray(W))for(var Z=0;Z<W.length;Z++)this.addFile(new B(this,W[Z]));else this.addFile(new B(this,W,U,X,K,J));return this}),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(71),G=new R({Extends:O,initialize:function(F,B,W,U,X){O.call(this,F,B,W,X,U),this.type="spritesheet"},addToCache:function(){var D=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(D)}});j.register("spritesheet",function(D,F,B,W){if(Array.isArray(D))for(var U=0;U<D.length;U++)this.addFile(new G(this,D[U]));else this.addFile(new G(this,D,F,B,W));return this}),Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=new R({Extends:O,initialize:function(U,X,K,J,Z){var Q="svg";if(F(X)){var q=X;X=D(q,"key"),K=D(q,"url"),J=D(q,"svgConfig",{}),Z=D(q,"xhrSettings"),Q=D(q,"extension",Q)}var et={type:"svg",cache:U.textureManager,extension:Q,responseType:"text",key:X,url:K,xhrSettings:Z,config:{width:D(J,"width"),height:D(J,"height"),scale:D(J,"scale")}};O.call(this,U,et)},onProcess:function(){this.state=j.FILE_PROCESSING;var W=this.xhrLoader.responseText,U=[W],X=this.config.width,K=this.config.height,J=this.config.scale;t:if(X&&K||J){var Z=null,Q=new DOMParser;Z=Q.parseFromString(W,"text/xml");var q=Z.getElementsByTagName("svg")[0],et=q.hasAttribute("viewBox"),rt=parseFloat(q.getAttribute("width")),nt=parseFloat(q.getAttribute("height"));if(!et&&rt&&nt)q.setAttribute("viewBox","0  0 "+rt+" "+nt);else if(et&&!rt&&!nt){var ot=q.getAttribute("viewBox").split(/\s+|,/);rt=ot[2],nt=ot[3]}if(J)if(rt&&nt)X=rt*J,K=nt*J;else break t;q.setAttribute("width",X.toString()+"px"),q.setAttribute("height",K.toString()+"px"),U=[new XMLSerializer().serializeToString(q)]}try{var ht=new window.Blob(U,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var ut=this,ct=!1;this.data.onload=function(){ct||O.revokeObjectURL(ut.data),ut.onProcessComplete()},this.data.onerror=function(){ct?ut.onProcessError():(ct=!0,O.revokeObjectURL(ut.data),ut.data.src="data:image/svg+xml,"+encodeURIComponent(U.join("")))},O.createObjectURL(this.data,ht,"image/svg+xml")},addToCache:function(){var W=this.cache.addImage(this.key,this.data);this.pendingDestroy(W)}});G.register("svg",function(W,U,X,K){if(Array.isArray(W))for(var J=0;J<W.length;J++)this.addFile(new B(this,W[J]));else this.addFile(new B(this,W,U,X,K));return this}),Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(2),F=y(7),B=y(40),W=new R({Extends:O,initialize:function(X,K,J,Z){var Q="csv";if(F(K)){var q=K;K=D(q,"key"),J=D(q,"url"),Z=D(q,"xhrSettings"),Q=D(q,"extension",Q)}var et={type:"tilemapCSV",cache:X.cacheManager.tilemap,extension:Q,responseType:"text",key:K,url:J,xhrSettings:Z};O.call(this,X,et),this.tilemapFormat=B.CSV},onProcess:function(){this.state=j.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var U={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,U),this.pendingDestroy(U)}});G.register("tilemapCSV",function(U,X,K){if(Array.isArray(U))for(var J=0;J<U.length;J++)this.addFile(new W(this,U[J]));else this.addFile(new W(this,U,X,K));return this}),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(61),G=y(40),D=new R({Extends:O,initialize:function(B,W,U,X){O.call(this,B,W,U,X),this.type="tilemapJSON",this.cache=B.cacheManager.tilemap},addToCache:function(){var F={format:G.WELTMEISTER,data:this.data};this.cache.add(this.key,F),this.pendingDestroy(F)}});j.register("tilemapImpact",function(F,B,W){if(Array.isArray(F))for(var U=0;U<F.length;U++)this.addFile(new D(this,F[U]));else this.addFile(new D(this,F,B,W));return this}),Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(61),G=y(40),D=new R({Extends:O,initialize:function(B,W,U,X){O.call(this,B,W,U,X),this.type="tilemapJSON",this.cache=B.cacheManager.tilemap},addToCache:function(){var F={format:G.TILED_JSON,data:this.data};this.cache.add(this.key,F),this.pendingDestroy(F)}});j.register("tilemapTiledJSON",function(F,B,W){if(Array.isArray(F))for(var U=0;U<F.length;U++)this.addFile(new D(this,F[U]));else this.addFile(new D(this,F,B,W));return this}),Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(8),O=y(2),G=y(71),D=y(7),F=y(49),B=y(242),W=new R({Extends:F,initialize:function(X,K,J,Z,Q,q){var et,rt;if(D(K)){var nt=K;K=O(nt,"key"),et=new G(X,{key:K,url:O(nt,"textureURL"),extension:O(nt,"textureExtension","png"),normalMap:O(nt,"normalMap"),xhrSettings:O(nt,"textureXhrSettings")}),rt=new B(X,{key:K,url:O(nt,"atlasURL"),extension:O(nt,"atlasExtension","txt"),xhrSettings:O(nt,"atlasXhrSettings")})}else et=new G(X,K,J,Q),rt=new B(X,K,Z,q);et.linkFile?F.call(this,X,"unityatlas",K,[et,rt,et.linkFile]):F.call(this,X,"unityatlas",K,[et,rt])},addToCache:function(){if(this.isReadyToProcess()){var U=this.files[0],X=this.files[1],K=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(U.key,U.data,X.data,K),X.pendingDestroy(),this.complete=!0}}});j.register("unityAtlas",function(U,X,K,J,Z){var Q;if(Array.isArray(U))for(var q=0;q<U.length;q++)Q=new W(this,U[q]),this.addFile(Q.files);else Q=new W(this,U,X,K,J,Z),this.addFile(Q.files);return this}),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(23),G=y(8),D=y(155),F=y(2),B=y(7),W=new R({Extends:O,initialize:function(X,K,J,Z,Q,q,et){Z===void 0&&(Z="loadeddata"),Q===void 0&&(Q=!1),q===void 0&&(q=!1),Z!=="loadeddata"&&Z!=="canplay"&&Z!=="canplaythrough"&&(Z="loadeddata");var rt={type:"video",cache:X.cacheManager.video,extension:J.type,responseType:"blob",key:K,url:J.url,xhrSettings:et,config:{loadEvent:Z,asBlob:Q,noAudio:q}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),O.call(this,X,rt)},onProcess:function(){if(this.state=j.FILE_PROCESSING,!this.config.asBlob){this.onProcessComplete();return}var U=this.createVideoElement();this.data=U;var X=this;this.data.onloadeddata=function(){X.onProcessComplete()},this.data.onerror=function(){O.revokeObjectURL(X.data),X.onProcessError()},O.createObjectURL(U,this.xhrLoader.response,""),U.load()},createVideoElement:function(){var U=document.createElement("video");return U.controls=!1,U.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(U.muted=!0,U.defaultMuted=!0,U.setAttribute("autoplay","autoplay")),U.setAttribute("playsinline","playsinline"),U.setAttribute("preload","auto"),U},onVideoLoadHandler:function(U){var X=U.target;X.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),X.removeEventListener("error",this.onErrorCallback,!0),this.data=X,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(U){var X=U.target;X&&(X.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),X.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var U=this.config.loadEvent;if(this.config.asBlob)O.prototype.load.call(this);else{this.percentComplete=0;var X=this.createVideoElement();X.addEventListener(U,this.onLoadCallback,!0),X.addEventListener("error",this.onErrorCallback,!0),X.src=D(this,this.loader.baseURL),X.load()}}});W.create=function(U,X,K,J,Z,Q,q){var et=U.systems.game;B(X)&&(K=F(X,"url",[]),J=F(X,"loadEvent","loadeddata"),Z=F(X,"asBlob",!1),Q=F(X,"noAudio",!1),q=F(X,"xhrSettings"),X=F(X,"key"));var rt=W.getVideoURL(et,K);if(rt)return new W(U,X,rt,J,Z,Q,q)},W.getVideoURL=function(U,X){Array.isArray(X)||(X=[X]);for(var K=0;K<X.length;K++){var J=F(X[K],"url",X[K]);if(J.indexOf("blob:")===0)return{url:J,type:""};var Z;if(J.indexOf("data:")===0?Z=J.split(",")[0].match(/\/(.*?);/):Z=J.match(/\.([a-zA-Z0-9]+)($|\?)/),Z=F(X[K],"type",Z?Z[1]:"").toLowerCase(),U.device.video[Z])return{url:J,type:Z}}return null},G.register("video",function(U,X,K,J,Z,Q){var q;if(Array.isArray(U))for(var et=0;et<U.length;et++)q=W.create(this,U[et]),q&&this.addFile(q);else q=W.create(this,U,X,K,J,Z,Q),q&&this.addFile(q);return this}),Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(21),O=y(149),G=y(9),D=y(95),F=y(8),B=y(2),W=y(24),U=y(20),X=y(156),K=new R({Extends:G,initialize:function(Z){G.call(this);var Q=Z.sys.game.config,q=Z.sys.settings.loader;this.scene=Z,this.systems=Z.sys,this.cacheManager=Z.sys.cache,this.textureManager=Z.sys.textures,this.sceneManager=Z.sys.game.scene,F.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(B(q,"baseURL",Q.loaderBaseURL)),this.setPath(B(q,"path",Q.loaderPath)),this.setPrefix(B(q,"prefix",Q.loaderPrefix)),this.maxParallelDownloads=B(q,"maxParallelDownloads",Q.loaderMaxParallelDownloads),this.xhr=X(B(q,"responseType",Q.loaderResponseType),B(q,"async",Q.loaderAsync),B(q,"user",Q.loaderUser),B(q,"password",Q.loaderPassword),B(q,"timeout",Q.loaderTimeout),B(q,"withCredentials",Q.loaderWithCredentials)),this.crossOrigin=B(q,"crossOrigin",Q.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new O,this.inflight=new O,this.queue=new O,this._deleteQueue=new O,this.totalFailed=0,this.totalComplete=0,this.state=j.LOADER_IDLE,this.multiKeyIndex=0,Z.sys.events.once(U.BOOT,this.boot,this),Z.sys.events.on(U.START,this.pluginStart,this)},boot:function(){this.systems.events.once(U.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(U.SHUTDOWN,this.shutdown,this)},setBaseURL:function(J){return J===void 0&&(J=""),J!==""&&J.substr(-1)!=="/"&&(J=J.concat("/")),this.baseURL=J,this},setPath:function(J){return J===void 0&&(J=""),J!==""&&J.substr(-1)!=="/"&&(J=J.concat("/")),this.path=J,this},setPrefix:function(J){return J===void 0&&(J=""),this.prefix=J,this},setCORS:function(J){return this.crossOrigin=J,this},addFile:function(J){Array.isArray(J)||(J=[J]);for(var Z=0;Z<J.length;Z++){var Q=J[Z];this.keyExists(Q)||(this.list.set(Q),this.emit(D.ADD,Q.key,Q.type,this,Q),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(J){var Z=J.hasCacheConflict();return Z||this.list.iterate(function(Q){if(Q.type===J.type&&Q.key===J.key)return Z=!0,!1}),!Z&&this.isLoading()&&(this.inflight.iterate(function(Q){if(Q.type===J.type&&Q.key===J.key)return Z=!0,!1}),this.queue.iterate(function(Q){if(Q.type===J.type&&Q.key===J.key)return Z=!0,!1})),Z},addPack:function(J,Z){Z&&J.hasOwnProperty(Z)&&(J={packKey:J[Z]});var Q=0,q=this.baseURL,et=this.path,rt=this.prefix;for(var nt in J)if(!!Object.prototype.hasOwnProperty.call(J,nt)){var ot=J[nt],ht=B(ot,"baseURL",q),ut=B(ot,"path",et),ct=B(ot,"prefix",rt),ft=B(ot,"files",null),dt=B(ot,"defaultType","void");if(Array.isArray(ft)){this.setBaseURL(ht),this.setPath(ut),this.setPrefix(ct);for(var pt=0;pt<ft.length;pt++){var yt=ft[pt],St=yt.hasOwnProperty("type")?yt.type:dt;this[St]&&(this[St](yt),Q++)}}}return this.setBaseURL(q),this.setPath(et),this.setPrefix(rt),Q>0},isLoading:function(){return this.state===j.LOADER_LOADING||this.state===j.LOADER_PROCESSING},isReady:function(){return this.state===j.LOADER_IDLE||this.state===j.LOADER_COMPLETE},start:function(){!this.isReady()||(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(D.START,this),this.list.size===0?this.loadComplete():(this.state=j.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(U.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(D.PROGRESS,this.progress)},update:function(){this.state===j.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(J){if((J.state===j.FILE_POPULATED||J.state===j.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(J),this.list.delete(J),J.crossOrigin||(J.crossOrigin=this.crossOrigin),J.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(J,Z){!this.inflight||(this.inflight.delete(J),this.updateProgress(),Z?(this.totalComplete++,this.queue.set(J),this.emit(D.FILE_LOAD,J),J.onProcess()):(this.totalFailed++,this._deleteQueue.set(J),this.emit(D.FILE_LOAD_ERROR,J),this.fileProcessComplete(J)))},fileProcessComplete:function(J){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(J.state===j.FILE_ERRORED?J.multiFile&&J.multiFile.onFileFailed(J):J.state===j.FILE_COMPLETE&&(J.multiFile?J.multiFile.isReadyToProcess()&&J.multiFile.addToCache():J.addToCache()),this.queue.delete(J),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(D.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=j.LOADER_COMPLETE,this.systems.events.off(U.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(D.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(J){this._deleteQueue.set(J)},saveJSON:function(J,Z){return this.save(JSON.stringify(J),Z)},save:function(J,Z,Q){Z===void 0&&(Z="file.json"),Q===void 0&&(Q="application/json");var q=new Blob([J],{type:Q}),et=URL.createObjectURL(q),rt=document.createElement("a");return rt.download=Z,rt.textContent="Download "+Z,rt.href=et,rt.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var J=this.systems.game.config,Z=this.systems.settings.loader;this.setBaseURL(B(Z,"baseURL",J.loaderBaseURL)),this.setPath(B(Z,"path",J.loaderPath)),this.setPrefix(B(Z,"prefix",J.loaderPrefix)),this.state=j.LOADER_IDLE},shutdown:function(){this.reset(),this.state=j.LOADER_SHUTDOWN,this.systems.events.off(U.UPDATE,this.update,this),this.systems.events.off(U.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=j.LOADER_DESTROYED,this.systems.events.off(U.UPDATE,this.update,this),this.systems.events.off(U.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});W.register("Loader",K,"load"),Y.exports=K},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(62),j=y(17),O={ArcadePhysics:y(1367),Body:y(527),Collider:y(528),Components:y(243),Events:y(245),Factory:y(521),GetOverlapX:y(246),GetOverlapY:y(247),SeparateX:y(537),SeparateY:y(538),Group:y(524),Image:y(522),Sprite:y(157),StaticBody:y(539),StaticGroup:y(525),Tilemap:y(1391),World:y(526)};O=j(!1,O,R),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(36),O=y(50),G=y(353),D=y(521),F=y(2),B=y(127),W=y(523),U=y(244),X=y(24),K=y(20),J=y(3),Z=y(526),Q=new R({initialize:function(et){this.scene=et,this.systems=et.sys,this.config=this.getConfig(),this.world,this.add,et.sys.events.once(K.BOOT,this.boot,this),et.sys.events.on(K.START,this.start,this)},boot:function(){this.world=new Z(this.scene,this.config),this.add=new D(this.world),this.systems.events.once(K.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new Z(this.scene,this.config),this.add=new D(this.world));var q=this.systems.events;F(this.config,"customUpdate",!1)||q.on(K.UPDATE,this.world.update,this.world),q.on(K.POST_UPDATE,this.world.postUpdate,this.world),q.once(K.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(K.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(K.UPDATE,this.world.update,this.world)},getConfig:function(){var q=this.systems.game.config.physics,et=this.systems.settings.physics,rt=B(F(et,"arcade",{}),F(q,"arcade",{}));return rt},overlap:function(q,et,rt,nt,ot){return rt===void 0&&(rt=null),nt===void 0&&(nt=null),ot===void 0&&(ot=rt),this.world.collideObjects(q,et,rt,nt,ot,!0)},collide:function(q,et,rt,nt,ot){return rt===void 0&&(rt=null),nt===void 0&&(nt=null),ot===void 0&&(ot=rt),this.world.collideObjects(q,et,rt,nt,ot,!1)},collideTiles:function(q,et,rt,nt,ot){return this.world.collideTiles(q,et,rt,nt,ot)},overlapTiles:function(q,et,rt,nt,ot){return this.world.overlapTiles(q,et,rt,nt,ot)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(q,et,rt,nt,ot,ht){nt===void 0&&(nt=60);var ut=Math.atan2(rt-q.y,et-q.x);return q.body.acceleration.setToPolar(ut,nt),ot!==void 0&&ht!==void 0&&q.body.maxVelocity.set(ot,ht),ut},accelerateToObject:function(q,et,rt,nt,ot){return this.accelerateTo(q,et.x,et.y,rt,nt,ot)},closest:function(q,et){et||(et=this.world.bodies.entries);for(var rt=Number.MAX_VALUE,nt=null,ot=q.x,ht=q.y,ut=et.length,ct=0;ct<ut;ct++){var ft=et[ct],dt=ft.body||ft;if(!(q===ft||q===dt||q===dt.gameObject||q===dt.center)){var pt=G(ot,ht,dt.center.x,dt.center.y);pt<rt&&(nt=ft,rt=pt)}}return nt},furthest:function(q,et){et||(et=this.world.bodies.entries);for(var rt=-1,nt=null,ot=q.x,ht=q.y,ut=et.length,ct=0;ct<ut;ct++){var ft=et[ct],dt=ft.body||ft;if(!(q===ft||q===dt||q===dt.gameObject||q===dt.center)){var pt=G(ot,ht,dt.center.x,dt.center.y);pt>rt&&(nt=ft,rt=pt)}}return nt},moveTo:function(q,et,rt,nt,ot){nt===void 0&&(nt=60),ot===void 0&&(ot=0);var ht=Math.atan2(rt-q.y,et-q.x);return ot>0&&(nt=O(q.x,q.y,et,rt)/(ot/1e3)),q.body.velocity.setToPolar(ht,nt),ht},moveToObject:function(q,et,rt,nt){return this.moveTo(q,et.x,et.y,rt,nt)},velocityFromAngle:function(q,et,rt){return et===void 0&&(et=60),rt===void 0&&(rt=new J),rt.setToPolar(j(q),et)},velocityFromRotation:function(q,et,rt){return et===void 0&&(et=60),rt===void 0&&(rt=new J),rt.setToPolar(q,et)},overlapRect:function(q,et,rt,nt,ot,ht){return U(this.world,q,et,rt,nt,ot,ht)},overlapCirc:function(q,et,rt,nt,ot){return W(this.world,q,et,rt,nt,ot)},shutdown:function(){if(!!this.world){var q=this.systems.events;q.off(K.UPDATE,this.world.update,this.world),q.off(K.POST_UPDATE,this.world.postUpdate,this.world),q.off(K.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(K.START,this.start,this),this.scene=null,this.systems=null}});X.register("ArcadePhysics",Q,"arcadePhysics"),Y.exports=Q},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAcceleration:function(R,j){return this.body.acceleration.set(R,j),this},setAccelerationX:function(R){return this.body.acceleration.x=R,this},setAccelerationY:function(R){return this.body.acceleration.y=R,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAngularVelocity:function(R){return this.body.angularVelocity=R,this},setAngularAcceleration:function(R){return this.body.angularAcceleration=R,this},setAngularDrag:function(R){return this.body.angularDrag=R,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(R,j){return this.body.bounce.set(R,j),this},setBounceX:function(R){return this.body.bounce.x=R,this},setBounceY:function(R){return this.body.bounce.y=R,this},setCollideWorldBounds:function(R,j,O){return this.body.setCollideWorldBounds(R,j,O),this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDebug:function(R,j,O){return this.debugShowBody=R,this.debugShowVelocity=j,this.debugBodyColor=O,this},setDebugBodyColor:function(R){return this.body.debugBodyColor=R,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(R){this.body.debugShowBody=R}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(R){this.body.debugShowVelocity=R}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(R){this.body.debugBodyColor=R}}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDrag:function(R,j){return this.body.drag.set(R,j),this},setDragX:function(R){return this.body.drag.x=R,this},setDragY:function(R){return this.body.drag.y=R,this},setDamping:function(R){return this.body.useDamping=R,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={enableBody:function(R,j,O,G,D){return R&&this.body.reset(j,O),G&&(this.body.gameObject.active=!0),D&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(R,j){return R===void 0&&(R=!1),j===void 0&&(j=!1),this.body.stop(),this.body.enable=!1,R&&(this.body.gameObject.active=!1),j&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(R,j){return this.body.friction.set(R,j),this},setFrictionX:function(R){return this.body.friction.x=R,this},setFrictionY:function(R){return this.body.friction.y=R,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setGravity:function(R,j){return this.body.gravity.set(R,j),this},setGravityX:function(R){return this.body.gravity.x=R,this},setGravityY:function(R){return this.body.gravity.y=R,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setImmovable:function(R){return R===void 0&&(R=!0),this.body.immovable=R,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setMass:function(R){return this.body.mass=R,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setPushable:function(R){return R===void 0&&(R=!0),this.body.pushable=R,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setOffset:function(R,j){return this.body.setOffset(R,j),this},setSize:function(R,j,O){return this.body.setSize(R,j,O),this},setBodySize:function(R,j,O){return this.body.setSize(R,j,O),this},setCircle:function(R,j,O){return this.body.setCircle(R,j,O),this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setVelocity:function(R,j){return this.body.setVelocity(R,j),this},setVelocityX:function(R){return this.body.setVelocityX(R),this},setVelocityY:function(R){return this.body.setVelocityY(R),this},setMaxVelocity:function(R,j){return this.body.maxVelocity.set(R,j),this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="collide"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="overlap"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pause"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="resume"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="tilecollide"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="tileoverlap"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="worldbounds"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="worldstep"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,R,j,O,G,D,F,B,W,U,X,K,J,Z,Q,q,et,rt=function(ft,dt,pt){y=ft,R=dt;var yt=y.velocity.x,St=R.velocity.x;return j=y.pushable,W=y._dx<0,U=y._dx>0,X=y._dx===0,Q=Math.abs(y.right-R.x)<=Math.abs(R.right-y.x),F=St-yt*y.bounce.x,O=R.pushable,K=R._dx<0,J=R._dx>0,Z=R._dx===0,q=!Q,B=yt-St*R.bounce.x,et=Math.abs(pt),nt()},nt=function(){return U&&Q&&R.blocked.right?(y.processX(-et,F,!1,!0),1):W&&q&&R.blocked.left?(y.processX(et,F,!0),1):J&&q&&y.blocked.right?(R.processX(-et,B,!1,!0),2):K&&Q&&y.blocked.left?(R.processX(et,B,!0),2):0},ot=function(){var ft=y.velocity.x,dt=R.velocity.x,pt=Math.sqrt(dt*dt*R.mass/y.mass)*(dt>0?1:-1),yt=Math.sqrt(ft*ft*y.mass/R.mass)*(ft>0?1:-1),St=(pt+yt)*.5;return pt-=St,yt-=St,G=St+pt*y.bounce.x,D=St+yt*R.bounce.x,W&&q?ht(0):K&&Q?ht(1):U&&Q?ht(2):J&&q?ht(3):!1},ht=function(ft){if(j&&O)et*=.5,ft===0||ft===3?(y.processX(et,G),R.processX(-et,D)):(y.processX(-et,G),R.processX(et,D));else if(j&&!O)ft===0||ft===3?y.processX(et,F,!0):y.processX(-et,F,!1,!0);else if(!j&&O)ft===0||ft===3?R.processX(-et,B,!1,!0):R.processX(et,B,!0);else{var dt=et*.5;ft===0?Z?(y.processX(et,0,!0),R.processX(0,null,!1,!0)):J?(y.processX(dt,0,!0),R.processX(-dt,0,!1,!0)):(y.processX(dt,R.velocity.x,!0),R.processX(-dt,null,!1,!0)):ft===1?X?(y.processX(0,null,!1,!0),R.processX(et,0,!0)):U?(y.processX(-dt,0,!1,!0),R.processX(dt,0,!0)):(y.processX(-dt,null,!1,!0),R.processX(dt,y.velocity.x,!0)):ft===2?Z?(y.processX(-et,0,!1,!0),R.processX(0,null,!0)):K?(y.processX(-dt,0,!1,!0),R.processX(dt,0,!0)):(y.processX(-dt,R.velocity.x,!1,!0),R.processX(dt,null,!0)):ft===3&&(X?(y.processX(0,null,!0),R.processX(-et,0,!1,!0)):W?(y.processX(dt,0,!0),R.processX(-dt,0,!1,!0)):(y.processX(dt,R.velocity.y,!0),R.processX(-dt,null,!1,!0)))}return!0},ut=function(ft){ft===1?R.velocity.x=0:Q?R.processX(et,B,!0):R.processX(-et,B,!1,!0),y.moves&&(R.y+=(y.y-y.prev.y)*y.friction.y,R._dy=R.y-R.prev.y)},ct=function(ft){ft===2?y.velocity.x=0:q?y.processX(et,F,!0):y.processX(-et,F,!1,!0),R.moves&&(y.y+=(R.y-R.prev.y)*R.friction.y,y._dy=y.y-y.prev.y)};Y.exports={BlockCheck:nt,Check:ot,Set:rt,Run:ht,RunImmovableBody1:ut,RunImmovableBody2:ct}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,R,j,O,G,D,F,B,W,U,X,K,J,Z,Q,q,et,rt=function(ft,dt,pt){y=ft,R=dt;var yt=y.velocity.y,St=R.velocity.y;return j=y.pushable,W=y._dy<0,U=y._dy>0,X=y._dy===0,Q=Math.abs(y.bottom-R.y)<=Math.abs(R.bottom-y.y),F=St-yt*y.bounce.y,O=R.pushable,K=R._dy<0,J=R._dy>0,Z=R._dy===0,q=!Q,B=yt-St*R.bounce.y,et=Math.abs(pt),nt()},nt=function(){return U&&Q&&R.blocked.down?(y.processY(-et,F,!1,!0),1):W&&q&&R.blocked.up?(y.processY(et,F,!0),1):J&&q&&y.blocked.down?(R.processY(-et,B,!1,!0),2):K&&Q&&y.blocked.up?(R.processY(et,B,!0),2):0},ot=function(){var ft=y.velocity.y,dt=R.velocity.y,pt=Math.sqrt(dt*dt*R.mass/y.mass)*(dt>0?1:-1),yt=Math.sqrt(ft*ft*y.mass/R.mass)*(ft>0?1:-1),St=(pt+yt)*.5;return pt-=St,yt-=St,G=St+pt*y.bounce.y,D=St+yt*R.bounce.y,W&&q?ht(0):K&&Q?ht(1):U&&Q?ht(2):J&&q?ht(3):!1},ht=function(ft){if(j&&O)et*=.5,ft===0||ft===3?(y.processY(et,G),R.processY(-et,D)):(y.processY(-et,G),R.processY(et,D));else if(j&&!O)ft===0||ft===3?y.processY(et,F,!0):y.processY(-et,F,!1,!0);else if(!j&&O)ft===0||ft===3?R.processY(-et,B,!1,!0):R.processY(et,B,!0);else{var dt=et*.5;ft===0?Z?(y.processY(et,0,!0),R.processY(0,null,!1,!0)):J?(y.processY(dt,0,!0),R.processY(-dt,0,!1,!0)):(y.processY(dt,R.velocity.y,!0),R.processY(-dt,null,!1,!0)):ft===1?X?(y.processY(0,null,!1,!0),R.processY(et,0,!0)):U?(y.processY(-dt,0,!1,!0),R.processY(dt,0,!0)):(y.processY(-dt,null,!1,!0),R.processY(dt,y.velocity.y,!0)):ft===2?Z?(y.processY(-et,0,!1,!0),R.processY(0,null,!0)):K?(y.processY(-dt,0,!1,!0),R.processY(dt,0,!0)):(y.processY(-dt,R.velocity.y,!1,!0),R.processY(dt,null,!0)):ft===3&&(X?(y.processY(0,null,!0),R.processY(-et,0,!1,!0)):W?(y.processY(dt,0,!0),R.processY(-dt,0,!1,!0)):(y.processY(dt,R.velocity.y,!0),R.processY(-dt,null,!1,!0)))}return!0},ut=function(ft){ft===1?R.velocity.y=0:Q?R.processY(et,B,!0):R.processY(-et,B,!1,!0),y.moves&&(R.x+=(y.x-y.prev.x)*y.friction.x,R._dx=R.x-R.prev.x)},ct=function(ft){ft===2?y.velocity.y=0:q?y.processY(et,F,!0):y.processY(-et,F,!1,!0),R.moves&&(y.x+=(R.x-R.prev.x)*R.friction.x,y._dx=y.x-y.prev.x)};Y.exports={BlockCheck:nt,Check:ot,Set:rt,Run:ht,RunImmovableBody1:ut,RunImmovableBody2:ct}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R={ProcessTileCallbacks:y(530),ProcessTileSeparationX:y(534),ProcessTileSeparationY:y(536),SeparateTile:y(532),TileCheckX:y(533),TileCheckY:y(535),TileIntersectsBody:y(248)};Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(3),O=new R({initialize:function(){this.boundsCenter=new j,this.centerDiff=new j},parseBody:function(G){if(G=G.hasOwnProperty("body")?G.body:G,!G.hasOwnProperty("bounds")||!G.hasOwnProperty("centerOfMass"))return!1;var D=this.boundsCenter,F=this.centerDiff,B=G.bounds.max.x-G.bounds.min.x,W=G.bounds.max.y-G.bounds.min.y,U=B*G.centerOfMass.x,X=W*G.centerOfMass.y;return D.set(B/2,W/2),F.set(U-D.x,X-D.y),!0},getTopLeft:function(G,D,F){if(D===void 0&&(D=0),F===void 0&&(F=0),this.parseBody(G)){var B=this.boundsCenter,W=this.centerDiff;return new j(D+B.x+W.x,F+B.y+W.y)}return!1},getTopCenter:function(G,D,F){if(D===void 0&&(D=0),F===void 0&&(F=0),this.parseBody(G)){var B=this.boundsCenter,W=this.centerDiff;return new j(D+W.x,F+B.y+W.y)}return!1},getTopRight:function(G,D,F){if(D===void 0&&(D=0),F===void 0&&(F=0),this.parseBody(G)){var B=this.boundsCenter,W=this.centerDiff;return new j(D-(B.x-W.x),F+B.y+W.y)}return!1},getLeftCenter:function(G,D,F){if(D===void 0&&(D=0),F===void 0&&(F=0),this.parseBody(G)){var B=this.boundsCenter,W=this.centerDiff;return new j(D+B.x+W.x,F+W.y)}return!1},getCenter:function(G,D,F){if(D===void 0&&(D=0),F===void 0&&(F=0),this.parseBody(G)){var B=this.centerDiff;return new j(D+B.x,F+B.y)}return!1},getRightCenter:function(G,D,F){if(D===void 0&&(D=0),F===void 0&&(F=0),this.parseBody(G)){var B=this.boundsCenter,W=this.centerDiff;return new j(D-(B.x-W.x),F+W.y)}return!1},getBottomLeft:function(G,D,F){if(D===void 0&&(D=0),F===void 0&&(F=0),this.parseBody(G)){var B=this.boundsCenter,W=this.centerDiff;return new j(D+B.x+W.x,F-(B.y-W.y))}return!1},getBottomCenter:function(G,D,F){if(D===void 0&&(D=0),F===void 0&&(F=0),this.parseBody(G)){var B=this.boundsCenter,W=this.centerDiff;return new j(D+W.x,F-(B.y-W.y))}return!1},getBottomRight:function(G,D,F){if(D===void 0&&(D=0),F===void 0&&(F=0),this.parseBody(G)){var B=this.boundsCenter,W=this.centerDiff;return new j(D-(B.x-W.x),F-(B.y-W.y))}return!1}});Y.exports=O},function(Y,tt){/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={decomp:ft,quickDecomp:St,isSimple:pt,removeCollinearPoints:At,removeDuplicatePoints:Ct,makeCCW:Q};function y(mt,vt,xt){xt=xt||0;var Tt=[0,0],Et,Ot,Mt,Ft,It,Dt,bt;return Et=mt[1][1]-mt[0][1],Ot=mt[0][0]-mt[1][0],Mt=Et*mt[0][0]+Ot*mt[0][1],Ft=vt[1][1]-vt[0][1],It=vt[0][0]-vt[1][0],Dt=Ft*vt[0][0]+It*vt[0][1],bt=Et*It-Ft*Ot,Pt(bt,0,xt)||(Tt[0]=(It*Mt-Ot*Dt)/bt,Tt[1]=(Et*Dt-Ft*Mt)/bt),Tt}function R(mt,vt,xt,Tt){var Et=vt[0]-mt[0],Ot=vt[1]-mt[1],Mt=Tt[0]-xt[0],Ft=Tt[1]-xt[1];if(Mt*Ot-Ft*Et==0)return!1;var It=(Et*(xt[1]-mt[1])+Ot*(mt[0]-xt[0]))/(Mt*Ot-Ft*Et),Dt=(Mt*(mt[1]-xt[1])+Ft*(xt[0]-mt[0]))/(Ft*Et-Mt*Ot);return It>=0&&It<=1&&Dt>=0&&Dt<=1}function j(mt,vt,xt){return(vt[0]-mt[0])*(xt[1]-mt[1])-(xt[0]-mt[0])*(vt[1]-mt[1])}function O(mt,vt,xt){return j(mt,vt,xt)>0}function G(mt,vt,xt){return j(mt,vt,xt)>=0}function D(mt,vt,xt){return j(mt,vt,xt)<0}function F(mt,vt,xt){return j(mt,vt,xt)<=0}var B=[],W=[];function U(mt,vt,xt,Tt){if(Tt){var Et=B,Ot=W;Et[0]=vt[0]-mt[0],Et[1]=vt[1]-mt[1],Ot[0]=xt[0]-vt[0],Ot[1]=xt[1]-vt[1];var Mt=Et[0]*Ot[0]+Et[1]*Ot[1],Ft=Math.sqrt(Et[0]*Et[0]+Et[1]*Et[1]),It=Math.sqrt(Ot[0]*Ot[0]+Ot[1]*Ot[1]),Dt=Math.acos(Mt/(Ft*It));return Dt<Tt}else return j(mt,vt,xt)===0}function X(mt,vt){var xt=vt[0]-mt[0],Tt=vt[1]-mt[1];return xt*xt+Tt*Tt}function K(mt,vt){var xt=mt.length;return mt[vt<0?vt%xt+xt:vt%xt]}function J(mt){mt.length=0}function Z(mt,vt,xt,Tt){for(var Et=xt;Et<Tt;Et++)mt.push(vt[Et])}function Q(mt){for(var vt=0,xt=mt,Tt=1;Tt<mt.length;++Tt)(xt[Tt][1]<xt[vt][1]||xt[Tt][1]===xt[vt][1]&&xt[Tt][0]>xt[vt][0])&&(vt=Tt);return O(K(mt,vt-1),K(mt,vt),K(mt,vt+1))?!1:(q(mt),!0)}function q(mt){for(var vt=[],xt=mt.length,Tt=0;Tt!==xt;Tt++)vt.push(mt.pop());for(var Tt=0;Tt!==xt;Tt++)mt[Tt]=vt[Tt]}function et(mt,vt){return D(K(mt,vt-1),K(mt,vt),K(mt,vt+1))}var rt=[],nt=[];function ot(mt,vt,xt){var Tt,Et,Ot=rt,Mt=nt;if(G(K(mt,vt+1),K(mt,vt),K(mt,xt))&&F(K(mt,vt-1),K(mt,vt),K(mt,xt)))return!1;Et=X(K(mt,vt),K(mt,xt));for(var Ft=0;Ft!==mt.length;++Ft)if(!((Ft+1)%mt.length===vt||Ft===vt)&&G(K(mt,vt),K(mt,xt),K(mt,Ft+1))&&F(K(mt,vt),K(mt,xt),K(mt,Ft))&&(Ot[0]=K(mt,vt),Ot[1]=K(mt,xt),Mt[0]=K(mt,Ft),Mt[1]=K(mt,Ft+1),Tt=y(Ot,Mt),X(K(mt,vt),Tt)<Et))return!1;return!0}function ht(mt,vt,xt){for(var Tt=0;Tt!==mt.length;++Tt)if(!(Tt===vt||Tt===xt||(Tt+1)%mt.length===vt||(Tt+1)%mt.length===xt)&&R(K(mt,vt),K(mt,xt),K(mt,Tt),K(mt,Tt+1)))return!1;return!0}function ut(mt,vt,xt,Tt){var Et=Tt||[];if(J(Et),vt<xt)for(var Ot=vt;Ot<=xt;Ot++)Et.push(mt[Ot]);else{for(var Ot=0;Ot<=xt;Ot++)Et.push(mt[Ot]);for(var Ot=vt;Ot<mt.length;Ot++)Et.push(mt[Ot])}return Et}function ct(mt){for(var vt=[],xt=[],Tt=[],Et=[],Ot=Number.MAX_VALUE,Mt=0;Mt<mt.length;++Mt)if(et(mt,Mt)){for(var Ft=0;Ft<mt.length;++Ft)if(ot(mt,Mt,Ft)){xt=ct(ut(mt,Mt,Ft,Et)),Tt=ct(ut(mt,Ft,Mt,Et));for(var It=0;It<Tt.length;It++)xt.push(Tt[It]);xt.length<Ot&&(vt=xt,Ot=xt.length,vt.push([K(mt,Mt),K(mt,Ft)]))}}return vt}function ft(mt){var vt=ct(mt);return vt.length>0?dt(mt,vt):[mt]}function dt(mt,vt){if(vt.length===0)return[mt];if(vt instanceof Array&&vt.length&&vt[0]instanceof Array&&vt[0].length===2&&vt[0][0]instanceof Array){for(var xt=[mt],Tt=0;Tt<vt.length;Tt++)for(var Et=vt[Tt],Ot=0;Ot<xt.length;Ot++){var Mt=xt[Ot],Ft=dt(Mt,Et);if(Ft){xt.splice(Ot,1),xt.push(Ft[0],Ft[1]);break}}return xt}else{var Et=vt,Tt=mt.indexOf(Et[0]),Ot=mt.indexOf(Et[1]);return Tt!==-1&&Ot!==-1?[ut(mt,Tt,Ot),ut(mt,Ot,Tt)]:!1}}function pt(mt){var vt=mt,xt;for(xt=0;xt<vt.length-1;xt++)for(var Tt=0;Tt<xt-1;Tt++)if(R(vt[xt],vt[xt+1],vt[Tt],vt[Tt+1]))return!1;for(xt=1;xt<vt.length-2;xt++)if(R(vt[0],vt[vt.length-1],vt[xt],vt[xt+1]))return!1;return!0}function yt(mt,vt,xt,Tt,Et){Et=Et||0;var Ot=vt[1]-mt[1],Mt=mt[0]-vt[0],Ft=Ot*mt[0]+Mt*mt[1],It=Tt[1]-xt[1],Dt=xt[0]-Tt[0],bt=It*xt[0]+Dt*xt[1],wt=Ot*Dt-It*Mt;return Pt(wt,0,Et)?[0,0]:[(Dt*Ft-Mt*bt)/wt,(Ot*bt-It*Ft)/wt]}function St(mt,vt,xt,Tt,Et,Ot,Mt){Ot=Ot||100,Mt=Mt||0,Et=Et||25,vt=typeof vt!="undefined"?vt:[],xt=xt||[],Tt=Tt||[];var Ft=[0,0],It=[0,0],Dt=[0,0],bt=0,wt=0,$t=0,Ut=0,Nt=0,Yt=0,Ht=0,Xt=[],zt=[],Bt=mt,jt=mt;if(jt.length<3)return vt;if(Mt++,Mt>Ot)return console.warn("quickDecomp: max level ("+Ot+") reached."),vt;for(var Vt=0;Vt<mt.length;++Vt)if(et(Bt,Vt)){xt.push(Bt[Vt]),bt=wt=Number.MAX_VALUE;for(var Wt=0;Wt<mt.length;++Wt)O(K(Bt,Vt-1),K(Bt,Vt),K(Bt,Wt))&&F(K(Bt,Vt-1),K(Bt,Vt),K(Bt,Wt-1))&&(Dt=yt(K(Bt,Vt-1),K(Bt,Vt),K(Bt,Wt),K(Bt,Wt-1)),D(K(Bt,Vt+1),K(Bt,Vt),Dt)&&($t=X(Bt[Vt],Dt),$t<wt&&(wt=$t,It=Dt,Yt=Wt))),O(K(Bt,Vt+1),K(Bt,Vt),K(Bt,Wt+1))&&F(K(Bt,Vt+1),K(Bt,Vt),K(Bt,Wt))&&(Dt=yt(K(Bt,Vt+1),K(Bt,Vt),K(Bt,Wt),K(Bt,Wt+1)),O(K(Bt,Vt-1),K(Bt,Vt),Dt)&&($t=X(Bt[Vt],Dt),$t<bt&&(bt=$t,Ft=Dt,Nt=Wt)));if(Yt===(Nt+1)%mt.length)Dt[0]=(It[0]+Ft[0])/2,Dt[1]=(It[1]+Ft[1])/2,Tt.push(Dt),Vt<Nt?(Z(Xt,Bt,Vt,Nt+1),Xt.push(Dt),zt.push(Dt),Yt!==0&&Z(zt,Bt,Yt,Bt.length),Z(zt,Bt,0,Vt+1)):(Vt!==0&&Z(Xt,Bt,Vt,Bt.length),Z(Xt,Bt,0,Nt+1),Xt.push(Dt),zt.push(Dt),Z(zt,Bt,Yt,Vt+1));else{if(Yt>Nt&&(Nt+=mt.length),Ut=Number.MAX_VALUE,Nt<Yt)return vt;for(var Wt=Yt;Wt<=Nt;++Wt)G(K(Bt,Vt-1),K(Bt,Vt),K(Bt,Wt))&&F(K(Bt,Vt+1),K(Bt,Vt),K(Bt,Wt))&&($t=X(K(Bt,Vt),K(Bt,Wt)),$t<Ut&&ht(Bt,Vt,Wt)&&(Ut=$t,Ht=Wt%mt.length));Vt<Ht?(Z(Xt,Bt,Vt,Ht+1),Ht!==0&&Z(zt,Bt,Ht,jt.length),Z(zt,Bt,0,Vt+1)):(Vt!==0&&Z(Xt,Bt,Vt,jt.length),Z(Xt,Bt,0,Ht+1),Z(zt,Bt,Ht,Vt+1))}return Xt.length<zt.length?(St(Xt,vt,xt,Tt,Et,Ot,Mt),St(zt,vt,xt,Tt,Et,Ot,Mt)):(St(zt,vt,xt,Tt,Et,Ot,Mt),St(Xt,vt,xt,Tt,Et,Ot,Mt)),vt}return vt.push(mt),vt}function At(mt,vt){for(var xt=0,Tt=mt.length-1;mt.length>3&&Tt>=0;--Tt)U(K(mt,Tt-1),K(mt,Tt),K(mt,Tt+1),vt)&&(mt.splice(Tt%mt.length,1),xt++);return xt}function Ct(mt,vt){for(var xt=mt.length-1;xt>=1;--xt)for(var Tt=mt[xt],Et=xt-1;Et>=0;--Et)if(Rt(Tt,mt[Et],vt)){mt.splice(xt,1);continue}}function Pt(mt,vt,xt){return xt=xt||0,Math.abs(mt-vt)<=xt}function Rt(mt,vt,xt){return Pt(mt[0],vt[0],xt)&&Pt(mt[1],vt[1],xt)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(86),j=y(0),O=y(591),G=y(128),D=y(592),F=y(1395),B=y(1396),W=y(1397),U=y(593),X=y(589),K=y(590),J=y(1398),Z=y(64),Q=new j({initialize:function(et){this.world=et,this.scene=et.scene,this.sys=et.scene.sys},rectangle:function(q,et,rt,nt,ot){var ht=R.rectangle(q,et,rt,nt,ot);return this.world.add(ht),ht},trapezoid:function(q,et,rt,nt,ot,ht){var ut=R.trapezoid(q,et,rt,nt,ot,ht);return this.world.add(ut),ut},circle:function(q,et,rt,nt,ot){var ht=R.circle(q,et,rt,nt,ot);return this.world.add(ht),ht},polygon:function(q,et,rt,nt,ot){var ht=R.polygon(q,et,rt,nt,ot);return this.world.add(ht),ht},fromVertices:function(q,et,rt,nt,ot,ht,ut){typeof rt=="string"&&(rt=Z.fromPath(rt));var ct=R.fromVertices(q,et,rt,nt,ot,ht,ut);return this.world.add(ct),ct},fromPhysicsEditor:function(q,et,rt,nt,ot){ot===void 0&&(ot=!0);var ht=X.parseBody(q,et,rt,nt);return ot&&!this.world.has(ht)&&this.world.add(ht),ht},fromSVG:function(q,et,rt,nt,ot,ht){nt===void 0&&(nt=1),ot===void 0&&(ot={}),ht===void 0&&(ht=!0);for(var ut=rt.getElementsByTagName("path"),ct=[],ft=0;ft<ut.length;ft++){var dt=D.pathToVertices(ut[ft],30);nt!==1&&Z.scale(dt,nt,nt),ct.push(dt)}var pt=R.fromVertices(q,et,ct,ot);return ht&&this.world.add(pt),pt},fromJSON:function(q,et,rt,nt,ot){nt===void 0&&(nt={}),ot===void 0&&(ot=!0);var ht=K.parseBody(q,et,rt,nt);return ht&&ot&&this.world.add(ht),ht},imageStack:function(q,et,rt,nt,ot,ht,ut,ct,ft){ut===void 0&&(ut=0),ct===void 0&&(ct=0),ft===void 0&&(ft={});var dt=this.world,pt=this.sys.displayList;ft.addToWorld=!1;var yt=O.stack(rt,nt,ot,ht,ut,ct,function(St,At){var Ct=new B(dt,St,At,q,et,ft);return pt.add(Ct),Ct.body});return dt.add(yt),yt},stack:function(q,et,rt,nt,ot,ht,ut){var ct=O.stack(q,et,rt,nt,ot,ht,ut);return this.world.add(ct),ct},pyramid:function(q,et,rt,nt,ot,ht,ut){var ct=O.pyramid(q,et,rt,nt,ot,ht,ut);return this.world.add(ct),ct},chain:function(q,et,rt,nt,ot,ht){return O.chain(q,et,rt,nt,ot,ht)},mesh:function(q,et,rt,nt,ot){return O.mesh(q,et,rt,nt,ot)},newtonsCradle:function(q,et,rt,nt,ot){var ht=O.newtonsCradle(q,et,rt,nt,ot);return this.world.add(ht),ht},car:function(q,et,rt,nt,ot){var ht=O.car(q,et,rt,nt,ot);return this.world.add(ht),ht},softBody:function(q,et,rt,nt,ot,ht,ut,ct,ft,dt){var pt=O.softBody(q,et,rt,nt,ot,ht,ut,ct,ft,dt);return this.world.add(pt),pt},joint:function(q,et,rt,nt,ot){return this.constraint(q,et,rt,nt,ot)},spring:function(q,et,rt,nt,ot){return this.constraint(q,et,rt,nt,ot)},constraint:function(q,et,rt,nt,ot){nt===void 0&&(nt=1),ot===void 0&&(ot={}),ot.bodyA=q.type==="body"?q:q.body,ot.bodyB=et.type==="body"?et:et.body,isNaN(rt)||(ot.length=rt),ot.stiffness=nt;var ht=G.create(ot);return this.world.add(ht),ht},worldConstraint:function(q,et,rt,nt){rt===void 0&&(rt=1),nt===void 0&&(nt={}),nt.bodyB=q.type==="body"?q:q.body,isNaN(et)||(nt.length=et),nt.stiffness=rt;var ot=G.create(nt);return this.world.add(ot),ot},mouseSpring:function(q){return this.pointerConstraint(q)},pointerConstraint:function(q){q===void 0&&(q={}),q.hasOwnProperty("render")||(q.render={visible:!1});var et=new J(this.scene,this.world,q);return this.world.add(et.constraint),et},image:function(q,et,rt,nt,ot){var ht=new B(this.world,q,et,rt,nt,ot);return this.sys.displayList.add(ht),ht},tileBody:function(q,et){return new U(this.world,q,et)},sprite:function(q,et,rt,nt,ot){var ht=new W(this.world,q,et,rt,nt,ot);return this.sys.displayList.add(ht),this.sys.updateList.add(ht),ht},gameObject:function(q,et,rt){return F(this.world,q,et,rt)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});Y.exports=Q},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(249),j=y(2),O=y(3);function G(F){return!!F.get&&typeof F.get=="function"||!!F.set&&typeof F.set=="function"}var D=function(F,B,W,U){W===void 0&&(W={}),U===void 0&&(U=!0);var X=B.x,K=B.y;B.body={temp:!0,position:{x:X,y:K}};var J=[R.Bounce,R.Collision,R.Force,R.Friction,R.Gravity,R.Mass,R.Sensor,R.SetBody,R.Sleep,R.Static,R.Transform,R.Velocity];if(J.forEach(function(Q){for(var q in Q)G(Q[q])?Object.defineProperty(B,q,{get:Q[q].get,set:Q[q].set}):Object.defineProperty(B,q,{value:Q[q]})}),B.world=F,B._tempVec2=new O(X,K),W.hasOwnProperty("type")&&W.type==="body")B.setExistingBody(W,U);else{var Z=j(W,"shape",null);Z||(Z="rectangle"),W.addToWorld=U,B.setBody(Z,W)}return B};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(249),O=y(15),G=y(2),D=y(125),F=y(167),B=y(3),W=new R({Extends:D,Mixins:[j.Bounce,j.Collision,j.Force,j.Friction,j.Gravity,j.Mass,j.Sensor,j.SetBody,j.Sleep,j.Static,j.Transform,j.Velocity,F],initialize:function(X,K,J,Z,Q,q){O.call(this,X.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(Z,Q),this.setSizeToFrame(),this.setOrigin(),this.world=X,this._tempVec2=new B(K,J);var et=G(q,"shape",null);et?this.setBody(et,q):this.setRectangle(this.width,this.height,q),this.setPosition(K,J),this.initPipeline()}});Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(164),j=y(0),O=y(249),G=y(15),D=y(2),F=y(167),B=y(73),W=y(3),U=new j({Extends:B,Mixins:[O.Bounce,O.Collision,O.Force,O.Friction,O.Gravity,O.Mass,O.Sensor,O.SetBody,O.Sleep,O.Static,O.Transform,O.Velocity,F],initialize:function(K,J,Z,Q,q,et){G.call(this,K.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new R(this),this.setTexture(Q,q),this.setSizeToFrame(),this.setOrigin(),this.world=K,this._tempVec2=new W(J,Z);var rt=D(et,"shape",null);rt?this.setBody(rt,et):this.setRectangle(this.width,this.height,et),this.setPosition(J,Z),this.initPipeline()}});Y.exports=U},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(84),j=y(0),O=y(118),G=y(128),D=y(273),F=y(272),B=y(51),W=y(127),U=y(165),X=y(3),K=y(64),J=new j({initialize:function(Q,q,et){et===void 0&&(et={});var rt={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=Q,this.world=q,this.camera=null,this.pointer=null,this.active=!0,this.position=new X,this.body=null,this.part=null,this.constraint=G.create(W(et,rt)),this.world.on(F.BEFORE_UPDATE,this.update,this),Q.sys.input.on(B.POINTER_DOWN,this.onDown,this),Q.sys.input.on(B.POINTER_UP,this.onUp,this)},onDown:function(Z){this.pointer||(this.pointer=Z,this.camera=Z.camera)},onUp:function(Z){Z===this.pointer&&(this.pointer=null)},getBody:function(Z){var Q=this.position,q=this.constraint;this.camera.getWorldPoint(Z.x,Z.y,Q);for(var et=O.allBodies(this.world.localWorld),rt=0;rt<et.length;rt++){var nt=et[rt];if(!nt.ignorePointer&&R.contains(nt.bounds,Q)&&D.canCollide(nt.collisionFilter,q.collisionFilter)&&this.hitTestBody(nt,Q))return this.world.emit(F.DRAG_START,nt,this.part,this),!0}return!1},hitTestBody:function(Z,Q){for(var q=this.constraint,et=Z.parts.length,rt=et>1?1:0,nt=rt;nt<et;nt++){var ot=Z.parts[nt];if(K.contains(ot.vertices,Q))return q.pointA=Q,q.pointB={x:Q.x-Z.position.x,y:Q.y-Z.position.y},q.bodyB=Z,q.angleB=Z.angle,U.set(Z,!1),this.part=ot,this.body=Z,!0}return!1},update:function(){var Z=this.pointer,Q=this.body;if(!this.active||!Z){Q&&this.stopDrag();return}if(!Z.isDown&&Q){this.stopDrag();return}else if(Z.isDown){if(!Q&&!this.getBody(Z))return;Q=this.body;var q=this.position,et=this.constraint;this.camera.getWorldPoint(Z.x,Z.y,q),et.pointA.x=q.x,et.pointA.y=q.y,U.set(Q,!1),this.world.emit(F.DRAG,Q,this)}},stopDrag:function(){var Z=this.body,Q=this.constraint;Q.bodyB=null,Q.pointB=null,this.pointer=null,this.body=null,this.part=null,Z&&this.world.emit(F.DRAG_END,Z,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(F.BEFORE_UPDATE,this.update),this.scene.sys.input.off(B.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(B.POINTER_UP,this.onUp,this)}});Y.exports=J},function(Y,tt,y){var R={};Y.exports=R;var j=y(595),O=y(32);(function(){R.name="matter-js",R.version="0.14.2",R.uses=[],R.used=[],R.use=function(){j.use(R,Array.prototype.slice.call(arguments))},R.before=function(G,D){return G=G.replace(/^Matter./,""),O.chainPathBefore(R,G,D)},R.after=function(G,D){return G=G.replace(/^Matter./,""),O.chainPathAfter(R,G,D)}})()},function(Y,tt,y){var R={};Y.exports=R;var j=y(83),O=y(274),G=y(84),D=y(86),F=y(64);(function(){R.collides=function(B,W){for(var U=[],X=0;X<W.length;X++){var K=W[X];if(B!==K&&G.overlaps(K.bounds,B.bounds))for(var J=K.parts.length===1?0:1;J<K.parts.length;J++){var Z=K.parts[J];if(G.overlaps(Z.bounds,B.bounds)){var Q=O.collides(Z,B);if(Q.collided){U.push(Q);break}}}}return U},R.ray=function(B,W,U,X){X=X||1e-100;for(var K=j.angle(W,U),J=j.magnitude(j.sub(W,U)),Z=(U.x+W.x)*.5,Q=(U.y+W.y)*.5,q=D.rectangle(Z,Q,J,X,{angle:K}),et=R.collides(q,B),rt=0;rt<et.length;rt+=1){var nt=et[rt];nt.body=nt.bodyB=nt.bodyA}return et},R.region=function(B,W,U){for(var X=[],K=0;K<B.length;K++){var J=B[K],Z=G.overlaps(J.bounds,W);(Z&&!U||!Z&&U)&&X.push(J)}return X},R.point=function(B,W){for(var U=[],X=0;X<B.length;X++){var K=B[X];if(G.contains(K.bounds,W))for(var J=K.parts.length===1?0:1;J<K.parts.length;J++){var Z=K.parts[J];if(G.contains(Z.bounds,W)&&F.contains(Z.vertices,W)){U.push(K);break}}}return U}})()},function(Y,tt,y){var R={};Y.exports=R;var j=y(596),O=y(165),G=y(599),D=y(598),F=y(1523),B=y(597),W=y(166),U=y(118),X=y(128),K=y(32),J=y(41);(function(){R.create=function(Z,Q){Q=K.isElement(Z)?Q:Z,Z=K.isElement(Z)?Z:null,Q=Q||{},(Z||Q.render)&&K.warn("Engine.create: engine.render is deprecated (see docs)");var q={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:B}},et=K.extend(q,Q);return et.world=Q.world||j.create(et.world),et.pairs=D.create(),et.broadphase=et.broadphase.controller.create(et.broadphase),et.metrics=et.metrics||{extended:!1},et.metrics=F.create(et.metrics),et},R.update=function(Z,Q,q){Q=Q||1e3/60,q=q||1;var et=Z.world,rt=Z.timing,nt=Z.broadphase,ot=[],ht;rt.timestamp+=Q*rt.timeScale;var ut={timestamp:rt.timestamp};W.trigger(Z,"beforeUpdate",ut);var ct=U.allBodies(et),ft=U.allConstraints(et);for(F.reset(Z.metrics),Z.enableSleeping&&O.update(ct,rt.timeScale),R._bodiesApplyGravity(ct,et.gravity),R._bodiesUpdate(ct,Q,rt.timeScale,q,et.bounds),X.preSolveAll(ct),ht=0;ht<Z.constraintIterations;ht++)X.solveAll(ft,rt.timeScale);X.postSolveAll(ct),nt.controller?(et.isModified&&nt.controller.clear(nt),nt.controller.update(nt,ct,Z,et.isModified),ot=nt.pairsList):ot=ct,et.isModified&&U.setModified(et,!1,!1,!0);var dt=nt.detector(ot,Z),pt=Z.pairs,yt=rt.timestamp;for(D.update(pt,dt,yt),D.removeOld(pt,yt),Z.enableSleeping&&O.afterCollisions(pt.list,rt.timeScale),pt.collisionStart.length>0&&W.trigger(Z,"collisionStart",{pairs:pt.collisionStart}),G.preSolvePosition(pt.list),ht=0;ht<Z.positionIterations;ht++)G.solvePosition(pt.list,ct,rt.timeScale);for(G.postSolvePosition(ct),X.preSolveAll(ct),ht=0;ht<Z.constraintIterations;ht++)X.solveAll(ft,rt.timeScale);for(X.postSolveAll(ct),G.preSolveVelocity(pt.list),ht=0;ht<Z.velocityIterations;ht++)G.solveVelocity(pt.list,rt.timeScale);return pt.collisionActive.length>0&&W.trigger(Z,"collisionActive",{pairs:pt.collisionActive}),pt.collisionEnd.length>0&&W.trigger(Z,"collisionEnd",{pairs:pt.collisionEnd}),F.update(Z.metrics,Z),R._bodiesClearForces(ct),W.trigger(Z,"afterUpdate",ut),Z},R.merge=function(Z,Q){if(K.extend(Z,Q),Q.world){Z.world=Q.world,R.clear(Z);for(var q=U.allBodies(Z.world),et=0;et<q.length;et++){var rt=q[et];O.set(rt,!1),rt.id=K.nextId()}}},R.clear=function(Z){var Q=Z.world;D.clear(Z.pairs);var q=Z.broadphase;if(q.controller){var et=U.allBodies(Q);q.controller.clear(q),q.controller.update(q,et,Z,!0)}},R._bodiesClearForces=function(Z){for(var Q=0;Q<Z.length;Q++){var q=Z[Q];q.force.x=0,q.force.y=0,q.torque=0}},R._bodiesApplyGravity=function(Z,Q){var q=typeof Q.scale!="undefined"?Q.scale:.001;if(!(Q.x===0&&Q.y===0||q===0))for(var et=0;et<Z.length;et++){var rt=Z[et];rt.ignoreGravity||rt.isStatic||rt.isSleeping||(rt.force.x+=rt.mass*Q.x*q*rt.gravityScale.x,rt.force.y+=rt.mass*Q.y*q*rt.gravityScale.y)}},R._bodiesUpdate=function(Z,Q,q,et,rt){for(var nt=0;nt<Z.length;nt++){var ot=Z[nt];ot.isStatic||ot.isSleeping||J.update(ot,Q,q,et)}}})()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(86),j=y(41),O=y(0),G=y(32),D=y(118),F=y(1401),B=y(9),W=y(272),U=y(2),X=y(6),K=y(41),J=y(166),Z=y(593),Q=y(596),q=y(83),et=new O({Extends:B,initialize:function(nt,ot){B.call(this),this.scene=nt,this.engine=F.create(ot),this.localWorld=this.engine.world;var ht=X(ot,"gravity",null);ht?this.setGravity(ht.x,ht.y,ht.scale):ht===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=X(ot,"enabled",!0),this.correction=X(ot,"correction",1),this.getDelta=X(ot,"getDelta",this.update60Hz);var ut=U(ot,"runner",{}),ct=U(ut,"fps",!1),ft=U(ut,"fps",60),dt=U(ut,"delta",1e3/ft),pt=U(ut,"deltaMin",1e3/ft),yt=U(ut,"deltaMax",1e3/(ft*.5));ct||(ft=1e3/dt),this.runner={fps:ft,correction:U(ut,"correction",1),deltaSampleSize:U(ut,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:U(ut,"isFixed",!1),delta:dt,deltaMin:pt,deltaMax:yt},this.autoUpdate=X(ot,"autoUpdate",!0);var St=X(ot,"debug",!1);if(this.drawDebug=typeof St=="object"?!0:St,this.debugGraphic,this.debugConfig={showAxes:U(St,"showAxes",!1),showAngleIndicator:U(St,"showAngleIndicator",!1),angleColor:U(St,"angleColor",15208787),showBroadphase:U(St,"showBroadphase",!1),broadphaseColor:U(St,"broadphaseColor",16757760),showBounds:U(St,"showBounds",!1),boundsColor:U(St,"boundsColor",16777215),showVelocity:U(St,"showVelocity",!1),velocityColor:U(St,"velocityColor",44783),showCollisions:U(St,"showCollisions",!1),collisionColor:U(St,"collisionColor",16094476),showSeparations:U(St,"showSeparations",!1),separationColor:U(St,"separationColor",16753920),showBody:U(St,"showBody",!0),showStaticBody:U(St,"showStaticBody",!0),showInternalEdges:U(St,"showInternalEdges",!1),renderFill:U(St,"renderFill",!1),renderLine:U(St,"renderLine",!0),fillColor:U(St,"fillColor",1075465),fillOpacity:U(St,"fillOpacity",1),lineColor:U(St,"lineColor",2678297),lineOpacity:U(St,"lineOpacity",1),lineThickness:U(St,"lineThickness",1),staticFillColor:U(St,"staticFillColor",857979),staticLineColor:U(St,"staticLineColor",1255396),showSleeping:U(St,"showSleeping",!1),staticBodySleepOpacity:U(St,"staticBodySleepOpacity",.7),sleepFillColor:U(St,"sleepFillColor",4605510),sleepLineColor:U(St,"sleepLineColor",10066585),showSensors:U(St,"showSensors",!0),sensorFillColor:U(St,"sensorFillColor",857979),sensorLineColor:U(St,"sensorLineColor",1255396),showPositions:U(St,"showPositions",!0),positionSize:U(St,"positionSize",4),positionColor:U(St,"positionColor",14697178),showJoint:U(St,"showJoint",!0),jointColor:U(St,"jointColor",14737474),jointLineOpacity:U(St,"jointLineOpacity",1),jointLineThickness:U(St,"jointLineThickness",2),pinSize:U(St,"pinSize",4),pinColor:U(St,"pinColor",4382944),springColor:U(St,"springColor",14697184),anchorColor:U(St,"anchorColor",15724527),anchorSize:U(St,"anchorSize",4),showConvexHulls:U(St,"showConvexHulls",!1),hullColor:U(St,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),U(ot,"setBounds",!1)){var At=ot.setBounds;if(typeof At=="boolean")this.setBounds();else{var Ct=U(At,"x",0),Pt=U(At,"y",0),Rt=U(At,"width",nt.sys.scale.width),mt=U(At,"height",nt.sys.scale.height),vt=U(At,"thickness",64),xt=U(At,"left",!0),Tt=U(At,"right",!0),Et=U(At,"top",!0),Ot=U(At,"bottom",!0);this.setBounds(Ct,Pt,Rt,mt,vt,xt,Tt,Et,Ot)}}},setCompositeRenderStyle:function(rt){var nt=rt.bodies,ot=rt.constraints,ht=rt.composites,ut,ct,ft;for(ut=0;ut<nt.length;ut++)ct=nt[ut],ft=ct.render,this.setBodyRenderStyle(ct,ft.lineColor,ft.lineOpacity,ft.lineThickness,ft.fillColor,ft.fillOpacity);for(ut=0;ut<ot.length;ut++)ct=ot[ut],ft=ct.render,this.setConstraintRenderStyle(ct,ft.lineColor,ft.lineOpacity,ft.lineThickness,ft.pinSize,ft.anchorColor,ft.anchorSize);for(ut=0;ut<ht.length;ut++)ct=ht[ut],this.setCompositeRenderStyle(ct);return this},setBodyRenderStyle:function(rt,nt,ot,ht,ut,ct){var ft=rt.render,dt=this.debugConfig;return ft?(nt==null&&(nt=rt.isStatic?dt.staticLineColor:dt.lineColor),ot==null&&(ot=dt.lineOpacity),ht==null&&(ht=dt.lineThickness),ut==null&&(ut=rt.isStatic?dt.staticFillColor:dt.fillColor),ct==null&&(ct=dt.fillOpacity),nt!==!1&&(ft.lineColor=nt),ot!==!1&&(ft.lineOpacity=ot),ht!==!1&&(ft.lineThickness=ht),ut!==!1&&(ft.fillColor=ut),ct!==!1&&(ft.fillOpacity=ct),this):this},setConstraintRenderStyle:function(rt,nt,ot,ht,ut,ct,ft){var dt=rt.render,pt=this.debugConfig;if(!dt)return this;if(nt==null){var yt=dt.type;yt==="line"?nt=pt.jointColor:yt==="pin"?nt=pt.pinColor:yt==="spring"&&(nt=pt.springColor)}return ot==null&&(ot=pt.jointLineOpacity),ht==null&&(ht=pt.jointLineThickness),ut==null&&(ut=pt.pinSize),ct==null&&(ct=pt.anchorColor),ft==null&&(ft=pt.anchorSize),nt!==!1&&(dt.lineColor=nt),ot!==!1&&(dt.lineOpacity=ot),ht!==!1&&(dt.lineThickness=ht),ut!==!1&&(dt.pinSize=ut),ct!==!1&&(dt.anchorColor=ct),ft!==!1&&(dt.anchorSize=ft),this},setEventsProxy:function(){var rt=this,nt=this.engine,ot=this.localWorld;this.drawDebug&&(J.on(ot,"compositeModified",function(ht){rt.setCompositeRenderStyle(ht)}),J.on(ot,"beforeAdd",function(ht){for(var ut=[].concat(ht.object),ct=0;ct<ut.length;ct++){var ft=ut[ct],dt=ft.render;ft.type==="body"?rt.setBodyRenderStyle(ft,dt.lineColor,dt.lineOpacity,dt.lineThickness,dt.fillColor,dt.fillOpacity):ft.type==="composite"?rt.setCompositeRenderStyle(ft):ft.type==="constraint"&&rt.setConstraintRenderStyle(ft,dt.lineColor,dt.lineOpacity,dt.lineThickness,dt.pinSize,dt.anchorColor,dt.anchorSize)}})),J.on(ot,"beforeAdd",function(ht){rt.emit(W.BEFORE_ADD,ht)}),J.on(ot,"afterAdd",function(ht){rt.emit(W.AFTER_ADD,ht)}),J.on(ot,"beforeRemove",function(ht){rt.emit(W.BEFORE_REMOVE,ht)}),J.on(ot,"afterRemove",function(ht){rt.emit(W.AFTER_REMOVE,ht)}),J.on(nt,"beforeUpdate",function(ht){rt.emit(W.BEFORE_UPDATE,ht)}),J.on(nt,"afterUpdate",function(ht){rt.emit(W.AFTER_UPDATE,ht)}),J.on(nt,"collisionStart",function(ht){var ut=ht.pairs,ct,ft;ut.length>0&&(ct=ut[0].bodyA,ft=ut[0].bodyB),rt.emit(W.COLLISION_START,ht,ct,ft)}),J.on(nt,"collisionActive",function(ht){var ut=ht.pairs,ct,ft;ut.length>0&&(ct=ut[0].bodyA,ft=ut[0].bodyB),rt.emit(W.COLLISION_ACTIVE,ht,ct,ft)}),J.on(nt,"collisionEnd",function(ht){var ut=ht.pairs,ct,ft;ut.length>0&&(ct=ut[0].bodyA,ft=ut[0].bodyB),rt.emit(W.COLLISION_END,ht,ct,ft)})},setBounds:function(rt,nt,ot,ht,ut,ct,ft,dt,pt){return rt===void 0&&(rt=0),nt===void 0&&(nt=0),ot===void 0&&(ot=this.scene.sys.scale.width),ht===void 0&&(ht=this.scene.sys.scale.height),ut===void 0&&(ut=64),ct===void 0&&(ct=!0),ft===void 0&&(ft=!0),dt===void 0&&(dt=!0),pt===void 0&&(pt=!0),this.updateWall(ct,"left",rt-ut,nt-ut,ut,ht+ut*2),this.updateWall(ft,"right",rt+ot,nt-ut,ut,ht+ut*2),this.updateWall(dt,"top",rt,nt-ut,ot,ut),this.updateWall(pt,"bottom",rt,nt+ht,ot,ut),this},updateWall:function(rt,nt,ot,ht,ut,ct){var ft=this.walls[nt];rt?(ft&&Q.remove(this.localWorld,ft),ot+=ut/2,ht+=ct/2,this.walls[nt]=this.create(ot,ht,ut,ct,{isStatic:!0,friction:0,frictionStatic:0})):(ft&&Q.remove(this.localWorld,ft),this.walls[nt]=null)},createDebugGraphic:function(){var rt=this.scene.sys.add.graphics({x:0,y:0});return rt.setDepth(Number.MAX_VALUE),this.debugGraphic=rt,this.drawDebug=!0,rt},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(rt,nt,ot){return rt===void 0&&(rt=0),nt===void 0&&(nt=1),this.localWorld.gravity.x=rt,this.localWorld.gravity.y=nt,ot!==void 0&&(this.localWorld.gravity.scale=ot),this},create:function(rt,nt,ot,ht,ut){var ct=R.rectangle(rt,nt,ot,ht,ut);return Q.add(this.localWorld,ct),ct},add:function(rt){return Q.add(this.localWorld,rt),this},remove:function(rt,nt){Array.isArray(rt)||(rt=[rt]);for(var ot=0;ot<rt.length;ot++){var ht=rt[ot],ut=ht.body?ht.body:ht;D.remove(this.localWorld,ut,nt)}return this},removeConstraint:function(rt,nt){return D.remove(this.localWorld,rt,nt),this},convertTilemapLayer:function(rt,nt){var ot=rt.layer,ht=rt.getTilesWithin(0,0,ot.width,ot.height,{isColliding:!0});return this.convertTiles(ht,nt),this},convertTiles:function(rt,nt){if(rt.length===0)return this;for(var ot=0;ot<rt.length;ot++)new Z(this,rt[ot],nt);return this},nextGroup:function(rt){return K.nextGroup(rt)},nextCategory:function(){return K.nextCategory()},pause:function(){return this.enabled=!1,this.emit(W.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(W.RESUME),this},update:function(rt,nt){if(!(!this.enabled||!this.autoUpdate)){var ot=this.engine,ht=this.runner,ut=ot.timing,ct=this.correction;ht.isFixed?nt=this.getDelta(rt,nt):(nt=rt-ht.timePrev||ht.delta,ht.timePrev=rt,ht.deltaHistory.push(nt),ht.deltaHistory=ht.deltaHistory.slice(-ht.deltaSampleSize),nt=Math.min.apply(null,ht.deltaHistory),nt=nt<ht.deltaMin?ht.deltaMin:nt,nt=nt>ht.deltaMax?ht.deltaMax:nt,ct=nt/ht.delta,ht.delta=nt),ht.timeScalePrev!==0&&(ct*=ut.timeScale/ht.timeScalePrev),ut.timeScale===0&&(ct=0),ht.timeScalePrev=ut.timeScale,ht.correction=ct,ht.frameCounter+=1,rt-ht.counterTimestamp>=1e3&&(ht.fps=ht.frameCounter*((rt-ht.counterTimestamp)/1e3),ht.counterTimestamp=rt,ht.frameCounter=0),F.update(ot,nt,ct)}},step:function(rt,nt){F.update(this.engine,rt,nt)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(rt){var nt=rt.hasOwnProperty("body")?rt.body:rt;return D.get(this.localWorld,nt.id,nt.type)!==null},getAllBodies:function(){return D.allBodies(this.localWorld)},getAllConstraints:function(){return D.allConstraints(this.localWorld)},getAllComposites:function(){return D.allComposites(this.localWorld)},postUpdate:function(){if(!!this.drawDebug){var rt=this.debugConfig,nt=this.engine,ot=this.debugGraphic,ht=D.allBodies(this.localWorld);this.debugGraphic.clear(),rt.showBroadphase&&nt.broadphase.controller&&this.renderGrid(nt.broadphase,ot,rt.broadphaseColor,.5),rt.showBounds&&this.renderBodyBounds(ht,ot,rt.boundsColor,.5),(rt.showBody||rt.showStaticBody)&&this.renderBodies(ht),rt.showJoint&&this.renderJoints(),(rt.showAxes||rt.showAngleIndicator)&&this.renderBodyAxes(ht,ot,rt.showAxes,rt.angleColor,.5),rt.showVelocity&&this.renderBodyVelocity(ht,ot,rt.velocityColor,1,2),rt.showSeparations&&this.renderSeparations(nt.pairs.list,ot,rt.separationColor),rt.showCollisions&&this.renderCollisions(nt.pairs.list,ot,rt.collisionColor)}},renderGrid:function(rt,nt,ot,ht){nt.lineStyle(1,ot,ht);for(var ut=G.keys(rt.buckets),ct=0;ct<ut.length;ct++){var ft=ut[ct];if(!(rt.buckets[ft].length<2)){var dt=ft.split(/C|R/);nt.strokeRect(parseInt(dt[1],10)*rt.bucketWidth,parseInt(dt[2],10)*rt.bucketHeight,rt.bucketWidth,rt.bucketHeight)}}return this},renderSeparations:function(rt,nt,ot){nt.lineStyle(1,ot,1);for(var ht=0;ht<rt.length;ht++){var ut=rt[ht];if(!!ut.isActive){var ct=ut.collision,ft=ct.bodyA,dt=ct.bodyB,pt=ft.position,yt=dt.position,St=ct.penetration,At=!ft.isStatic&&!dt.isStatic?4:1;dt.isStatic&&(At=0),nt.lineBetween(yt.x,yt.y,yt.x-St.x*At,yt.y-St.y*At),At=!ft.isStatic&&!dt.isStatic?4:1,ft.isStatic&&(At=0),nt.lineBetween(pt.x,pt.y,pt.x-St.x*At,pt.y-St.y*At)}}return this},renderCollisions:function(rt,nt,ot){nt.lineStyle(1,ot,.5),nt.fillStyle(ot,1);var ht,ut;for(ht=0;ht<rt.length;ht++)if(ut=rt[ht],!!ut.isActive)for(var ct=0;ct<ut.activeContacts.length;ct++){var ft=ut.activeContacts[ct],dt=ft.vertex;nt.fillRect(dt.x-2,dt.y-2,5,5)}for(ht=0;ht<rt.length;ht++)if(ut=rt[ht],!!ut.isActive){var pt=ut.collision,yt=ut.activeContacts;if(yt.length>0){var St=yt[0].vertex.x,At=yt[0].vertex.y;yt.length===2&&(St=(yt[0].vertex.x+yt[1].vertex.x)/2,At=(yt[0].vertex.y+yt[1].vertex.y)/2),pt.bodyB===pt.supports[0].body||pt.bodyA.isStatic?nt.lineBetween(St-pt.normal.x*8,At-pt.normal.y*8,St,At):nt.lineBetween(St+pt.normal.x*8,At+pt.normal.y*8,St,At)}}return this},renderBodyBounds:function(rt,nt,ot,ht){nt.lineStyle(1,ot,ht);for(var ut=0;ut<rt.length;ut++){var ct=rt[ut];if(!!ct.render.visible){var ft=ct.bounds;if(ft)nt.strokeRect(ft.min.x,ft.min.y,ft.max.x-ft.min.x,ft.max.y-ft.min.y);else for(var dt=ct.parts,pt=dt.length>1?1:0;pt<dt.length;pt++){var yt=dt[pt];nt.strokeRect(yt.bounds.min.x,yt.bounds.min.y,yt.bounds.max.x-yt.bounds.min.x,yt.bounds.max.y-yt.bounds.min.y)}}}return this},renderBodyAxes:function(rt,nt,ot,ht,ut){nt.lineStyle(1,ht,ut);for(var ct=0;ct<rt.length;ct++){var ft=rt[ct],dt=ft.parts;if(!!ft.render.visible){var pt,yt,St;if(ot)for(yt=dt.length>1?1:0;yt<dt.length;yt++)for(pt=dt[yt],St=0;St<pt.axes.length;St++){var At=pt.axes[St];nt.lineBetween(pt.position.x,pt.position.y,pt.position.x+At.x*20,pt.position.y+At.y*20)}else for(yt=dt.length>1?1:0;yt<dt.length;yt++)for(pt=dt[yt],St=0;St<pt.axes.length;St++)nt.lineBetween(pt.position.x,pt.position.y,(pt.vertices[0].x+pt.vertices[pt.vertices.length-1].x)/2,(pt.vertices[0].y+pt.vertices[pt.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(rt,nt,ot,ht,ut){nt.lineStyle(ut,ot,ht);for(var ct=0;ct<rt.length;ct++){var ft=rt[ct];!ft.render.visible||nt.lineBetween(ft.position.x,ft.position.y,ft.position.x+(ft.position.x-ft.positionPrev.x)*2,ft.position.y+(ft.position.y-ft.positionPrev.y)*2)}return this},renderBodies:function(rt){for(var nt=this.debugGraphic,ot=this.debugConfig,ht=ot.showBody,ut=ot.showStaticBody,ct=ot.showSleeping,ft=ot.showInternalEdges,dt=ot.showConvexHulls,pt=ot.renderFill,yt=ot.renderLine,St=ot.staticBodySleepOpacity,At=ot.sleepFillColor,Ct=ot.sleepLineColor,Pt=ot.hullColor,Rt=0;Rt<rt.length;Rt++){var mt=rt[Rt];if(!!mt.render.visible&&!(!ut&&mt.isStatic||!ht&&!mt.isStatic)){var vt=mt.render.lineColor,xt=mt.render.lineOpacity,Tt=mt.render.lineThickness,Et=mt.render.fillColor,Ot=mt.render.fillOpacity;ct&&mt.isSleeping&&(mt.isStatic?(xt*=St,Ot*=St):(vt=Ct,Et=At)),pt||(Et=null),yt||(vt=null),this.renderBody(mt,nt,ft,vt,xt,Tt,Et,Ot);var Mt=mt.parts.length;dt&&Mt>1&&this.renderConvexHull(mt,nt,Pt,Tt)}}},renderBody:function(rt,nt,ot,ht,ut,ct,ft,dt){ht===void 0&&(ht=null),ut===void 0&&(ut=null),ct===void 0&&(ct=1),ft===void 0&&(ft=null),dt===void 0&&(dt=null);for(var pt=this.debugConfig,yt=pt.sensorFillColor,St=pt.sensorLineColor,At=rt.parts,Ct=At.length,Pt=Ct>1?1:0;Pt<Ct;Pt++){var Rt=At[Pt],mt=Rt.render,vt=mt.opacity;if(!(!mt.visible||vt===0||Rt.isSensor&&!pt.showSensors)){var xt=Rt.circleRadius;if(nt.beginPath(),Rt.isSensor?(ft!==null&&nt.fillStyle(yt,dt*vt),ht!==null&&nt.lineStyle(ct,St,ut*vt)):(ft!==null&&nt.fillStyle(ft,dt*vt),ht!==null&&nt.lineStyle(ct,ht,ut*vt)),xt)nt.arc(Rt.position.x,Rt.position.y,xt,0,2*Math.PI);else{var Tt=Rt.vertices,Et=Tt.length;nt.moveTo(Tt[0].x,Tt[0].y);for(var Ot=1;Ot<Et;Ot++){var Mt=Tt[Ot];if(!Tt[Ot-1].isInternal||ot?nt.lineTo(Mt.x,Mt.y):nt.moveTo(Mt.x,Mt.y),Ot<Et&&Mt.isInternal&&!ot){var Ft=(Ot+1)%Et;nt.moveTo(Tt[Ft].x,Tt[Ft].y)}}nt.closePath()}ft!==null&&nt.fillPath(),ht!==null&&nt.strokePath()}}if(pt.showPositions&&!rt.isStatic){var It=rt.position.x,Dt=rt.position.y,bt=Math.ceil(pt.positionSize/2);nt.fillStyle(pt.positionColor,1),nt.fillRect(It-bt,Dt-bt,pt.positionSize,pt.positionSize)}return this},renderConvexHull:function(rt,nt,ot,ht){ht===void 0&&(ht=1);var ut=rt.parts,ct=ut.length;if(ct>1){var ft=rt.vertices;nt.lineStyle(ht,ot),nt.beginPath(),nt.moveTo(ft[0].x,ft[0].y);for(var dt=1;dt<ft.length;dt++)nt.lineTo(ft[dt].x,ft[dt].y);nt.lineTo(ft[0].x,ft[0].y),nt.strokePath()}return this},renderJoints:function(){for(var rt=this.debugGraphic,nt=D.allConstraints(this.localWorld),ot=0;ot<nt.length;ot++){var ht=nt[ot].render,ut=ht.lineColor,ct=ht.lineOpacity,ft=ht.lineThickness,dt=ht.pinSize,pt=ht.anchorColor,yt=ht.anchorSize;this.renderConstraint(nt[ot],rt,ut,ct,ft,dt,pt,yt)}},renderConstraint:function(rt,nt,ot,ht,ut,ct,ft,dt){var pt=rt.render;if(!pt.visible||!rt.pointA||!rt.pointB)return this;nt.lineStyle(ut,ot,ht);var yt=rt.bodyA,St=rt.bodyB,At,Ct;if(yt?At=q.add(yt.position,rt.pointA):At=rt.pointA,pt.type==="pin")nt.strokeCircle(At.x,At.y,ct);else{if(St?Ct=q.add(St.position,rt.pointB):Ct=rt.pointB,nt.beginPath(),nt.moveTo(At.x,At.y),pt.type==="spring")for(var Pt=q.sub(Ct,At),Rt=q.perp(q.normalise(Pt)),mt=Math.ceil(G.clamp(rt.length/5,12,20)),vt,xt=1;xt<mt;xt+=1)vt=xt%2==0?1:-1,nt.lineTo(At.x+Pt.x*(xt/mt)+Rt.x*vt*4,At.y+Pt.y*(xt/mt)+Rt.y*vt*4);nt.lineTo(Ct.x,Ct.y)}return nt.strokePath(),pt.anchors&&dt>0&&(nt.fillStyle(ft),nt.fillCircle(At.x,At.y,dt),nt.fillCircle(Ct.x,Ct.y,dt)),this},resetCollisionIDs:function(){return j._nextCollidingGroupId=1,j._nextNonCollidingGroupId=-1,j._nextCategory=1,this},shutdown:function(){J.off(this.engine),this.removeAllListeners(),Q.clear(this.localWorld,!1),F.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});Y.exports=et},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={BasePlugin:y(540),DefaultPlugins:y(197),PluginCache:y(24),PluginManager:y(414),ScenePlugin:y(1404)}},function(Y,tt,y){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var R=y(540),j=y(0),O=y(20),G=new j({Extends:R,initialize:function(F,B,W){R.call(this,B),this.scene=F,this.systems=F.sys,this.pluginKey=W,F.sys.events.once(O.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Canvas:y(1406),Events:y(91),Snapshot:y(1407),WebGL:y(1408)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={CanvasRenderer:y(368),GetBlendModes:y(370),SetTransform:y(30)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Canvas:y(369),WebGL:y(383)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(107),j=y(17),O={PipelineManager:y(372),Pipelines:y(1409),RenderTarget:y(141),Utils:y(12),WebGLPipeline:y(58),WebGLRenderer:y(371),WebGLShader:y(375)};O=j(!1,O,R),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(92),j=y(17),O={BitmapMaskPipeline:y(373),Events:y(374),GraphicsPipeline:y(376),LightPipeline:y(377),MultiPipeline:y(108),PointLightPipeline:y(378),PostFXPipeline:y(1410),RopePipeline:y(379),SinglePipeline:y(380),UtilityPipeline:y(381)};O=j(!1,O,R),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(198),O=y(2),G=y(1411),D=y(382),F=y(58),B=new R({Extends:F,initialize:function(U){U.renderTarget=O(U,"renderTarget",1),U.fragShader=O(U,"fragShader",G),U.vertShader=O(U,"vertShader",D),U.attributes=O(U,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),U.batchSize=1,U.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],F.call(this,U),this.isPostFX=!0,this.gameObject,this.colorMatrix=new j,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){F.prototype.boot.call(this);var W=this.manager.UTILITY_PIPELINE;this.fullFrame1=W.fullFrame1,this.fullFrame2=W.fullFrame2,this.halfFrame1=W.halfFrame1,this.halfFrame2=W.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(W){this.bindAndDraw(W)},copyFrame:function(W,U,X,K,J){this.manager.copyFrame(W,U,X,K,J)},copyToGame:function(W){this.manager.copyToGame(W)},drawFrame:function(W,U,X){this.manager.drawFrame(W,U,X,this.colorMatrix)},blendFrames:function(W,U,X,K,J){this.manager.blendFrames(W,U,X,K,J)},blendFramesAdditive:function(W,U,X,K,J){this.manager.blendFramesAdditive(W,U,X,K,J)},clearFrame:function(W,U){this.manager.clearFrame(W,U)},blitFrame:function(W,U,X,K,J,Z){this.manager.blitFrame(W,U,X,K,J,Z)},copyFrameRect:function(W,U,X,K,J,Z,Q,q){this.manager.copyFrameRect(W,U,X,K,J,Z,Q,q)},bindAndDraw:function(W,U,X,K,J){X===void 0&&(X=!0),K===void 0&&(K=!0);var Z=this.gl,Q=this.renderer;this.bind(J),this.set1i("uMainSampler",0),U?(Z.viewport(0,0,U.width,U.height),Z.bindFramebuffer(Z.FRAMEBUFFER,U.framebuffer),Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,U.texture,0),X&&(K?Z.clearColor(0,0,0,0):Z.clearColor(0,0,0,1),Z.clear(Z.COLOR_BUFFER_BIT))):(Q.popFramebuffer(!1,!1,!1),Q.currentFramebuffer||Z.viewport(0,0,Q.width,Q.height)),Z.activeTexture(Z.TEXTURE0),Z.bindTexture(Z.TEXTURE_2D,W.texture),Z.bufferData(Z.ARRAY_BUFFER,this.vertexData,Z.STATIC_DRAW),Z.drawArrays(Z.TRIANGLES,0,6),U?(Z.bindTexture(Z.TEXTURE_2D,null),Z.bindFramebuffer(Z.FRAMEBUFFER,null)):Q.resetTextures()}});Y.exports=B},function(Y,tt){Y.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join(`
`)},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(17),j=y(201),O={Center:y(403),Events:y(104),Orientation:y(404),ScaleManager:y(415),ScaleModes:y(405),Zoom:y(406)};O=R(!1,O,j.CENTER),O=R(!1,O,j.ORIENTATION),O=R(!1,O,j.SCALE_MODE),O=R(!1,O,j.ZOOM),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(144),j=y(17),O={Events:y(20),GetPhysicsPlugins:y(419),GetScenePlugins:y(420),SceneManager:y(417),ScenePlugin:y(1414),Settings:y(421),Systems:y(204)};O=j(!1,O,R),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(18),j=y(0),O=y(20),G=y(2),D=y(24),F=new j({initialize:function(W){this.scene=W,this.systems=W.sys,this.settings=W.sys.settings,this.key=W.sys.settings.key,this.manager=W.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,W.sys.events.once(O.BOOT,this.boot,this),W.sys.events.on(O.START,this.pluginStart,this)},boot:function(){this.systems.events.once(O.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(O.SHUTDOWN,this.shutdown,this)},start:function(B,W){return B===void 0&&(B=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",B,W),this},restart:function(B){var W=this.key;return this.manager.queueOp("stop",W),this.manager.queueOp("start",W,B),this},transition:function(B){B===void 0&&(B={});var W=G(B,"target",!1),U=this.manager.getScene(W);if(!W||!this.checkValidTransition(U))return!1;var X=G(B,"duration",1e3);this._elapsed=0,this._target=U,this._duration=X,this._willSleep=G(B,"sleep",!1),this._willRemove=G(B,"remove",!1);var K=G(B,"onUpdate",null);K&&(this._onUpdate=K,this._onUpdateScope=G(B,"onUpdateScope",this.scene));var J=G(B,"allowInput",!1);this.settings.transitionAllowInput=J;var Z=U.sys.settings;return Z.isTransition=!0,Z.transitionFrom=this.scene,Z.transitionDuration=X,Z.transitionAllowInput=J,G(B,"moveAbove",!1)?this.manager.moveAbove(this.key,W):G(B,"moveBelow",!1)&&this.manager.moveBelow(this.key,W),U.sys.isSleeping()?U.sys.wake(G(B,"data")):this.manager.start(W,G(B,"data")),this.systems.events.emit(O.TRANSITION_OUT,U,X),this.systems.events.on(O.UPDATE,this.step,this),!0},checkValidTransition:function(B){return!(!B||B.sys.isActive()||B.sys.isTransitioning()||B===this.scene||this.systems.isTransitioning())},step:function(B,W){this._elapsed+=W,this.transitionProgress=R(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var B=this._target.sys,W=this._target.sys.settings;this.systems.events.off(O.UPDATE,this.step,this),B.events.emit(O.TRANSITION_COMPLETE,this.scene),W.isTransition=!1,W.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(B,W,U,X){return this.manager.add(B,W,U,X)},launch:function(B,W){return B&&B!==this.key&&this.manager.queueOp("start",B,W),this},run:function(B,W){return B&&B!==this.key&&this.manager.queueOp("run",B,W),this},pause:function(B,W){return B===void 0&&(B=this.key),this.manager.queueOp("pause",B,W),this},resume:function(B,W){return B===void 0&&(B=this.key),this.manager.queueOp("resume",B,W),this},sleep:function(B,W){return B===void 0&&(B=this.key),this.manager.queueOp("sleep",B,W),this},wake:function(B,W){return B===void 0&&(B=this.key),this.manager.queueOp("wake",B,W),this},switch:function(B){return B!==this.key&&this.manager.queueOp("switch",this.key,B),this},stop:function(B,W){return B===void 0&&(B=this.key),this.manager.queueOp("stop",B,W),this},setActive:function(B,W,U){W===void 0&&(W=this.key);var X=this.manager.getScene(W);return X&&X.sys.setActive(B,U),this},setVisible:function(B,W){W===void 0&&(W=this.key);var U=this.manager.getScene(W);return U&&U.sys.setVisible(B),this},isSleeping:function(B){return B===void 0&&(B=this.key),this.manager.isSleeping(B)},isActive:function(B){return B===void 0&&(B=this.key),this.manager.isActive(B)},isPaused:function(B){return B===void 0&&(B=this.key),this.manager.isPaused(B)},isVisible:function(B){return B===void 0&&(B=this.key),this.manager.isVisible(B)},swapPosition:function(B,W){return W===void 0&&(W=this.key),B!==W&&this.manager.swapPosition(B,W),this},moveAbove:function(B,W){return W===void 0&&(W=this.key),B!==W&&this.manager.moveAbove(B,W),this},moveBelow:function(B,W){return W===void 0&&(W=this.key),B!==W&&this.manager.moveBelow(B,W),this},remove:function(B){return B===void 0&&(B=this.key),this.manager.remove(B),this},moveUp:function(B){return B===void 0&&(B=this.key),this.manager.moveUp(B),this},moveDown:function(B){return B===void 0&&(B=this.key),this.manager.moveDown(B),this},bringToTop:function(B){return B===void 0&&(B=this.key),this.manager.bringToTop(B),this},sendToBack:function(B){return B===void 0&&(B=this.key),this.manager.sendToBack(B),this},get:function(B){return this.manager.getScene(B)},getIndex:function(B){return B===void 0&&(B=this.key),this.manager.getIndex(B)},shutdown:function(){var B=this.systems.events;B.off(O.SHUTDOWN,this.shutdown,this),B.off(O.POST_UPDATE,this.step,this),B.off(O.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(O.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});D.register("ScenePlugin",F,"scenePlugin"),Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Events:y(438),List:y(110),Map:y(102),ProcessQueue:y(211),RTree:y(531),Set:y(149),Size:y(416)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(17),j=y(1417),O={CanvasTexture:y(423),Events:y(106),FilterMode:j,Frame:y(109),Parsers:y(425),Texture:y(206),TextureManager:y(422),TextureSource:y(424)};O=R(!1,O,j),Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LINEAR:0,NEAREST:1};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(17),j=y(1419),O={Components:y(251),Parsers:y(1452),Formats:y(40),ImageCollection:y(576),ParseToTilemap:y(262),Tile:y(85),Tilemap:y(580),TilemapCreator:y(1459),TilemapFactory:y(1460),Tileset:y(122),TilemapLayer:y(581),Orientation:y(29),LayerData:y(120),MapData:y(121),ObjectLayer:y(572)};O=R(!1,O,j.ORIENTATION),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R={ORIENTATION:y(29)};Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=y(63),O=function(G,D,F,B,W,U,X,K){X===void 0&&(X=!0),G<0&&(G=0),D<0&&(D=0);for(var J=R(G,D,F,B,null,K),Z=W-G,Q=U-D,q=0;q<J.length;q++){var et=J[q].x+Z,rt=J[q].y+Q;et>=0&&et<K.width&&rt>=0&&rt<K.height&&K.data[rt][et]&&K.data[rt][et].copy(J[q])}X&&j(W-1,U-1,F+2,B+2,K)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=y(542),O=function(G,D,F,B,W,U){F||(F={}),Array.isArray(G)||(G=[G]);var X=U.tilemapLayer;B||(B=X.scene),W||(W=B.cameras.main);var K=R(0,0,U.width,U.height,null,U),J=[],Z;for(Z=0;Z<K.length;Z++){var Q=K[Z];if(G.indexOf(Q.index)!==-1){var q=X.tileToWorldXY(Q.x,Q.y,void 0,W,U);F.x=q.x,F.y=q.y,J.push(B.make.sprite(F))}}if(typeof D=="number")for(Z=0;Z<G.length;Z++)j(G[Z],D,0,0,U.width,U.height,U);else if(Array.isArray(D))for(Z=0;Z<G.length;Z++)j(G[Z],D[Z],0,0,U.width,U.height,U);return J};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=y(63),O=y(72),G=function(D,F,B,W,U,X,K){for(var J=K.collideIndexes.indexOf(D)!==-1,Z=R(F,B,W,U,null,K),Q=0;Q<Z.length;Q++)Z[Q].index=D,O(Z[Q],J);X&&j(F-1,B-1,W+2,U+2,K)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=function(O,G,D,F,B,W,U,X){var K=R(D,F,B,W,U,X);return K.filter(O,G)};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){j===void 0&&(j=0),O===void 0&&(O=!1);var D=0,F,B,W;if(O){for(B=G.height-1;B>=0;B--)for(F=G.width-1;F>=0;F--)if(W=G.data[B][F],W&&W.index===R){if(D===j)return W;D+=1}}else for(B=0;B<G.height;B++)for(F=0;F<G.width;F++)if(W=G.data[B][F],W&&W.index===R){if(D===j)return W;D+=1}return null};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=function(O,G,D,F,B,W,U,X){var K=R(D,F,B,W,U,X);return K.find(O,G)||null};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=function(O,G,D,F,B,W,U,X){var K=R(D,F,B,W,U,X);K.forEach(O,G)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(29),j=y(544),O=y(545),G=y(547),D=y(1),F=y(548),B=function(W){return W===R.ORTHOGONAL?j:W===R.HEXAGONAL?O:W===R.STAGGERED?F:W===R.ISOMETRIC?G:D};Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(158),j=y(3),O=new j,G=function(D,F,B,W,U){return U.tilemapLayer.worldToTileXY(D,F,!0,O,W),R(O.x,O.y,B,U)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(483),j=y(26),O=y(484),G=y(1),D=y(3),F=function(K,J){return O.RectangleToTriangle(J,K)},B=new D,W=new D,U=new D,X=function(K,J,Z,Q){if(K===void 0)return[];var q=G;K instanceof R.Circle?q=O.CircleToRectangle:K instanceof R.Rectangle?q=O.RectangleToRectangle:K instanceof R.Triangle?q=F:K instanceof R.Line&&(q=O.LineToRectangle),Q.tilemapLayer.worldToTileXY(K.left,K.top,!0,W,Z);var et=W.x,rt=W.y;Q.tilemapLayer.worldToTileXY(K.right,K.bottom,!0,U,Z);var nt=Math.ceil(U.x),ot=Math.ceil(U.y),ht=Math.max(nt-et,1),ut=Math.max(ot-rt,1),ct=j(et,rt,ht,ut,J,Q),ft=Q.tileWidth,dt=Q.tileHeight;Q.tilemapLayer&&(ft*=Q.tilemapLayer.scaleX,dt*=Q.tilemapLayer.scaleY);for(var pt=[],yt=new R.Rectangle(0,0,ft,dt),St=0;St<ct.length;St++){var At=ct[St];Q.tilemapLayer.tileToWorldXY(At.x,At.y,B,Z),yt.x=B.x,yt.y=B.y,q(K,yt)&&pt.push(At)}return pt};Y.exports=X},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(29),j=y(1),O=y(253),G=function(D){return D===R.ORTHOGONAL?O:j};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(29),j=y(550),O=y(551),G=y(1),D=y(552),F=y(553),B=function(W){return W===R.ORTHOGONAL?F:W===R.ISOMETRIC?O:W===R.HEXAGONAL?j:W===R.STAGGERED?D:G};Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(29),j=y(554),O=y(1),G=y(555),D=y(254),F=function(B){return B===R.ORTHOGONAL?D:B===R.HEXAGONAL?j:B===R.STAGGERED?G:O};Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(29),j=y(1),O=y(255),G=function(D){return D===R.ORTHOGONAL?O:j};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(29),j=y(556),O=y(557),G=y(1),D=y(558),F=y(559),B=function(W){return W===R.ORTHOGONAL?F:W===R.ISOMETRIC?O:W===R.HEXAGONAL?j:W===R.STAGGERED?D:G};Y.exports=B},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(29),j=y(560),O=y(1),G=y(561),D=y(256),F=function(B){return B===R.ORTHOGONAL?D:B===R.HEXAGONAL?j:B===R.STAGGERED?G:O};Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(562),j=y(3),O=new j,G=function(D,F,B,W){W.tilemapLayer.worldToTileXY(D,F,!0,O,B);var U=O.x,X=O.y;return R(U,X,W)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(257),j=y(3),O=new j,G=function(D,F,B,W,U,X){return X.tilemapLayer.worldToTileXY(F,B,!0,O,U,X),R(D,O.x,O.y,W,X)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(63),j=y(257),O=function(G,D,F,B,W){if(B===void 0&&(B=!0),!Array.isArray(G))return null;Array.isArray(G[0])||(G=[G]);for(var U=G.length,X=G[0].length,K=0;K<U;K++)for(var J=0;J<X;J++){var Z=G[K][J];j(Z,D+J,F+K,!1,W)}B&&R(D-1,F-1,X+2,U+2,W)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=y(210),O=function(G,D,F,B,W,U){var X,K=R(G,D,F,B,{},U);if(!W)for(W=[],X=0;X<K.length;X++)W.indexOf(K[X].index)===-1&&W.push(K[X].index);for(X=0;X<K.length;X++)K[X].index=j(W)};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(563),j=y(3),O=new j,G=function(D,F,B,W,U,X){return X.tilemapLayer.worldToTileXY(D,F,!0,O,U,X),R(O.x,O.y,B,W,X)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=y(397),O=new j(105,210,231,150),G=new j(243,134,48,200),D=new j(40,39,37,150),F=function(B,W,U){W===void 0&&(W={});var X=W.tileColor!==void 0?W.tileColor:O,K=W.collidingTileColor!==void 0?W.collidingTileColor:G,J=W.faceColor!==void 0?W.faceColor:D,Z=R(0,0,U.width,U.height,null,U);B.translateCanvas(U.tilemapLayer.x,U.tilemapLayer.y),B.scaleCanvas(U.tilemapLayer.scaleX,U.tilemapLayer.scaleY);for(var Q=0;Q<Z.length;Q++){var q=Z[Q],et=q.width,rt=q.height,nt=q.pixelX,ot=q.pixelY,ht=q.collides?K:X;ht!==null&&(B.fillStyle(ht.color,ht.alpha/255),B.fillRect(nt,ot,et,rt)),nt+=1,ot+=1,et-=2,rt-=2,J!==null&&(B.lineStyle(1,J.color,J.alpha/255),q.faceTop&&B.lineBetween(nt,ot,nt+et,ot),q.faceRight&&B.lineBetween(nt+et,ot,nt+et,ot+rt),q.faceBottom&&B.lineBetween(nt,ot+rt,nt+et,ot+rt),q.faceLeft&&B.lineBetween(nt,ot,nt,ot+rt))}};Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(72),j=y(63),O=y(160),G=function(D,F,B,W,U){F===void 0&&(F=!0),B===void 0&&(B=!0),U===void 0&&(U=!0),Array.isArray(D)||(D=[D]);for(var X=0;X<D.length;X++)O(D[X],F,W);if(U)for(var K=0;K<W.height;K++)for(var J=0;J<W.width;J++){var Z=W.data[K][J];Z&&D.indexOf(Z.index)!==-1&&R(Z,F)}B&&j(0,0,W.width,W.height,W)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(72),j=y(63),O=y(160),G=function(D,F,B,W,U,X){if(B===void 0&&(B=!0),W===void 0&&(W=!0),X===void 0&&(X=!0),!(D>F)){for(var K=D;K<=F;K++)O(K,B,U);if(X)for(var J=0;J<U.height;J++)for(var Z=0;Z<U.width;Z++){var Q=U.data[J][Z];Q&&Q.index>=D&&Q.index<=F&&R(Q,B)}W&&j(0,0,U.width,U.height,U)}};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(72),j=y(63),O=y(160),G=function(D,F,B,W){F===void 0&&(F=!0),B===void 0&&(B=!0),Array.isArray(D)||(D=[D]);for(var U=0;U<W.height;U++)for(var X=0;X<W.width;X++){var K=W.data[U][X];K&&D.indexOf(K.index)===-1&&(R(K,F),O(K.index,F,W))}B&&j(0,0,W.width,W.height,W)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(72),j=y(63),O=y(126),G=function(D,F,B,W){F===void 0&&(F=!0),B===void 0&&(B=!0);for(var U=0;U<W.height;U++)for(var X=0;X<W.width;X++){var K=W.data[U][X];if(!!K){for(var J in D)if(!!O(K.properties,J)){var Z=D[J];Array.isArray(Z)||(Z=[Z]);for(var Q=0;Q<Z.length;Q++)K.properties[J]===Z[Q]&&R(K,F)}}}B&&j(0,0,W.width,W.height,W)};Y.exports=G},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(72),j=y(63),O=function(G,D,F){G===void 0&&(G=!0),D===void 0&&(D=!0);for(var B=0;B<F.height;B++)for(var W=0;W<F.width;W++){var U=F.data[B][W];if(!!U){var X=U.getCollisionGroup();X&&X.objects&&X.objects.length>0&&R(U,G)}}D&&j(0,0,F.width,F.height,F)};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j,O,G){if(typeof R=="number")G.callbacks[R]=j!==null?{callback:j,callbackContext:O}:void 0;else for(var D=0,F=R.length;D<F;D++)G.callbacks[R[D]]=j!==null?{callback:j,callbackContext:O}:void 0};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=function(O,G,D,F,B,W,U){for(var X=R(O,G,D,F,null,U),K=0;K<X.length;K++)X[K].setCollisionCallback(B,W)};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=y(131),O=function(G,D,F,B,W){var U=R(G,D,F,B,null,W),X=U.map(function(J){return J.index});j(X);for(var K=0;K<U.length;K++)U[K].index=X[K]};Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=function(O,G,D,F,B,W,U){for(var X=R(D,F,B,W,null,U),K=0;K<X.length;K++)X[K]&&(X[K].index===O?X[K].index=G:X[K].index===G&&(X[K].index=O))};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(26),j=function(O,G,D,F,B,W){if(!!B){var U,X=R(O,G,D,F,null,W),K=0;for(U=0;U<B.length;U++)K+=B[U].weight;if(!(K<=0))for(U=0;U<X.length;U++){for(var J=Math.random()*K,Z=0,Q=-1,q=0;q<B.length;q++)if(Z+=B[q].weight,J<=Z){var et=B[q].index;Q=Array.isArray(et)?et[Math.floor(Math.random()*et.length)]:et;break}X[U].index=Q}}};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={FromOrientationString:y(258),Parse:y(564),Parse2DArray:y(259),ParseCSV:y(565),Impact:y(1454),Tiled:y(1455)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){for(var O=0;O<R.length;O++){var G=R[O],D=O;if(G.name&&G.name!==""&&(D=G.name),Array.isArray(G.wangtiles)&&G.wangtiles.length>0){var F={},B={},W,U,X;if(Array.isArray(G.edgecolors))for(W=0;W<G.edgecolors.length;W++)X=1+W,U=G.edgecolors[W],U.name!==""&&(F[X]=U.name);if(Array.isArray(G.cornercolors))for(W=0;W<G.cornercolors.length;W++)X=1+W,U=G.cornercolors[W],U.name!==""&&(B[X]=U.name);if(Array.isArray(G.colors))for(W=0;W<G.colors.length;W++)U=G.colors[W],X=1+W,U.name!==""&&(F[X]=B[X]=U.name);for(var K=[F,B,F,B,F,B,F,B],J=0;J<G.wangtiles.length;J++){var Z=G.wangtiles[J],Q=j[Z.tileid]||(j[Z.tileid]={});Q=Q.wangid||(Q.wangid={});for(var q=[],et=0;et<Math.min(K.length,Z.wangid.length);et++){if(U=Z.wangid[et],U===0){q.push(void 0);continue}var rt=K[et][U];if(rt!==void 0){q.push(rt);continue}q.push(U)}Q[D]=q}}}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ParseTileLayers:y(578),ParseTilesets:y(579),ParseWeltmeister:y(577)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={AssignTileProperties:y(567),Base64Decode:y(574),BuildTilesetIndex:y(568),CreateGroupLayer:y(161),ParseGID:y(261),ParseImageLayers:y(569),ParseJSONTiled:y(566),ParseObject:y(260),ParseObjectLayers:y(570),ParseTileLayers:y(573),ParseTilesets:y(575)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(1),j=y(1);R=y(1457),j=y(1458),Y.exports={renderWebGL:R,renderCanvas:j}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(12),j=function(O,G,D){var F=G.cull(D),B=F.length,W=D.alpha*G.alpha;if(!(B===0||W<=0)){var U=G.gidMap,X=O.pipelines.set(G.pipeline,G),K=R.getTintAppendFloatAlpha,J=G.scrollFactorX,Z=G.scrollFactorY,Q=G.x,q=G.y,et=G.scaleX,rt=G.scaleY;O.pipelines.preBatch(G);for(var nt=0;nt<B;nt++){var ot=F[nt],ht=U[ot.index];if(!!ht){var ut=ht.getTileTextureCoordinates(ot.index);if(ut!==null){var ct=ht.glTexture,ft=X.setTexture2D(ct,G),dt=ht.tileWidth,pt=ht.tileHeight,yt=ut.x,St=ut.y,At=ht.tileWidth*.5,Ct=ht.tileHeight*.5,Pt=K(ot.tint,W*ot.alpha);X.batchTexture(G,ct,ct.width,ct.height,Q+(At+ot.pixelX)*et,q+(Ct+ot.pixelY)*rt,ot.width,ot.height,et,rt,ot.rotation,ot.flipX,ot.flipY,J,Z,At,Ct,yt,St,dt,pt,Pt,Pt,Pt,Pt,!1,0,0,D,null,!0,ft)}}}O.pipelines.postBatch(G)}};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(25),j=new R,O=new R,G=new R,D=function(F,B,W,U){var X=B.cull(W),K=X.length,J=W.alpha*B.alpha;if(!(K===0||J<=0)){var Z=j,Q=O,q=G;Q.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),Z.copyFrom(W.matrix);var et=F.currentContext,rt=B.gidMap;et.save(),U?(Z.multiplyWithOffset(U,-W.scrollX*B.scrollFactorX,-W.scrollY*B.scrollFactorY),Q.e=B.x,Q.f=B.y,Z.multiply(Q,q),q.copyToContext(et)):(Q.e-=W.scrollX*B.scrollFactorX,Q.f-=W.scrollY*B.scrollFactorY,Q.copyToContext(et)),(!F.antialias||B.scaleX>1||B.scaleY>1)&&(et.imageSmoothingEnabled=!1);for(var nt=0;nt<K;nt++){var ot=X[nt],ht=rt[ot.index];if(!!ht){var ut=ht.image.getSourceImage(),ct=ht.getTileTextureCoordinates(ot.index);if(ct!==null){var ft=ht.tileWidth,dt=ht.tileHeight,pt=ft*.5,yt=dt*.5;et.save(),et.translate(ot.pixelX+pt,ot.pixelY+yt),ot.rotation!==0&&et.rotate(ot.rotation),(ot.flipX||ot.flipY)&&et.scale(ot.flipX?-1:1,ot.flipY?-1:1),et.globalAlpha=J*ot.alpha,et.drawImage(ut,ct.x,ct.y,ft,dt,-pt,-yt,ft,dt),et.restore()}}}et.restore()}};Y.exports=D},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(16),j=y(262);R.register("tilemap",function(O){var G=O!==void 0?O:{};return j(this.scene,G.key,G.tileWidth,G.tileHeight,G.width,G.height,G.data,G.insertNull)})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(5),j=y(262);R.register("tilemap",function(O,G,D,F,B,W,U){return O===null&&(O=void 0),G===null&&(G=void 0),D===null&&(D=void 0),F===null&&(F=void 0),B===null&&(B=void 0),j(this.scene,O,G,D,F,B,W,U)})},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Clock:y(1462),TimerEvent:y(582)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(0),j=y(24),O=y(20),G=y(582),D=y(93),F=new R({initialize:function(W){this.scene=W,this.systems=W.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],W.sys.events.once(O.BOOT,this.boot,this),W.sys.events.on(O.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(O.DESTROY,this.destroy,this)},start:function(){var B=this.systems.events;B.on(O.PRE_UPDATE,this.preUpdate,this),B.on(O.UPDATE,this.update,this),B.once(O.SHUTDOWN,this.shutdown,this)},addEvent:function(B){var W;return B instanceof G?(W=B,this.removeEvent(W),W.elapsed=W.startAt,W.hasDispatched=!1,W.repeatCount=W.repeat===-1||W.loop?999999999999:W.repeat):W=new G(B),this._pendingInsertion.push(W),W},delayedCall:function(B,W,U,X){return this.addEvent({delay:B,callback:W,args:U,callbackScope:X})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(B){Array.isArray(B)||(B=[B]);for(var W=0;W<B.length;W++){var U=B[W];D(this._pendingRemoval,U),D(this._pendingInsertion,U),D(this._active,U)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var B=this._pendingRemoval.length,W=this._pendingInsertion.length;if(!(B===0&&W===0)){var U,X;for(U=0;U<B;U++){X=this._pendingRemoval[U];var K=this._active.indexOf(X);K>-1&&this._active.splice(K,1),X.destroy()}for(U=0;U<W;U++)X=this._pendingInsertion[U],this._active.push(X);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(B,W){if(this.now=B,!this.paused){W*=this.timeScale;for(var U=0;U<this._active.length;U++){var X=this._active[U];if(!X.paused&&(X.elapsed+=W*X.timeScale,X.elapsed>=X.delay)){var K=X.elapsed-X.delay;X.elapsed=X.delay,!X.hasDispatched&&X.callback&&(X.hasDispatched=!0,X.callback.apply(X.callbackScope,X.args)),X.repeatCount>0?(X.repeatCount--,X.elapsed=K,X.hasDispatched=!1):this._pendingRemoval.push(X)}}}},shutdown:function(){var B;for(B=0;B<this._pendingInsertion.length;B++)this._pendingInsertion[B].destroy();for(B=0;B<this._active.length;B++)this._active[B].destroy();for(B=0;B<this._pendingRemoval.length;B++)this._pendingRemoval[B].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var W=this.systems.events;W.off(O.PRE_UPDATE,this.preUpdate,this),W.off(O.UPDATE,this.update,this),W.off(O.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(O.START,this.start,this),this.scene=null,this.systems=null}});j.register("Clock",F,"time"),Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(100),j=y(17),O={Builders:y(1464),Events:y(267),TweenManager:y(1480),Tween:y(266),TweenData:y(268),Timeline:y(588)};O=j(!1,O,R),Y.exports=O},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={GetBoolean:y(99),GetEaseFunction:y(80),GetNewValue:y(162),GetProps:y(583),GetTargets:y(263),GetTweens:y(584),GetValueOp:y(264),NumberTweenBuilder:y(585),StaggerBuilder:y(586),TimelineBuilder:y(587),TweenBuilder:y(163)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="complete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="loop"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pause"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="resume"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="start"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="update"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="active"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="complete"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="loop"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="repeat"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="start"},function(Y,tt){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="stop"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="update"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="yoyo"},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(93),j=y(0),O=y(585),G=y(24),D=y(20),F=y(586),B=y(587),W=y(100),U=y(163),X=new j({initialize:function(J){this.scene=J,this.systems=J.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,J.sys.events.once(D.BOOT,this.boot,this),J.sys.events.on(D.START,this.start,this)},boot:function(){this.systems.events.once(D.DESTROY,this.destroy,this)},start:function(){var K=this.systems.events;K.on(D.PRE_UPDATE,this.preUpdate,this),K.on(D.UPDATE,this.update,this),K.once(D.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(K){return B(this,K)},timeline:function(K){var J=B(this,K);return J.paused||(this._add.push(J),this._toProcess++),J},create:function(K){return U(this,K)},add:function(K){var J=U(this,K);return this._add.push(J),this._toProcess++,J},existing:function(K){return this._add.push(K),this._toProcess++,this},addCounter:function(K){var J=O(this,K);return this._add.push(J),this._toProcess++,J},stagger:function(K,J){return F(K,J)},preUpdate:function(){if(this._toProcess!==0){var K=this._destroy,J=this._active,Z=this._pending,Q,q;for(Q=0;Q<K.length;Q++){q=K[Q];var et=J.indexOf(q);et===-1?(et=Z.indexOf(q),et>-1&&(q.state=W.REMOVED,Z.splice(et,1))):(q.state=W.REMOVED,J.splice(et,1))}for(K.length=0,K=this._add,Q=0;Q<K.length;Q++)q=K[Q],q.state===W.PENDING_ADD&&(q.init()?(q.play(),this._active.push(q)):this._pending.push(q));K.length=0,this._toProcess=0}},update:function(K,J){var Z=this._active,Q;J*=this.timeScale;for(var q=0;q<Z.length;q++)Q=Z[q],Q.update(K,J)&&(this._destroy.push(Q),this._toProcess++)},remove:function(K){return R(this._add,K),R(this._pending,K),R(this._active,K),R(this._destroy,K),K.state=W.REMOVED,this},makeActive:function(K){if(this._add.indexOf(K)!==-1||this._active.indexOf(K)!==-1)return this;var J=this._pending.indexOf(K);return J!==-1&&this._pending.splice(J,1),this._add.push(K),K.state=W.PENDING_ADD,this._toProcess++,this},each:function(K,J){for(var Z=[null],Q=1;Q<arguments.length;Q++)Z.push(arguments[Q]);for(var q in this.list)Z[0]=this.list[q],K.apply(J,Z)},getAllTweens:function(){for(var K=this._active,J=[],Z=0;Z<K.length;Z++)J.push(K[Z]);return J},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(K,J){J===void 0&&(J=!1);var Z=this._active,Q,q=[],et,rt;for(Array.isArray(K)||(K=[K]),et=0;et<Z.length;et++)for(Q=Z[et],rt=0;rt<K.length;rt++)Q.hasTarget(K[rt])&&q.push(Q);if(J)for(Z=this._pending,et=0;et<Z.length;et++)for(Q=Z[et],rt=0;rt<K.length;rt++)Q.hasTarget(K[rt])&&q.push(Q);return q},isTweening:function(K){for(var J=this._active,Z,Q=0;Q<J.length;Q++)if(Z=J[Q],Z.hasTarget(K)&&Z.isPlaying())return!0;return!1},killAll:function(){for(var K=this.getAllTweens(),J=0;J<K.length;J++)K[J].stop();return this},killTweensOf:function(K){for(var J=this.getTweensOf(K),Z=0;Z<J.length;Z++)J[Z].stop();return this},pauseAll:function(){for(var K=this._active,J=0;J<K.length;J++)K[J].pause();return this},resumeAll:function(){for(var K=this._active,J=0;J<K.length;J++)K[J].resume();return this},setGlobalTimeScale:function(K){return this.timeScale=K,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var K=this.systems.events;K.off(D.PRE_UPDATE,this.preUpdate,this),K.off(D.UPDATE,this.update,this),K.off(D.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(D.START,this.start,this),this.scene=null,this.systems=null}});G.register("TweenManager",X,"tweens"),Y.exports=X},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Array:y(208),Base64:y(1482),Objects:y(1484),String:y(1488),NOOP:y(1)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={ArrayBufferToBase64:y(1483),Base64ToArrayBuffer:y(433)}},function(Y,tt){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=function(j,O){for(var G=new Uint8Array(j),D=G.length,F=O?"data:"+O+";base64,":"",B=0;B<D;B+=3)F+=y[G[B]>>2],F+=y[(G[B]&3)<<4|G[B+1]>>4],F+=y[(G[B+1]&15)<<2|G[B+2]>>6],F+=y[G[B+2]&63];return D%3==2?F=F.substring(0,F.length-1)+"=":D%3==1&&(F=F.substring(0,F.length-2)+"=="),F};Y.exports=R},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Clone:y(77),DeepCopy:y(175),Extend:y(17),GetAdvancedValue:y(13),GetFastValue:y(2),GetMinMaxValue:y(1485),GetValue:y(6),HasAll:y(1486),HasAny:y(455),HasValue:y(126),IsPlainObject:y(7),Merge:y(127),MergeRight:y(1487),Pick:y(571),SetValue:y(478)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(6),j=y(18),O=function(G,D,F,B,W){W===void 0&&(W=F);var U=R(G,D,W);return j(U,F,B)};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){for(var O=0;O<j.length;O++)if(!R.hasOwnProperty(j[O]))return!1;return!0};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(77),j=function(O,G){var D=R(O);for(var F in G)D.hasOwnProperty(F)&&(D[F]=G[F]);return D};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Format:y(1489),Pad:y(186),RemoveAt:y(1490),Reverse:y(1491),UppercaseFirst:y(205),UUID:y(222)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return R.replace(/%([0-9]+)/g,function(O,G){return j[Number(G)-1]})};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R,j){return j===0?R.slice(1):R.slice(0,j-1)+R.slice(j)};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(R){return R.split("").reverse().join("")};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={SoundManagerCreator:y(426),Events:y(70),BaseSound:y(146),BaseSoundManager:y(145),WebAudioSound:y(434),WebAudioSoundManager:y(432),HTML5AudioSound:y(429),HTML5AudioSoundManager:y(427),NoAudioSound:y(431),NoAudioSoundManager:y(430)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={Arcade:y(1366),Matter:y(1494)}},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports={BodyBounds:y(1392),Components:y(249),Events:y(272),Factory:y(1394),MatterGameObject:y(1395),Image:y(1396),Matter:y(594),MatterPhysics:y(1524),PolyDecomp:y(1393),Sprite:y(1397),TileBody:y(593),PhysicsEditorParser:y(589),PhysicsJSONParser:y(590),PointerConstraint:y(1398),World:y(1402)}},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(R){return this.body.restitution=R,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCollisionCategory:function(R){return this.body.collisionFilter.category=R,this},setCollisionGroup:function(R){return this.body.collisionFilter.group=R,this},setCollidesWith:function(R){var j=0;if(!Array.isArray(R))j=R;else for(var O=0;O<R.length;O++)j|=R[O];return this.body.collisionFilter.mask=j,this},setOnCollide:function(R){return this.body.onCollideCallback=R,this},setOnCollideEnd:function(R){return this.body.onCollideEndCallback=R,this},setOnCollideActive:function(R){return this.body.onCollideActiveCallback=R,this},setOnCollideWith:function(R,j){Array.isArray(R)||(R=[R]);for(var O=0;O<R.length;O++){var G=R[O].hasOwnProperty("body")?R[O].body:R[O];this.body.setOnCollideWith(G,j)}return this}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(41),j={applyForce:function(O){return this._tempVec2.set(this.body.position.x,this.body.position.y),R.applyForce(this.body,this._tempVec2,O),this},applyForceFrom:function(O,G){return R.applyForce(this.body,O,G),this},thrust:function(O){var G=this.body.angle;return this._tempVec2.set(O*Math.cos(G),O*Math.sin(G)),R.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(O){var G=this.body.angle-Math.PI/2;return this._tempVec2.set(O*Math.cos(G),O*Math.sin(G)),R.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(O){var G=this.body.angle+Math.PI/2;return this._tempVec2.set(O*Math.cos(G),O*Math.sin(G)),R.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(O){var G=this.body.angle-Math.PI;return this._tempVec2.set(O*Math.cos(G),O*Math.sin(G)),R.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};Y.exports=j},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(R,j,O){return this.body.friction=R,j!==void 0&&(this.body.frictionAir=j),O!==void 0&&(this.body.frictionStatic=O),this},setFrictionAir:function(R){return this.body.frictionAir=R,this},setFrictionStatic:function(R){return this.body.frictionStatic=R,this}};Y.exports=y},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setIgnoreGravity:function(R){return this.body.ignoreGravity=R,this}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(41),j=y(3),O={setMass:function(G){return R.setMass(this.body,G),this},setDensity:function(G){return R.setDensity(this.body,G),this},centerOfMass:{get:function(){return new j(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};Y.exports=O},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setSensor:function(R){return this.body.isSensor=R,this},isSensor:function(){return this.body.isSensor}};Y.exports=y},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(86),j=y(41),O=y(124),G=y(2),D=y(589),F=y(590),B=y(64),W={setRectangle:function(U,X,K){return this.setBody({type:"rectangle",width:U,height:X},K)},setCircle:function(U,X){return this.setBody({type:"circle",radius:U},X)},setPolygon:function(U,X,K){return this.setBody({type:"polygon",sides:X,radius:U},K)},setTrapezoid:function(U,X,K,J){return this.setBody({type:"trapezoid",width:U,height:X,slope:K},J)},setExistingBody:function(U,X){X===void 0&&(X=!0),this.body&&this.world.remove(this.body,!0),this.body=U;for(var K=0;K<U.parts.length;K++)U.parts[K].gameObject=this;var J=this;if(U.destroy=function(){J.world.remove(J.body,!0),J.body.gameObject=null},X&&(this.world.has(U)&&this.world.remove(U,!0),this.world.add(U)),this._originComponent){var Z=U.render.sprite.xOffset,Q=U.render.sprite.yOffset,q=U.centerOfMass.x,et=U.centerOfMass.y;if(O(q,.5)&&O(et,.5))this.setOrigin(Z+.5,Q+.5);else{var rt=U.centerOffset.x,nt=U.centerOffset.y;this.setOrigin(Z+rt/this.displayWidth,Q+nt/this.displayHeight)}}return this},setBody:function(U,X){if(!U)return this;var K;typeof U=="string"&&(U={type:U});var J=G(U,"type","rectangle"),Z=G(U,"x",this._tempVec2.x),Q=G(U,"y",this._tempVec2.y),q=G(U,"width",this.width),et=G(U,"height",this.height);switch(J){case"rectangle":K=R.rectangle(Z,Q,q,et,X);break;case"circle":var rt=G(U,"radius",Math.max(q,et)/2),nt=G(U,"maxSides",25);K=R.circle(Z,Q,rt,X,nt);break;case"trapezoid":var ot=G(U,"slope",.5);K=R.trapezoid(Z,Q,q,et,ot,X);break;case"polygon":var ht=G(U,"sides",5),ut=G(U,"radius",Math.max(q,et)/2);K=R.polygon(Z,Q,ht,ut,X);break;case"fromVertices":case"fromVerts":var ct=G(U,"verts",null);if(ct)if(typeof ct=="string"&&(ct=B.fromPath(ct)),this.body&&!this.body.hasOwnProperty("temp"))j.setVertices(this.body,ct),K=this.body;else{var ft=G(U,"flagInternal",!1),dt=G(U,"removeCollinear",.01),pt=G(U,"minimumArea",10);K=R.fromVertices(Z,Q,ct,X,ft,dt,pt)}break;case"fromPhysicsEditor":K=D.parseBody(Z,Q,U,X);break;case"fromPhysicsTracer":K=F.parseBody(Z,Q,U,X);break}return K&&this.setExistingBody(K,U.addToWorld),this}};Y.exports=W},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(272),j=y(165),O=y(166),G={setToSleep:function(){return j.set(this.body,!0),this},setAwake:function(){return j.set(this.body,!1),this},setSleepThreshold:function(D){return D===void 0&&(D=60),this.body.sleepThreshold=D,this},setSleepEvents:function(D,F){return this.setSleepStartEvent(D),this.setSleepEndEvent(F),this},setSleepStartEvent:function(D){if(D){var F=this.world;O.on(this.body,"sleepStart",function(B){F.emit(R.SLEEP_START,B,this)})}else O.off(this.body,"sleepStart");return this},setSleepEndEvent:function(D){if(D){var F=this.world;O.on(this.body,"sleepEnd",function(B){F.emit(R.SLEEP_END,B,this)})}else O.off(this.body,"sleepEnd");return this}};Y.exports=G},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="afteradd"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="afterremove"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="afterupdate"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="beforeadd"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="beforeremove"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="beforeupdate"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="collisionactive"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="collisionend"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="collisionstart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragend"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="drag"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="dragstart"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="pause"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="resume"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="sleepend"},function(Y,tt){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */Y.exports="sleepstart"},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(41),j={setStatic:function(O){return R.setStatic(this.body,O),this},isStatic:function(){return this.body.isStatic}};Y.exports=j},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(41),j=y(14),O=y(269),G=y(270),D=4,F={x:{get:function(){return this.body.position.x},set:function(B){this._tempVec2.set(B,this.y),R.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(B){this._tempVec2.set(this.x,B),R.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(B){var W=1/this._scaleX,U=1/this._scaleY;this._scaleX=B,this._scaleX===0?this.renderFlags&=~D:this.renderFlags|=D,R.scale(this.body,W,U),R.scale(this.body,B,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(B){var W=1/this._scaleX,U=1/this._scaleY;this._scaleY=B,this._scaleY===0?this.renderFlags&=~D:this.renderFlags|=D,R.scale(this.body,W,U),R.scale(this.body,this._scaleX,B)}},angle:{get:function(){return G(this.body.angle*j.RAD_TO_DEG)},set:function(B){this.rotation=G(B)*j.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(B){this._rotation=O(B),R.setAngle(this.body,this._rotation)}},setPosition:function(B,W){return B===void 0&&(B=0),W===void 0&&(W=B),this._tempVec2.set(B,W),R.setPosition(this.body,this._tempVec2),this},setRotation:function(B){return B===void 0&&(B=0),this._rotation=O(B),R.setAngle(this.body,B),this},setFixedRotation:function(){return R.setInertia(this.body,1/0),this},setAngle:function(B){return B===void 0&&(B=0),this.angle=B,R.setAngle(this.body,this.rotation),this},setScale:function(B,W,U){B===void 0&&(B=1),W===void 0&&(W=B);var X=1/this._scaleX,K=1/this._scaleY;return this._scaleX=B,this._scaleY=W,R.scale(this.body,X,K,U),R.scale(this.body,B,W,U),this}};Y.exports=F},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(41),j={setAngularVelocity:function(O){return R.setAngularVelocity(this.body,O),this},setVelocityX:function(O){return this._tempVec2.set(O,this.body.velocity.y),R.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(O){return this._tempVec2.set(this.body.velocity.x,O),R.setVelocity(this.body,this._tempVec2),this},setVelocity:function(O,G){return this._tempVec2.set(O,G),R.setVelocity(this.body,this._tempVec2),this}};Y.exports=j},function(Y,tt,y){var R={};Y.exports=R;var j=y(118),O=y(32);(function(){R.create=function(G){var D={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return O.extend(D,!1,G)},R.reset=function(G){G.extended&&(G.narrowDetections=0,G.narrowphaseTests=0,G.narrowReuse=0,G.narrowReuseCount=0,G.midphaseTests=0,G.broadphaseTests=0,G.narrowEff=0,G.midEff=0,G.broadEff=0,G.collisions=0,G.buckets=0,G.pairs=0,G.bodies=0)},R.update=function(G,D){if(G.extended){var F=D.world,B=j.allBodies(F);G.collisions=G.narrowDetections,G.pairs=D.pairs.list.length,G.bodies=B.length,G.midEff=(G.narrowDetections/(G.midphaseTests||1)).toFixed(2),G.narrowEff=(G.narrowDetections/(G.narrowphaseTests||1)).toFixed(2),G.broadEff=(1-G.broadphaseTests/(B.length||1)).toFixed(2),G.narrowReuse=(G.narrowReuseCount/(G.narrowphaseTests||1)).toFixed(2)}}})()},function(Y,tt,y){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var R=y(123),j=y(271),O=y(86),G=y(41),D=y(1392),F=y(84),B=y(0),W=y(118),U=y(591),X=y(128),K=y(273),J=y(50),Z=y(1394),Q=y(2),q=y(6),et=y(597),rt=y(1525),nt=y(1526),ot=y(1399),ht=y(1527),ut=y(127),ct=y(250),ft=y(598),dt=y(595),pt=y(24),yt=y(1400),St=y(599),At=y(274),Ct=y(20),Pt=y(592),Rt=y(83),mt=y(64),vt=y(1402),xt=new B({initialize:function(Et){this.scene=Et,this.systems=Et.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=G,this.composite=W,this.detector=K,this.grid=et,this.pair=ct,this.pairs=ft,this.query=yt,this.resolver=St,this.sat=At,this.constraint=X,this.bodies=O,this.composites=U,this.axes=j,this.bounds=F,this.svg=Pt,this.vector=Rt,this.vertices=mt,this.verts=mt,this._tempVec2=Rt.create(),q(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),q(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),q(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),St._restingThresh=q(this.config,"restingThresh",4),St._restingThreshTangent=q(this.config,"restingThreshTangent",6),St._positionDampen=q(this.config,"positionDampen",.9),St._positionWarming=q(this.config,"positionWarming",.8),St._frictionNormalMultiplier=q(this.config,"frictionNormalMultiplier",5),Et.sys.events.once(Ct.BOOT,this.boot,this),Et.sys.events.on(Ct.START,this.start,this)},boot:function(){this.world=new vt(this.scene,this.config),this.add=new Z(this.world),this.bodyBounds=new D,this.systems.events.once(Ct.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new vt(this.scene,this.config),this.add=new Z(this.world));var Tt=this.systems.events;Tt.on(Ct.UPDATE,this.world.update,this.world),Tt.on(Ct.POST_UPDATE,this.world.postUpdate,this.world),Tt.once(Ct.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Tt=this.systems.game.config.physics,Et=this.systems.settings.physics,Ot=ut(Q(Et,"matter",{}),Q(Tt,"matter",{}));return Ot},enableAttractorPlugin:function(){return dt.register(rt),dt.use(ot,rt),this},enableWrapPlugin:function(){return dt.register(ht),dt.use(ot,ht),this},enableCollisionEventsPlugin:function(){return dt.register(nt),dt.use(ot,nt),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Tt,Et){this.world.step(Tt,Et)},containsPoint:function(Tt,Et,Ot){Tt=this.getMatterBodies(Tt);var Mt=Rt.create(Et,Ot),Ft=yt.point(Tt,Mt);return Ft.length>0},intersectPoint:function(Tt,Et,Ot){Ot=this.getMatterBodies(Ot);var Mt=Rt.create(Tt,Et),Ft=[],It=yt.point(Ot,Mt);return It.forEach(function(Dt){Ft.indexOf(Dt)===-1&&Ft.push(Dt)}),Ft},intersectRect:function(Tt,Et,Ot,Mt,Ft,It){Ft===void 0&&(Ft=!1),It=this.getMatterBodies(It);var Dt={min:{x:Tt,y:Et},max:{x:Tt+Ot,y:Et+Mt}},bt=[],wt=yt.region(It,Dt,Ft);return wt.forEach(function($t){bt.indexOf($t)===-1&&bt.push($t)}),bt},intersectRay:function(Tt,Et,Ot,Mt,Ft,It){Ft===void 0&&(Ft=1),It=this.getMatterBodies(It);for(var Dt=[],bt=yt.ray(It,Rt.create(Tt,Et),Rt.create(Ot,Mt),Ft),wt=0;wt<bt.length;wt++)Dt.push(bt[wt].body);return Dt},intersectBody:function(Tt,Et){Et=this.getMatterBodies(Et);for(var Ot=[],Mt=yt.collides(Tt,Et),Ft=0;Ft<Mt.length;Ft++){var It=Mt[Ft];It.bodyA===Tt?Ot.push(It.bodyB):Ot.push(It.bodyA)}return Ot},overlap:function(Tt,Et,Ot,Mt,Ft){Ot===void 0&&(Ot=null),Mt===void 0&&(Mt=null),Ft===void 0&&(Ft=Ot),Array.isArray(Tt)||(Tt=[Tt]),Tt=this.getMatterBodies(Tt),Et=this.getMatterBodies(Et);for(var It=!1,Dt=0;Dt<Tt.length;Dt++)for(var bt=Tt[Dt],wt=yt.collides(bt,Et),$t=0;$t<wt.length;$t++){var Ut=wt[$t],Nt=Ut.bodyA.id===bt.id?Ut.bodyB:Ut.bodyA;if(!Mt||Mt.call(Ft,bt,Nt,Ut)){if(It=!0,Ot)Ot.call(Ft,bt,Nt,Ut);else if(!Mt)return!0}}return It},setCollisionCategory:function(Tt,Et){return Tt=this.getMatterBodies(Tt),Tt.forEach(function(Ot){Ot.collisionFilter.category=Et}),this},setCollisionGroup:function(Tt,Et){return Tt=this.getMatterBodies(Tt),Tt.forEach(function(Ot){Ot.collisionFilter.group=Et}),this},setCollidesWith:function(Tt,Et){Tt=this.getMatterBodies(Tt);var Ot=0;if(!Array.isArray(Et))Ot=Et;else for(var Mt=0;Mt<Et.length;Mt++)Ot|=Et[Mt];return Tt.forEach(function(Ft){Ft.collisionFilter.mask=Ot}),this},getMatterBodies:function(Tt){if(!Tt)return this.world.getAllBodies();Array.isArray(Tt)||(Tt=[Tt]);for(var Et=[],Ot=0;Ot<Tt.length;Ot++){var Mt=Tt[Ot].hasOwnProperty("body")?Tt[Ot].body:Tt[Ot];Et.push(Mt)}return Et},setVelocity:function(Tt,Et,Ot){Tt=this.getMatterBodies(Tt);var Mt=this._tempVec2;return Mt.x=Et,Mt.y=Ot,Tt.forEach(function(Ft){G.setVelocity(Ft,Mt)}),this},setVelocityX:function(Tt,Et){Tt=this.getMatterBodies(Tt);var Ot=this._tempVec2;return Ot.x=Et,Tt.forEach(function(Mt){Ot.y=Mt.velocity.y,G.setVelocity(Mt,Ot)}),this},setVelocityY:function(Tt,Et){Tt=this.getMatterBodies(Tt);var Ot=this._tempVec2;return Ot.y=Et,Tt.forEach(function(Mt){Ot.x=Mt.velocity.x,G.setVelocity(Mt,Ot)}),this},setAngularVelocity:function(Tt,Et){return Tt=this.getMatterBodies(Tt),Tt.forEach(function(Ot){G.setAngularVelocity(Ot,Et)}),this},applyForce:function(Tt,Et){Tt=this.getMatterBodies(Tt);var Ot=this._tempVec2;return Tt.forEach(function(Mt){Ot.x=Mt.position.x,Ot.y=Mt.position.y,G.applyForce(Mt,Ot,Et)}),this},applyForceFromPosition:function(Tt,Et,Ot,Mt){Tt=this.getMatterBodies(Tt);var Ft=this._tempVec2;return Tt.forEach(function(It){Mt===void 0&&(Mt=It.angle),Ft.x=Ot*Math.cos(Mt),Ft.y=Ot*Math.sin(Mt),G.applyForce(It,Et,Ft)}),this},applyForceFromAngle:function(Tt,Et,Ot){Tt=this.getMatterBodies(Tt);var Mt=this._tempVec2;return Tt.forEach(function(Ft){Ot===void 0&&(Ot=Ft.angle),Mt.x=Et*Math.cos(Ot),Mt.y=Et*Math.sin(Ot),G.applyForce(Ft,{x:Ft.position.x,y:Ft.position.y},Mt)}),this},getConstraintLength:function(Tt){var Et=Tt.pointA.x,Ot=Tt.pointA.y,Mt=Tt.pointB.x,Ft=Tt.pointB.y;return Tt.bodyA&&(Et+=Tt.bodyA.position.x,Ot+=Tt.bodyA.position.y),Tt.bodyB&&(Mt+=Tt.bodyB.position.x,Ft+=Tt.bodyB.position.y),J(Et,Ot,Mt,Ft)},alignBody:function(Tt,Et,Ot,Mt){Tt=Tt.hasOwnProperty("body")?Tt.body:Tt;var Ft;switch(Mt){case R.TOP_LEFT:case R.LEFT_TOP:Ft=this.bodyBounds.getTopLeft(Tt,Et,Ot);break;case R.TOP_CENTER:Ft=this.bodyBounds.getTopCenter(Tt,Et,Ot);break;case R.TOP_RIGHT:case R.RIGHT_TOP:Ft=this.bodyBounds.getTopRight(Tt,Et,Ot);break;case R.LEFT_CENTER:Ft=this.bodyBounds.getLeftCenter(Tt,Et,Ot);break;case R.CENTER:Ft=this.bodyBounds.getCenter(Tt,Et,Ot);break;case R.RIGHT_CENTER:Ft=this.bodyBounds.getRightCenter(Tt,Et,Ot);break;case R.LEFT_BOTTOM:case R.BOTTOM_LEFT:Ft=this.bodyBounds.getBottomLeft(Tt,Et,Ot);break;case R.BOTTOM_CENTER:Ft=this.bodyBounds.getBottomCenter(Tt,Et,Ot);break;case R.BOTTOM_RIGHT:case R.RIGHT_BOTTOM:Ft=this.bodyBounds.getBottomRight(Tt,Et,Ot);break}return Ft&&G.setPosition(Tt,Ft),this},shutdown:function(){var Tt=this.systems.events;this.world&&(Tt.off(Ct.UPDATE,this.world.update,this.world),Tt.off(Ct.POST_UPDATE,this.world.postUpdate,this.world)),Tt.off(Ct.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(Ct.START,this.start,this),this.scene=null,this.systems=null}});pt.register("MatterPhysics",xt,"matterPhysics"),Y.exports=xt},function(Y,tt,y){var R=y(594),j={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(O){O.after("Body.create",function(){j.Body.init(this)}),O.before("Engine.update",function(G){j.Engine.update(G)})},Body:{init:function(O){O.plugin.attractors=O.plugin.attractors||[]}},Engine:{update:function(O){for(var G=R.Composite.allBodies(O.world),D=0;D<G.length;D++){var F=G[D],B=F.plugin.attractors;if(B&&B.length>0)for(var W=0;W<G.length;W++){var U=G[W];if(D!==W)for(var X=0;X<B.length;X++){var K=B[X],J=K;R.Common.isFunction(K)&&(J=K(F,U)),J&&R.Body.applyForce(U,U.position,J)}}}}},Attractors:{gravityConstant:.001,gravity:function(O,G){var D=R.Vector.sub(G.position,O.position),F=R.Vector.magnitudeSquared(D)||1e-4,B=R.Vector.normalise(D),W=-j.Attractors.gravityConstant*(O.mass*G.mass/F),U=R.Vector.mult(B,W);R.Body.applyForce(O,O.position,R.Vector.neg(U)),R.Body.applyForce(G,G.position,U)}}};Y.exports=j},function(Y,tt){/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(R){R.after("Engine.create",function(){R.Events.on(this,"collisionStart",function(j){j.pairs.map(function(O){var G=O.bodyA,D=O.bodyB;G.gameObject&&G.gameObject.emit("collide",G,D,O),D.gameObject&&D.gameObject.emit("collide",D,G,O),R.Events.trigger(G,"onCollide",{pair:O}),R.Events.trigger(D,"onCollide",{pair:O}),G.onCollideCallback&&G.onCollideCallback(O),D.onCollideCallback&&D.onCollideCallback(O),G.onCollideWith[D.id]&&G.onCollideWith[D.id](D,O),D.onCollideWith[G.id]&&D.onCollideWith[G.id](G,O)})}),R.Events.on(this,"collisionActive",function(j){j.pairs.map(function(O){var G=O.bodyA,D=O.bodyB;G.gameObject&&G.gameObject.emit("collideActive",G,D,O),D.gameObject&&D.gameObject.emit("collideActive",D,G,O),R.Events.trigger(G,"onCollideActive",{pair:O}),R.Events.trigger(D,"onCollideActive",{pair:O}),G.onCollideActiveCallback&&G.onCollideActiveCallback(O),D.onCollideActiveCallback&&D.onCollideActiveCallback(O)})}),R.Events.on(this,"collisionEnd",function(j){j.pairs.map(function(O){var G=O.bodyA,D=O.bodyB;G.gameObject&&G.gameObject.emit("collideEnd",G,D,O),D.gameObject&&D.gameObject.emit("collideEnd",D,G,O),R.Events.trigger(G,"onCollideEnd",{pair:O}),R.Events.trigger(D,"onCollideEnd",{pair:O}),G.onCollideEndCallback&&G.onCollideEndCallback(O),D.onCollideEndCallback&&D.onCollideEndCallback(O)})})})}};Y.exports=y},function(Y,tt,y){var R=y(594),j={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(O){O.after("Engine.update",function(){j.Engine.update(this)})},Engine:{update:function(O){for(var G=O.world,D=R.Composite.allBodies(G),F=R.Composite.allComposites(G),B=0;B<D.length;B+=1){var W=D[B];W.plugin.wrap&&j.Body.wrap(W,W.plugin.wrap)}for(B=0;B<F.length;B+=1){var U=F[B];U.plugin.wrap&&j.Composite.wrap(U,U.plugin.wrap)}}},Bounds:{wrap:function(O,G){var D=null,F=null;if(typeof G.min.x!="undefined"&&typeof G.max.x!="undefined"&&(O.min.x>G.max.x?D=G.min.x-O.max.x:O.max.x<G.min.x&&(D=G.max.x-O.min.x)),typeof G.min.y!="undefined"&&typeof G.max.y!="undefined"&&(O.min.y>G.max.y?F=G.min.y-O.max.y:O.max.y<G.min.y&&(F=G.max.y-O.min.y)),D!==null||F!==null)return{x:D||0,y:F||0}}},Body:{wrap:function(O,G){var D=j.Bounds.wrap(O.bounds,G);return D&&R.Body.translate(O,D),D}},Composite:{bounds:function(O){for(var G=R.Composite.allBodies(O),D=[],F=0;F<G.length;F+=1){var B=G[F];D.push(B.bounds.min,B.bounds.max)}return R.Bounds.create(D)},wrap:function(O,G){var D=j.Bounds.wrap(j.Composite.bounds(O),G);return D&&R.Composite.translate(O,D),D}}};Y.exports=j},function(Y,tt,y){(function(R){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var j=y(33),O=y(17),G={Actions:y(275),Animations:y(723),BlendModes:y(35),Cache:y(735),Cameras:y(738),Core:y(806),Class:y(0),Create:y(888),Curves:y(894),Data:y(896),Display:y(898),DOM:y(917),Events:y(918),Game:y(920),GameObjects:y(1011),Geom:y(483),Input:y(1308),Loader:y(1338),Math:y(193),Physics:y(1493),Plugins:y(1403),Renderer:y(1405),Scale:y(1412),ScaleModes:y(168),Scene:y(418),Scenes:y(1413),Structs:y(1415),Textures:y(1416),Tilemaps:y(1418),Time:y(1461),Tweens:y(1463),Utils:y(1481)};G.Sound=y(1492),G=O(!1,G,j),Y.exports=G,R.Phaser=G}).call(this,y(600))}])})})(phaser);var Phaser=getDefaultExportFromCjs(phaser.exports);export{Phaser as P,addParameters as a,addArgsEnhancer as b,addArgTypesEnhancer as c,addLoader as d,e,addDecorator as f,configure as g,config_0 as h,logger as l,n,p,r$1 as r,s};
//# sourceMappingURL=vendor.5292d8c9.js.map
